/*! For license information please see main.c74faecf.js.LICENSE.txt */
(()=>{var t={5964:function(t){var e;"undefined"!==typeof self&&self,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e){t.exports={assign:Object.assign,getHeight:function(t,e,n,r){return void 0===r&&(r="height"),"center"===n?(t[r]+e[r])/2:t.height}}},function(t,e,n){var r=n(3),i=function(){function t(t,e){void 0===e&&(e={}),this.options=e,this.rootNode=r(t,e)}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=i},function(t,e,n){var r=n(4),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=i[0];t.exports=function(t,e,n){var s=e.direction||a;if(e.isHorizontal=function(t){return o.indexOf(t)>-1}(s),s&&-1===i.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===i[0])n(t,e);else if(s===i[1])n(t,e),t.right2left();else if(s===i[2])n(t,e);else if(s===i[3])n(t,e),t.bottom2top();else if(s===i[4]||s===i[5]){var l=r(t,e),c=l.left,u=l.right;n(c,e),n(u,e),e.isHorizontal?c.right2left():c.bottom2top(),u.translate(c.x-u.x,c.y-u.y),t.x=c.x,t.y=u.y;var d=t.getBoundingBox();e.isHorizontal?d.top<0&&t.translate(0,-d.top):d.left<0&&t.translate(-d.left,0)}var h=e.fixedRoot;return void 0===h&&(h=!0),h&&t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),function(t,e){if(e.radial){var n=e.isHorizontal?["x","y"]:["y","x"],r=n[0],i=n[1],o={x:1/0,y:1/0},a={x:-1/0,y:-1/0},s=0;t.DFTraverse((function(t){s++;var e=t.x,n=t.y;o.x=Math.min(o.x,e),o.y=Math.min(o.y,n),a.x=Math.max(a.x,e),a.y=Math.max(a.y,n)}));var l=a[i]-o[i];if(0===l)return;var c=2*Math.PI/s;t.DFTraverse((function(e){var n=(e[i]-o[i])/l*(2*Math.PI-c)+c,a=e[r]-t[r];e.x=Math.cos(n)*a,e.y=Math.sin(n)*a}))}}(t,e),t}},function(t,e,n){var r=n(0),i={getId:function(t){return t.id||t.name},getPreH:function(t){return t.preH||0},getPreV:function(t){return t.preV||0},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){var e=t.label||" ";return t.width||18*e.split("").length}};function o(t,e){var n=this;if(n.vgap=n.hgap=0,t instanceof o)return t;n.data=t;var r=e.getHGap(t),i=e.getVGap(t);return n.preH=e.getPreH(t),n.preV=e.getPreV(t),n.width=e.getWidth(t),n.height=e.getHeight(t),n.width+=n.preH,n.height+=n.preV,n.id=e.getId(t),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}r.assign(o.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){var n=this;n.hgap+=t,n.vgap+=e,n.width+=2*t,n.height+=2*e},eachNode:function(t){for(var e,n=[this];e=n.shift();)t(e),n=e.children.concat(n)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e,n=[this];e=n.shift();)t(e),n=n.concat(e.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)})),t},translate:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.eachNode((function(n){n.x+=t,n.y+=e,n.x+=n.preH,n.y+=n.preV}))},right2left:function(){var t=this,e=t.getBoundingBox();t.eachNode((function(t){t.x=t.x-2*(t.x-e.left)-t.width})),t.translate(e.width,0)},bottom2top:function(){var t=this,e=t.getBoundingBox();t.eachNode((function(t){t.y=t.y-2*(t.y-e.top)-t.height})),t.translate(0,e.height)}}),t.exports=function(t,e,n){void 0===e&&(e={});var a,s=new o(t,e=r.assign({},i,e)),l=[s];if(!n&&!t.collapsed)for(;a=l.shift();)if(!a.data.collapsed){var c=e.getChildren(a.data),u=c?c.length:0;if(a.children=new Array(u),c&&u)for(var d=0;d<u;d++){var h=new o(c[d],e);a.children[d]=h,l.push(h),h.parent=a,h.depth=a.depth+1}}return s}},function(t,e,n){var r=n(3);t.exports=function(t,e){for(var n=r(t.data,e,!0),i=r(t.data,e,!0),o=t.children.length,a=Math.round(o/2),s=e.getSide||function(t,e){return e<a?"right":"left"},l=0;l<o;l++){var c=t.children[l];"right"===s(c,l)?i.children.push(c):n.children.push(c)}return n.eachNode((function(t){t.isRoot()||(t.side="left")})),i.eachNode((function(t){t.isRoot()||(t.side="right")})),{left:n,right:i}}},function(t,e,n){var r={compactBox:n(6),dendrogram:n(8),indented:n(10),mindmap:n(12)};t.exports=r},function(t,e,n){function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(1),o=n(7),a=n(2),s=n(0),l=function(t){function e(){return t.apply(this,arguments)||this}var n,i;return i=t,(n=e).prototype=Object.create(i.prototype),n.prototype.constructor=n,r(n,i),e.prototype.execute=function(){return a(this.rootNode,this.options,o)},e}(i),c={};t.exports=function(t,e){return e=s.assign({},c,e),new l(t,e).execute()}},function(t,e){function n(t,e,n,r){void 0===r&&(r=[]);var i=this;i.w=t||0,i.h=e||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function r(t,e,n){n?t.y+=e:t.x+=e,t.children.forEach((function(t){r(t,e,n)}))}function i(t,e){var n=e?t.y:t.x;return t.children.forEach((function(t){n=Math.min(i(t,e),n)})),n}function o(t,e){r(t,-i(t,e),e)}function a(t,e,n){n?e.y=t.x:e.x=t.x,t.c.forEach((function(t,r){a(t,e.children[r],n)}))}function s(t,e,n){void 0===n&&(n=0),e?(t.x=n,n+=t.width):(t.y=n,n+=t.height),t.children.forEach((function(t){s(t,e,n)}))}n.fromNode=function(t,e){if(!t)return null;var r=[];return t.children.forEach((function(t){r.push(n.fromNode(t,e))})),e?new n(t.height,t.width,t.x,r):new n(t.width,t.height,t.y,r)},t.exports=function(t,e){void 0===e&&(e={});var r=e.isHorizontal;function i(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function l(t,e,n){for(var r=t.c[e-1],i=r.mod,o=t.c[e],a=o.mod;null!==r&&null!==o;){h(r)>n.low&&(n=n.nxt);var s=i+r.prelim+r.w-(a+o.prelim);s>0&&(a+=s,c(t,e,n.index,s));var l=h(r),f=h(o);l<=f&&null!==(r=d(r))&&(i+=r.mod),l>=f&&null!==(o=u(o))&&(a+=o.mod)}!r&&o?function(t,e,n,r){var i=t.c[0].el;i.tl=n;var o=r-n.mod-t.c[0].msel;i.mod+=o,i.prelim-=o,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,o,a):r&&!o&&function(t,e,n,r){var i=t.c[e].er;i.tr=n;var o=r-n.mod-t.c[e].mser;i.mod+=o,i.prelim-=o,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,r,i)}function c(t,e,n,r){t.c[e].mod+=r,t.c[e].msel+=r,t.c[e].mser+=r,function(t,e,n,r){if(n!==e-1){var i=e-n;t.c[n+1].shift+=r/i,t.c[e].shift-=r/i,t.c[e].change-=r-r/i}}(t,e,n,r)}function u(t){return 0===t.cs?t.tl:t.c[0]}function d(t){return 0===t.cs?t.tr:t.c[t.cs-1]}function h(t){return t.y+t.h}function f(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}s(t,r);var p=n.fromNode(t,r);return function t(e){if(0!==e.cs){t(e.c[0]);for(var n=f(h(e.c[0].el),0,null),r=1;r<e.cs;++r){t(e.c[r]);var o=h(e.c[r].er);l(e,r,n),n=f(o,r,n)}!function(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}(e),i(e)}else i(e)}(p),function t(e,n){n+=e.mod,e.x=e.prelim+n,function(t){for(var e=0,n=0,r=0;r<t.cs;r++)n+=(e+=t.c[r].shift)+t.c[r].change,t.c[r].mod+=n}(e);for(var r=0;r<e.cs;r++)t(e.c[r],n)}(p,0),a(p,t,r),o(t,r),t}},function(t,e,n){function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(1),o=n(9),a=n(2),s=n(0),l=function(t){function e(){return t.apply(this,arguments)||this}var n,i;return i=t,(n=e).prototype=Object.create(i.prototype),n.prototype.constructor=n,r(n,i),e.prototype.execute=function(){var t=this;return t.rootNode.width=0,a(t.rootNode,t.options,o)},e}(i),c={};t.exports=function(t,e){return e=s.assign({},c,e),new l(t,e).execute()}},function(t,e,n){var r=n(0);function i(t,e){void 0===t&&(t=0),void 0===e&&(e=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=e}var o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function a(t,e,n){n?(e.x=t.x,e.y=t.y):(e.x=t.y,e.y=t.x),t.children.forEach((function(t,r){a(t,e.children[r],n)}))}t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},o,e);var n,s=0,l=function t(e){if(!e)return null;e.width=0,e.depth&&e.depth>s&&(s=e.depth);var n=e.children,r=n.length,o=new i(e.height,[]);return n.forEach((function(e,n){var i=t(e);o.children.push(i),0===n&&(o.leftChild=i),n===r-1&&(o.rightChild=i)})),o.originNode=e,o.isLeaf=e.isLeaf(),o}(t);return function t(e){if(e.isLeaf||0===e.children.length)e.drawingDepth=s;else{var n=e.children.map((function(e){return t(e)})),r=Math.min.apply(null,n);e.drawingDepth=r-1}return e.drawingDepth}(l),function t(r){r.x=r.drawingDepth*e.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+e.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=e.subTreeSep)),n=r):(r.children.forEach((function(e){t(e)})),r.y=(r.leftChild.y+r.rightChild.y)/2)}(l),a(l,t,e.isHorizontal),t}},function(t,e,n){function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(1),o=n(11),a=n(4),s=n(0),l=["LR","RL","H"],c=l[0],u=function(t){function e(){return t.apply(this,arguments)||this}var n,i;return i=t,(n=e).prototype=Object.create(i.prototype),n.prototype.constructor=n,r(n,i),e.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var n=t.indent,r=void 0===n?20:n,i=t.dropCap,s=void 0===i||i,u=t.direction,d=void 0===u?c:u,h=t.align;if(d&&-1===l.indexOf(d))throw new TypeError("Invalid direction: "+d);if(d===l[0])o(e,r,s,h);else if(d===l[1])o(e,r,s,h),e.right2left();else if(d===l[2]){var f=a(e,t),p=f.left,g=f.right;o(p,r,s,h),p.right2left(),o(g,r,s,h);var m=p.getBoundingBox();g.translate(m.width,0),e.x=g.x-e.width/2}return e},e}(i),d={};t.exports=function(t,e){return e=s.assign({},d,e),new u(t,e).execute()}},function(t,e,n){var r=n(0);t.exports=function(t,e,n,i){var o=null;t.eachNode((function(t){!function(t,e,n,i,o){var a="function"===typeof n?n(t):n*t.depth;if(!i)try{if(t.id===t.parent.children[0].id)return t.x+=a,void(t.y=e?e.y:0)}catch(c){}if(t.x+=a,e){if(t.y=e.y+r.getHeight(e,t,o),e.parent&&t.parent.id!==e.parent.id){var s=e.parent,l=s.y+r.getHeight(s,t,o);t.y=l>t.y?l:t.y}}else t.y=0}(t,o,e,n,i),o=t}))}},function(t,e,n){function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}var i=n(1),o=n(13),a=n(2),s=n(0),l=function(t){function e(){return t.apply(this,arguments)||this}var n,i;return i=t,(n=e).prototype=Object.create(i.prototype),n.prototype.constructor=n,r(n,i),e.prototype.execute=function(){return a(this.rootNode,this.options,o)},e}(i),c={};t.exports=function(t,e){return e=s.assign({},c,e),new l(t,e).execute()}},function(t,e,n){var r=n(0);function i(t,e){var n=0;return t.children.length?t.children.forEach((function(t){n+=i(t,e)})):n=t.height,t._subTreeSep=e.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,n)+2*t._subTreeSep,t.totalHeight}function o(t){var e=t.children,n=e.length;if(n){e.forEach((function(t){o(t)}));var r=e[0],i=e[n-1],a=i.y-r.y+i.height,s=0;if(e.forEach((function(t){s+=t.totalHeight})),a>t.height)t.y=r.y+a/2-t.height/2;else if(1!==e.length||t.height>s){var l=t.y+(t.height-a)/2-r.y;e.forEach((function(t){t.translate(0,l)}))}else t.y=(r.y+r.height/2+i.y+i.height/2)/2-t.height/2}}var a={getSubTreeSep:function(){return 0}};t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},a,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse((function(t){t.x=t.parent.x+t.parent.width})),t.parent=null,i(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode((function(t){var e=t.children,n=e.length;if(n){var r=e[0];if(r.startY=t.startY+t._subTreeSep,1===n)r.y=t.y+t.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=e[i];o.startY=e[i-1].startY+e[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}})),o(t)}}])},t.exports=e()},2958:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},6340:(t,e,n)=>{var r=n(2958),i=n(6122),o=Object.hasOwnProperty,a=Object.create(null);for(var s in r)o.call(r,s)&&(a[r[s]]=s);var l=t.exports={to:{},get:{}};function c(t,e,n){return Math.min(Math.max(e,t),n)}function u(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}l.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=l.get.hsl(t),n="hsl";break;case"hwb":e=l.get.hwb(t),n="hwb";break;default:e=l.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},l.get.rgb=function(t){if(!t)return null;var e,n,i,a=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=e[2],e=e[1],n=0;n<3;n++){var s=2*n;a[n]=parseInt(e.slice(s,s+2),16)}i&&(a[3]=parseInt(i,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(i=(e=e[1])[3],n=0;n<3;n++)a[n]=parseInt(e[n]+e[n],16);i&&(a[3]=parseInt(i+i,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(e[n+1],0);e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:o.call(r,e[1])?((a=r[e[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}for(n=0;n<3;n++)a[n]=c(a[n],0,255);return a[3]=c(a[3],0,1),a},l.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},l.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},l.to.hex=function(){var t=i(arguments);return"#"+u(t[0])+u(t[1])+u(t[2])+(t[3]<1?u(Math.round(255*t[3])):"")},l.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},l.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},l.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},l.to.hwb=function(){var t=i(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},l.to.keyword=function(t){return a[t.slice(0,3)]}},7243:(t,e,n)=>{"use strict";var r=n(9660),i={"text/plain":"Text","text/html":"Url",default:"Text"};t.exports=function(t,e){var n,o,a,s,l,c,u=!1;e||(e={}),n=e.debug||!1;try{if(a=r(),s=document.createRange(),l=document.getSelection(),(c=document.createElement("span")).textContent=t,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(r){if(r.stopPropagation(),e.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=i[e.format]||i.default;window.clipboardData.setData(o,t)}else r.clipboardData.clearData(),r.clipboardData.setData(e.format,t);e.onCopy&&(r.preventDefault(),e.onCopy(r.clipboardData))})),document.body.appendChild(c),s.selectNodeContents(c),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),u=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),o=function(t){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}("message"in e?e.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,t)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),c&&document.body.removeChild(c),a()}return u}},9312:(t,e,n)=>{t.exports={graphlib:n(8005),layout:n(2776),debug:n(579),util:{time:n(1790).time,notime:n(1790).notime},version:n(1696)}},5536:(t,e,n)=>{"use strict";var r=n(1387),i=n(3065);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?i(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},i={};function o(a){r.has(i,a)||(i[a]=!0,n[a]=!0,r.forEach(t.outEdges(a),(function(t){r.has(n,t.w)?e.push(t):o(t.w)})),delete n[a])}return r.forEach(t.nodes(),o),e}(t);r.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))}))},undo:function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}}},1133:(t,e,n)=>{var r=n(1387),i=n(1790);function o(t,e,n,r,o,a){var s={width:0,height:0,rank:a,borderType:e},l=o[e][a-1],c=i.addDummyNode(t,"border",s,n);o[e][a]=c,t.setParent(c,r),l&&t.setEdge(l,c,{weight:1})}t.exports=function(t){r.forEach(t.children(),(function e(n){var i=t.children(n),a=t.node(n);if(i.length&&r.forEach(i,e),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,l=a.maxRank+1;s<l;++s)o(t,"borderLeft","_bl",n,a,s),o(t,"borderRight","_br",n,a,s)}}))}},44:(t,e,n)=>{"use strict";var r=n(1387);function i(t){r.forEach(t.nodes(),(function(e){o(t.node(e))})),r.forEach(t.edges(),(function(e){o(t.edge(e))}))}function o(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||i(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),(function(e){a(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(t);"lr"!==e&&"rl"!==e||(!function(t){r.forEach(t.nodes(),(function(e){s(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,s),r.has(n,"x")&&s(n)}))}(t),i(t))}}},2281:t=>{function e(){var t={};t._next=t._prev=t,this._sentinel=t}function n(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function r(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=e,e.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return n(e),e},e.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&n(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},e.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,r)),n=n._prev;return"["+t.join(", ")+"]"}},579:(t,e,n)=>{var r=n(1387),i=n(1790),o=n(8005).Graph;t.exports={debugOrdering:function(t){var e=i.buildLayerMatrix(t),n=new o({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),r.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),r.forEach(e,(function(t,e){var i="layer"+e;n.setNode(i,{rank:"same"}),r.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}}},8005:(t,e,n)=>{var r;try{r=n(7532)}catch(i){}r||(r=window.graphlib),t.exports=r},3065:(t,e,n)=>{var r=n(1387),i=n(8005).Graph,o=n(2281);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new i,a=0,s=0;r.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),r.forEach(t.edges(),(function(t){var r=n.edge(t.v,t.w)||0,i=e(t),o=r+i;n.setEdge(t.v,t.w,o),s=Math.max(s,n.node(t.v).out+=i),a=Math.max(a,n.node(t.w).in+=i)}));var c=r.range(s+a+3).map((function(){return new o})),u=a+1;return r.forEach(n.nodes(),(function(t){l(c,u,n.node(t))})),{graph:n,buckets:c,zeroIdx:u}}(t,e||a),c=function(t,e,n){var r,i=[],o=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)s(t,e,n,r);for(;r=o.dequeue();)s(t,e,n,r);if(t.nodeCount())for(var l=e.length-2;l>0;--l)if(r=e[l].dequeue()){i=i.concat(s(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=r.constant(1);function s(t,e,n,i,o){var a=o?[]:void 0;return r.forEach(t.inEdges(i.v),(function(r){var i=t.edge(r),s=t.node(r.v);o&&a.push({v:r.v,w:r.w}),s.out-=i,l(e,n,s)})),r.forEach(t.outEdges(i.v),(function(r){var i=t.edge(r),o=r.w,a=t.node(o);a.in-=i,l(e,n,a)})),t.removeNode(i.v),a}function l(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},2776:(t,e,n)=>{"use strict";var r=n(1387),i=n(5536),o=n(9247),a=n(8439),s=n(1790).normalizeRanks,l=n(8518),c=n(1790).removeEmptyRanks,u=n(8167),d=n(1133),h=n(44),f=n(4247),p=n(8770),g=n(1790),m=n(8005).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?g.time:g.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new m({multigraph:!0,compound:!0}),n=C(t.graph());return e.setGraph(r.merge({},y,M(n,v),r.pick(n,b))),r.forEach(t.nodes(),(function(n){var i=C(t.node(n));e.setNode(n,r.defaults(M(i,x),w)),e.setParent(n,t.parent(n))})),r.forEach(t.edges(),(function(n){var i=C(t.edge(n));e.setEdge(n,r.merge({},S,M(i,E),r.pick(i,k)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){r.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){i.run(t)})),e("    nestingGraph.run",(function(){u.run(t)})),e("    rank",(function(){a(g.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};g.addDummyNode(t,"edge-proxy",i,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){c(t)})),e("    nestingGraph.cleanup",(function(){u.cleanup(t)})),e("    normalizeRanks",(function(){s(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;r.forEach(t.nodes(),(function(n){var i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=r.max(e,i.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){o.run(t)})),e("    parentDummyChains",(function(){l(t)})),e("    addBorderSegments",(function(){d(t)})),e("    order",(function(){f(t)})),e("    insertSelfEdges",(function(){!function(t){var e=g.buildLayerMatrix(t);r.forEach(e,(function(e){var n=0;r.forEach(e,(function(e,i){var o=t.node(e);o.order=i+n,r.forEach(o.selfEdges,(function(e){g.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:i+ ++n,e:e.e,label:e.label},"_se")})),delete o.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){h.adjust(t)})),e("    position",(function(){p(t)})),e("    positionSelfEdges",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){r.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),i=t.node(n.borderTop),o=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),s=t.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(o.y-i.y),n.x=a.x+n.width/2,n.y=i.y+n.height/2}})),r.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){o.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){h.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,o=0,a=t.graph(),s=a.marginx||0,l=a.marginy||0;function c(t){var r=t.x,a=t.y,s=t.width,l=t.height;e=Math.min(e,r-s/2),n=Math.max(n,r+s/2),i=Math.min(i,a-l/2),o=Math.max(o,a+l/2)}r.forEach(t.nodes(),(function(e){c(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.has(n,"x")&&c(n)})),e-=s,i-=l,r.forEach(t.nodes(),(function(n){var r=t.node(n);r.x-=e,r.y-=i})),r.forEach(t.edges(),(function(n){var o=t.edge(n);r.forEach(o.points,(function(t){t.x-=e,t.y-=i})),r.has(o,"x")&&(o.x-=e),r.has(o,"y")&&(o.y-=i)})),a.width=n-e+s,a.height=o-i+l}(t)})),e("    assignNodeIntersects",(function(){!function(t){r.forEach(t.edges(),(function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(g.intersectRect(o,n)),i.points.push(g.intersectRect(a,r))}))}(t)})),e("    reversePoints",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){i.undo(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){r.forEach(t.nodes(),(function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))})),r.forEach(t.edges(),(function(n){var i=t.edge(n),o=e.edge(n);i.points=o.points,r.has(o,"x")&&(i.x=o.x,i.y=o.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],x=["width","height"],w={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],S={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function M(t,e){return r.mapValues(r.pick(t,e),Number)}function C(t){var e={};return r.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}},1387:(t,e,n)=>{var r;try{r={cloneDeep:n(5117),constant:n(6800),defaults:n(210),each:n(8193),filter:n(3386),find:n(5915),flatten:n(2964),forEach:n(6380),forIn:n(286),has:n(6094),isUndefined:n(7842),last:n(7988),map:n(5876),mapValues:n(6638),max:n(2780),merge:n(953),min:n(7282),minBy:n(8583),now:n(4378),pick:n(5357),range:n(9939),reduce:n(9874),sortBy:n(1261),uniqueId:n(2810),values:n(3134),zipObject:n(5630)}}catch(i){}r||(r=window._),t.exports=r},8167:(t,e,n)=>{var r=n(1387),i=n(1790);function o(t,e,n,a,s,l,c){var u=t.children(c);if(u.length){var d=i.addBorderNode(t,"_bt"),h=i.addBorderNode(t,"_bb"),f=t.node(c);t.setParent(d,c),f.borderTop=d,t.setParent(h,c),f.borderBottom=h,r.forEach(u,(function(r){o(t,e,n,a,s,l,r);var i=t.node(r),u=i.borderTop?i.borderTop:r,f=i.borderBottom?i.borderBottom:r,p=i.borderTop?a:2*a,g=u!==f?1:s-l[c]+1;t.setEdge(d,u,{weight:p,minlen:g,nestingEdge:!0}),t.setEdge(f,h,{weight:p,minlen:g,nestingEdge:!0})})),t.parent(c)||t.setEdge(e,d,{weight:0,minlen:s+l[c]})}else c!==e&&t.setEdge(e,c,{weight:0,minlen:n})}t.exports={run:function(t){var e=i.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};function n(i,o){var a=t.children(i);a&&a.length&&r.forEach(a,(function(t){n(t,o+1)})),e[i]=o}return r.forEach(t.children(),(function(t){n(t,1)})),e}(t),a=r.max(r.values(n))-1,s=2*a+1;t.graph().nestingRoot=e,r.forEach(t.edges(),(function(e){t.edge(e).minlen*=s}));var l=function(t){return r.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;r.forEach(t.children(),(function(r){o(t,e,s,l,a,n,r)})),t.graph().nodeRankFactor=s},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},9247:(t,e,n)=>{"use strict";var r=n(1387),i=n(1790);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),(function(e){!function(t,e){var n,r,o,a=e.v,s=t.node(a).rank,l=e.w,c=t.node(l).rank,u=e.name,d=t.edge(e),h=d.labelRank;if(c===s+1)return;for(t.removeEdge(e),o=0,++s;s<c;++o,++s)d.points=[],r={width:0,height:0,edgeLabel:d,edgeObj:e,rank:s},n=i.addDummyNode(t,"edge",r,"_d"),s===h&&(r.width=d.width,r.height=d.height,r.dummy="edge-label",r.labelpos=d.labelpos),t.setEdge(a,n,{weight:d.weight},u),0===o&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,l,{weight:d.weight},u)}(t,e)}))},undo:function(t){r.forEach(t.graph().dummyChains,(function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)}))}}},6102:(t,e,n)=>{var r=n(1387);t.exports=function(t,e,n){var i,o={};r.forEach(n,(function(n){for(var r,a,s=t.parent(n);s;){if((r=t.parent(s))?(a=o[r],o[r]=s):(a=i,i=s),a&&a!==s)return void e.setEdge(a,s);s=r}}))}},3922:(t,e,n)=>{var r=n(1387);t.exports=function(t,e){return r.map(e,(function(e){var n=t.inEdges(e);if(n.length){var i=r.reduce(n,(function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}return{v:e}}))}},4786:(t,e,n)=>{var r=n(1387),i=n(8005).Graph;t.exports=function(t,e,n){var o=function(t){var e;for(;t.hasNode(e=r.uniqueId("_root")););return e}(t),a=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel((function(e){return t.node(e)}));return r.forEach(t.nodes(),(function(i){var s=t.node(i),l=t.parent(i);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(i),a.setParent(i,l||o),r.forEach(t[n](i),(function(e){var n=e.v===i?e.w:e.v,o=a.edge(n,i),s=r.isUndefined(o)?0:o.weight;a.setEdge(n,i,{weight:t.edge(e).weight+s})})),r.has(s,"minRank")&&a.setNode(i,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))})),a}},2789:(t,e,n)=>{"use strict";var r=n(1387);function i(t,e,n){for(var i=r.zipObject(n,r.map(n,(function(t,e){return e}))),o=r.flatten(r.map(e,(function(e){return r.sortBy(r.map(t.outEdges(e),(function(e){return{pos:i[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var l=r.map(new Array(s),(function(){return 0})),c=0;return r.forEach(o.forEach((function(t){var e=t.pos+a;l[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=l[e+1]),l[e=e-1>>1]+=t.weight;c+=t.weight*n}))),c}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=i(t,e[r-1],e[r]);return n}},4247:(t,e,n)=>{"use strict";var r=n(1387),i=n(1344),o=n(2789),a=n(9818),s=n(4786),l=n(6102),c=n(8005).Graph,u=n(1790);function d(t,e,n){return r.map(e,(function(e){return s(t,e,n)}))}function h(t,e){var n=new c;r.forEach(t,(function(t){var i=t.graph().root,o=a(t,i,n,e);r.forEach(o.vs,(function(e,n){t.node(e).order=n})),l(t,n,o.vs)}))}function f(t,e){r.forEach(e,(function(e){r.forEach(e,(function(e,n){t.node(e).order=n}))}))}t.exports=function(t){var e=u.maxRank(t),n=d(t,r.range(1,e+1),"inEdges"),a=d(t,r.range(e-1,-1,-1),"outEdges"),s=i(t);f(t,s);for(var l,c=Number.POSITIVE_INFINITY,p=0,g=0;g<4;++p,++g){h(p%2?n:a,p%4>=2),s=u.buildLayerMatrix(t);var m=o(t,s);m<c&&(g=0,l=r.cloneDeep(s),c=m)}f(t,l)}},1344:(t,e,n)=>{"use strict";var r=n(1387);t.exports=function(t){var e={},n=r.filter(t.nodes(),(function(e){return!t.children(e).length})),i=r.max(r.map(n,(function(e){return t.node(e).rank}))),o=r.map(r.range(i+1),(function(){return[]}));var a=r.sortBy(n,(function(e){return t.node(e).rank}));return r.forEach(a,(function n(i){if(r.has(e,i))return;e[i]=!0;var a=t.node(i);o[a.rank].push(i),r.forEach(t.successors(i),n)})),o}},5261:(t,e,n)=>{"use strict";var r=n(1387);t.exports=function(t,e){var n={};return r.forEach(t,(function(t,e){var i=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(i.barycenter=t.barycenter,i.weight=t.weight)})),r.forEach(e.edges(),(function(t){var e=n[t.v],i=n[t.w];r.isUndefined(e)||r.isUndefined(i)||(i.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function i(e){return function(n){n.in.push(e),0===--n.indegree&&t.push(n)}}for(;t.length;){var o=t.pop();e.push(o),r.forEach(o.in.reverse(),n(o)),r.forEach(o.out,i(o))}return r.map(r.filter(e,(function(t){return!t.merged})),(function(t){return r.pick(t,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(t){return!t.indegree})))}},9818:(t,e,n)=>{var r=n(1387),i=n(3922),o=n(5261),a=n(9479);t.exports=function t(e,n,s,l){var c=e.children(n),u=e.node(n),d=u?u.borderLeft:void 0,h=u?u.borderRight:void 0,f={};d&&(c=r.filter(c,(function(t){return t!==d&&t!==h})));var p=i(e,c);r.forEach(p,(function(n){if(e.children(n.v).length){var i=t(e,n.v,s,l);f[n.v]=i,r.has(i,"barycenter")&&(o=n,a=i,r.isUndefined(o.barycenter)?(o.barycenter=a.barycenter,o.weight=a.weight):(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight))}var o,a}));var g=o(p,s);!function(t,e){r.forEach(t,(function(t){t.vs=r.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(g,f);var m=a(g,l);if(d&&(m.vs=r.flatten([d,m.vs,h],!0),e.predecessors(d).length)){var v=e.node(e.predecessors(d)[0]),y=e.node(e.predecessors(h)[0]);r.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+v.order+y.order)/(m.weight+2),m.weight+=2}return m}},9479:(t,e,n)=>{var r=n(1387),i=n(1790);function o(t,e,n){for(var i;e.length&&(i=r.last(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}t.exports=function(t,e){var n=i.partition(t,(function(t){return r.has(t,"barycenter")})),a=n.lhs,s=r.sortBy(n.rhs,(function(t){return-t.i})),l=[],c=0,u=0,d=0;a.sort((h=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:h?e.i-t.i:t.i-e.i})),d=o(l,s,d),r.forEach(a,(function(t){d+=t.vs.length,l.push(t.vs),c+=t.barycenter*t.weight,u+=t.weight,d=o(l,s,d)}));var h;var f={vs:r.flatten(l,!0)};u&&(f.barycenter=c/u,f.weight=u);return f}},8518:(t,e,n)=>{var r=n(1387);t.exports=function(t){var e=function(t){var e={},n=0;function i(o){var a=n;r.forEach(t.children(o),i),e[o]={low:a,lim:n++}}return r.forEach(t.children(),i),e}(t);r.forEach(t.graph().dummyChains,(function(n){for(var r=t.node(n),i=r.edgeObj,o=function(t,e,n,r){var i,o,a=[],s=[],l=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>l||c>e[i].lim));o=i,i=r;for(;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(t,e,i.v,i.w),a=o.path,s=o.lca,l=0,c=a[l],u=!0;n!==i.w;){if(r=t.node(n),u){for(;(c=a[l])!==s&&t.node(c).maxRank<r.rank;)l++;c===s&&(u=!1)}if(!u){for(;l<a.length-1&&t.node(c=a[l+1]).minRank<=r.rank;)l++;c=a[l]}t.setParent(n,c),n=t.successors(n)[0]}}))}},8055:(t,e,n)=>{"use strict";var r=n(1387),i=n(8005).Graph,o=n(1790);function a(t,e){var n={};return r.reduce(e,(function(e,i){var o=0,a=0,s=e.length,c=r.last(i);return r.forEach(i,(function(e,u){var d=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),h=d?t.node(d).order:s;(d||e===c)&&(r.forEach(i.slice(a,u+1),(function(e){r.forEach(t.predecessors(e),(function(r){var i=t.node(r),a=i.order;!(a<o||h<a)||i.dummy&&t.node(e).dummy||l(n,r,e)}))})),a=u+1,o=h)})),i})),n}function s(t,e){var n={};function i(e,i,o,a,s){var c;r.forEach(r.range(i,o),(function(i){c=e[i],t.node(c).dummy&&r.forEach(t.predecessors(c),(function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>s)&&l(n,e,c)}))}))}return r.reduce(e,(function(e,n){var o,a=-1,s=0;return r.forEach(n,(function(r,l){if("border"===t.node(r).dummy){var c=t.predecessors(r);c.length&&(o=t.node(c[0]).order,i(n,s,l,a,o),s=l,a=o)}i(n,s,n.length,o,e.length)})),n})),n}function l(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function c(t,e,n){if(e>n){var i=e;e=n,n=i}return r.has(t[e],n)}function u(t,e,n,i){var o={},a={},s={};return r.forEach(e,(function(t){r.forEach(t,(function(t,e){o[t]=t,a[t]=t,s[t]=e}))})),r.forEach(e,(function(t){var e=-1;r.forEach(t,(function(t){var l=i(t);if(l.length){l=r.sortBy(l,(function(t){return s[t]}));for(var u=(l.length-1)/2,d=Math.floor(u),h=Math.ceil(u);d<=h;++d){var f=l[d];a[t]===t&&e<s[f]&&!c(n,t,f)&&(a[f]=t,a[t]=o[t]=o[f],e=s[f])}}}))})),{root:o,align:a}}function d(t,e,n,o,a){var s={},l=function(t,e,n,o){var a=new i,s=t.graph(),l=function(t,e,n){return function(i,o,a){var s,l=i.node(o),c=i.node(a),u=0;if(u+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=-l.width/2;break;case"r":s=l.width/2}if(s&&(u+=n?s:-s),s=0,u+=(l.dummy?e:t)/2,u+=(c.dummy?e:t)/2,u+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=c.width/2;break;case"r":s=-c.width/2}return s&&(u+=n?s:-s),s=0,u}}(s.nodesep,s.edgesep,o);return r.forEach(e,(function(e){var i;r.forEach(e,(function(e){var r=n[e];if(a.setNode(r),i){var o=n[i],s=a.edge(o,r);a.setEdge(o,r,Math.max(l(t,e,i),s||0))}i=e}))})),a}(t,e,n,a),c=a?"borderLeft":"borderRight";function u(t,e){for(var n=l.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return u((function(t){s[t]=l.inEdges(t).reduce((function(t,e){return Math.max(t,s[e.v]+l.edge(e))}),0)}),l.predecessors.bind(l)),u((function(e){var n=l.outEdges(e).reduce((function(t,e){return Math.min(t,s[e.w]-l.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(s[e]=Math.max(s[e],n))}),l.successors.bind(l)),r.forEach(o,(function(t){s[t]=s[n[t]]})),s}function h(t,e){return r.minBy(r.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return r.forIn(e,(function(e,r){var o=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+o,n),i=Math.min(e-o,i)})),n-i}))}function f(t,e){var n=r.values(e),i=r.min(n),o=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var s,l=n+a,c=t[l];if(c!==e){var u=r.values(c);(s="l"===a?i-r.min(u):o-r.max(u))&&(t[l]=r.mapValues(c,(function(t){return t+s})))}}))}))}function p(t,e){return r.mapValues(t.ul,(function(n,i){if(e)return t[e.toLowerCase()][i];var o=r.sortBy(r.map(t,i));return(o[1]+o[2])/2}))}t.exports={positionX:function(t){var e,n=o.buildLayerMatrix(t),i=r.merge(a(t,n),s(t,n)),l={};r.forEach(["u","d"],(function(o){e="u"===o?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(e=r.map(e,(function(t){return r.values(t).reverse()})));var a=("u"===o?t.predecessors:t.successors).bind(t),s=u(t,e,i,a),c=d(t,e,s.root,s.align,"r"===n);"r"===n&&(c=r.mapValues(c,(function(t){return-t}))),l[o+n]=c}))}));var c=h(t,l);return f(l,c),p(l,t.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:l,hasConflict:c,verticalAlignment:u,horizontalCompaction:d,alignCoordinates:f,findSmallestWidthAlignment:h,balance:p}},8770:(t,e,n)=>{"use strict";var r=n(1387),i=n(1790),o=n(8055).positionX;t.exports=function(t){(function(t){var e=i.buildLayerMatrix(t),n=t.graph().ranksep,o=0;r.forEach(e,(function(e){var i=r.max(r.map(e,(function(e){return t.node(e).height})));r.forEach(e,(function(e){t.node(e).y=o+i/2})),o+=i+n}))})(t=i.asNonCompoundGraph(t)),r.forEach(o(t),(function(e,n){t.node(n).x=e}))}},259:(t,e,n)=>{"use strict";var r=n(1387),i=n(8005).Graph,o=n(9671).slack;function a(t,e){return r.forEach(t.nodes(),(function n(i){r.forEach(e.nodeEdges(i),(function(r){var a=r.v,s=i===a?r.w:a;t.hasNode(s)||o(e,r)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))}))})),t.nodeCount()}function s(t,e){return r.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return o(e,n)}))}function l(t,e,n){r.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}t.exports=function(t){var e,n,r=new i({directed:!1}),c=t.nodes()[0],u=t.nodeCount();r.setNode(c,{});for(;a(r,t)<u;)e=s(r,t),n=r.hasNode(e.v)?o(t,e):-o(t,e),l(r,t,n);return r}},8439:(t,e,n)=>{"use strict";var r=n(9671).longestPath,i=n(259),o=n(8670);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":default:s(t);break;case"tight-tree":!function(t){r(t),i(t)}(t);break;case"longest-path":a(t)}};var a=r;function s(t){o(t)}},8670:(t,e,n)=>{"use strict";var r=n(1387),i=n(259),o=n(9671).slack,a=n(9671).longestPath,s=n(8005).alg.preorder,l=n(8005).alg.postorder,c=n(1790).simplify;function u(t){t=c(t),a(t);var e,n=i(t);for(f(n),d(n,t);e=g(n);)v(n,t,e,m(n,t,e))}function d(t,e){var n=l(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=h(t,e,n)}(t,e,n)}))}function h(t,e,n){var i=t.node(n).parent,o=!0,a=e.edge(n,i),s=0;return a||(o=!1,a=e.edge(i,n)),s=a.weight,r.forEach(e.nodeEdges(n),(function(r){var a,l,c=r.v===n,u=c?r.w:r.v;if(u!==i){var d=c===o,h=e.edge(r).weight;if(s+=d?h:-h,a=n,l=u,t.hasEdge(a,l)){var f=t.edge(n,u).cutvalue;s+=d?-f:f}}})),s}function f(t,e){arguments.length<2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,n,i,o){var a=n,s=t.node(i);return e[i]=!0,r.forEach(t.neighbors(i),(function(o){r.has(e,o)||(n=p(t,e,n,o,i))})),s.low=a,s.lim=n++,o?s.parent=o:delete s.parent,n}function g(t){return r.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function m(t,e,n){var i=n.v,a=n.w;e.hasEdge(i,a)||(i=n.w,a=n.v);var s=t.node(i),l=t.node(a),c=s,u=!1;s.lim>l.lim&&(c=l,u=!0);var d=r.filter(e.edges(),(function(e){return u===y(t,t.node(e.v),c)&&u!==y(t,t.node(e.w),c)}));return r.minBy(d,(function(t){return o(e,t)}))}function v(t,e,n,i){var o=n.v,a=n.w;t.removeEdge(o,a),t.setEdge(i.v,i.w,{}),f(t),d(t,e),function(t,e){var n=r.find(t.nodes(),(function(t){return!e.node(t).parent})),i=s(t,n);i=i.slice(1),r.forEach(i,(function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)}))}(t,e)}function y(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=u,u.initLowLimValues=f,u.initCutValues=d,u.calcCutValue=h,u.leaveEdge=g,u.enterEdge=m,u.exchangeEdges=v},9671:(t,e,n)=>{"use strict";var r=n(1387);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),(function n(i){var o=t.node(i);if(r.has(e,i))return o.rank;e[i]=!0;var a=r.min(r.map(t.outEdges(i),(function(e){return n(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0),o.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},1790:(t,e,n)=>{"use strict";var r=n(1387),i=n(8005).Graph;function o(t,e,n,i){var o;do{o=r.uniqueId(i)}while(t.hasNode(o));return n.dummy=e,t.setNode(o,n),o}function a(t){return r.max(r.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n})))}t.exports={addDummyNode:o,simplify:function(t){var e=(new i).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),e},asNonCompoundGraph:function(t){var e=new i({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=t.width/2,c=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*l>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(l=-l),n=l,r=l*s/a);return{x:i+n,y:o+r}},buildLayerMatrix:function(t){var e=r.map(r.range(a(t)+1),(function(){return[]}));return r.forEach(t.nodes(),(function(n){var i=t.node(n),o=i.rank;r.isUndefined(o)||(e[o][i.order]=n)})),e},normalizeRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank})));r.forEach(t.nodes(),(function(n){var i=t.node(n);r.has(i,"rank")&&(i.rank-=e)}))},removeEmptyRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];r.forEach(t.nodes(),(function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)}));var i=0,o=t.graph().nodeRankFactor;r.forEach(n,(function(e,n){r.isUndefined(e)&&n%o!==0?--i:i&&r.forEach(e,(function(e){t.node(e).rank+=i}))}))},addBorderNode:function(t,e,n,r){var i={width:0,height:0};arguments.length>=4&&(i.rank=n,i.order=r);return o(t,"border",i,e)},maxRank:a,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){var n=r.now();try{return e()}finally{console.log(t+" time: "+(r.now()-n)+"ms")}},notime:function(t,e){return e()}}},1696:t=>{t.exports="0.8.5"},5438:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||t,a),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function a(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,i,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,o),!0;case 6:return u.fn.call(u.context,e,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,r);break;case 4:u[c].fn.call(u[c].context,e,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==e||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s},7532:(t,e,n)=>{var r=n(1864);t.exports={Graph:r.Graph,json:n(1568),alg:n(5061),version:r.version}},629:(t,e,n)=>{var r=n(4735);t.exports=function(t){var e,n={},i=[];function o(i){r.has(n,i)||(n[i]=!0,e.push(i),r.each(t.successors(i),o),r.each(t.predecessors(i),o))}return r.each(t.nodes(),(function(t){e=[],o(t),e.length&&i.push(e)})),i}},1138:(t,e,n)=>{var r=n(4735);function i(t,e,n,o,a,s){r.has(o,e)||(o[e]=!0,n||s.push(e),r.each(a(e),(function(e){i(t,e,n,o,a,s)})),n&&s.push(e))}t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),a=[],s={};return r.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);i(t,e,"post"===n,s,o,a)})),a}},6889:(t,e,n)=>{var r=n(9459),i=n(4735);t.exports=function(t,e,n){return i.transform(t.nodes(),(function(i,o){i[o]=r(t,o,e,n)}),{})}},9459:(t,e,n)=>{var r=n(4735),i=n(2671);t.exports=function(t,e,n,r){return function(t,e,n,r){var o,a,s={},l=new i,c=function(t){var e=t.v!==o?t.v:t.w,r=s[e],i=n(t),c=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+i);c<r.distance&&(r.distance=c,r.predecessor=o,l.decrease(e,c))};t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},l.add(t,n)}));for(;l.size()>0&&(o=l.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(c);return s}(t,String(e),n||o,r||function(e){return t.outEdges(e)})};var o=r.constant(1)},3936:(t,e,n)=>{var r=n(4735),i=n(8545);t.exports=function(t){return r.filter(i(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},9436:(t,e,n)=>{var r=n(4735);t.exports=function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach((function(t){r[t]={},r[t][t]={distance:0},i.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var i=n.v===t?n.w:n.v,o=e(n);r[t][i]={distance:o,predecessor:t}}))})),i.forEach((function(t){var e=r[t];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[t],i=e[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(t,e||i,n||function(e){return t.outEdges(e)})};var i=r.constant(1)},5061:(t,e,n)=>{t.exports={components:n(629),dijkstra:n(9459),dijkstraAll:n(6889),findCycles:n(3936),floydWarshall:n(9436),isAcyclic:n(2668),postorder:n(5959),preorder:n(9858),prim:n(4421),tarjan:n(8545),topsort:n(1742)}},2668:(t,e,n)=>{var r=n(1742);t.exports=function(t){try{r(t)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},5959:(t,e,n)=>{var r=n(1138);t.exports=function(t,e){return r(t,e,"post")}},9858:(t,e,n)=>{var r=n(1138);t.exports=function(t,e){return r(t,e,"pre")}},4421:(t,e,n)=>{var r=n(4735),i=n(6220),o=n(2671);t.exports=function(t,e){var n,a=new i,s={},l=new o;function c(t){var r=t.v===n?t.w:t.v,i=l.priority(r);if(void 0!==i){var o=e(t);o<i&&(s[r]=n,l.decrease(r,o))}}if(0===t.nodeCount())return a;r.each(t.nodes(),(function(t){l.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),l.decrease(t.nodes()[0],0);var u=!1;for(;l.size()>0;){if(n=l.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(u)throw new Error("Input graph is not connected: "+t);u=!0}t.nodeEdges(n).forEach(c)}return a}},8545:(t,e,n)=>{var r=n(4735);t.exports=function(t){var e=0,n=[],i={},o=[];function a(s){var l=i[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach((function(t){r.has(i,t)?i[t].onStack&&(l.lowlink=Math.min(l.lowlink,i[t].index)):(a(t),l.lowlink=Math.min(l.lowlink,i[t].lowlink))})),l.lowlink===l.index){var c,u=[];do{c=n.pop(),i[c].onStack=!1,u.push(c)}while(s!==c);o.push(u)}}return t.nodes().forEach((function(t){r.has(i,t)||a(t)})),o}},1742:(t,e,n)=>{var r=n(4735);function i(t){var e={},n={},i=[];if(r.each(t.sinks(),(function a(s){if(r.has(n,s))throw new o;r.has(e,s)||(n[s]=!0,e[s]=!0,r.each(t.predecessors(s),a),delete n[s],i.push(s))})),r.size(e)!==t.nodeCount())throw new o;return i}function o(){}t.exports=i,i.CycleException=o,o.prototype=new Error},2671:(t,e,n)=>{var r=n(4735);function i(){this._arr=[],this._keyIndices={}}t.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},i.prototype.has=function(t){return r.has(this._keyIndices,t)},i.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var i=this._arr,o=i.length;return n[t]=o,i.push({key:t,priority:e}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},i.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},i.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},i.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},i.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e}},6220:(t,e,n)=>{"use strict";var r=n(4735);t.exports=s;var i="\0",o="\0",a="\x01";function s(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function l(t,e){t[e]?t[e]++:t[e]=1}function c(t,e){--t[e]||delete t[e]}function u(t,e,n,o){var s=""+e,l=""+n;if(!t&&s>l){var c=s;s=l,l=c}return s+a+l+a+(r.isUndefined(o)?i:o)}function d(t,e){return u(t,e.v,e.w,e.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(t){return this._label=t,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return r.keys(this._nodes)},s.prototype.sources=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._in[e])}))},s.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._out[e])}))},s.prototype.setNodes=function(t,e){var n=arguments,i=this;return r.each(t,(function(t){n.length>1?i.setNode(t,e):i.setNode(t)})),this},s.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=o,this._children[t]={},this._children[o][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},s.prototype.node=function(t){return this._nodes[t]},s.prototype.hasNode=function(t){return r.has(this._nodes,t)},s.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},s.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e=o;else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},s.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},s.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==o)return e}},s.prototype.children=function(t){if(r.isUndefined(t)&&(t=o),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if(t===o)return this.nodes();if(this.hasNode(t))return[]}},s.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},s.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},s.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},s.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},s.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),r.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var i={};function o(t){var r=n.parent(t);return void 0===r||e.hasNode(r)?(i[t]=r,r):r in i?i[r]:o(r)}return this._isCompound&&r.each(e.nodes(),(function(t){e.setParent(t,o(t))})),e},s.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return r.values(this._edgeObjs)},s.prototype.setPath=function(t,e){var n=this,i=arguments;return r.reduce(t,(function(t,r){return i.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r})),this},s.prototype.setEdge=function(){var t,e,n,i,o=!1,a=arguments[0];"object"===typeof a&&null!==a&&"v"in a?(t=a.v,e=a.w,n=a.name,2===arguments.length&&(i=arguments[1],o=!0)):(t=a,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var s=u(this._isDirected,t,e,n);if(r.has(this._edgeLabels,s))return o&&(this._edgeLabels[s]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=o?i:this._defaultEdgeLabelFn(t,e,n);var c=function(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};r&&(s.name=r);return s}(this._isDirected,t,e,n);return t=c.v,e=c.w,Object.freeze(c),this._edgeObjs[s]=c,l(this._preds[e],t),l(this._sucs[t],e),this._in[e][s]=c,this._out[t][s]=c,this._edgeCount++,this},s.prototype.edge=function(t,e,n){var r=1===arguments.length?d(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return this._edgeLabels[r]},s.prototype.hasEdge=function(t,e,n){var i=1===arguments.length?d(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return r.has(this._edgeLabels,i)},s.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?d(this._isDirected,arguments[0]):u(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],c(this._preds[e],t),c(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},s.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var i=r.values(n);return e?r.filter(i,(function(t){return t.v===e})):i}},s.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var i=r.values(n);return e?r.filter(i,(function(t){return t.w===e})):i}},s.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},1864:(t,e,n)=>{t.exports={Graph:n(6220),version:n(3380)}},1568:(t,e,n)=>{var r=n(4735),i=n(6220);function o(t){return r.map(t.nodes(),(function(e){var n=t.node(e),i=t.parent(e),o={v:e};return r.isUndefined(n)||(o.value=n),r.isUndefined(i)||(o.parent=i),o}))}function a(t){return r.map(t.edges(),(function(e){var n=t.edge(e),i={v:e.v,w:e.w};return r.isUndefined(e.name)||(i.name=e.name),r.isUndefined(n)||(i.value=n),i}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:o(t),edges:a(t)};r.isUndefined(t.graph())||(e.value=r.clone(t.graph()));return e},read:function(t){var e=new i(t.options).setGraph(t.value);return r.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),r.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},4735:(t,e,n)=>{var r;try{r={clone:n(6467),constant:n(6800),each:n(8193),filter:n(3386),has:n(6094),isArray:n(2279),isEmpty:n(6791),isFunction:n(3008),isUndefined:n(7842),keys:n(5724),map:n(5876),reduce:n(9874),size:n(4273),transform:n(9010),union:n(2177),values:n(3134)}}catch(i){}r||(r=window._),t.exports=r},3380:t=>{t.exports="2.1.8"},2133:t=>{function e(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}t.exports=function(t){const n=function(t){const n=[];for(let r=0;r<t.length;r++){for(;n.length>=2&&e(n[n.length-2],n[n.length-1],t[r])<=0;)n.pop();n.push(t[r])}return n.pop(),n}(t),r=function(t){const n=t.reverse(),r=[];for(let i=0;i<n.length;i++){for(;r.length>=2&&e(r[r.length-2],r[r.length-1],n[i])<=0;)r.pop();r.push(n[i])}return r.pop(),r}(t).concat(n);return r.push(t[0]),r}},9885:t=>{t.exports={toXy:function(t,e){return void 0===e?t.slice():t.map((function(t){return new Function("pt","return [pt"+e[0]+",pt"+e[1]+"];")(t)}))},fromXy:function(t,e){return void 0===e?t.slice():t.map((function(t){return new Function("pt","const o = {}; o"+e[0]+"= pt[0]; o"+e[1]+"= pt[1]; return o;")(t)}))}}},7602:t=>{function e(t,e){this._cells=[],this._cellSize=e,this._reverseCellSize=1/e;for(let n=0;n<t.length;n++){const e=t[n],r=this.coordToCellNum(e[0]),i=this.coordToCellNum(e[1]);if(this._cells[r])this._cells[r][i]?this._cells[r][i].push(e):this._cells[r][i]=[e];else{const t=[];t[i]=[e],this._cells[r]=t}}}e.prototype={cellPoints:function(t,e){return void 0!==this._cells[t]&&void 0!==this._cells[t][e]?this._cells[t][e]:[]},rangePoints:function(t){const e=this.coordToCellNum(t[0]),n=this.coordToCellNum(t[1]),r=this.coordToCellNum(t[2]),i=this.coordToCellNum(t[3]),o=[];for(let a=e;a<=r;a++)for(let t=n;t<=i;t++)for(let e=0;e<this.cellPoints(a,t).length;e++)o.push(this.cellPoints(a,t)[e]);return o},removePoint:function(t){const e=this.coordToCellNum(t[0]),n=this.coordToCellNum(t[1]),r=this._cells[e][n];let i;for(let o=0;o<r.length;o++)if(r[o][0]===t[0]&&r[o][1]===t[1]){i=o;break}return r.splice(i,1),r},trunc:Math.trunc||function(t){return t-t%1},coordToCellNum:function(t){return this.trunc(t*this._reverseCellSize)},extendBbox:function(t,e){return[t[0]-e*this._cellSize,t[1]-e*this._cellSize,t[2]+e*this._cellSize,t[3]+e*this._cellSize]}},t.exports=function(t,n){return new e(t,n)}},1425:(t,e,n)=>{"use strict";const r=n(9689),i=n(7602),o=n(9885),a=n(2133);function s(t,e){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function l(t,e,n){const r=[e[0]-t[0],e[1]-t[1]],i=[n[0]-t[0],n[1]-t[1]],o=s(t,e),a=s(t,n);return(r[0]*i[0]+r[1]*i[1])/Math.sqrt(o*a)}function c(t,e){for(let n=0;n<e.length-1;n++){const i=[e[n],e[n+1]];if(!(t[0][0]===i[0][0]&&t[0][1]===i[0][1]||t[0][0]===i[1][0]&&t[0][1]===i[1][1])&&r(t,i))return!0}return!1}function u(t){return[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1]),Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]}function d(t,e,n){let r,i,o=null,a=f,s=f;for(let u=0;u<e.length;u++)r=l(t[0],t[1],e[u]),i=l(t[1],t[0],e[u]),r>a&&i>s&&!c([t[0],e[u]],n)&&!c([t[1],e[u]],n)&&(a=r,s=i,o=e[u]);return o}function h(t,e,n,r,i){let o=!1;for(let a=0;a<t.length-1;a++){const l=[t[a],t[a+1]],c=l[0][0]+","+l[0][1]+","+l[1][0]+","+l[1][1];if(s(l[0],l[1])<e||i.has(c))continue;let h,f,p,g=0,m=u(l);do{m=r.extendBbox(m,g),h=m[2]-m[0],f=m[3]-m[1],p=d(l,r.rangePoints(m),t),g++}while(null===p&&(n[0]>h||n[1]>f));h>=n[0]&&f>=n[1]&&i.add(c),null!==p&&(t.splice(a+1,0,p),r.removePoint(p),o=!0)}return o?h(t,e,n,r,i):t}const f=Math.cos(90/(180/Math.PI)),p=.6;t.exports=function(t,e,n){let r=e||20;const s=function(t){const e=[t[0]];let n=t[0];for(let r=1;r<t.length;r++){const i=t[r];n[0]===i[0]&&n[1]===i[1]||e.push(i),n=i}return e}(function(t){return t.sort((function(t,e){return t[0]-e[0]||t[1]-e[1]}))}(o.toXy(t,n)));if(s.length<4){const t=s.concat([s[0]]);return n?o.fromXy(t,n):t}const l=function(t){let e=1/0,n=1/0,r=-1/0,i=-1/0;for(let o=t.length-1;o>=0;o--)t[o][0]<e&&(e=t[o][0]),t[o][1]<n&&(n=t[o][1]),t[o][0]>r&&(r=t[o][0]),t[o][1]>i&&(i=t[o][1]);return[r-e,i-n]}(s),c=[l[0]*p,l[1]*p],u=a(s),d=s.filter((function(t){return u.indexOf(t)<0})),f=Math.ceil(1/(s.length/(l[0]*l[1]))),g=h(u,Math.pow(r,2),c,i(d,f),new Set);return n?o.fromXy(g,n):g}},9689:t=>{function e(t,e,n,r,i,o){const a=(o-e)*(n-t)-(r-e)*(i-t);return a>0||!(a<0)}t.exports=function(t,n){const r=t[0][0],i=t[0][1],o=t[1][0],a=t[1][1],s=n[0][0],l=n[0][1],c=n[1][0],u=n[1][1];return e(r,i,s,l,c,u)!==e(o,a,s,l,c,u)&&e(r,i,o,a,s,l)!==e(r,i,o,a,c,u)}},3806:(t,e,n)=>{"use strict";n.r(e),n.d(e,{isAnyArray:()=>i});const r=Object.prototype.toString;function i(t){const e=r.call(t);return e.endsWith("Array]")&&!e.includes("Big")}},2434:(t,e,n)=>{var r=n(220)(n(4759),"DataView");t.exports=r},1111:(t,e,n)=>{var r=n(6958),i=n(1176),o=n(1787),a=n(231),s=n(7455);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},5661:(t,e,n)=>{var r=n(5088),i=n(150),o=n(7889),a=n(4349),s=n(3077);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},1465:(t,e,n)=>{var r=n(220)(n(4759),"Map");t.exports=r},4467:(t,e,n)=>{var r=n(738),i=n(708),o=n(6823),a=n(475),s=n(7859);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},202:(t,e,n)=>{var r=n(220)(n(4759),"Promise");t.exports=r},7887:(t,e,n)=>{var r=n(220)(n(4759),"Set");t.exports=r},6669:(t,e,n)=>{var r=n(4467),i=n(2274),o=n(2138);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},5535:(t,e,n)=>{var r=n(5661),i=n(4710),o=n(8384),a=n(7379),s=n(799),l=n(2791);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,t.exports=c},4635:(t,e,n)=>{var r=n(4759).Symbol;t.exports=r},8246:(t,e,n)=>{var r=n(4759).Uint8Array;t.exports=r},4801:(t,e,n)=>{var r=n(220)(n(4759),"WeakMap");t.exports=r},5507:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},8951:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},6860:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},3107:(t,e,n)=>{var r=n(1049);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},3259:t=>{t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},7405:(t,e,n)=>{var r=n(4102),i=n(4578),o=n(2279),a=n(6794),s=n(7059),l=n(1641),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),u=!n&&i(t),d=!n&&!u&&a(t),h=!n&&!u&&!d&&l(t),f=n||u||d||h,p=f?r(t.length,String):[],g=p.length;for(var m in t)!e&&!c.call(t,m)||f&&("length"==m||d&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},1570:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},7518:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},1516:t=>{t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},6010:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},7765:(t,e,n)=>{var r=n(9343)("length");t.exports=r},1983:(t,e,n)=>{var r=n(366),i=n(4206);t.exports=function(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},7305:(t,e,n)=>{var r=n(366),i=n(4206),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},5099:(t,e,n)=>{var r=n(4206);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},291:(t,e,n)=>{var r=n(3965),i=n(5724);t.exports=function(t,e){return t&&r(e,i(e),t)}},2064:(t,e,n)=>{var r=n(3965),i=n(1235);t.exports=function(t,e){return t&&r(e,i(e),t)}},366:(t,e,n)=>{var r=n(8925);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},9645:(t,e,n)=>{var r=n(5535),i=n(8951),o=n(7305),a=n(291),s=n(2064),l=n(8984),c=n(6321),u=n(1849),d=n(3586),h=n(3660),f=n(6387),p=n(5531),g=n(7203),m=n(997),v=n(5539),y=n(2279),b=n(6794),x=n(7744),w=n(4567),E=n(5738),S=n(5724),k=n(1235),M="[object Arguments]",C="[object Function]",N="[object Object]",O={};O[M]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[N]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[C]=O["[object WeakMap]"]=!1,t.exports=function t(e,n,P,T,A,R){var _,L=1&n,I=2&n,D=4&n;if(P&&(_=A?P(e,T,A,R):P(e)),void 0!==_)return _;if(!w(e))return e;var j=y(e);if(j){if(_=g(e),!L)return c(e,_)}else{var z=p(e),F=z==C||"[object GeneratorFunction]"==z;if(b(e))return l(e,L);if(z==N||z==M||F&&!A){if(_=I||F?{}:v(e),!L)return I?d(e,s(_,e)):u(e,a(_,e))}else{if(!O[z])return A?e:{};_=m(e,z,L)}}R||(R=new r);var B=R.get(e);if(B)return B;R.set(e,_),E(e)?e.forEach((function(r){_.add(t(r,n,P,r,e,R))})):x(e)&&e.forEach((function(r,i){_.set(i,t(r,n,P,i,e,R))}));var $=j?void 0:(D?I?f:h:I?k:S)(e);return i($||e,(function(r,i){$&&(r=e[i=r]),o(_,i,t(r,n,P,i,e,R))})),_}},8230:(t,e,n)=>{var r=n(4567),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},927:(t,e,n)=>{var r=n(423),i=n(3267)(r);t.exports=i},2057:(t,e,n)=>{var r=n(184);t.exports=function(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=a}return c}},900:(t,e,n)=>{var r=n(927);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},6993:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},6810:(t,e,n)=>{var r=n(7518),i=n(7989);t.exports=function t(e,n,o,a,s){var l=-1,c=e.length;for(o||(o=i),s||(s=[]);++l<c;){var u=e[l];n>0&&o(u)?n>1?t(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},3031:(t,e,n)=>{var r=n(5211)();t.exports=r},423:(t,e,n)=>{var r=n(3031),i=n(5724);t.exports=function(t,e){return t&&r(t,e,i)}},52:(t,e,n)=>{var r=n(6463),i=n(2535);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},4761:(t,e,n)=>{var r=n(7518),i=n(2279);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},2022:(t,e,n)=>{var r=n(4635),i=n(1581),o=n(5336),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},2033:t=>{t.exports=function(t,e){return t>e}},2320:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t,n){return null!=t&&e.call(t,n)}},4591:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},1049:(t,e,n)=>{var r=n(6993),i=n(5381),o=n(7825);t.exports=function(t,e,n){return e===e?o(t,e,n):r(t,i,n)}},3012:(t,e,n)=>{var r=n(2022),i=n(9248);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},1404:(t,e,n)=>{var r=n(2130),i=n(9248);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},2130:(t,e,n)=>{var r=n(5535),i=n(9757),o=n(1416),a=n(6195),s=n(5531),l=n(2279),c=n(6794),u=n(1641),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,m,v){var y=l(t),b=l(e),x=y?h:s(t),w=b?h:s(e),E=(x=x==d?f:x)==f,S=(w=w==d?f:w)==f,k=x==w;if(k&&c(t)){if(!c(e))return!1;y=!0,E=!1}if(k&&!E)return v||(v=new r),y||u(t)?i(t,e,n,g,m,v):o(t,e,x,n,g,m,v);if(!(1&n)){var M=E&&p.call(t,"__wrapped__"),C=S&&p.call(e,"__wrapped__");if(M||C){var N=M?t.value():t,O=C?e.value():e;return v||(v=new r),m(N,O,n,g,v)}}return!!k&&(v||(v=new r),a(t,e,n,g,m,v))}},3530:(t,e,n)=>{var r=n(5531),i=n(9248);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},4489:(t,e,n)=>{var r=n(5535),i=n(1404);t.exports=function(t,e,n,o){var a=n.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=n[a];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var u=(c=n[a])[0],d=t[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in t))return!1}else{var f=new r;if(o)var p=o(d,h,u,t,e,f);if(!(void 0===p?i(h,d,3,o,f):p))return!1}}return!0}},5381:t=>{t.exports=function(t){return t!==t}},7949:(t,e,n)=>{var r=n(3008),i=n(3306),o=n(4567),a=n(9131),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},3152:(t,e,n)=>{var r=n(5531),i=n(9248);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},8183:(t,e,n)=>{var r=n(2022),i=n(5776),o=n(9248),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},5127:(t,e,n)=>{var r=n(9769),i=n(4104),o=n(9002),a=n(2279),s=n(8857);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},7462:(t,e,n)=>{var r=n(2161),i=n(5112),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},8833:(t,e,n)=>{var r=n(4567),i=n(2161),o=n(7175),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},7646:t=>{t.exports=function(t,e){return t<e}},6602:(t,e,n)=>{var r=n(927),i=n(7840);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},9769:(t,e,n)=>{var r=n(4489),i=n(3334),o=n(4243);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},4104:(t,e,n)=>{var r=n(1404),i=n(7946),o=n(5321),a=n(5916),s=n(9794),l=n(4243),c=n(2535);t.exports=function(t,e){return a(t)&&s(e)?l(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},7436:(t,e,n)=>{var r=n(5535),i=n(1983),o=n(3031),a=n(8994),s=n(4567),l=n(1235),c=n(9924);t.exports=function t(e,n,u,d,h){e!==n&&o(n,(function(o,l){if(h||(h=new r),s(o))a(e,n,l,u,t,d,h);else{var f=d?d(c(e,l),o,l+"",e,n,h):void 0;void 0===f&&(f=o),i(e,l,f)}}),l)}},8994:(t,e,n)=>{var r=n(1983),i=n(8984),o=n(8463),a=n(6321),s=n(5539),l=n(4578),c=n(2279),u=n(3815),d=n(6794),h=n(3008),f=n(4567),p=n(5461),g=n(1641),m=n(9924),v=n(8774);t.exports=function(t,e,n,y,b,x,w){var E=m(t,n),S=m(e,n),k=w.get(S);if(k)r(t,n,k);else{var M=x?x(E,S,n+"",t,e,w):void 0,C=void 0===M;if(C){var N=c(S),O=!N&&d(S),P=!N&&!O&&g(S);M=S,N||O||P?c(E)?M=E:u(E)?M=a(E):O?(C=!1,M=i(S,!0)):P?(C=!1,M=o(S,!0)):M=[]:p(S)||l(S)?(M=E,l(E)?M=v(E):f(E)&&!h(E)||(M=s(S))):C=!1}C&&(w.set(S,M),b(M,S,y,x,w),w.delete(S)),r(t,n,M)}}},8245:(t,e,n)=>{var r=n(1570),i=n(52),o=n(5127),a=n(6602),s=n(7311),l=n(5639),c=n(8152),u=n(9002),d=n(2279);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return d(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[u];var h=-1;e=r(e,l(o));var f=a(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++h,value:t}}));return s(f,(function(t,e){return c(t,e,n)}))}},5271:(t,e,n)=>{var r=n(2038),i=n(5321);t.exports=function(t,e){return r(t,e,(function(e,n){return i(t,n)}))}},2038:(t,e,n)=>{var r=n(52),i=n(6992),o=n(6463);t.exports=function(t,e,n){for(var a=-1,s=e.length,l={};++a<s;){var c=e[a],u=r(t,c);n(u,c)&&i(l,o(c,t),u)}return l}},9343:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},4753:(t,e,n)=>{var r=n(52);t.exports=function(t){return function(e){return r(e,t)}}},4181:t=>{var e=Math.ceil,n=Math.max;t.exports=function(t,r,i,o){for(var a=-1,s=n(e((r-t)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=t,t+=i;return l}},3572:t=>{t.exports=function(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}},516:(t,e,n)=>{var r=n(9002),i=n(4295),o=n(1043);t.exports=function(t,e){return o(i(t,e,r),t+"")}},6992:(t,e,n)=>{var r=n(7305),i=n(6463),o=n(7059),a=n(4567),s=n(2535);t.exports=function(t,e,n,l){if(!a(t))return t;for(var c=-1,u=(e=i(e,t)).length,d=u-1,h=t;null!=h&&++c<u;){var f=s(e[c]),p=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return t;if(c!=d){var g=h[f];void 0===(p=l?l(g,f,h):void 0)&&(p=a(g)?g:o(e[c+1])?[]:{})}r(h,f,p),h=h[f]}return t}},5148:(t,e,n)=>{var r=n(6800),i=n(8925),o=n(9002),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},7311:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},4102:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},1582:(t,e,n)=>{var r=n(4635),i=n(1570),o=n(2279),a=n(184),s=r?r.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},6914:(t,e,n)=>{var r=n(8798),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},5639:t=>{t.exports=function(t){return function(e){return t(e)}}},564:(t,e,n)=>{var r=n(6669),i=n(3107),o=n(3259),a=n(3445),s=n(3739),l=n(6557);t.exports=function(t,e,n){var c=-1,u=i,d=t.length,h=!0,f=[],p=f;if(n)h=!1,u=o;else if(d>=200){var g=e?null:s(t);if(g)return l(g);h=!1,u=a,p=new r}else p=e?[]:f;t:for(;++c<d;){var m=t[c],v=e?e(m):m;if(m=n||0!==m?m:0,h&&v===v){for(var y=p.length;y--;)if(p[y]===v)continue t;e&&p.push(v),f.push(m)}else u(p,v,n)||(p!==f&&p.push(v),f.push(m))}return f}},7696:(t,e,n)=>{var r=n(1570);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},4696:t=>{t.exports=function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}},3445:t=>{t.exports=function(t,e){return t.has(e)}},9036:(t,e,n)=>{var r=n(9002);t.exports=function(t){return"function"==typeof t?t:r}},6463:(t,e,n)=>{var r=n(2279),i=n(5916),o=n(7044),a=n(4008);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},5871:(t,e,n)=>{var r=n(8246);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},8984:(t,e,n)=>{t=n.nmd(t);var r=n(4759),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}},3863:(t,e,n)=>{var r=n(5871);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},1991:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},2106:(t,e,n)=>{var r=n(4635),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},8463:(t,e,n)=>{var r=n(5871);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},656:(t,e,n)=>{var r=n(184);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t===t,a=r(t),s=void 0!==e,l=null===e,c=e===e,u=r(e);if(!l&&!u&&!a&&t>e||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&t<e||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},8152:(t,e,n)=>{var r=n(656);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},6321:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},3965:(t,e,n)=>{var r=n(7305),i=n(366);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var c=e[s],u=o?o(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),a?i(n,c,u):r(n,c,u)}return n}},1849:(t,e,n)=>{var r=n(3965),i=n(8194);t.exports=function(t,e){return r(t,i(t),e)}},3586:(t,e,n)=>{var r=n(3965),i=n(9653);t.exports=function(t,e){return r(t,i(t),e)}},4123:(t,e,n)=>{var r=n(4759)["__core-js_shared__"];t.exports=r},4681:(t,e,n)=>{var r=n(516),i=n(9042);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var l=n[r];l&&t(e,l,r,a)}return e}))}},3267:(t,e,n)=>{var r=n(7840);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5211:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}},7372:(t,e,n)=>{var r=n(5127),i=n(7840),o=n(5724);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var l=r(n,3);e=o(e),n=function(t){return l(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[l?e[c]:c]:void 0}}},9954:(t,e,n)=>{var r=n(4181),i=n(9042),o=n(314);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&i(e,n,a)&&(n=a=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),a=void 0===a?e<n?1:-1:o(a),r(e,n,a,t)}}},3739:(t,e,n)=>{var r=n(7887),i=n(9208),o=n(6557),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},8925:(t,e,n)=>{var r=n(220),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},9757:(t,e,n)=>{var r=n(6669),i=n(6010),o=n(3445);t.exports=function(t,e,n,a,s,l){var c=1&n,u=t.length,d=e.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(t),f=l.get(e);if(h&&f)return h==e&&f==t;var p=-1,g=!0,m=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++p<u;){var v=t[p],y=e[p];if(a)var b=c?a(y,v,p,e,t,l):a(v,y,p,t,e,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!i(e,(function(t,e){if(!o(m,e)&&(v===t||s(v,t,n,a,l)))return m.push(e)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){g=!1;break}}return l.delete(t),l.delete(e),g}},1416:(t,e,n)=>{var r=n(4635),i=n(8246),o=n(4206),a=n(9757),s=n(943),l=n(6557),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,d,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!d(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),t.size!=e.size&&!p)return!1;var g=h.get(t);if(g)return g==e;r|=2,h.set(t,e);var m=a(f(t),f(e),r,c,d,h);return h.delete(t),m;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},6195:(t,e,n)=>{var r=n(3660),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var l=1&n,c=r(t),u=c.length;if(u!=r(e).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in e:i.call(e,h)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var g=!0;s.set(t,e),s.set(e,t);for(var m=l;++d<u;){var v=t[h=c[d]],y=e[h];if(o)var b=l?o(y,v,h,e,t,s):o(v,y,h,t,e,s);if(!(void 0===b?v===y||a(v,y,n,o,s):b)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(t),s.delete(e),g}},5002:(t,e,n)=>{var r=n(2964),i=n(4295),o=n(1043);t.exports=function(t){return o(i(t,void 0,r),t+"")}},6658:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},3660:(t,e,n)=>{var r=n(4761),i=n(8194),o=n(5724);t.exports=function(t){return r(t,o,i)}},6387:(t,e,n)=>{var r=n(4761),i=n(9653),o=n(1235);t.exports=function(t){return r(t,o,i)}},7101:(t,e,n)=>{var r=n(4672);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},3334:(t,e,n)=>{var r=n(9794),i=n(5724);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},220:(t,e,n)=>{var r=n(7949),i=n(8166);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},2253:(t,e,n)=>{var r=n(2621)(Object.getPrototypeOf,Object);t.exports=r},1581:(t,e,n)=>{var r=n(4635),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(l){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},8194:(t,e,n)=>{var r=n(6860),i=n(1515),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},9653:(t,e,n)=>{var r=n(7518),i=n(2253),o=n(8194),a=n(1515),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},5531:(t,e,n)=>{var r=n(2434),i=n(1465),o=n(202),a=n(7887),s=n(4801),l=n(2022),c=n(9131),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",g=c(r),m=c(i),v=c(o),y=c(a),b=c(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=u||o&&x(o.resolve())!=d||a&&x(new a)!=h||s&&x(new s)!=f)&&(x=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return p;case m:return u;case v:return d;case y:return h;case b:return f}return e}),t.exports=x},8166:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},964:(t,e,n)=>{var r=n(6463),i=n(4578),o=n(2279),a=n(7059),s=n(5776),l=n(2535);t.exports=function(t,e,n){for(var c=-1,u=(e=r(e,t)).length,d=!1;++c<u;){var h=l(e[c]);if(!(d=null!=t&&n(t,h)))break;t=t[h]}return d||++c!=u?d:!!(u=null==t?0:t.length)&&s(u)&&a(h,u)&&(o(t)||i(t))}},1536:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},6958:(t,e,n)=>{var r=n(3616);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},1176:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},1787:(t,e,n)=>{var r=n(3616),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},231:(t,e,n)=>{var r=n(3616),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},7455:(t,e,n)=>{var r=n(3616);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},7203:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},997:(t,e,n)=>{var r=n(5871),i=n(3863),o=n(1991),a=n(2106),s=n(8463);t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return o(t);case"[object Symbol]":return a(t)}}},5539:(t,e,n)=>{var r=n(8230),i=n(2253),o=n(2161);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},7989:(t,e,n)=>{var r=n(4635),i=n(4578),o=n(2279),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},7059:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},9042:(t,e,n)=>{var r=n(4206),i=n(7840),o=n(7059),a=n(4567);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},5916:(t,e,n)=>{var r=n(2279),i=n(184),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},4672:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},3306:(t,e,n)=>{var r=n(4123),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},2161:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9794:(t,e,n)=>{var r=n(4567);t.exports=function(t){return t===t&&!r(t)}},5088:t=>{t.exports=function(){this.__data__=[],this.size=0}},150:(t,e,n)=>{var r=n(5099),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},7889:(t,e,n)=>{var r=n(5099);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},4349:(t,e,n)=>{var r=n(5099);t.exports=function(t){return r(this.__data__,t)>-1}},3077:(t,e,n)=>{var r=n(5099);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},738:(t,e,n)=>{var r=n(1111),i=n(5661),o=n(1465);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},708:(t,e,n)=>{var r=n(7101);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},6823:(t,e,n)=>{var r=n(7101);t.exports=function(t){return r(this,t).get(t)}},475:(t,e,n)=>{var r=n(7101);t.exports=function(t){return r(this,t).has(t)}},7859:(t,e,n)=>{var r=n(7101);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},943:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},4243:t=>{t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},3734:(t,e,n)=>{var r=n(53);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},3616:(t,e,n)=>{var r=n(220)(Object,"create");t.exports=r},5112:(t,e,n)=>{var r=n(2621)(Object.keys,Object);t.exports=r},7175:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},2479:(t,e,n)=>{t=n.nmd(t);var r=n(6658),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s},5336:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},2621:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},4295:(t,e,n)=>{var r=n(5507),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(l),r(t,this,c)}}},4759:(t,e,n)=>{var r=n(6658),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},9924:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}},2274:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2138:t=>{t.exports=function(t){return this.__data__.has(t)}},6557:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},1043:(t,e,n)=>{var r=n(5148),i=n(2929)(r);t.exports=i},2929:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},4710:(t,e,n)=>{var r=n(5661);t.exports=function(){this.__data__=new r,this.size=0}},8384:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7379:t=>{t.exports=function(t){return this.__data__.get(t)}},799:t=>{t.exports=function(t){return this.__data__.has(t)}},2791:(t,e,n)=>{var r=n(5661),i=n(1465),o=n(4467);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},7825:t=>{t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},1615:(t,e,n)=>{var r=n(7765),i=n(1536),o=n(1093);t.exports=function(t){return i(t)?o(t):r(t)}},7044:(t,e,n)=>{var r=n(3734),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},2535:(t,e,n)=>{var r=n(184);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},9131:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}},8798:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},1093:t=>{var e="\\ud800-\\udfff",n="["+e+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+e+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+l+")*"),d="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");t.exports=function(t){for(var e=h.lastIndex=0;h.test(t);)++e;return e}},6467:(t,e,n)=>{var r=n(9645);t.exports=function(t){return r(t,4)}},5117:(t,e,n)=>{var r=n(9645);t.exports=function(t){return r(t,5)}},6800:t=>{t.exports=function(t){return function(){return t}}},210:(t,e,n)=>{var r=n(516),i=n(4206),o=n(9042),a=n(1235),s=Object.prototype,l=s.hasOwnProperty,c=r((function(t,e){t=Object(t);var n=-1,r=e.length,c=r>2?e[2]:void 0;for(c&&o(e[0],e[1],c)&&(r=1);++n<r;)for(var u=e[n],d=a(u),h=-1,f=d.length;++h<f;){var p=d[h],g=t[p];(void 0===g||i(g,s[p])&&!l.call(t,p))&&(t[p]=u[p])}return t}));t.exports=c},8193:(t,e,n)=>{t.exports=n(6380)},4206:t=>{t.exports=function(t,e){return t===e||t!==t&&e!==e}},3386:(t,e,n)=>{var r=n(6860),i=n(900),o=n(5127),a=n(2279);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},5915:(t,e,n)=>{var r=n(7372)(n(5695));t.exports=r},5695:(t,e,n)=>{var r=n(6993),i=n(5127),o=n(5171),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(t,i(e,3),l)}},2964:(t,e,n)=>{var r=n(6810);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},6380:(t,e,n)=>{var r=n(8951),i=n(927),o=n(9036),a=n(2279);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},286:(t,e,n)=>{var r=n(3031),i=n(9036),o=n(1235);t.exports=function(t,e){return null==t?t:r(t,i(e),o)}},7946:(t,e,n)=>{var r=n(52);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},6094:(t,e,n)=>{var r=n(2320),i=n(964);t.exports=function(t,e){return null!=t&&i(t,e,r)}},5321:(t,e,n)=>{var r=n(4591),i=n(964);t.exports=function(t,e){return null!=t&&i(t,e,r)}},9002:t=>{t.exports=function(t){return t}},4578:(t,e,n)=>{var r=n(3012),i=n(9248),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},2279:t=>{var e=Array.isArray;t.exports=e},7840:(t,e,n)=>{var r=n(3008),i=n(5776);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},3815:(t,e,n)=>{var r=n(7840),i=n(9248);t.exports=function(t){return i(t)&&r(t)}},6794:(t,e,n)=>{t=n.nmd(t);var r=n(4759),i=n(3721),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},6791:(t,e,n)=>{var r=n(7462),i=n(5531),o=n(4578),a=n(2279),s=n(7840),l=n(6794),c=n(2161),u=n(1641),d=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||u(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(d.call(t,n))return!1;return!0}},3008:(t,e,n)=>{var r=n(2022),i=n(4567);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},5776:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},7744:(t,e,n)=>{var r=n(3530),i=n(5639),o=n(2479),a=o&&o.isMap,s=a?i(a):r;t.exports=s},4567:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},9248:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},5461:(t,e,n)=>{var r=n(2022),i=n(2253),o=n(9248),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},5738:(t,e,n)=>{var r=n(3152),i=n(5639),o=n(2479),a=o&&o.isSet,s=a?i(a):r;t.exports=s},6801:(t,e,n)=>{var r=n(2022),i=n(2279),o=n(9248);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},184:(t,e,n)=>{var r=n(2022),i=n(9248);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},1641:(t,e,n)=>{var r=n(8183),i=n(5639),o=n(2479),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},7842:t=>{t.exports=function(t){return void 0===t}},5724:(t,e,n)=>{var r=n(7405),i=n(7462),o=n(7840);t.exports=function(t){return o(t)?r(t):i(t)}},1235:(t,e,n)=>{var r=n(7405),i=n(8833),o=n(7840);t.exports=function(t){return o(t)?r(t,!0):i(t)}},7988:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},5876:(t,e,n)=>{var r=n(1570),i=n(5127),o=n(6602),a=n(2279);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},6638:(t,e,n)=>{var r=n(366),i=n(423),o=n(5127);t.exports=function(t,e){var n={};return e=o(e,3),i(t,(function(t,i,o){r(n,i,e(t,i,o))})),n}},2780:(t,e,n)=>{var r=n(2057),i=n(2033),o=n(9002);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},53:(t,e,n)=>{var r=n(4467);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},953:(t,e,n)=>{var r=n(7436),i=n(4681)((function(t,e,n){r(t,e,n)}));t.exports=i},7282:(t,e,n)=>{var r=n(2057),i=n(7646),o=n(9002);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},8583:(t,e,n)=>{var r=n(2057),i=n(5127),o=n(7646);t.exports=function(t,e){return t&&t.length?r(t,i(e,2),o):void 0}},9208:t=>{t.exports=function(){}},4378:(t,e,n)=>{var r=n(4759);t.exports=function(){return r.Date.now()}},5357:(t,e,n)=>{var r=n(5271),i=n(5002)((function(t,e){return null==t?{}:r(t,e)}));t.exports=i},8857:(t,e,n)=>{var r=n(9343),i=n(4753),o=n(5916),a=n(2535);t.exports=function(t){return o(t)?r(a(t)):i(t)}},9939:(t,e,n)=>{var r=n(9954)();t.exports=r},9874:(t,e,n)=>{var r=n(1516),i=n(927),o=n(5127),a=n(3572),s=n(2279);t.exports=function(t,e,n){var l=s(t)?r:a,c=arguments.length<3;return l(t,o(e,4),n,c,i)}},4273:(t,e,n)=>{var r=n(7462),i=n(5531),o=n(7840),a=n(6801),s=n(1615);t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=i(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},1261:(t,e,n)=>{var r=n(6810),i=n(8245),o=n(516),a=n(9042),s=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=s},1515:t=>{t.exports=function(){return[]}},3721:t=>{t.exports=function(){return!1}},314:(t,e,n)=>{var r=n(2588),i=1/0;t.exports=function(t){return t?(t=r(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},5171:(t,e,n)=>{var r=n(314);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},2588:(t,e,n)=>{var r=n(6914),i=n(4567),o=n(184),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},8774:(t,e,n)=>{var r=n(3965),i=n(1235);t.exports=function(t){return r(t,i(t))}},4008:(t,e,n)=>{var r=n(1582);t.exports=function(t){return null==t?"":r(t)}},9010:(t,e,n)=>{var r=n(8951),i=n(8230),o=n(423),a=n(5127),s=n(2253),l=n(2279),c=n(6794),u=n(3008),d=n(4567),h=n(1641);t.exports=function(t,e,n){var f=l(t),p=f||c(t)||h(t);if(e=a(e,4),null==n){var g=t&&t.constructor;n=p?f?new g:[]:d(t)&&u(g)?i(s(t)):{}}return(p?r:o)(t,(function(t,r,i){return e(n,t,r,i)})),n}},2177:(t,e,n)=>{var r=n(6810),i=n(516),o=n(564),a=n(3815),s=i((function(t){return o(r(t,1,a,!0))}));t.exports=s},2810:(t,e,n)=>{var r=n(4008),i=0;t.exports=function(t){var e=++i;return r(t)+e}},3134:(t,e,n)=>{var r=n(7696),i=n(5724);t.exports=function(t){return null==t?[]:r(t,i(t))}},5630:(t,e,n)=>{var r=n(7305),i=n(4696);t.exports=function(t,e){return i(t||[],e||[],r)}},5373:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var r=n(3806);function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,r.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!(0,r.isAnyArray)(n.output))throw new TypeError("output option must be an array if specified");e=n.output}else e=new Array(t.length);var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,r.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,i=void 0===n?0:n,o=e.toIndex,a=void 0===o?t.length:o;if(i<0||i>=t.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=i||a>t.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[i],l=i+1;l<a;l++)t[l]<s&&(s=t[l]);return s}(t),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,r.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,i=void 0===n?0:n,o=e.toIndex,a=void 0===o?t.length:o;if(i<0||i>=t.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=i||a>t.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[i],l=i+1;l<a;l++)t[l]>s&&(s=t[l]);return s}(t);if(i===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=n.min,s=void 0===a?n.autoMinMax?i:0:a,l=n.max,c=void 0===l?n.autoMinMax?o:1:l;if(s>=c)throw new RangeError("min option must be smaller than max option");for(var u=(c-s)/(o-i),d=0;d<t.length;d++)e[d]=(t[d]-i)*u+s;return e}},8691:(t,e,n)=>{"use strict";var r=n(3806),i=n(5373);const o=" ".repeat(2),a=" ".repeat(4);function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8,padMinus:s="auto"}=e;return`${t.constructor.name} {\n${o}[\n${a}${function(t,e,n,r,i){const{rows:o,columns:s}=t,c=Math.min(o,e),u=Math.min(s,n),d=[];if("auto"===i){i=!1;t:for(let e=0;e<c;e++)for(let n=0;n<u;n++)if(t.get(e,n)<0){i=!0;break t}}for(let a=0;a<c;a++){let e=[];for(let n=0;n<u;n++)e.push(l(t.get(a,n),r,i));d.push(`${e.join(" ")}`)}u!==s&&(d[d.length-1]+=` ... ${s-n} more columns`);c!==o&&d.push(`... ${o-e} more rows`);return d.join(`\n${a}`)}(t,n,r,i,s)}\n${o}]\n${o}rows: ${t.rows}\n${o}columns: ${t.columns}\n}`}function l(t,e,n){return(t>=0&&n?` ${c(t,e-1)}`:c(t,e)).padEnd(e)}function c(t,e){let n=t.toString();if(n.length<=e)return n;let r=t.toFixed(e);if(r.length>e&&(r=t.toFixed(Math.max(0,e-(r.length-e)))),r.length<=e&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let i=t.toExponential(e);return i.length>e&&(i=t.toExponential(Math.max(0,e-(i.length-e)))),i.slice(0)}function u(t,e,n){let r=n?t.rows:t.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function d(t,e,n){let r=n?t.columns:t.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function h(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function f(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function p(t,e){if(!r.isAnyArray(e))throw new TypeError("row indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.rows)throw new RangeError("row indices are out of range")}function g(t,e){if(!r.isAnyArray(e))throw new TypeError("column indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.columns)throw new RangeError("column indices are out of range")}function m(t,e,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(y("startRow",e),y("endRow",n),y("startColumn",r),y("endColumn",i),e>n||r>i||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function v(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];for(let r=0;r<t;r++)n.push(e);return n}function y(t,e){if("number"!==typeof e)throw new TypeError(`${t} must be a number`)}function b(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}class x{static from1DArray(t,e,n){if(t*e!==n.length)throw new RangeError("data length does not match given dimensions");let r=new E(t,e);for(let i=0;i<t;i++)for(let t=0;t<e;t++)r.set(i,t,n[i*e+t]);return r}static rowVector(t){let e=new E(1,t.length);for(let n=0;n<t.length;n++)e.set(0,n,t[n]);return e}static columnVector(t){let e=new E(t.length,1);for(let n=0;n<t.length;n++)e.set(n,0,t[n]);return e}static zeros(t,e){return new E(t,e)}static ones(t,e){return new E(t,e).fill(1)}static rand(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");const{random:r=Math.random}=n;let i=new E(t,e);for(let o=0;o<t;o++)for(let t=0;t<e;t++)i.set(o,t,r());return i}static randInt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");const{min:r=0,max:i=1e3,random:o=Math.random}=n;if(!Number.isInteger(r))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(r>=i)throw new RangeError("min must be smaller than max");let a=i-r,s=new E(t,e);for(let l=0;l<t;l++)for(let t=0;t<e;t++){let e=r+Math.round(o()*a);s.set(l,t,e)}return s}static eye(t,e,n){void 0===e&&(e=t),void 0===n&&(n=1);let r=Math.min(t,e),i=this.zeros(t,e);for(let o=0;o<r;o++)i.set(o,o,n);return i}static diag(t,e,n){let r=t.length;void 0===e&&(e=r),void 0===n&&(n=e);let i=Math.min(r,e,n),o=this.zeros(e,n);for(let a=0;a<i;a++)o.set(a,a,t[a]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new E(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.min(t.get(o,n),e.get(o,n)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new this(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.max(t.get(o,n),e.get(o,n)));return i}static checkMatrix(t){return x.isMatrix(t)?t:new E(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!==typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.call(this,e,n);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.push(this.get(e,n));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let t=0;t<this.rows;t++)if(0!==this.get(t,t))return!1;return!0}isEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;for(;t<this.rows&&r;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);t++}return r}isReducedEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;for(;t<this.rows&&r;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);for(let n=e+1;n<this.rows;n++)0!==this.get(t,n)&&(r=!1);t++}return r}echelonForm(){let t=this.clone(),e=0,n=0;for(;e<t.rows&&n<t.columns;){let r=e;for(let i=e;i<t.rows;i++)t.get(i,n)>t.get(r,n)&&(r=i);if(0===t.get(r,n))n++;else{t.swapRows(e,r);let i=t.get(e,n);for(let r=n;r<t.columns;r++)t.set(e,r,t.get(e,r)/i);for(let r=e+1;r<t.rows;r++){let i=t.get(r,n)/t.get(e,n);t.set(r,n,0);for(let o=n+1;o<t.columns;o++)t.set(r,o,t.get(r,o)-t.get(e,o)*i)}e++,n++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,n=t.rows,r=n-1;for(;r>=0;)if(0===t.maxRow(r))r--;else{let i=0,o=!1;for(;i<n&&!1===o;)1===t.get(r,i)?o=!0:i++;for(let n=0;n<r;n++){let o=t.get(n,i);for(let a=i;a<e;a++){let e=t.get(n,a)-o*t.get(r,a);t.set(n,a,e)}}r--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:n=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let r=new E(this.rows*e,this.columns*n);for(let i=0;i<e;i++)for(let t=0;t<n;t++)r.setSubMatrix(this,this.rows*i,this.columns*t);return r}fill(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,t);return this}neg(){return this.mulS(-1)}getRow(t){u(this,t);let e=[];for(let n=0;n<this.columns;n++)e.push(this.get(t,n));return e}getRowVector(t){return E.rowVector(this.getRow(t))}setRow(t,e){u(this,t),e=h(this,e);for(let n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}swapRows(t,e){u(this,t),u(this,e);for(let n=0;n<this.columns;n++){let r=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,r)}return this}getColumn(t){d(this,t);let e=[];for(let n=0;n<this.rows;n++)e.push(this.get(n,t));return e}getColumnVector(t){return E.columnVector(this.getColumn(t))}setColumn(t,e){d(this,t),e=f(this,e);for(let n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}swapColumns(t,e){d(this,t),d(this,e);for(let n=0;n<this.rows;n++){let r=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,r)}return this}addRowVector(t){t=h(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}subRowVector(t){t=h(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}mulRowVector(t){t=h(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}divRowVector(t){t=h(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}addColumnVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}subColumnVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}mulColumnVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}divColumnVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}mulRow(t,e){u(this,t);for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}mulColumn(t,e){d(this,t);for(let n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t[e]&&(t[e]=this.get(e,n));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t[n]&&(t[n]=this.get(e,n));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){b(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)>t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t[e]&&(t[e]=this.get(e,n));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t[n]&&(t[n]=this.get(e,n));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}default:throw new Error(`invalid option: ${t}`)}}minIndex(){b(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)<t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}maxRow(t){if(u(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}maxRowIndex(t){u(this,t),b(this);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r),n[1]=r);return n}minRow(t){if(u(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}minRowIndex(t){u(this,t),b(this);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r),n[1]=r);return n}maxColumn(t){if(d(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}maxColumnIndex(t){d(this,t),b(this);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t),n[0]=r);return n}minColumn(t){if(d(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}minColumnIndex(t){d(this,t),b(this);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t),n[0]=r);return n}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let n=0;n<t;n++)e.push(this.get(n,n));return e}norm(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius";switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${t}`)}}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}dot(t){x.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let n=0;for(let r=0;r<e.length;r++)n+=e[r]*t[r];return n}mmul(t){t=E.checkMatrix(t);let e=this.rows,n=this.columns,r=t.columns,i=new E(e,r),o=new Float64Array(n);for(let a=0;a<r;a++){for(let e=0;e<n;e++)o[e]=t.get(e,a);for(let t=0;t<e;t++){let e=0;for(let r=0;r<n;r++)e+=this.get(t,r)*o[r];i.set(t,a,e)}}return i}strassen2x2(t){t=E.checkMatrix(t);let e=new E(2,2);const n=this.get(0,0),r=t.get(0,0),i=this.get(0,1),o=t.get(0,1),a=this.get(1,0),s=t.get(1,0),l=this.get(1,1),c=t.get(1,1),u=(n+l)*(r+c),d=(a+l)*r,h=n*(o-c),f=l*(s-r),p=(n+i)*c,g=u+f-p+(i-l)*(s+c),m=h+p,v=d+f,y=u-d+h+(a-n)*(r+o);return e.set(0,0,g),e.set(0,1,m),e.set(1,0,v),e.set(1,1,y),e}strassen3x3(t){t=E.checkMatrix(t);let e=new E(3,3);const n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),l=this.get(2,0),c=this.get(2,1),u=this.get(2,2),d=t.get(0,0),h=t.get(0,1),f=t.get(0,2),p=t.get(1,0),g=t.get(1,1),m=t.get(1,2),v=t.get(2,0),y=t.get(2,1),b=t.get(2,2),x=(n-o)*(-h+g),w=(-n+o+a)*(d-h+g),S=(o+a)*(-d+h),k=n*d,M=(-n+l+c)*(d-f+m),C=(-n+l)*(f-m),N=(l+c)*(-d+f),O=(-i+c+u)*(g+v-y),P=(i-u)*(g-y),T=i*v,A=(c+u)*(-v+y),R=(-i+a+s)*(m+v-b),_=(i-s)*(m-b),L=(a+s)*(-v+b),I=k+T+r*p,D=(n+r+i-o-a-c-u)*g+w+S+k+O+T+A,j=k+M+N+(n+r+i-a-s-l-c)*m+T+R+L,z=x+a*(-d+h+p-g-m-v+b)+w+k+T+R+_,F=x+w+S+k+s*y,B=T+R+_+L+o*f,$=k+M+C+c*(-d+f+p-g-m-v+y)+O+P+T,V=O+P+T+A+l*h,H=k+M+C+N+u*b;return e.set(0,0,I),e.set(0,1,D),e.set(0,2,j),e.set(1,0,z),e.set(1,1,F),e.set(1,2,B),e.set(2,0,$),e.set(2,1,V),e.set(2,2,H),e}mmulStrassen(t){t=E.checkMatrix(t);let e=this.clone(),n=e.rows,r=e.columns,i=t.rows,o=t.columns;function a(t,e,n){let r=t.rows,i=t.columns;if(r===e&&i===n)return t;{let r=x.zeros(e,n);return r=r.setSubMatrix(t,0,0),r}}r!==i&&console.warn(`Multiplying ${n} x ${r} and ${i} x ${o} matrix: dimensions do not match.`);let s=Math.max(n,i),l=Math.max(r,o);return e=a(e,s,l),function t(e,n,r,i){if(r<=512||i<=512)return e.mmul(n);r%2===1&&i%2===1?(e=a(e,r+1,i+1),n=a(n,r+1,i+1)):r%2===1?(e=a(e,r+1,i),n=a(n,r+1,i)):i%2===1&&(e=a(e,r,i+1),n=a(n,r,i+1));let o=parseInt(e.rows/2,10),s=parseInt(e.columns/2,10),l=e.subMatrix(0,o-1,0,s-1),c=n.subMatrix(0,o-1,0,s-1),u=e.subMatrix(0,o-1,s,e.columns-1),d=n.subMatrix(0,o-1,s,n.columns-1),h=e.subMatrix(o,e.rows-1,0,s-1),f=n.subMatrix(o,n.rows-1,0,s-1),p=e.subMatrix(o,e.rows-1,s,e.columns-1),g=n.subMatrix(o,n.rows-1,s,n.columns-1),m=t(x.add(l,p),x.add(c,g),o,s),v=t(x.add(h,p),c,o,s),y=t(l,x.sub(d,g),o,s),b=t(p,x.sub(f,c),o,s),w=t(x.add(l,u),g,o,s),E=t(x.sub(h,l),x.add(c,d),o,s),S=t(x.sub(u,p),x.add(f,g),o,s),k=x.add(m,b);k.sub(w),k.add(S);let M=x.add(y,w),C=x.add(v,b),N=x.sub(m,v);N.add(y),N.add(E);let O=x.zeros(2*k.rows,2*k.columns);return O=O.setSubMatrix(k,0,0),O=O.setSubMatrix(M,k.rows,0),O=O.setSubMatrix(C,0,k.columns),O=O.setSubMatrix(N,k.rows,k.columns),O.subMatrix(0,r-1,0,i-1)}(e,t=a(t,s,l),s,l)}scaleRows(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new E(this.rows,this.columns);for(let o=0;o<this.rows;o++){const t=this.getRow(o);t.length>0&&i(t,{min:e,max:n,output:t}),r.setRow(o,t)}return r}scaleColumns(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new E(this.rows,this.columns);for(let o=0;o<this.columns;o++){const t=this.getColumn(o);t.length&&i(t,{min:e,max:n,output:t}),r.setColumn(o,t)}return r}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let n=0;n<t;n++){let t=this.get(e,n),r=this.get(e,this.columns-1-n);this.set(e,n,r),this.set(e,this.columns-1-n,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let n=0;n<t;n++){let t=this.get(n,e),r=this.get(this.rows-1-n,e);this.set(n,e,r),this.set(this.rows-1-n,e,t)}return this}kroneckerProduct(t){t=E.checkMatrix(t);let e=this.rows,n=this.columns,r=t.rows,i=t.columns,o=new E(e*r,n*i);for(let a=0;a<e;a++)for(let e=0;e<n;e++)for(let n=0;n<r;n++)for(let s=0;s<i;s++)o.set(r*a+n,i*e+s,this.get(a,e)*t.get(n,s));return o}kroneckerSum(t){if(t=E.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,n=t.rows,r=this.kroneckerProduct(E.eye(n,n)),i=E.eye(e,e).kroneckerProduct(t);return r.add(i)}transpose(){let t=new E(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}sortRows(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,n,r){m(this,t,e,n,r);let i=new E(e-t+1,r-n+1);for(let o=t;o<=e;o++)for(let e=n;e<=r;e++)i.set(o-t,e-n,this.get(o,e));return i}subMatrixRow(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let r=new E(t.length,n-e+1);for(let i=0;i<t.length;i++)for(let o=e;o<=n;o++){if(t[i]<0||t[i]>=this.rows)throw new RangeError(`Row index out of range: ${t[i]}`);r.set(i,o-e,this.get(t[i],o))}return r}subMatrixColumn(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let r=new E(n-e+1,t.length);for(let i=0;i<t.length;i++)for(let o=e;o<=n;o++){if(t[i]<0||t[i]>=this.columns)throw new RangeError(`Column index out of range: ${t[i]}`);r.set(o-e,i,this.get(o,t[i]))}return r}setSubMatrix(t,e,n){if((t=E.checkMatrix(t)).isEmpty())return this;m(this,e,e+t.rows-1,n,n+t.columns-1);for(let r=0;r<t.rows;r++)for(let i=0;i<t.columns;i++)this.set(e+r,n+i,t.get(r,i));return this}selection(t,e){p(this,t),g(this,e);let n=new E(t.length,e.length);for(let r=0;r<t.length;r++){let i=t[r];for(let t=0;t<e.length;t++){let o=e[t];n.set(r,t,this.get(i,o))}}return n}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let n=0;n<t;n++)e+=this.get(n,n);return e}clone(){return this.constructor.copy(this,new E(this.rows,this.columns))}static copy(t,e){for(const[n,r,i]of t.entries())e.set(n,r,i);return e}sum(t){switch(t){case"row":return function(t){let e=v(t.rows);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]+=t.get(n,r);return e}(this);case"column":return function(t){let e=v(t.columns);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]+=t.get(n,r);return e}(this);case void 0:return function(t){let e=0;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e+=t.get(n,r);return e}(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=v(t.rows,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]*=t.get(n,r);return e}(this);case"column":return function(t){let e=v(t.columns,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]*=t.get(n,r);return e}(this);case void 0:return function(t){let e=1;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e*=t.get(n,r);return e}(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{unbiased:n=!0,mean:i=this.mean(t)}=e;if("boolean"!==typeof n)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!r.isAnyArray(i))throw new TypeError("mean must be an array");return function(t,e,n){const r=t.rows,i=t.columns,o=[];for(let a=0;a<r;a++){let r=0,s=0,l=0;for(let e=0;e<i;e++)l=t.get(a,e)-n[a],r+=l,s+=l*l;e?o.push((s-r*r/i)/(i-1)):o.push((s-r*r/i)/i)}return o}(this,n,i);case"column":if(!r.isAnyArray(i))throw new TypeError("mean must be an array");return function(t,e,n){const r=t.rows,i=t.columns,o=[];for(let a=0;a<i;a++){let i=0,s=0,l=0;for(let e=0;e<r;e++)l=t.get(e,a)-n[a],i+=l,s+=l*l;e?o.push((s-i*i/r)/(r-1)):o.push((s-i*i/r)/r)}return o}(this,n,i);case void 0:if("number"!==typeof i)throw new TypeError("mean must be a number");return function(t,e,n){const r=t.rows,i=t.columns,o=r*i;let a=0,s=0,l=0;for(let c=0;c<r;c++)for(let e=0;e<i;e++)l=t.get(c,e)-n,a+=l,s+=l*l;return e?(s-a*a/o)/(o-1):(s-a*a/o)/o}(this,n,i);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"===typeof t&&(e=t,t=void 0);const n=this.variance(t,e);if(void 0===t)return Math.sqrt(n);for(let r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}center(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{center:n=this.mean(t)}=e;switch(t){case"row":if(!r.isAnyArray(n))throw new TypeError("center must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[n])}(this,n),this;case"column":if(!r.isAnyArray(n))throw new TypeError("center must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[r])}(this,n),this;case void 0:if("number"!==typeof n)throw new TypeError("center must be a number");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e)}(this,n),this;default:throw new Error(`invalid option: ${t}`)}}scale(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");let n=e.scale;switch(t){case"row":if(void 0===n)n=function(t){const e=[];for(let n=0;n<t.rows;n++){let r=0;for(let e=0;e<t.columns;e++)r+=t.get(n,e)**2/(t.columns-1);e.push(Math.sqrt(r))}return e}(this);else if(!r.isAnyArray(n))throw new TypeError("scale must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[n])}(this,n),this;case"column":if(void 0===n)n=function(t){const e=[];for(let n=0;n<t.columns;n++){let r=0;for(let e=0;e<t.rows;e++)r+=t.get(e,n)**2/(t.rows-1);e.push(Math.sqrt(r))}return e}(this);else if(!r.isAnyArray(n))throw new TypeError("scale must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[r])}(this,n),this;case void 0:if(void 0===n)n=function(t){const e=t.size-1;let n=0;for(let r=0;r<t.columns;r++)for(let i=0;i<t.rows;i++)n+=t.get(i,r)**2/e;return Math.sqrt(n)}(this);else if("number"!==typeof n)throw new TypeError("scale must be a number");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e)}(this,n),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return s(this,t)}[Symbol.iterator](){return this.entries()}*entries(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield[t,e,this.get(t,e)]}*values(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield this.get(t,e)}}function w(t,e){return t-e}x.prototype.klass="Matrix","undefined"!==typeof Symbol&&(x.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return s(this)}),x.random=x.rand,x.randomInt=x.randInt,x.diagonal=x.diag,x.prototype.diagonal=x.prototype.diag,x.identity=x.eye,x.prototype.negate=x.prototype.neg,x.prototype.tensorProduct=x.prototype.kroneckerProduct;class E extends x{data;#t(t,e){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let n=0;n<t;n++)this.data.push(new Float64Array(e));this.rows=t,this.columns=e}constructor(t,e){if(super(),E.isMatrix(t))this.#t(t.rows,t.columns),E.copy(t,this);else if(Number.isInteger(t)&&t>=0)this.#t(t,e);else{if(!r.isAnyArray(t))throw new TypeError("First argument must be a positive number or an array");{const n=t;if("number"!==typeof(e=(t=n.length)?n[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let r=0;r<t;r++){if(n[r].length!==e)throw new RangeError("Inconsistent array dimensions");if(!n[r].every((t=>"number"===typeof t)))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(n[r]))}this.rows=t,this.columns=e}}}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}removeRow(t){return u(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),u(this,t,!0),e=Float64Array.from(h(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){d(this,t);for(let e=0;e<this.rows;e++){const n=new Float64Array(this.columns-1);for(let r=0;r<t;r++)n[r]=this.data[e][r];for(let r=t+1;r<this.columns;r++)n[r-1]=this.data[e][r];this.data[e]=n}return this.columns-=1,this}addColumn(t,e){"undefined"===typeof e&&(e=t,t=this.columns),d(this,t,!0),e=f(this,e);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns+1);let i=0;for(;i<t;i++)r[i]=this.data[n][i];for(r[i++]=e[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}!function(t,e){t.prototype.add=function(t){return"number"===typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t.get(e,n));return this},t.add=function(t,n){return new e(t).add(n)},t.prototype.sub=function(t){return"number"===typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t.get(e,n));return this},t.sub=function(t,n){return new e(t).sub(n)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"===typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t.get(e,n));return this},t.mul=function(t,n){return new e(t).mul(n)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"===typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t.get(e,n));return this},t.div=function(t,n){return new e(t).div(n)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"===typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t.get(e,n));return this},t.mod=function(t,n){return new e(t).mod(n)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"===typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t.get(e,n));return this},t.and=function(t,n){return new e(t).and(n)},t.prototype.or=function(t){return"number"===typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t.get(e,n));return this},t.or=function(t,n){return new e(t).or(n)},t.prototype.xor=function(t){return"number"===typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t.get(e,n));return this},t.xor=function(t,n){return new e(t).xor(n)},t.prototype.leftShift=function(t){return"number"===typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t.get(e,n));return this},t.leftShift=function(t,n){return new e(t).leftShift(n)},t.prototype.signPropagatingRightShift=function(t){return"number"===typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t.get(e,n));return this},t.signPropagatingRightShift=function(t,n){return new e(t).signPropagatingRightShift(n)},t.prototype.rightShift=function(t){return"number"===typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t.get(e,n));return this},t.rightShift=function(t,n){return new e(t).rightShift(n)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){return new e(t).not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){return new e(t).abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){return new e(t).acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){return new e(t).acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){return new e(t).asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){return new e(t).asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){return new e(t).atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){return new e(t).atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){return new e(t).cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){return new e(t).ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){return new e(t).clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){return new e(t).cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){return new e(t).cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){return new e(t).exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){return new e(t).expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){return new e(t).floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){return new e(t).fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){return new e(t).log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){return new e(t).log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){return new e(t).log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){return new e(t).log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){return new e(t).round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){return new e(t).sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){return new e(t).sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){return new e(t).sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){return new e(t).sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){return new e(t).tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){return new e(t).tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){return new e(t).trunc()},t.pow=function(t,n){return new e(t).pow(n)},t.prototype.pow=function(t){return"number"===typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)**t);return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)**t.get(e,n));return this}}(x,E);class S extends x{#e;get size(){return this.#e.size}get rows(){return this.#e.rows}get columns(){return this.#e.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(t){return E.isMatrix(t)&&"SymmetricMatrix"===t.klassType}static zeros(t){return new this(t)}static ones(t){return new this(t).fill(1)}constructor(t){if(super(),E.isMatrix(t)){if(!t.isSymmetric())throw new TypeError("not symmetric data");this.#e=E.copy(t,new E(t.rows,t.rows))}else if(Number.isInteger(t)&&t>=0)this.#e=new E(t,t);else if(this.#e=new E(t),!this.isSymmetric())throw new TypeError("not symmetric data")}clone(){const t=new S(this.diagonalSize);for(const[e,n,r]of this.upperRightEntries())t.set(e,n,r);return t}toMatrix(){return new E(this)}get(t,e){return this.#e.get(t,e)}set(t,e,n){return this.#e.set(t,e,n),this.#e.set(e,t,n),this}removeCross(t){return this.#e.removeRow(t),this.#e.removeColumn(t),this}addCross(t,e){void 0===e&&(e=t,t=this.diagonalSize);const n=e.slice();return n.splice(t,1),this.#e.addRow(t,n),this.#e.addColumn(t,e),this}applyMask(t){if(t.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const e=[];for(const[n,r]of t.entries())r||e.push(n);e.reverse();for(const n of e)this.removeCross(n);return this}toCompact(){const{diagonalSize:t}=this,e=new Array(t*(t+1)/2);for(let n=0,r=0,i=0;i<e.length;i++)e[i]=this.get(r,n),++n>=t&&(n=++r);return e}static fromCompact(t){const e=t.length,n=(Math.sqrt(8*e+1)-1)/2;if(!Number.isInteger(n))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(t)}`);const r=new S(n);for(let i=0,o=0,a=0;a<e;a++)r.set(i,o,t[a]),++i>=n&&(i=++o);return r}*upperRightEntries(){for(let t=0,e=0;t<this.diagonalSize;void 0){const n=this.get(t,e);yield[t,e,n],++e>=this.diagonalSize&&(e=++t)}}*upperRightValues(){for(let t=0,e=0;t<this.diagonalSize;void 0){const n=this.get(t,e);yield n,++e>=this.diagonalSize&&(e=++t)}}}S.prototype.klassType="SymmetricMatrix";class k extends S{static isDistanceMatrix(t){return S.isSymmetricMatrix(t)&&"DistanceMatrix"===t.klassSubType}constructor(t){if(super(t),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(t,e,n){return t===e&&(n=0),super.set(t,e,n)}addCross(t,e){return void 0===e&&(e=t,t=this.diagonalSize),(e=e.slice())[t]=0,super.addCross(t,e)}toSymmetricMatrix(){return new S(this)}clone(){const t=new k(this.diagonalSize);for(const[e,n,r]of this.upperRightEntries())e!==n&&t.set(e,n,r);return t}toCompact(){const{diagonalSize:t}=this,e=new Array((t-1)*t/2);for(let n=1,r=0,i=0;i<e.length;i++)e[i]=this.get(r,n),++n>=t&&(n=1+ ++r);return e}static fromCompact(t){const e=t.length;if(0===e)return new this(0);const n=(Math.sqrt(8*e+1)+1)/2;if(!Number.isInteger(n))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(t)}`);const r=new this(n);for(let i=1,o=0,a=0;a<e;a++)r.set(i,o,t[a]),++i>=n&&(i=1+ ++o);return r}}k.prototype.klassSubType="DistanceMatrix";class M extends x{constructor(t,e,n){super(),this.matrix=t,this.rows=e,this.columns=n}}class C extends M{constructor(t,e,n){p(t,e),g(t,n),super(t,e.length,n.length),this.rowIndices=e,this.columnIndices=n}set(t,e,n){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],n),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class N extends x{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{rows:n=1}=e;if(t.length%n!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=n,this.columns=t.length/n,this.data=t}set(t,e,n){let r=this._calculateIndex(t,e);return this.data[r]=n,this}get(t,e){let n=this._calculateIndex(t,e);return this.data[n]}_calculateIndex(t,e){return t*this.columns+e}}class O extends x{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}}class P{constructor(t){let e,n,r,i,o,a,s,l,c,u=(t=O.checkMatrix(t)).clone(),d=u.rows,h=u.columns,f=new Float64Array(d),p=1;for(e=0;e<d;e++)f[e]=e;for(l=new Float64Array(d),n=0;n<h;n++){for(e=0;e<d;e++)l[e]=u.get(e,n);for(e=0;e<d;e++){for(c=Math.min(e,n),o=0,r=0;r<c;r++)o+=u.get(e,r)*l[r];l[e]-=o,u.set(e,n,l[e])}for(i=n,e=n+1;e<d;e++)Math.abs(l[e])>Math.abs(l[i])&&(i=e);if(i!==n){for(r=0;r<h;r++)a=u.get(i,r),u.set(i,r,u.get(n,r)),u.set(n,r,a);s=f[i],f[i]=f[n],f[n]=s,p=-p}if(n<d&&0!==u.get(n,n))for(e=n+1;e<d;e++)u.set(e,n,u.get(e,n)/u.get(n,n))}this.LU=u,this.pivotVector=f,this.pivotSign=p}isSingular(){let t=this.LU,e=t.columns;for(let n=0;n<e;n++)if(0===t.get(n,n))return!0;return!1}solve(t){t=E.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let n,r,i,o=t.columns,a=t.subMatrixRow(this.pivotVector,0,o-1),s=e.columns;for(i=0;i<s;i++)for(n=i+1;n<s;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*e.get(n,i));for(i=s-1;i>=0;i--){for(r=0;r<o;r++)a.set(i,r,a.get(i,r)/e.get(i,i));for(n=0;n<i;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*e.get(n,i))}return a}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,n=t.columns;for(let r=0;r<n;r++)e*=t.get(r,r);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,r=new E(e,n);for(let i=0;i<e;i++)for(let e=0;e<n;e++)i>e?r.set(i,e,t.get(i,e)):i===e?r.set(i,e,1):r.set(i,e,0);return r}get upperTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,r=new E(e,n);for(let i=0;i<e;i++)for(let e=0;e<n;e++)i<=e?r.set(i,e,t.get(i,e)):r.set(i,e,0);return r}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function T(t,e){let n=0;return Math.abs(t)>Math.abs(e)?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0!==e?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0}class A{constructor(t){let e,n,r,i,o=(t=O.checkMatrix(t)).clone(),a=t.rows,s=t.columns,l=new Float64Array(s);for(r=0;r<s;r++){let t=0;for(e=r;e<a;e++)t=T(t,o.get(e,r));if(0!==t){for(o.get(r,r)<0&&(t=-t),e=r;e<a;e++)o.set(e,r,o.get(e,r)/t);for(o.set(r,r,o.get(r,r)+1),n=r+1;n<s;n++){for(i=0,e=r;e<a;e++)i+=o.get(e,r)*o.get(e,n);for(i=-i/o.get(r,r),e=r;e<a;e++)o.set(e,n,o.get(e,n)+i*o.get(e,r))}}l[r]=-t}this.QR=o,this.Rdiag=l}solve(t){t=E.checkMatrix(t);let e=this.QR,n=e.rows;if(t.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let r,i,o,a,s=t.columns,l=t.clone(),c=e.columns;for(o=0;o<c;o++)for(i=0;i<s;i++){for(a=0,r=o;r<n;r++)a+=e.get(r,o)*l.get(r,i);for(a=-a/e.get(o,o),r=o;r<n;r++)l.set(r,i,l.get(r,i)+a*e.get(r,o))}for(o=c-1;o>=0;o--){for(i=0;i<s;i++)l.set(o,i,l.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<s;i++)l.set(r,i,l.get(r,i)-l.get(o,i)*e.get(r,o))}return l.subMatrix(0,c-1,0,s-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,n=this.QR,r=n.columns,i=new E(r,r);for(t=0;t<r;t++)for(e=0;e<r;e++)t<e?i.set(t,e,n.get(t,e)):t===e?i.set(t,e,this.Rdiag[t]):i.set(t,e,0);return i}get orthogonalMatrix(){let t,e,n,r,i=this.QR,o=i.rows,a=i.columns,s=new E(o,a);for(n=a-1;n>=0;n--){for(t=0;t<o;t++)s.set(t,n,0);for(s.set(n,n,1),e=n;e<a;e++)if(0!==i.get(n,n)){for(r=0,t=n;t<o;t++)r+=i.get(t,n)*s.get(t,e);for(r=-r/i.get(n,n),t=n;t<o;t++)s.set(t,e,s.get(t,e)+r*i.get(t,n))}}return s}}class R{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((t=O.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let n=t.rows,r=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:o=!0,autoTranspose:a=!1}=e;let s,l=Boolean(i),c=Boolean(o),u=!1;if(n<r)if(a){s=t.transpose(),n=s.rows,r=s.columns,u=!0;let e=l;l=c,c=e}else s=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else s=t.clone();let d=Math.min(n,r),h=Math.min(n+1,r),f=new Float64Array(h),p=new E(n,d),g=new E(r,r),m=new Float64Array(r),v=new Float64Array(n),y=new Float64Array(h);for(let E=0;E<h;E++)y[E]=E;let b=Math.min(n-1,r),x=Math.max(0,Math.min(r-2,n)),w=Math.max(b,x);for(let E=0;E<w;E++){if(E<b){f[E]=0;for(let t=E;t<n;t++)f[E]=T(f[E],s.get(t,E));if(0!==f[E]){s.get(E,E)<0&&(f[E]=-f[E]);for(let t=E;t<n;t++)s.set(t,E,s.get(t,E)/f[E]);s.set(E,E,s.get(E,E)+1)}f[E]=-f[E]}for(let t=E+1;t<r;t++){if(E<b&&0!==f[E]){let e=0;for(let r=E;r<n;r++)e+=s.get(r,E)*s.get(r,t);e=-e/s.get(E,E);for(let r=E;r<n;r++)s.set(r,t,s.get(r,t)+e*s.get(r,E))}m[t]=s.get(E,t)}if(l&&E<b)for(let t=E;t<n;t++)p.set(t,E,s.get(t,E));if(E<x){m[E]=0;for(let t=E+1;t<r;t++)m[E]=T(m[E],m[t]);if(0!==m[E]){m[E+1]<0&&(m[E]=0-m[E]);for(let t=E+1;t<r;t++)m[t]/=m[E];m[E+1]+=1}if(m[E]=-m[E],E+1<n&&0!==m[E]){for(let t=E+1;t<n;t++)v[t]=0;for(let t=E+1;t<n;t++)for(let e=E+1;e<r;e++)v[t]+=m[e]*s.get(t,e);for(let t=E+1;t<r;t++){let e=-m[t]/m[E+1];for(let r=E+1;r<n;r++)s.set(r,t,s.get(r,t)+e*v[r])}}if(c)for(let t=E+1;t<r;t++)g.set(t,E,m[t])}}let S=Math.min(r,n+1);if(b<r&&(f[b]=s.get(b,b)),n<S&&(f[S-1]=0),x+1<S&&(m[x]=s.get(x,S-1)),m[S-1]=0,l){for(let t=b;t<d;t++){for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}for(let t=b-1;t>=0;t--)if(0!==f[t]){for(let e=t+1;e<d;e++){let r=0;for(let i=t;i<n;i++)r+=p.get(i,t)*p.get(i,e);r=-r/p.get(t,t);for(let i=t;i<n;i++)p.set(i,e,p.get(i,e)+r*p.get(i,t))}for(let e=t;e<n;e++)p.set(e,t,-p.get(e,t));p.set(t,t,1+p.get(t,t));for(let e=0;e<t-1;e++)p.set(e,t,0)}else{for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}}if(c)for(let E=r-1;E>=0;E--){if(E<x&&0!==m[E])for(let t=E+1;t<r;t++){let e=0;for(let n=E+1;n<r;n++)e+=g.get(n,E)*g.get(n,t);e=-e/g.get(E+1,E);for(let n=E+1;n<r;n++)g.set(n,t,g.get(n,t)+e*g.get(n,E))}for(let t=0;t<r;t++)g.set(t,E,0);g.set(E,E,1)}let k=S-1,M=Number.EPSILON;for(;S>0;){let t,e;for(t=S-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+M*Math.abs(f[t]+Math.abs(f[t+1]));if(Math.abs(m[t])<=e||Number.isNaN(m[t])){m[t]=0;break}}if(t===S-2)e=4;else{let n;for(n=S-1;n>=t&&n!==t;n--){let e=(n!==S?Math.abs(m[n]):0)+(n!==t+1?Math.abs(m[n-1]):0);if(Math.abs(f[n])<=M*e){f[n]=0;break}}n===t?e=3:n===S-1?e=1:(e=2,t=n)}switch(t++,e){case 1:{let e=m[S-2];m[S-2]=0;for(let n=S-2;n>=t;n--){let i=T(f[n],e),o=f[n]/i,a=e/i;if(f[n]=i,n!==t&&(e=-a*m[n-1],m[n-1]=o*m[n-1]),c)for(let t=0;t<r;t++)i=o*g.get(t,n)+a*g.get(t,S-1),g.set(t,S-1,-a*g.get(t,n)+o*g.get(t,S-1)),g.set(t,n,i)}break}case 2:{let e=m[t-1];m[t-1]=0;for(let r=t;r<S;r++){let i=T(f[r],e),o=f[r]/i,a=e/i;if(f[r]=i,e=-a*m[r],m[r]=o*m[r],l)for(let e=0;e<n;e++)i=o*p.get(e,r)+a*p.get(e,t-1),p.set(e,t-1,-a*p.get(e,r)+o*p.get(e,t-1)),p.set(e,r,i)}break}case 3:{const e=Math.max(Math.abs(f[S-1]),Math.abs(f[S-2]),Math.abs(m[S-2]),Math.abs(f[t]),Math.abs(m[t])),i=f[S-1]/e,o=f[S-2]/e,a=m[S-2]/e,s=f[t]/e,u=m[t]/e,d=((o+i)*(o-i)+a*a)/2,h=i*a*(i*a);let v=0;0===d&&0===h||(v=d<0?0-Math.sqrt(d*d+h):Math.sqrt(d*d+h),v=h/(d+v));let y=(s+i)*(s-i)+v,b=s*u;for(let x=t;x<S-1;x++){let e=T(y,b);0===e&&(e=Number.MIN_VALUE);let i=y/e,o=b/e;if(x!==t&&(m[x-1]=e),y=i*f[x]+o*m[x],m[x]=i*m[x]-o*f[x],b=o*f[x+1],f[x+1]=i*f[x+1],c)for(let t=0;t<r;t++)e=i*g.get(t,x)+o*g.get(t,x+1),g.set(t,x+1,-o*g.get(t,x)+i*g.get(t,x+1)),g.set(t,x,e);if(e=T(y,b),0===e&&(e=Number.MIN_VALUE),i=y/e,o=b/e,f[x]=e,y=i*m[x]+o*f[x+1],f[x+1]=-o*m[x]+i*f[x+1],b=o*m[x+1],m[x+1]=i*m[x+1],l&&x<n-1)for(let t=0;t<n;t++)e=i*p.get(t,x)+o*p.get(t,x+1),p.set(t,x+1,-o*p.get(t,x)+i*p.get(t,x+1)),p.set(t,x,e)}m[S-2]=y;break}case 4:if(f[t]<=0&&(f[t]=f[t]<0?-f[t]:0,c))for(let e=0;e<=k;e++)g.set(e,t,-g.get(e,t));for(;t<k&&!(f[t]>=f[t+1]);){let e=f[t];if(f[t]=f[t+1],f[t+1]=e,c&&t<r-1)for(let n=0;n<r;n++)e=g.get(n,t+1),g.set(n,t+1,g.get(n,t)),g.set(n,t,e);if(l&&t<n-1)for(let r=0;r<n;r++)e=p.get(r,t+1),p.set(r,t+1,p.get(r,t)),p.set(r,t,e);t++}S--}}if(u){let t=g;g=p,p=t}this.m=n,this.n=r,this.s=f,this.U=p,this.V=g}solve(t){let e=t,n=this.threshold,r=this.s.length,i=E.zeros(r,r);for(let d=0;d<r;d++)Math.abs(this.s[d])<=n?i.set(d,d,0):i.set(d,d,1/this.s[d]);let o=this.U,a=this.rightSingularVectors,s=a.mmul(i),l=a.rows,c=o.rows,u=E.zeros(l,c);for(let d=0;d<l;d++)for(let t=0;t<c;t++){let e=0;for(let n=0;n<r;n++)e+=s.get(d,n)*o.get(t,n);u.set(d,t,e)}return u.mmul(e)}solveForDiagonal(t){return this.solve(E.diag(t))}inverse(){let t=this.V,e=this.threshold,n=t.rows,r=t.columns,i=new E(n,this.s.length);for(let c=0;c<n;c++)for(let n=0;n<r;n++)Math.abs(this.s[n])>e&&i.set(c,n,t.get(c,n)/this.s[n]);let o=this.U,a=o.rows,s=o.columns,l=new E(n,a);for(let c=0;c<n;c++)for(let t=0;t<a;t++){let e=0;for(let n=0;n<s;n++)e+=i.get(c,n)*o.get(t,n);l.set(c,t,e)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s;for(let r=0,i=n.length;r<i;r++)n[r]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return E.diag(this.s)}}function _(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=O.checkMatrix(t),e=O.checkMatrix(e),n?new R(t).solve(e):t.isSquare()?new P(t).solve(e):new A(t).solve(e)}function L(t,e){let n=[];for(let r=0;r<t;r++)r!==e&&n.push(r);return n}function I(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-9;if(t>(arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-9))return new Array(e.rows+1).fill(0);{let t=e.addRow(n,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<r&&t.set(e,0,0);return t.to1DArray()}}class D{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{assumeSymmetric:n=!1}=e;if(!(t=O.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let r,i,o=t.columns,a=new E(o,o),s=new Float64Array(o),l=new Float64Array(o),c=t,u=!1;if(u=!!n||t.isSymmetric(),u){for(r=0;r<o;r++)for(i=0;i<o;i++)a.set(r,i,c.get(r,i));!function(t,e,n,r){let i,o,a,s,l,c,u,d;for(l=0;l<t;l++)n[l]=r.get(t-1,l);for(s=t-1;s>0;s--){for(d=0,a=0,c=0;c<s;c++)d+=Math.abs(n[c]);if(0===d)for(e[s]=n[s-1],l=0;l<s;l++)n[l]=r.get(s-1,l),r.set(s,l,0),r.set(l,s,0);else{for(c=0;c<s;c++)n[c]/=d,a+=n[c]*n[c];for(i=n[s-1],o=Math.sqrt(a),i>0&&(o=-o),e[s]=d*o,a-=i*o,n[s-1]=i-o,l=0;l<s;l++)e[l]=0;for(l=0;l<s;l++){for(i=n[l],r.set(l,s,i),o=e[l]+r.get(l,l)*i,c=l+1;c<=s-1;c++)o+=r.get(c,l)*n[c],e[c]+=r.get(c,l)*i;e[l]=o}for(i=0,l=0;l<s;l++)e[l]/=a,i+=e[l]*n[l];for(u=i/(a+a),l=0;l<s;l++)e[l]-=u*n[l];for(l=0;l<s;l++){for(i=n[l],o=e[l],c=l;c<=s-1;c++)r.set(c,l,r.get(c,l)-(i*e[c]+o*n[c]));n[l]=r.get(s-1,l),r.set(s,l,0)}}n[s]=a}for(s=0;s<t-1;s++){if(r.set(t-1,s,r.get(s,s)),r.set(s,s,1),a=n[s+1],0!==a){for(c=0;c<=s;c++)n[c]=r.get(c,s+1)/a;for(l=0;l<=s;l++){for(o=0,c=0;c<=s;c++)o+=r.get(c,s+1)*r.get(c,l);for(c=0;c<=s;c++)r.set(c,l,r.get(c,l)-o*n[c])}}for(c=0;c<=s;c++)r.set(c,s+1,0)}for(l=0;l<t;l++)n[l]=r.get(t-1,l),r.set(t-1,l,0);r.set(t-1,t-1,1),e[0]=0}(o,l,s,a),function(t,e,n,r){let i,o,a,s,l,c,u,d,h,f,p,g,m,v,y,b;for(a=1;a<t;a++)e[a-1]=e[a];e[t-1]=0;let x=0,w=0,E=Number.EPSILON;for(c=0;c<t;c++){for(w=Math.max(w,Math.abs(n[c])+Math.abs(e[c])),u=c;u<t&&!(Math.abs(e[u])<=E*w);)u++;if(u>c)do{for(i=n[c],d=(n[c+1]-i)/(2*e[c]),h=T(d,1),d<0&&(h=-h),n[c]=e[c]/(d+h),n[c+1]=e[c]*(d+h),f=n[c+1],o=i-n[c],a=c+2;a<t;a++)n[a]-=o;for(x+=o,d=n[u],p=1,g=p,m=p,v=e[c+1],y=0,b=0,a=u-1;a>=c;a--)for(m=g,g=p,b=y,i=p*e[a],o=p*d,h=T(d,e[a]),e[a+1]=y*h,y=e[a]/h,p=d/h,d=p*n[a]-y*i,n[a+1]=o+y*(p*i+y*n[a]),l=0;l<t;l++)o=r.get(l,a+1),r.set(l,a+1,y*r.get(l,a)+p*o),r.set(l,a,p*r.get(l,a)-y*o);d=-y*b*m*v*e[c]/f,e[c]=y*d,n[c]=p*d}while(Math.abs(e[c])>E*w);n[c]=n[c]+x,e[c]=0}for(a=0;a<t-1;a++){for(l=a,d=n[a],s=a+1;s<t;s++)n[s]<d&&(l=s,d=n[s]);if(l!==a)for(n[l]=n[a],n[a]=d,s=0;s<t;s++)d=r.get(s,a),r.set(s,a,r.get(s,l)),r.set(s,l,d)}}(o,l,s,a)}else{let t=new E(o,o),e=new Float64Array(o);for(i=0;i<o;i++)for(r=0;r<o;r++)t.set(r,i,c.get(r,i));!function(t,e,n,r){let i,o,a,s,l,c,u,d=0,h=t-1;for(c=d+1;c<=h-1;c++){for(u=0,s=c;s<=h;s++)u+=Math.abs(e.get(s,c-1));if(0!==u){for(a=0,s=h;s>=c;s--)n[s]=e.get(s,c-1)/u,a+=n[s]*n[s];for(o=Math.sqrt(a),n[c]>0&&(o=-o),a-=n[c]*o,n[c]=n[c]-o,l=c;l<t;l++){for(i=0,s=h;s>=c;s--)i+=n[s]*e.get(s,l);for(i/=a,s=c;s<=h;s++)e.set(s,l,e.get(s,l)-i*n[s])}for(s=0;s<=h;s++){for(i=0,l=h;l>=c;l--)i+=n[l]*e.get(s,l);for(i/=a,l=c;l<=h;l++)e.set(s,l,e.get(s,l)-i*n[l])}n[c]=u*n[c],e.set(c,c-1,u*o)}}for(s=0;s<t;s++)for(l=0;l<t;l++)r.set(s,l,s===l?1:0);for(c=h-1;c>=d+1;c--)if(0!==e.get(c,c-1)){for(s=c+1;s<=h;s++)n[s]=e.get(s,c-1);for(l=c;l<=h;l++){for(o=0,s=c;s<=h;s++)o+=n[s]*r.get(s,l);for(o=o/n[c]/e.get(c,c-1),s=c;s<=h;s++)r.set(s,l,r.get(s,l)+o*n[s])}}}(o,t,e,a),function(t,e,n,r,i){let o,a,s,l,c,u,d,h,f,p,g,m,v,y,b,x=t-1,w=0,E=t-1,S=Number.EPSILON,k=0,M=0,C=0,N=0,O=0,P=0,T=0,A=0;for(o=0;o<t;o++)for((o<w||o>E)&&(n[o]=i.get(o,o),e[o]=0),a=Math.max(o-1,0);a<t;a++)M+=Math.abs(i.get(o,a));for(;x>=w;){for(l=x;l>w&&(P=Math.abs(i.get(l-1,l-1))+Math.abs(i.get(l,l)),0===P&&(P=M),!(Math.abs(i.get(l,l-1))<S*P));)l--;if(l===x)i.set(x,x,i.get(x,x)+k),n[x]=i.get(x,x),e[x]=0,x--,A=0;else if(l===x-1){if(d=i.get(x,x-1)*i.get(x-1,x),C=(i.get(x-1,x-1)-i.get(x,x))/2,N=C*C+d,T=Math.sqrt(Math.abs(N)),i.set(x,x,i.get(x,x)+k),i.set(x-1,x-1,i.get(x-1,x-1)+k),h=i.get(x,x),N>=0){for(T=C>=0?C+T:C-T,n[x-1]=h+T,n[x]=n[x-1],0!==T&&(n[x]=h-d/T),e[x-1]=0,e[x]=0,h=i.get(x,x-1),P=Math.abs(h)+Math.abs(T),C=h/P,N=T/P,O=Math.sqrt(C*C+N*N),C/=O,N/=O,a=x-1;a<t;a++)T=i.get(x-1,a),i.set(x-1,a,N*T+C*i.get(x,a)),i.set(x,a,N*i.get(x,a)-C*T);for(o=0;o<=x;o++)T=i.get(o,x-1),i.set(o,x-1,N*T+C*i.get(o,x)),i.set(o,x,N*i.get(o,x)-C*T);for(o=w;o<=E;o++)T=r.get(o,x-1),r.set(o,x-1,N*T+C*r.get(o,x)),r.set(o,x,N*r.get(o,x)-C*T)}else n[x-1]=h+C,n[x]=h+C,e[x-1]=T,e[x]=-T;x-=2,A=0}else{if(h=i.get(x,x),f=0,d=0,l<x&&(f=i.get(x-1,x-1),d=i.get(x,x-1)*i.get(x-1,x)),10===A){for(k+=h,o=w;o<=x;o++)i.set(o,o,i.get(o,o)-h);P=Math.abs(i.get(x,x-1))+Math.abs(i.get(x-1,x-2)),h=f=.75*P,d=-.4375*P*P}if(30===A&&(P=(f-h)/2,P=P*P+d,P>0)){for(P=Math.sqrt(P),f<h&&(P=-P),P=h-d/((f-h)/2+P),o=w;o<=x;o++)i.set(o,o,i.get(o,o)-P);k+=P,h=f=d=.964}for(A+=1,c=x-2;c>=l&&(T=i.get(c,c),O=h-T,P=f-T,C=(O*P-d)/i.get(c+1,c)+i.get(c,c+1),N=i.get(c+1,c+1)-T-O-P,O=i.get(c+2,c+1),P=Math.abs(C)+Math.abs(N)+Math.abs(O),C/=P,N/=P,O/=P,c!==l)&&!(Math.abs(i.get(c,c-1))*(Math.abs(N)+Math.abs(O))<S*(Math.abs(C)*(Math.abs(i.get(c-1,c-1))+Math.abs(T)+Math.abs(i.get(c+1,c+1)))));)c--;for(o=c+2;o<=x;o++)i.set(o,o-2,0),o>c+2&&i.set(o,o-3,0);for(s=c;s<=x-1&&(y=s!==x-1,s!==c&&(C=i.get(s,s-1),N=i.get(s+1,s-1),O=y?i.get(s+2,s-1):0,h=Math.abs(C)+Math.abs(N)+Math.abs(O),0!==h&&(C/=h,N/=h,O/=h)),0!==h);s++)if(P=Math.sqrt(C*C+N*N+O*O),C<0&&(P=-P),0!==P){for(s!==c?i.set(s,s-1,-P*h):l!==c&&i.set(s,s-1,-i.get(s,s-1)),C+=P,h=C/P,f=N/P,T=O/P,N/=C,O/=C,a=s;a<t;a++)C=i.get(s,a)+N*i.get(s+1,a),y&&(C+=O*i.get(s+2,a),i.set(s+2,a,i.get(s+2,a)-C*T)),i.set(s,a,i.get(s,a)-C*h),i.set(s+1,a,i.get(s+1,a)-C*f);for(o=0;o<=Math.min(x,s+3);o++)C=h*i.get(o,s)+f*i.get(o,s+1),y&&(C+=T*i.get(o,s+2),i.set(o,s+2,i.get(o,s+2)-C*O)),i.set(o,s,i.get(o,s)-C),i.set(o,s+1,i.get(o,s+1)-C*N);for(o=w;o<=E;o++)C=h*r.get(o,s)+f*r.get(o,s+1),y&&(C+=T*r.get(o,s+2),r.set(o,s+2,r.get(o,s+2)-C*O)),r.set(o,s,r.get(o,s)-C),r.set(o,s+1,r.get(o,s+1)-C*N)}}}if(0===M)return;for(x=t-1;x>=0;x--)if(C=n[x],N=e[x],0===N)for(l=x,i.set(x,x,1),o=x-1;o>=0;o--){for(d=i.get(o,o)-C,O=0,a=l;a<=x;a++)O+=i.get(o,a)*i.get(a,x);if(e[o]<0)T=d,P=O;else if(l=o,0===e[o]?i.set(o,x,0!==d?-O/d:-O/(S*M)):(h=i.get(o,o+1),f=i.get(o+1,o),N=(n[o]-C)*(n[o]-C)+e[o]*e[o],u=(h*P-T*O)/N,i.set(o,x,u),i.set(o+1,x,Math.abs(h)>Math.abs(T)?(-O-d*u)/h:(-P-f*u)/T)),u=Math.abs(i.get(o,x)),S*u*u>1)for(a=o;a<=x;a++)i.set(a,x,i.get(a,x)/u)}else if(N<0)for(l=x-1,Math.abs(i.get(x,x-1))>Math.abs(i.get(x-1,x))?(i.set(x-1,x-1,N/i.get(x,x-1)),i.set(x-1,x,-(i.get(x,x)-C)/i.get(x,x-1))):(b=j(0,-i.get(x-1,x),i.get(x-1,x-1)-C,N),i.set(x-1,x-1,b[0]),i.set(x-1,x,b[1])),i.set(x,x-1,0),i.set(x,x,1),o=x-2;o>=0;o--){for(p=0,g=0,a=l;a<=x;a++)p+=i.get(o,a)*i.get(a,x-1),g+=i.get(o,a)*i.get(a,x);if(d=i.get(o,o)-C,e[o]<0)T=d,O=p,P=g;else if(l=o,0===e[o]?(b=j(-p,-g,d,N),i.set(o,x-1,b[0]),i.set(o,x,b[1])):(h=i.get(o,o+1),f=i.get(o+1,o),m=(n[o]-C)*(n[o]-C)+e[o]*e[o]-N*N,v=2*(n[o]-C)*N,0===m&&0===v&&(m=S*M*(Math.abs(d)+Math.abs(N)+Math.abs(h)+Math.abs(f)+Math.abs(T))),b=j(h*O-T*p+N*g,h*P-T*g-N*p,m,v),i.set(o,x-1,b[0]),i.set(o,x,b[1]),Math.abs(h)>Math.abs(T)+Math.abs(N)?(i.set(o+1,x-1,(-p-d*i.get(o,x-1)+N*i.get(o,x))/h),i.set(o+1,x,(-g-d*i.get(o,x)-N*i.get(o,x-1))/h)):(b=j(-O-f*i.get(o,x-1),-P-f*i.get(o,x),T,N),i.set(o+1,x-1,b[0]),i.set(o+1,x,b[1]))),u=Math.max(Math.abs(i.get(o,x-1)),Math.abs(i.get(o,x))),S*u*u>1)for(a=o;a<=x;a++)i.set(a,x-1,i.get(a,x-1)/u),i.set(a,x,i.get(a,x)/u)}for(o=0;o<t;o++)if(o<w||o>E)for(a=o;a<t;a++)r.set(o,a,i.get(o,a));for(a=t-1;a>=w;a--)for(o=w;o<=E;o++){for(T=0,s=w;s<=Math.min(a,E);s++)T+=r.get(o,s)*i.get(s,a);r.set(o,a,T)}}(o,l,s,a,t)}this.n=o,this.e=l,this.d=s,this.V=a}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,n=this.n,r=this.e,i=this.d,o=new E(n,n);for(t=0;t<n;t++){for(e=0;e<n;e++)o.set(t,e,0);o.set(t,t,i[t]),r[t]>0?o.set(t,t+1,r[t]):r[t]<0&&o.set(t,t-1,r[t])}return o}}function j(t,e,n,r){let i,o;return Math.abs(n)>Math.abs(r)?(i=r/n,o=n+i*r,[(t+i*e)/o,(e-i*t)/o]):(i=n/r,o=r+i*n,[(i*t+e)/o,(i*e-t)/o])}class z{constructor(t){if(!(t=O.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");let e,n,r,i=t,o=i.rows,a=new E(o,o),s=!0;for(n=0;n<o;n++){let t=0;for(r=0;r<n;r++){let o=0;for(e=0;e<r;e++)o+=a.get(r,e)*a.get(n,e);o=(i.get(n,r)-o)/a.get(r,r),a.set(n,r,o),t+=o*o}for(t=i.get(n,n)-t,s&=t>0,a.set(n,n,Math.sqrt(Math.max(t,0))),r=n+1;r<o;r++)a.set(n,r,0)}this.L=a,this.positiveDefinite=Boolean(s)}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=O.checkMatrix(t);let e=this.L,n=e.rows;if(t.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let r,i,o,a=t.columns,s=t.clone();for(o=0;o<n;o++)for(i=0;i<a;i++){for(r=0;r<o;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*e.get(o,r));s.set(o,i,s.get(o,i)/e.get(o,o))}for(o=n-1;o>=0;o--)for(i=0;i<a;i++){for(r=o+1;r<n;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*e.get(r,o));s.set(o,i,s.get(o,i)/e.get(o,o))}return s}get lowerTriangularMatrix(){return this.L}}class F{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=O.checkMatrix(t);let{Y:n}=e;const{scaleScores:i=!1,maxIterations:o=1e3,terminationCriteria:a=1e-10}=e;let s;if(n){if(n=r.isAnyArray(n)&&"number"===typeof n[0]?E.columnVector(n):O.checkMatrix(n),n.rows!==t.rows)throw new Error("Y should have the same number of rows as X");s=n.getColumnVector(0)}else s=t.getColumnVector(0);let l,c,u,d,h=1;for(let r=0;r<o&&h>a;r++)u=t.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),u=u.div(u.norm()),l=t.mmul(u).div(u.transpose().mmul(u).get(0,0)),r>0&&(h=l.clone().sub(d).pow(2).sum()),d=l.clone(),n?(c=n.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),c=c.div(c.norm()),s=n.mmul(c).div(c.transpose().mmul(c).get(0,0))):s=l;if(n){let e=t.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0));e=e.div(e.norm());let r=t.clone().sub(l.clone().mmul(e.transpose())),i=s.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),o=n.clone().sub(l.clone().mulS(i.get(0,0)).mmul(c.transpose()));this.t=l,this.p=e.transpose(),this.w=u.transpose(),this.q=c,this.u=s,this.s=l.transpose().mmul(l),this.xResidual=r,this.yResidual=o,this.betas=i}else this.w=u.transpose(),this.s=l.transpose().mmul(l).sqrt(),this.t=i?l.clone().div(this.s.get(0,0)):l,this.xResidual=t.sub(l.mmul(u.transpose()))}}e.y3=x,e.jy=z,e.oN=z,e.Hc=k,e.cg=D,e.hj=D,e.LU=P,e.Tb=P,e.uq=E,e.Zm=class extends M{constructor(t,e){g(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,n){return this.matrix.set(t,this.columnIndices[e],n),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}},e.Dq=class extends M{constructor(t,e){d(t,e),super(t,t.rows,1),this.column=e}set(t,e,n){return this.matrix.set(t,this.column,n),this}get(t){return this.matrix.get(t,this.column)}},e.__=class extends M{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(t,this.columns-e-1,n),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}},e.q0=class extends M{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(this.rows-t-1,e,n),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}},e.lh=class extends M{constructor(t,e){p(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,n){return this.matrix.set(this.rowIndices[t],e,n),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}},e.pI=class extends M{constructor(t,e){u(t,e),super(t,1,t.columns),this.row=e}set(t,e,n){return this.matrix.set(this.row,e,n),this}get(t,e){return this.matrix.get(this.row,e)}},e.zC=C,e.zg=class extends M{constructor(t,e,n,r,i){m(t,e,n,r,i),super(t,n-e+1,i-r+1),this.startRow=e,this.startColumn=r}set(t,e,n){return this.matrix.set(this.startRow+t,this.startColumn+e,n),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}},e.g6=class extends M{constructor(t){super(t,t.columns,t.rows)}set(t,e,n){return this.matrix.set(e,t,n),this}get(t,e){return this.matrix.get(e,t)}},e.OL=F,e.ks=F,e.QR=A,e.jp=A,e.mk=R,e.W2=R,e.l=S,e.KY=N,e.dv=O,e.BR=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=new E(t);let i=!1;if("object"!==typeof e||E.isMatrix(e)||r.isAnyArray(e)?e=new E(e):(n=e,e=t,i=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0,scale:a=!0}=n;o&&(t.center("column"),i||e.center("column")),a&&(t.scale("column"),i||e.scale("column"));const s=t.standardDeviation("column",{unbiased:!0}),l=i?s:e.standardDeviation("column",{unbiased:!0}),c=t.transpose().mmul(e);for(let r=0;r<c.rows;r++)for(let e=0;e<c.columns;e++)c.set(r,e,c.get(r,e)*(1/(s[r]*l[e]))*(1/(t.rows-1)));return c},e.Wu=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=new E(t);let i=!1;if("object"!==typeof e||E.isMatrix(e)||r.isAnyArray(e)?e=new E(e):(n=e,e=t,i=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0}=n;o&&(t=t.center("column"),i||(e=e.center("column")));const a=t.transpose().mmul(e);for(let r=0;r<a.rows;r++)for(let e=0;e<a.columns;e++)a.set(r,e,a.get(r,e)*(1/(t.rows-1)));return a},e.a4=function t(e){if((e=E.checkMatrix(e)).isSquare()){if(0===e.columns)return 1;let n,r,i,o;if(2===e.columns)return n=e.get(0,0),r=e.get(0,1),i=e.get(1,0),o=e.get(1,1),n*o-r*i;if(3===e.columns){let o,a,s;return o=new C(e,[1,2],[1,2]),a=new C(e,[1,2],[0,2]),s=new C(e,[1,2],[0,1]),n=e.get(0,0),r=e.get(0,1),i=e.get(0,2),n*t(o)-r*t(a)+i*t(s)}return new P(e).determinant}throw Error("determinant can only be calculated for a square matrix")},e.DI=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=O.checkMatrix(t),e?new R(t).inverse():_(t,E.eye(t.rows))},e.Jo=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{thresholdValue:n=1e-9,thresholdError:r=1e-9}=e;let i=(t=E.checkMatrix(t)).rows,o=new E(i,i);for(let a=0;a<i;a++){let e=E.columnVector(t.getRow(a)),s=t.subMatrixRow(L(i,a)).transpose(),l=new R(s).solve(e),c=E.sub(e,s.mmul(l)).abs().max();o.setRow(a,I(c,l,a,n,r))}return o},e.Zi=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;if((t=E.checkMatrix(t)).isEmpty())return t.transpose();let n=new R(t,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal;for(let a=0;a<o.length;a++)Math.abs(o[a])>e?o[a]=1/o[a]:o[a]=0;return i.mmul(E.diag(o).mmul(r.transpose()))},e.kH=_,e.LV=function(t,e){if(r.isAnyArray(t))return t[0]&&r.isAnyArray(t[0])?new O(t):new N(t,e);throw new Error("the argument is not an array")}},6470:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,i){for(var o,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(s[c]=o[c]);if(e){a=e(o);for(var u=0;u<a.length;u++)r.call(o,a[u])&&(s[a[u]]=o[a[u]])}}return s}},8345:(t,e,n)=>{"use strict";var r=n(9950),i=n(3204);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=m.hasOwnProperty(e)?m[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!d.call(p,t)||!d.call(f,t)&&(h.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function I(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=L&&t[L]||t["@@iterator"])?t:null}var D,j=Object.assign;function z(t){if(void 0===D)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);D=e&&e[1]||""}return"\n"+D+t}var F=!1;function B(t,e){if(!t||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?z(t):""}function $(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=B(t.type,!1);case 11:return t=B(t.type.render,!1);case 1:return t=B(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case E:return"Portal";case M:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case O:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case A:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case R:e=t._payload,t=t._init;try{return V(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function G(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function U(t){t._valueTracker||(t._valueTracker=function(t){var e=G(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function q(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=G(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Y(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function X(t,e){var n=e.checked;return j({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function K(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Z(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function Q(t,e){Z(t,e);var n=W(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return j({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function ot(t,e){var n=W(e.value),r=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,dt=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function ht(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=gt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var vt=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Et=null,St=null,kt=null;function Mt(t){if(t=bi(t)){if("function"!==typeof Et)throw Error(o(280));var e=t.stateNode;e&&(e=wi(e),Et(t.stateNode,t.type,e))}}function Ct(t){St?kt?kt.push(t):kt=[t]:St=t}function Nt(){if(St){var t=St,e=kt;if(kt=St=null,Mt(t),e)for(t=0;t<e.length;t++)Mt(e[t])}}function Ot(t,e){return t(e)}function Pt(){}var Tt=!1;function At(t,e,n){if(Tt)return t(e,n);Tt=!0;try{return Ot(t,e,n)}finally{Tt=!1,(null!==St||null!==kt)&&(Pt(),Nt())}}function Rt(t,e){var n=t.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var _t=!1;if(u)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){_t=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch(ut){_t=!1}function It(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Dt=!1,jt=null,zt=!1,Ft=null,Bt={onError:function(t){Dt=!0,jt=t}};function $t(t,e,n,r,i,o,a,s,l){Dt=!1,jt=null,It.apply(Bt,arguments)}function Vt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(Vt(t)!==t)throw Error(o(188))}function Gt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Wt(i),t;if(a===r)return Wt(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?Ut(t):null}function Ut(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Ut(t);if(null!==e)return e;t=t.sibling}return null}var qt=i.unstable_scheduleCallback,Yt=i.unstable_cancelCallback,Xt=i.unstable_shouldYield,Kt=i.unstable_requestPaint,Zt=i.unstable_now,Qt=i.unstable_getCurrentPriorityLevel,Jt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2;var ce=64,ue=4194304;function de(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function he(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=de(s):0!==(o&=a)&&(r=de(o))}else 0!==(a=n&~i)?r=de(a):0!==o&&(r=de(o));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function xe(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var we,Ee,Se,ke,Me,Ce=!1,Ne=[],Oe=null,Pe=null,Te=null,Ae=new Map,Re=new Map,_e=[],Le="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ie(t,e){switch(t){case"focusin":case"focusout":Oe=null;break;case"dragenter":case"dragleave":Pe=null;break;case"mouseover":case"mouseout":Te=null;break;case"pointerover":case"pointerout":Ae.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Re.delete(e.pointerId)}}function De(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=bi(e))&&Ee(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function je(t){var e=yi(t.target);if(null!==e){var n=Vt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void Me(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ze(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=bi(n))&&Ee(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);xt=r,n.target.dispatchEvent(r),xt=null,e.shift()}return!0}function Fe(t,e,n){ze(t)&&n.delete(e)}function Be(){Ce=!1,null!==Oe&&ze(Oe)&&(Oe=null),null!==Pe&&ze(Pe)&&(Pe=null),null!==Te&&ze(Te)&&(Te=null),Ae.forEach(Fe),Re.forEach(Fe)}function $e(t,e){t.blockedOn===e&&(t.blockedOn=null,Ce||(Ce=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Be)))}function Ve(t){function e(e){return $e(e,t)}if(0<Ne.length){$e(Ne[0],t);for(var n=1;n<Ne.length;n++){var r=Ne[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Oe&&$e(Oe,t),null!==Pe&&$e(Pe,t),null!==Te&&$e(Te,t),Ae.forEach(e),Re.forEach(e),n=0;n<_e.length;n++)(r=_e[n]).blockedOn===t&&(r.blockedOn=null);for(;0<_e.length&&null===(n=_e[0]).blockedOn;)je(n),null===n.blockedOn&&_e.shift()}var He=x.ReactCurrentBatchConfig,We=!0;function Ge(t,e,n,r){var i=be,o=He.transition;He.transition=null;try{be=1,qe(t,e,n,r)}finally{be=i,He.transition=o}}function Ue(t,e,n,r){var i=be,o=He.transition;He.transition=null;try{be=4,qe(t,e,n,r)}finally{be=i,He.transition=o}}function qe(t,e,n,r){if(We){var i=Xe(t,e,n,r);if(null===i)Wr(t,e,r,Ye,n),Ie(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Oe=De(Oe,t,e,n,r,i),!0;case"dragenter":return Pe=De(Pe,t,e,n,r,i),!0;case"mouseover":return Te=De(Te,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ae.set(o,De(Ae.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Re.set(o,De(Re.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Ie(t,r),4&e&&-1<Le.indexOf(t)){for(;null!==i;){var o=bi(i);if(null!==o&&we(o),null===(o=Xe(t,e,n,r))&&Wr(t,e,r,Ye,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(t,e,r,null,n)}}var Ye=null;function Xe(t,e,n,r){if(Ye=null,null!==(t=yi(t=wt(r))))if(null===(e=Vt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ye=t,null}function Ke(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case Jt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Ze=null,Qe=null,Je=null;function tn(){if(Je)return Je;var t,e,n=Qe,r=n.length,i="value"in Ze?Ze.value:Ze.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Je=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=j({},cn,{view:0,detail:0}),hn=on(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(an=t.screenX-ln.screenX,sn=t.screenY-ln.screenY):sn=an=0,ln=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),pn=on(fn),gn=on(j({},fn,{dataTransfer:0})),mn=on(j({},dn,{relatedTarget:0})),vn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=on(yn),xn=on(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function Mn(){return kn}var Cn=j({},dn,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?En[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Nn=on(Cn),On=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),Tn=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(An),_n=[9,13,27,32],Ln=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Dn=u&&"TextEvent"in window&&!In,jn=u&&(!Ln||In&&8<In&&11>=In),zn=String.fromCharCode(32),Fn=!1;function Bn(t,e){switch(t){case"keyup":return-1!==_n.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function Gn(t,e,n,r){Ct(r),0<(e=Ur(e,"onChange")).length&&(n=new un("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Un=null,qn=null;function Yn(t){zr(t,0)}function Xn(t){if(q(xi(t)))return t}function Kn(t,e){if("change"===t)return e}var Zn=!1;if(u){var Qn;if(u){var Jn="oninput"in document;if(!Jn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Jn="function"===typeof tr.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function er(){Un&&(Un.detachEvent("onpropertychange",nr),qn=Un=null)}function nr(t){if("value"===t.propertyName&&Xn(qn)){var e=[];Gn(e,qn,t,wt(t)),At(Yn,e)}}function rr(t,e,n){"focusin"===t?(er(),qn=n,(Un=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xn(qn)}function or(t,e){if("click"===t)return Xn(e)}function ar(t,e){if("input"===t||"change"===t)return Xn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function lr(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ur(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function dr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?dr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function hr(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=hr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function xr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Ur(vr,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function wr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},kr={};function Mr(t){if(Sr[t])return Sr[t];if(!Er[t])return t;var e,n=Er[t];for(e in n)if(n.hasOwnProperty(e)&&e in kr)return Sr[t]=n[e];return t}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Cr=Mr("animationend"),Nr=Mr("animationiteration"),Or=Mr("animationstart"),Pr=Mr("transitionend"),Tr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,e){Tr.set(t,e),l(e,[t])}for(var _r=0;_r<Ar.length;_r++){var Lr=Ar[_r];Rr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Nr,"onAnimationIteration"),Rr(Or,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function jr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,l,c){if($t.apply(this,arguments),Dt){if(!Dt)throw Error(o(198));var u=jt;Dt=!1,jt=null,zt||(zt=!0,Ft=u)}}(r,e,void 0,t),t.currentTarget=null}function zr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;jr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;jr(i,s,c),o=l}}}if(zt)throw t=Ft,zt=!1,Ft=null,t}function Fr(t,e){var n=e[gi];void 0===n&&(n=e[gi]=new Set);var r=t+"__bubble";n.has(r)||(Hr(e,t,2,!1),n.add(r))}function Br(t,e,n){var r=0;e&&(r|=4),Hr(n,t,r,e)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Vr(t){if(!t[$r]){t[$r]=!0,a.forEach((function(e){"selectionchange"!==e&&(Dr.has(e)||Br(e,!1,t),Br(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[$r]||(e[$r]=!0,Br("selectionchange",!1,e))}}function Hr(t,e,n,r){switch(Ke(e)){case 1:var i=Ge;break;case 4:i=Ue;break;default:i=qe}n=i.bind(null,e,n,t),i=void 0,!_t||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}At((function(){var r=o,i=wt(n),a=[];t:{var s=Tr.get(t);if(void 0!==s){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Cr:case Nr:case Or:l=vn;break;case Pr:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!==(4&e),d=!u&&"scroll"===t,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Rt(p,h))&&u.push(Gr(p,g,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===xt||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Vt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=On,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:xi(l),f=null==c?s:xi(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)t:{for(h=c,p=0,f=u=l;f;f=qr(f))p++;for(f=0,g=h;g;g=qr(g))f++;for(;0<p-f;)u=qr(u),p--;for(;0<f-p;)h=qr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break t;u=qr(u),h=qr(h)}u=null}else u=null;null!==l&&Yr(a,s,l,u,!1),null!==c&&null!==d&&Yr(a,d,c,u,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Kn;else if(Wn(s))if(Zn)m=ar;else{m=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(t,r))?Gn(a,m,n,i):(v&&v(t,s,r),"focusout"===t&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&tt(s,"number",s.value)),v=r?xi(r):window,t){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(a,n,i)}var y;if(Ln)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Vn?Bn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=tn()):(Qe="value"in(Ze=i)?Ze.value:Ze.textContent,Vn=!0)),0<(v=Ur(r,b)).length&&(b=new xn(b,t,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=$n(n))&&(b.data=y))),(y=Dn?function(t,e){switch(t){case"compositionend":return $n(e);case"keypress":return 32!==e.which?null:(Fn=!0,zn);case"textInput":return(t=e.data)===zn&&Fn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!Ln&&Bn(t,e)?(t=tn(),Je=Qe=Ze=null,Vn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}zr(a,e)}))}function Gr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ur(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Rt(t,n))&&r.unshift(Gr(t,o,i)),null!=(o=Rt(t,e))&&r.push(Gr(t,o,i))),t=t.return}return r}function qr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Yr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Rt(n,o))&&a.unshift(Gr(n,l,s)):i||null!=(l=Rt(n,o))&&a.push(Gr(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Xr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Zr(t){return("string"===typeof t?t:""+t).replace(Xr,"\n").replace(Kr,"")}function Qr(t,e,n){if(e=Zr(e),Zr(t)!==e&&n)throw Error(o(425))}function Jr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Ve(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ve(e)}function ci(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ui(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(t){var e=t[hi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[hi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ui(t);null!==t;){if(n=t[hi])return n;t=ui(t)}return e}n=(t=n).parentNode}return null}function bi(t){return!(t=t[hi]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function xi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function wi(t){return t[fi]||null}var Ei=[],Si=-1;function ki(t){return{current:t}}function Mi(t){0>Si||(t.current=Ei[Si],Ei[Si]=null,Si--)}function Ci(t,e){Si++,Ei[Si]=t.current,t.current=e}var Ni={},Oi=ki(Ni),Pi=ki(!1),Ti=Ni;function Ai(t,e){var n=t.type.contextTypes;if(!n)return Ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(t){return null!==(t=t.childContextTypes)&&void 0!==t}function _i(){Mi(Pi),Mi(Oi)}function Li(t,e,n){if(Oi.current!==Ni)throw Error(o(168));Ci(Oi,e),Ci(Pi,n)}function Ii(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,H(t)||"Unknown",i));return j({},n,r)}function Di(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,Ti=Oi.current,Ci(Oi,t),Ci(Pi,Pi.current),!0}function ji(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Ii(t,e,Ti),r.__reactInternalMemoizedMergedChildContext=t,Mi(Pi),Mi(Oi),Ci(Oi,t)):Mi(Pi),Ci(Pi,n)}var zi=null,Fi=!1,Bi=!1;function $i(t){null===zi?zi=[t]:zi.push(t)}function Vi(){if(!Bi&&null!==zi){Bi=!0;var t=0,e=be;try{var n=zi;for(be=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}zi=null,Fi=!1}catch(i){throw null!==zi&&(zi=zi.slice(t+1)),qt(Jt,Vi),i}finally{be=e,Bi=!1}}return null}var Hi=[],Wi=0,Gi=null,Ui=0,qi=[],Yi=0,Xi=null,Ki=1,Zi="";function Qi(t,e){Hi[Wi++]=Ui,Hi[Wi++]=Gi,Gi=t,Ui=e}function Ji(t,e,n){qi[Yi++]=Ki,qi[Yi++]=Zi,qi[Yi++]=Xi,Xi=t;var r=Ki;t=Zi;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ki=1<<32-ae(e)+i|n<<i|r,Zi=o+t}else Ki=1<<o|n<<i|r,Zi=t}function to(t){null!==t.return&&(Qi(t,1),Ji(t,1,0))}function eo(t){for(;t===Gi;)Gi=Hi[--Wi],Hi[Wi]=null,Ui=Hi[--Wi],Hi[Wi]=null;for(;t===Xi;)Xi=qi[--Yi],qi[Yi]=null,Zi=qi[--Yi],qi[Yi]=null,Ki=qi[--Yi],qi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=ci(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Xi?{id:Ki,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function co(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(lo(t))throw Error(o(418));e=ci(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return uo(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(lo(t))throw fo(),Error(o(418));for(;e;)ao(t,e),e=ci(e.nextSibling)}if(uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=ci(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?ci(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=ro;t;)t=ci(t.nextSibling)}function po(){ro=no=null,io=!1}function go(t){null===oo?oo=[t]:oo.push(t)}var mo=x.ReactCurrentBatchConfig;function vo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function yo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bo(t){return(0,t._init)(t._payload)}function xo(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=_c(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=jc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){var o=n.type;return o===S?d(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&bo(o)===e.type)?((r=i(e,n.props)).ref=vo(t,e,n),r.return=t,r):((r=Lc(n.type,n.key,n.props,null,t.mode,r)).ref=vo(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=zc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function d(t,e,n,r,o){return null===e||7!==e.tag?((e=Ic(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=jc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Lc(e.type,e.key,e.props,null,t.mode,n)).ref=vo(t,null,e),n.return=t,n;case E:return(e=zc(e,t.mode,n)).return=t,e;case R:return h(t,(0,e._init)(e._payload),n)}if(et(e)||I(e))return(e=Ic(e,t.mode,n,null)).return=t,e;yo(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(t,e,n,r):null;case E:return n.key===i?u(t,e,n,r):null;case R:return f(t,e,(i=n._init)(n._payload),r)}if(et(n)||I(n))return null!==i?null:d(t,e,n,r,null);yo(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case E:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case R:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||I(r))return d(e,t=t.get(n)||null,r,i,null);yo(e,r)}return null}function g(i,o,s,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],l);if(null===v){null===d&&(d=m);break}t&&d&&null===v.alternate&&e(i,d),o=a(v,o,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),io&&Qi(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(o=a(d,o,g),null===u?c=d:u.sibling=d,u=d);return io&&Qi(i,g),c}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(t&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m);return t&&d.forEach((function(t){return e(i,t)})),io&&Qi(i,g),c}function m(i,s,l,c){var u=I(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}t&&g&&null===b.alternate&&e(i,g),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),io&&Qi(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return io&&Qi(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return t&&g.forEach((function(t){return e(i,t)})),io&&Qi(i,m),u}return function t(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:t:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vo(r,u,a),o.return=r,r=o;break t}n(r,u);break}e(r,u),u=u.sibling}a.type===S?((o=Ic(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case E:t:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=zc(a,r.mode,l)).return=r,r=o}return s(r);case R:return t(r,o,(u=a._init)(a._payload),l)}if(et(a))return g(r,o,a,l);if(I(a))return m(r,o,a,l);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=jc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var wo=xo(!0),Eo=xo(!1),So=ki(null),ko=null,Mo=null,Co=null;function No(){Co=Mo=ko=null}function Oo(t){var e=So.current;Mi(So),t._currentValue=e}function Po(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function To(t,e){ko=t,Co=Mo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(bs=!0),t.firstContext=null)}function Ao(t){var e=t._currentValue;if(Co!==t)if(t={context:t,memoizedValue:e,next:null},null===Mo){if(null===ko)throw Error(o(308));Mo=t,ko.dependencies={lanes:0,firstContext:t}}else Mo=Mo.next=t;return e}var Ro=null;function _o(t){null===Ro?Ro=[t]:Ro.push(t)}function Lo(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,_o(e)):(n.next=i.next,i.next=n),e.interleaved=n,Io(t,r)}function Io(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Do=!1;function jo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bo(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Io(t,n)}return null===(i=r.interleaved)?(e.next=e,_o(r)):(e.next=i.next,i.next=e),r.interleaved=e,Io(t,n)}function $o(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}function Vo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ho(t,e,n,r){var i=t.updateQueue;Do=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=t.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,g=s;switch(h=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break t}d=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break t;d=j({},d,h);break t;case 2:Do=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Dl|=a,t.lanes=a,t.memoizedState=d}}function Wo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Go={},Uo=ki(Go),qo=ki(Go),Yo=ki(Go);function Xo(t){if(t===Go)throw Error(o(174));return t}function Ko(t,e){switch(Ci(Yo,e),Ci(qo,t),Ci(Uo,Go),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Mi(Uo),Ci(Uo,e)}function Zo(){Mi(Uo),Mi(qo),Mi(Yo)}function Qo(t){Xo(Yo.current);var e=Xo(Uo.current),n=lt(e,t.type);e!==n&&(Ci(qo,t),Ci(Uo,n))}function Jo(t){qo.current===t&&(Mi(Uo),Mi(qo))}var ta=ki(0);function ea(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var na=[];function ra(){for(var t=0;t<na.length;t++)na[t]._workInProgressVersionPrimary=null;na.length=0}var ia=x.ReactCurrentDispatcher,oa=x.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ga(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function ma(t,e,n,r,i,a){if(aa=a,sa=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ia.current=null===t||null===t.memoizedState?Ja:ts,t=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,e.updateQueue=null,ia.current=es,t=n(r,i)}while(da)}if(ia.current=Qa,e=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,e)throw Error(o(300));return t}function va(){var t=0!==ha;return ha=0,t}function ya(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=t:ca=ca.next=t,ca}function ba(){if(null===la){var t=sa.alternate;t=null!==t?t.memoizedState:null}else t=la.next;var e=null===ca?sa.memoizedState:ca.next;if(null!==e)ca=e,la=t;else{if(null===t)throw Error(o(310));t={memoizedState:(la=t).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=t:ca=ca.next=t}return ca}function xa(t,e){return"function"===typeof e?e(t):e}function wa(t){var e=ba(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,e.memoizedState)||(bs=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,sa.lanes|=a,Dl|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ea(t){var e=ba(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(bs=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function ka(t,e){var n=sa,r=ba(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Da(Na.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Aa(9,Ca.bind(null,n,r,i,e),void 0,null),null===Pl)throw Error(o(349));0!==(30&aa)||Ma(n,e,i)}return i}function Ma(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=sa.updateQueue)?(e={lastEffect:null,stores:null},sa.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Ca(t,e,n,r){e.value=n,e.getSnapshot=r,Oa(e)&&Pa(t)}function Na(t,e,n){return n((function(){Oa(e)&&Pa(t)}))}function Oa(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(r){return!0}}function Pa(t){var e=Io(t,1);null!==e&&nc(e,t,1,-1)}function Ta(t){var e=ya();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:t},e.queue=t,t=t.dispatch=Ya.bind(null,sa,t),[e.memoizedState,t]}function Aa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=sa.updateQueue)?(e={lastEffect:null,stores:null},sa.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Ra(){return ba().memoizedState}function _a(t,e,n,r){var i=ya();sa.flags|=t,i.memoizedState=Aa(1|e,n,void 0,void 0===r?null:r)}function La(t,e,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=Aa(e,n,o,r))}sa.flags|=t,i.memoizedState=Aa(1|e,n,o,r)}function Ia(t,e){return _a(8390656,8,t,e)}function Da(t,e){return La(2048,8,t,e)}function ja(t,e){return La(4,2,t,e)}function za(t,e){return La(4,4,t,e)}function Fa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ba(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,La(4,4,Fa.bind(null,e,t),n)}function $a(){}function Va(t,e){var n=ba();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ga(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ha(t,e){var n=ba();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ga(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Wa(t,e,n){return 0===(21&aa)?(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=n):(sr(n,e)||(n=ge(),sa.lanes|=n,Dl|=n,t.baseState=!0),e)}function Ga(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var r=oa.transition;oa.transition={};try{t(!1),e()}finally{be=n,oa.transition=r}}function Ua(){return ba().memoizedState}function qa(t,e,n){var r=ec(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(t))Ka(e,n);else if(null!==(n=Lo(t,e,n,r))){nc(n,t,r,tc()),Za(n,e,r)}}function Ya(t,e,n){var r=ec(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(t))Ka(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=e.interleaved;return null===l?(i.next=i,_o(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(c){}null!==(n=Lo(t,e,i,r))&&(nc(n,t,r,i=tc()),Za(n,e,r))}}function Xa(t){var e=t.alternate;return t===sa||null!==e&&e===sa}function Ka(t,e){da=ua=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Za(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}var Qa={readContext:Ao,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Ja={readContext:Ao,useCallback:function(t,e){return ya().memoizedState=[t,void 0===e?null:e],t},useContext:Ao,useEffect:Ia,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,_a(4194308,4,Fa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _a(4194308,4,t,e)},useInsertionEffect:function(t,e){return _a(4,2,t,e)},useMemo:function(t,e){var n=ya();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ya();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qa.bind(null,sa,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},ya().memoizedState=t},useState:Ta,useDebugValue:$a,useDeferredValue:function(t){return ya().memoizedState=t},useTransition:function(){var t=Ta(!1),e=t[0];return t=Ga.bind(null,t[1]),ya().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=sa,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Pl)throw Error(o(349));0!==(30&aa)||Ma(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Ia(Na.bind(null,r,a,t),[t]),r.flags|=2048,Aa(9,Ca.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ya(),e=Pl.identifierPrefix;if(io){var n=Zi;e=":"+e+"R"+(n=(Ki&~(1<<32-ae(Ki)-1)).toString(32)+n),0<(n=ha++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=fa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ts={readContext:Ao,useCallback:Va,useContext:Ao,useEffect:Da,useImperativeHandle:Ba,useInsertionEffect:ja,useLayoutEffect:za,useMemo:Ha,useReducer:wa,useRef:Ra,useState:function(){return wa(xa)},useDebugValue:$a,useDeferredValue:function(t){return Wa(ba(),la.memoizedState,t)},useTransition:function(){return[wa(xa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Ua,unstable_isNewReconciler:!1},es={readContext:Ao,useCallback:Va,useContext:Ao,useEffect:Da,useImperativeHandle:Ba,useInsertionEffect:ja,useLayoutEffect:za,useMemo:Ha,useReducer:Ea,useRef:Ra,useState:function(){return Ea(xa)},useDebugValue:$a,useDeferredValue:function(t){var e=ba();return null===la?e.memoizedState=t:Wa(e,la.memoizedState,t)},useTransition:function(){return[Ea(xa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Ua,unstable_isNewReconciler:!1};function ns(t,e){if(t&&t.defaultProps){for(var n in e=j({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function rs(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:j({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var is={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),o=Fo(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Bo(t,o,i))&&(nc(e,t,i,r),$o(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),o=Fo(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Bo(t,o,i))&&(nc(e,t,i,r),$o(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tc(),r=ec(t),i=Fo(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Bo(t,i,r))&&(nc(e,t,r,n),$o(e,t,r))}};function os(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(t,e,n){var r=!1,i=Ni,o=e.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(i=Ri(e)?Ti:Oi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Ai(t,i):Ni),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=is,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ss(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&is.enqueueReplaceState(e,e.state,null)}function ls(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},jo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=Ao(o):(o=Ri(e)?Ti:Oi.current,i.context=Ai(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(rs(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&is.enqueueReplaceState(i,i.state,null),Ho(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function cs(t,e){try{var n="",r=e;do{n+=$(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function us(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ds(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(t,e,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),ds(0,e)},n}function ps(t,e,n){(n=Fo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,e),"function"!==typeof r&&(null===Ul?Ul=new Set([this]):Ul.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function gs(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new hs;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Mc.bind(null,t,e,n),e.then(t,t))}function ms(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function vs(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Fo(-1,1)).tag=2,Bo(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var ys=x.ReactCurrentOwner,bs=!1;function xs(t,e,n,r){e.child=null===t?Eo(e,null,n,r):wo(e,t.child,n,r)}function ws(t,e,n,r,i){n=n.render;var o=e.ref;return To(e,i),r=ma(t,e,n,r,o,i),n=va(),null===t||bs?(io&&n&&to(e),e.flags|=1,xs(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function Es(t,e,n,r,i){if(null===t){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Lc(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ss(t,e,o,r,i))}if(o=t.child,0===(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&t.ref===e.ref)return Ws(t,e,i)}return e.flags|=1,(t=_c(o,r)).ref=e.ref,t.return=e,e.child=t}function Ss(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(lr(o,r)&&t.ref===e.ref){if(bs=!1,e.pendingProps=r=o,0===(t.lanes&i))return e.lanes=t.lanes,Ws(t,e,i);0!==(131072&t.flags)&&(bs=!0)}}return Cs(t,e,n,r,i)}function ks(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(_l,Rl),Rl|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ci(_l,Rl),Rl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(_l,Rl),Rl|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ci(_l,Rl),Rl|=r;return xs(t,e,i,n),e.child}function Ms(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cs(t,e,n,r,i){var o=Ri(n)?Ti:Oi.current;return o=Ai(e,o),To(e,i),n=ma(t,e,n,r,o,i),r=va(),null===t||bs?(io&&r&&to(e),e.flags|=1,xs(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function Ns(t,e,n,r,i){if(Ri(n)){var o=!0;Di(e)}else o=!1;if(To(e,i),null===e.stateNode)Hs(t,e),as(e,n,r),ls(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ao(c):c=Ai(e,c=Ri(n)?Ti:Oi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(e,a,r,c),Do=!1;var h=e.memoizedState;a.state=h,Ho(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Pi.current||Do?("function"===typeof u&&(rs(e,n,u,r),l=e.memoizedState),(s=Do||os(e,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,zo(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:ns(e.type,s),a.props=c,d=e.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Ai(e,l=Ri(n)?Ti:Oi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(e,a,r,l),Do=!1,h=e.memoizedState,a.state=h,Ho(e,r,a,i);var p=e.memoizedState;s!==d||h!==p||Pi.current||Do?("function"===typeof f&&(rs(e,n,f,r),p=e.memoizedState),(c=Do||os(e,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Os(t,e,n,r,o,i)}function Os(t,e,n,r,i,o){Ms(t,e);var a=0!==(128&e.flags);if(!r&&!a)return i&&ji(e,n,!1),Ws(t,e,o);r=e.stateNode,ys.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=wo(e,t.child,null,o),e.child=wo(e,null,s,o)):xs(t,e,s,o),e.memoizedState=r.state,i&&ji(e,n,!0),e.child}function Ps(t){var e=t.stateNode;e.pendingContext?Li(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Li(0,e.context,!1),Ko(t,e.containerInfo)}function Ts(t,e,n,r,i){return po(),go(i),e.flags|=256,xs(t,e,n,r),e.child}var As,Rs,_s,Ls,Is={dehydrated:null,treeContext:null,retryLane:0};function Ds(t){return{baseLanes:t,cachePool:null,transitions:null}}function js(t,e,n){var r,i=e.pendingProps,a=ta.current,s=!1,l=0!==(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&0!==(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Ci(ta,1&a),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,s?(i=e.mode,s=e.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Dc(l,i,0,null),t=Ic(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ds(n),e.memoizedState=Is,t):zs(e,l));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,Fs(t,e,s,r=us(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(a=Ic(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!==(1&e.mode)&&wo(e,t.child,null,s),e.child.memoizedState=Ds(s),e.memoizedState=Is,a);if(0===(1&e.mode))return Fs(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fs(t,e,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&t.childLanes),bs||l){if(null!==(r=Pl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Io(t,i),nc(r,t,i,-1))}return gc(),Fs(t,e,s,r=us(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Nc.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=ci(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(qi[Yi++]=Ki,qi[Yi++]=Zi,qi[Yi++]=Xi,Ki=t.id,Zi=t.overflow,Xi=e),e=zs(e,r.children),e.flags|=4096,e)}(t,e,l,i,r,a,n);if(s){s=i.fallback,l=e.mode,r=(a=t.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null):(i=_c(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=_c(r,s):(s=Ic(s,l,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=null===(l=t.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Is,i}return t=(s=t.child).sibling,i=_c(s,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function zs(t,e){return(e=Dc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Fs(t,e,n,r){return null!==r&&go(r),wo(e,t.child,null,n),(t=zs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Bs(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Po(t.return,e,n)}function $s(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xs(t,e,r.children,n),0!==(2&(r=ta.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Bs(t,n,e);else if(19===t.tag)Bs(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ci(ta,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ea(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$s(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ea(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$s(e,!0,n,null,o);break;case"together":$s(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hs(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ws(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Dl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=_c(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=_c(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Gs(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Us(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qs(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Us(e),null;case 1:case 17:return Ri(e.type)&&_i(),Us(e),null;case 3:return r=e.stateNode,Zo(),Mi(Pi),Mi(Oi),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(ac(oo),oo=null))),Rs(t,e),Us(e),null;case 5:Jo(e);var i=Xo(Yo.current);if(n=e.type,null!==t&&null!=e.stateNode)_s(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return Us(e),null}if(t=Xo(Uo.current),ho(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[hi]=e,r[fi]=a,t=0!==(1&e.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)Fr(Ir[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":K(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":it(r,a),Fr("invalid",r)}for(var l in yt(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,t),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,t),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":U(r),J(r,a,!0);break;case"textarea":U(r),at(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[hi]=e,t[fi]=r,As(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,r),n){case"dialog":Fr("cancel",t),Fr("close",t),i=r;break;case"iframe":case"object":case"embed":Fr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)Fr(Ir[i],t);i=r;break;case"source":Fr("error",t),i=r;break;case"img":case"image":case"link":Fr("error",t),Fr("load",t),i=r;break;case"details":Fr("toggle",t),i=r;break;case"input":K(t,r),i=X(t,r),Fr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Fr("invalid",t)}for(a in yt(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?mt(t,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&dt(t,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&ht(t,u):"number"===typeof u&&ht(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",t):null!=u&&b(t,a,u,l))}switch(n){case"input":U(t),J(t,r,!1);break;case"textarea":U(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+W(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Us(e),null;case 6:if(t&&null!=e.stateNode)Ls(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));if(n=Xo(Yo.current),Xo(Uo.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[hi]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Qr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=e,e.stateNode=r}return Us(e),null;case 13:if(Mi(ta),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,a=!1;else if(a=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Us(e),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ta.current)?0===Ll&&(Ll=3):gc())),null!==e.updateQueue&&(e.flags|=4),Us(e),null);case 4:return Zo(),Rs(t,e),null===t&&Vr(e.stateNode.containerInfo),Us(e),null;case 10:return Oo(e.type._context),Us(e),null;case 19:if(Mi(ta),null===(a=e.memoizedState))return Us(e),null;if(r=0!==(128&e.flags),null===(l=a.rendering))if(r)Gs(a,!1);else{if(0!==Ll||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ea(t))){for(e.flags|=128,Gs(a,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ci(ta,1&ta.current|2),e.child}t=t.sibling}null!==a.tail&&Zt()>Vl&&(e.flags|=128,r=!0,Gs(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=ea(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Us(e),null}else 2*Zt()-a.renderingStartTime>Vl&&1073741824!==n&&(e.flags|=128,r=!0,Gs(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Zt(),e.sibling=null,n=ta.current,Ci(ta,r?1&n|2:1&n),e):(Us(e),null);case 22:case 23:return dc(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Rl)&&(Us(e),6&e.subtreeFlags&&(e.flags|=8192)):Us(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Ys(t,e){switch(eo(e),e.tag){case 1:return Ri(e.type)&&_i(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Zo(),Mi(Pi),Mi(Oi),ra(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Jo(e),null;case 13:if(Mi(ta),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Mi(ta),null;case 4:return Zo(),null;case 10:return Oo(e.type._context),null;case 22:case 23:return dc(),null;default:return null}}As=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},_s=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xo(Uo.current);var o,a=null;switch(n){case"input":i=X(t,i),r=X(t,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Jr)}for(u in yt(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}},Ls=function(t,e,n,r){n!==r&&(e.flags|=4)};var Xs=!1,Ks=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Js(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(t,e,r)}else n.current=null}function tl(t,e,n){try{n()}catch(r){kc(t,e,r)}}var el=!1;function nl(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(e,n,o)}i=i.next}while(i!==r)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function il(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[hi],delete e[fi],delete e[gi],delete e[mi],delete e[vi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function sl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Jr));else if(4!==r&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function cl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var ul=null,dl=!1;function hl(t,e,n){for(n=n.child;null!==n;)fl(t,e,n),n=n.sibling}function fl(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(s){}switch(n.tag){case 5:Ks||Js(n,e);case 6:var r=ul,i=dl;ul=null,hl(t,e,n),dl=i,null!==(ul=r)&&(dl?(t=ul,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(t=ul,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),Ve(t)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(t,e,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,e,a),i=i.next}while(i!==r)}hl(t,e,n);break;case 1:if(!Ks&&(Js(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kc(n,e,s)}hl(t,e,n);break;case 21:hl(t,e,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,hl(t,e,n),Ks=r):hl(t,e,n);break;default:hl(t,e,n)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Zs),e.forEach((function(e){var r=Oc.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function gl(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)ml(e,t),e=e.sibling}function ml(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),vl(t),4&r){try{nl(3,t,t.return),rl(3,t)}catch(m){kc(t,t.return,m)}try{nl(5,t,t.return)}catch(m){kc(t,t.return,m)}}break;case 1:gl(e,t),vl(t),512&r&&null!==n&&Js(n,n.return);break;case 5:if(gl(e,t),vl(t),512&r&&null!==n&&Js(n,n.return),32&t.flags){var i=t.stateNode;try{ht(i,"")}catch(m){kc(t,t.return,m)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(i,a),bt(l,s);var u=bt(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?mt(i,h):"dangerouslySetInnerHTML"===d?dt(i,h):"children"===d?ht(i,h):b(i,d,h,u)}switch(l){case"input":Q(i,a);break;case"textarea":ot(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?nt(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(m){kc(t,t.return,m)}}break;case 6:if(gl(e,t),vl(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){kc(t,t.return,m)}}break;case 3:if(gl(e,t),vl(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(m){kc(t,t.return,m)}break;case 4:default:gl(e,t),vl(t);break;case 13:gl(e,t),vl(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||($l=Zt())),4&r&&pl(t);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&t.mode?(Ks=(u=Ks)||d,gl(e,t),Ks=u):gl(e,t),vl(t),8192&r){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!d&&0!==(1&t.mode))for(Qs=t,d=t.child;null!==d;){for(h=Qs=d;null!==Qs;){switch(p=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Js(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){kc(r,n,m)}}break;case 5:Js(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Qs=p):wl(h)}d=d.sibling}t:for(d=null,h=t;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",s))}catch(m){kc(t,t.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){kc(t,t.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===t)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===t)break t;for(;null===h.sibling;){if(null===h.return||h.return===t)break t;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(e,t),vl(t),4&r&&pl(t);case 21:}}function vl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ht(i,""),r.flags&=-33),cl(t,sl(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(t,sl(t),a);break;default:throw Error(o(161))}}catch(s){kc(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function yl(t,e,n){Qs=t,bl(t,e,n)}function bl(t,e,n){for(var r=0!==(1&t.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Xs;var c=Ks;if(Xs=a,(Ks=l)&&!c)for(Qs=i;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,Qs=l):El(i);for(;null!==o;)Qs=o,bl(o,e,n),o=o.sibling;Qs=i,Xs=s,Ks=c}xl(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qs=o):xl(t)}}function xl(t){for(;null!==Qs;){var e=Qs;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ks||rl(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ns(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Wo(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Wo(e,s,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ve(h)}}}break;default:throw Error(o(163))}Ks||512&e.flags&&il(e)}catch(f){kc(e,e.return,f)}}if(e===t){Qs=null;break}if(null!==(n=e.sibling)){n.return=e.return,Qs=n;break}Qs=e.return}}function wl(t){for(;null!==Qs;){var e=Qs;if(e===t){Qs=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Qs=n;break}Qs=e.return}}function El(t){for(;null!==Qs;){var e=Qs;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(l){kc(e,n,l)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(l){kc(e,i,l)}}var o=e.return;try{il(e)}catch(l){kc(e,o,l)}break;case 5:var a=e.return;try{il(e)}catch(l){kc(e,a,l)}}}catch(l){kc(e,e.return,l)}if(e===t){Qs=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Qs=s;break}Qs=e.return}}var Sl,kl=Math.ceil,Ml=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,Nl=x.ReactCurrentBatchConfig,Ol=0,Pl=null,Tl=null,Al=0,Rl=0,_l=ki(0),Ll=0,Il=null,Dl=0,jl=0,zl=0,Fl=null,Bl=null,$l=0,Vl=1/0,Hl=null,Wl=!1,Gl=null,Ul=null,ql=!1,Yl=null,Xl=0,Kl=0,Zl=null,Ql=-1,Jl=0;function tc(){return 0!==(6&Ol)?Zt():-1!==Ql?Ql:Ql=Zt()}function ec(t){return 0===(1&t.mode)?1:0!==(2&Ol)&&0!==Al?Al&-Al:null!==mo.transition?(0===Jl&&(Jl=ge()),Jl):0!==(t=be)?t:t=void 0===(t=window.event)?16:Ke(t.type)}function nc(t,e,n,r){if(50<Kl)throw Kl=0,Zl=null,Error(o(185));ve(t,n,r),0!==(2&Ol)&&t===Pl||(t===Pl&&(0===(2&Ol)&&(jl|=n),4===Ll&&sc(t,Al)),rc(t,r),1===n&&0===Ol&&0===(1&e.mode)&&(Vl=Zt()+500,Fi&&Vi()))}function rc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=fe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=he(t,t===Pl?Al:0);if(0===r)null!==n&&Yt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Yt(n),1===e)0===t.tag?function(t){Fi=!0,$i(t)}(lc.bind(null,t)):$i(lc.bind(null,t)),ai((function(){0===(6&Ol)&&Vi()})),n=null;else{switch(xe(r)){case 1:n=Jt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Pc(n,ic.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ic(t,e){if(Ql=-1,Jl=0,0!==(6&Ol))throw Error(o(327));var n=t.callbackNode;if(Ec()&&t.callbackNode!==n)return null;var r=he(t,t===Pl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=mc(t,r);else{e=r;var i=Ol;Ol|=2;var a=pc();for(Pl===t&&Al===e||(Hl=null,Vl=Zt()+500,hc(t,e));;)try{yc();break}catch(l){fc(t,l)}No(),Ml.current=a,Ol=i,null!==Tl?e=0:(Pl=null,Al=0,e=Ll)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(r=i,e=oc(t,i))),1===e)throw n=Il,hc(t,0),sc(t,r),rc(t,Zt()),n;if(6===e)sc(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=mc(t,r))&&(0!==(a=pe(t))&&(r=a,e=oc(t,a))),1===e))throw n=Il,hc(t,0),sc(t,r),rc(t,Zt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:wc(t,Bl,Hl);break;case 3:if(sc(t,r),(130023424&r)===r&&10<(e=$l+500-Zt())){if(0!==he(t,0))break;if(((i=t.suspendedLanes)&r)!==r){tc(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(wc.bind(null,t,Bl,Hl),e);break}wc(t,Bl,Hl);break;case 4:if(sc(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Zt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){t.timeoutHandle=ri(wc.bind(null,t,Bl,Hl),r);break}wc(t,Bl,Hl);break;default:throw Error(o(329))}}}return rc(t,Zt()),t.callbackNode===n?ic.bind(null,t):null}function oc(t,e){var n=Fl;return t.current.memoizedState.isDehydrated&&(hc(t,e).flags|=256),2!==(t=mc(t,e))&&(e=Bl,Bl=n,null!==e&&ac(e)),t}function ac(t){null===Bl?Bl=t:Bl.push.apply(Bl,t)}function sc(t,e){for(e&=~zl,e&=~jl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function lc(t){if(0!==(6&Ol))throw Error(o(327));Ec();var e=he(t,0);if(0===(1&e))return rc(t,Zt()),null;var n=mc(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=oc(t,r))}if(1===n)throw n=Il,hc(t,0),sc(t,e),rc(t,Zt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wc(t,Bl,Hl),rc(t,Zt()),null}function cc(t,e){var n=Ol;Ol|=1;try{return t(e)}finally{0===(Ol=n)&&(Vl=Zt()+500,Fi&&Vi())}}function uc(t){null!==Yl&&0===Yl.tag&&0===(6&Ol)&&Ec();var e=Ol;Ol|=1;var n=Nl.transition,r=be;try{if(Nl.transition=null,be=1,t)return t()}finally{be=r,Nl.transition=n,0===(6&(Ol=e))&&Vi()}}function dc(){Rl=_l.current,Mi(_l)}function hc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&_i();break;case 3:Zo(),Mi(Pi),Mi(Oi),ra();break;case 5:Jo(r);break;case 4:Zo();break;case 13:case 19:Mi(ta);break;case 10:Oo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=t,Tl=t=_c(t.current,null),Al=Rl=e,Ll=0,Il=null,zl=jl=Dl=0,Bl=Fl=null,null!==Ro){for(e=0;e<Ro.length;e++)if(null!==(r=(n=Ro[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Ro=null}return t}function fc(t,e){for(;;){var n=Tl;try{if(No(),ia.current=Qa,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,Cl.current=null,null===n||null===n.return){Ll=1,Il=e,Tl=null;break}t:{var a=t,s=n.return,l=n,c=e;if(e=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,e),1&p.mode&&gs(a,u,e),c=u;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){gs(a,u,e),gc();break t}c=Error(o(426))}else if(io&&1&l.mode){var v=ms(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,e),go(cs(c,l));break t}}a=c=cs(c,l),4!==Ll&&(Ll=2),null===Fl?Fl=[a]:Fl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Vo(a,fs(0,c,e));break t;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ul||!Ul.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,Vo(a,ps(a,l,e));break t}}a=a.return}while(null!==a)}xc(n)}catch(x){e=x,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function pc(){var t=Ml.current;return Ml.current=Qa,null===t?Qa:t}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Pl||0===(268435455&Dl)&&0===(268435455&jl)||sc(Pl,Al)}function mc(t,e){var n=Ol;Ol|=2;var r=pc();for(Pl===t&&Al===e||(Hl=null,hc(t,e));;)try{vc();break}catch(i){fc(t,i)}if(No(),Ol=n,Ml.current=r,null!==Tl)throw Error(o(261));return Pl=null,Al=0,Ll}function vc(){for(;null!==Tl;)bc(Tl)}function yc(){for(;null!==Tl&&!Xt();)bc(Tl)}function bc(t){var e=Sl(t.alternate,t,Rl);t.memoizedProps=t.pendingProps,null===e?xc(t):Tl=e,Cl.current=null}function xc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=qs(n,e,Rl)))return void(Tl=n)}else{if(null!==(n=Ys(n,e)))return n.flags&=32767,void(Tl=n);if(null===t)return Ll=6,void(Tl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Tl=e);Tl=e=t}while(null!==e);0===Ll&&(Ll=5)}function wc(t,e,n){var r=be,i=Nl.transition;try{Nl.transition=null,be=1,function(t,e,n,r){do{Ec()}while(null!==Yl);if(0!==(6&Ol))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===Pl&&(Tl=Pl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Pc(ee,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var s=be;be=1;var l=Ol;Ol|=4,Cl.current=null,function(t,e){if(ti=We,fr(t=hr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break t}var s=0,l=-1,c=-1,u=0,d=0,h=t,f=null;e:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===t)break e;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},We=!1,Qs=e;null!==Qs;)if(t=(e=Qs).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Qs=t;else for(;null!==Qs;){e=Qs;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ns(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){kc(e,e.return,w)}if(null!==(t=e.sibling)){t.return=e.return,Qs=t;break}Qs=e.return}g=el,el=!1}(t,n),ml(n,t),pr(ei),We=!!ti,ei=ti=null,t.current=n,yl(n,t,i),Kt(),Ol=l,be=s,Nl.transition=a}else t.current=n;if(ql&&(ql=!1,Yl=t,Xl=i),a=t.pendingLanes,0===a&&(Ul=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),rc(t,Zt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,t=Gl,Gl=null,t;0!==(1&Xl)&&0!==t.tag&&Ec(),a=t.pendingLanes,0!==(1&a)?t===Zl?Kl++:(Kl=0,Zl=t):Kl=0,Vi()}(t,e,n,r)}finally{Nl.transition=i,be=r}return null}function Ec(){if(null!==Yl){var t=xe(Xl),e=Nl.transition,n=be;try{if(Nl.transition=null,be=16>t?16:t,null===Yl)var r=!1;else{if(t=Yl,Yl=null,Xl=0,0!==(6&Ol))throw Error(o(331));var i=Ol;for(Ol|=4,Qs=t.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Qs=h;else for(;null!==Qs;){var f=(d=Qs).sibling,p=d.return;if(ol(d),d===u){Qs=null;break}if(null!==f){f.return=p,Qs=f;break}Qs=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else t:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Qs=y;break t}Qs=a.return}}var b=t.current;for(Qs=b;null!==Qs;){var x=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Qs=x;else t:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){kc(l,l.return,E)}if(l===s){Qs=null;break t}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break t}Qs=l.return}}if(Ol=i,Vi(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(E){}r=!0}return r}finally{be=n,Nl.transition=e}}return!1}function Sc(t,e,n){t=Bo(t,e=fs(0,e=cs(n,e),1),1),e=tc(),null!==t&&(ve(t,1,e),rc(t,e))}function kc(t,e,n){if(3===t.tag)Sc(t,t,n);else for(;null!==e;){if(3===e.tag){Sc(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ul||!Ul.has(r))){e=Bo(e,t=ps(e,t=cs(n,t),1),1),t=tc(),null!==e&&(ve(e,1,t),rc(e,t));break}}e=e.return}}function Mc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&n,Pl===t&&(Al&n)===n&&(4===Ll||3===Ll&&(130023424&Al)===Al&&500>Zt()-$l?hc(t,0):zl|=n),rc(t,e)}function Cc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=tc();null!==(t=Io(t,e))&&(ve(t,e,n),rc(t,n))}function Nc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Cc(t,n)}function Oc(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),Cc(t,n)}function Pc(t,e){return qt(t,e)}function Tc(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(t,e,n,r){return new Tc(t,e,n,r)}function Rc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function _c(t,e){var n=t.alternate;return null===n?((n=Ac(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lc(t,e,n,r,i,a){var s=2;if(r=t,"function"===typeof t)Rc(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case S:return Ic(n.children,i,a,e);case k:s=8,i|=8;break;case M:return(t=Ac(12,n,e,2|i)).elementType=M,t.lanes=a,t;case P:return(t=Ac(13,n,e,i)).elementType=P,t.lanes=a,t;case T:return(t=Ac(19,n,e,i)).elementType=T,t.lanes=a,t;case _:return Dc(n,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case C:s=10;break t;case N:s=9;break t;case O:s=11;break t;case A:s=14;break t;case R:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Ac(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Ic(t,e,n,r){return(t=Ac(7,t,r,e)).lanes=n,t}function Dc(t,e,n,r){return(t=Ac(22,t,r,e)).elementType=_,t.lanes=n,t.stateNode={isHidden:!1},t}function jc(t,e,n){return(t=Ac(6,t,null,e)).lanes=n,t}function zc(t,e,n){return(e=Ac(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fc(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(t,e,n,r,i,o,a,s,l){return t=new Fc(t,e,n,s,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Ac(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(o),t}function $c(t){if(!t)return Ni;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Ri(n))return Ii(t,n,e)}return e}function Vc(t,e,n,r,i,o,a,s,l){return(t=Bc(n,r,!0,t,0,o,0,s,l)).context=$c(null),n=t.current,(o=Fo(r=tc(),i=ec(n))).callback=void 0!==e&&null!==e?e:null,Bo(n,o,i),t.current.lanes=i,ve(t,i,r),rc(t,r),t}function Hc(t,e,n,r){var i=e.current,o=tc(),a=ec(i);return n=$c(n),null===e.context?e.context=n:e.pendingContext=n,(e=Fo(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Bo(i,e,a))&&(nc(t,i,a,o),$o(t,i,a)),a}function Wc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Gc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Uc(t,e){Gc(t,e),(t=t.alternate)&&Gc(t,e)}Sl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Pi.current)bs=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return bs=!1,function(t,e,n){switch(e.tag){case 3:Ps(e),po();break;case 5:Qo(e);break;case 1:Ri(e.type)&&Di(e);break;case 4:Ko(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ci(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Ci(ta,1&ta.current),e.flags|=128,null):0!==(n&e.child.childLanes)?js(t,e,n):(Ci(ta,1&ta.current),null!==(t=Ws(t,e,n))?t.sibling:null);Ci(ta,1&ta.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return Vs(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ta,ta.current),r)break;return null;case 22:case 23:return e.lanes=0,ks(t,e,n)}return Ws(t,e,n)}(t,e,n);bs=0!==(131072&t.flags)}else bs=!1,io&&0!==(1048576&e.flags)&&Ji(e,Ui,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hs(t,e),t=e.pendingProps;var i=Ai(e,Oi.current);To(e,n),i=ma(null,e,r,t,i,n);var a=va();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ri(r)?(a=!0,Di(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,jo(e),i.updater=is,e.stateNode=i,i._reactInternals=e,ls(e,r,t,n),e=Os(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),xs(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Hs(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return Rc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===O)return 11;if(t===A)return 14}return 2}(r),t=ns(r,t),i){case 0:e=Cs(null,e,r,t,n);break t;case 1:e=Ns(null,e,r,t,n);break t;case 11:e=ws(null,e,r,t,n);break t;case 14:e=Es(null,e,r,ns(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Cs(t,e,r,i=e.elementType===r?i:ns(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ns(t,e,r,i=e.elementType===r?i:ns(r,i),n);case 3:t:{if(Ps(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,zo(t,e),Ho(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ts(t,e,r,n,i=cs(Error(o(423)),e));break t}if(r!==i){e=Ts(t,e,r,n,i=cs(Error(o(424)),e));break t}for(ro=ci(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=Eo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){e=Ws(t,e,n);break t}xs(t,e,r,n)}e=e.child}return e;case 5:return Qo(e),null===t&&co(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),Ms(t,e),xs(t,e,s,n),e.child;case 6:return null===t&&co(e),null;case 13:return js(t,e,n);case 4:return Ko(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=wo(e,null,r,n):xs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,ws(t,e,r,i=e.elementType===r?i:ns(r,i),n);case 7:return xs(t,e,e.pendingProps,n),e.child;case 8:case 12:return xs(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ci(So,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Pi.current){e=Ws(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Po(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Po(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,To(e,n),r=r(i=Ao(i)),e.flags|=1,xs(t,e,r,n),e.child;case 14:return i=ns(r=e.type,e.pendingProps),Es(t,e,r,i=ns(r.type,i),n);case 15:return Ss(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ns(r,i),Hs(t,e),e.tag=1,Ri(r)?(t=!0,Di(e)):t=!1,To(e,n),as(e,r,i),ls(e,r,i,n),Os(null,e,r,!0,t,n);case 19:return Vs(t,e,n);case 22:return ks(t,e,n)}throw Error(o(156,e.tag))};var qc="function"===typeof reportError?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}function Xc(t){this._internalRoot=t}function Kc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Qc(){}function Jc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var t=Wc(a);s.call(t)}}Hc(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var t=Wc(a);o.call(t)}}var a=Vc(e,r,t,0,null,!1,0,"",Qc);return t._reactRootContainer=a,t[pi]=a.current,Vr(8===t.nodeType?t.parentNode:t),uc(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var s=r;r=function(){var t=Wc(l);s.call(t)}}var l=Bc(t,0,!1,null,0,!1,0,"",Qc);return t._reactRootContainer=l,t[pi]=l.current,Vr(8===t.nodeType?t.parentNode:t),uc((function(){Hc(e,l,n,r)})),l}(n,e,t,i,r);return Wc(a)}Xc.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Hc(t,e,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc((function(){Hc(null,t,null,null)})),e[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ke();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_e.length&&0!==e&&e<_e[n].priority;n++);_e.splice(n,0,t),0===n&&je(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=de(e.pendingLanes);0!==n&&(ye(e,1|n),rc(e,Zt()),0===(6&Ol)&&(Vl=Zt()+500,Vi()))}break;case 13:uc((function(){var e=Io(t,1);if(null!==e){var n=tc();nc(e,t,1,n)}})),Uc(t,1)}},Ee=function(t){if(13===t.tag){var e=Io(t,134217728);if(null!==e)nc(e,t,134217728,tc());Uc(t,134217728)}},Se=function(t){if(13===t.tag){var e=ec(t),n=Io(t,e);if(null!==n)nc(n,t,e,tc());Uc(t,e)}},ke=function(){return be},Me=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},Et=function(t,e,n){switch(e){case"input":if(Q(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wi(r);if(!i)throw Error(o(90));q(r),Q(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Ot=cc,Pt=uc;var tu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ct,Nt,cc]},eu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Gt(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ie=ru.inject(nu),oe=ru}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(e))throw Error(o(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Kc(t))throw Error(o(299));var n=!1,r="",i=qc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Bc(t,1,!1,null,0,n,0,r,i),t[pi]=e.current,Vr(8===t.nodeType?t.parentNode:t),new Yc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Gt(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,n){if(!Zc(e))throw Error(o(200));return Jc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Kc(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Vc(e,null,t,1,null!=n?n:null,i,0,a,s),t[pi]=e.current,Vr(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xc(e)},e.render=function(t,e,n){if(!Zc(e))throw Error(o(200));return Jc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Zc(t))throw Error(o(40));return!!t._reactRootContainer&&(uc((function(){Jc(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zc(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return Jc(t,e,n,!1,r)},e.version="18.3.1-next-f1338f8080-20240426"},1352:(t,e,n)=>{"use strict";var r=n(7119);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},7119:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(8345)},2969:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=t[s],c=s+1,u=t[c];if(0>o(l,n))c<i&&0>o(u,l)?(t[r]=u,t[c]=n,r=c):(t[r]=l,t[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break t;t[r]=u,t[c]=n,r=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(t){for(var e=r(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,n(c,e)}e=r(u)}}function w(t){if(m=!1,x(t),!g)if(null!==r(c))g=!0,_(E);else{var e=r(u);null!==e&&L(w,e.startTime-t)}}function E(t,n){g=!1,m&&(m=!1,y(C),C=-1),p=!0;var o=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||t&&!P());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,M=null,C=-1,N=5,O=-1;function P(){return!(e.unstable_now()-O<N)}function T(){if(null!==M){var t=e.unstable_now();O=t;var n=!0;try{n=M(!0,t)}finally{n?S():(k=!1,M=null)}}else k=!1}if("function"===typeof b)S=function(){b(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=T,S=function(){R.postMessage(null)}}else S=function(){v(T,0)};function _(t){M=t,k||(k=!0,S())}function L(t,n){C=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,_(E))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:d++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(u,t),null===r(c)&&t===r(u)&&(m?(y(C),C=-1):m=!0,L(w,o-a))):(t.sortIndex=s,n(c,t),g||p||(g=!0,_(E))),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},3204:(t,e,n)=>{"use strict";t.exports=n(2969)},8577:(t,e)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case o:case s:case a:case h:case f:return t;default:switch(t=t&&t.$$typeof){case u:case c:case d:case g:case p:case l:return t;default:return e}}case i:return e}}}n=Symbol.for("react.module.reference"),e.ForwardRef=d,e.isFragment=function(t){return v(t)===o},e.isMemo=function(t){return v(t)===p}},6429:(t,e,n)=>{"use strict";t.exports=n(8577)},8473:(t,e,n)=>{(t=n.nmd(t)).exports=function(e){var r={},i=n(6470),o=n(9950),a=n(5340);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=60103,u=60106,d=60107,h=60108,f=60114,p=60109,g=60110,m=60112,v=60113,y=60120,b=60115,x=60116,w=60121,E=60129,S=60130,k=60131;if("function"===typeof Symbol&&Symbol.for){var M=Symbol.for;c=M("react.element"),u=M("react.portal"),d=M("react.fragment"),h=M("react.strict_mode"),f=M("react.profiler"),p=M("react.provider"),g=M("react.context"),m=M("react.forward_ref"),v=M("react.suspense"),y=M("react.suspense_list"),b=M("react.memo"),x=M("react.lazy"),w=M("react.block"),M("react.scope"),E=M("react.debug_trace_mode"),S=M("react.offscreen"),k=M("react.legacy_hidden")}var C="function"===typeof Symbol&&Symbol.iterator;function N(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=C&&t[C]||t["@@iterator"])?t:null}function O(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case h:return"StrictMode";case v:return"Suspense";case y:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case g:return(t.displayName||"Context")+".Consumer";case p:return(t._context.displayName||"Context")+".Provider";case m:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case b:return O(t.type);case w:return O(t._render);case x:e=t._payload,t=t._init;try{return O(t(e))}catch(n){}}return null}function P(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function T(t){if(P(t)!==t)throw Error(s(188))}function A(t){var e=t.alternate;if(!e){if(null===(e=P(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return T(i),t;if(o===r)return T(i),e;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}function R(t){if(!(t=A(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function _(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var L,I=e.getPublicInstance,D=e.getRootHostContext,j=e.getChildHostContext,z=e.prepareForCommit,F=e.resetAfterCommit,B=e.createInstance,$=e.appendInitialChild,V=e.finalizeInitialChildren,H=e.prepareUpdate,W=e.shouldSetTextContent,G=e.createTextInstance,U=e.scheduleTimeout,q=e.cancelTimeout,Y=e.noTimeout,X=e.isPrimaryRenderer,K=e.supportsMutation,Z=e.supportsPersistence,Q=e.supportsHydration,J=e.getInstanceFromNode,tt=e.makeOpaqueHydratingObject,et=e.makeClientId,nt=e.beforeActiveInstanceBlur,rt=e.afterActiveInstanceBlur,it=e.preparePortalMount,ot=e.supportsTestSelectors,at=e.findFiberRoot,st=e.getBoundingRect,lt=e.getTextContent,ct=e.isHiddenSubtree,ut=e.matchAccessibilityRole,dt=e.setFocusIfFocusable,ht=e.setupIntersectionObserver,ft=e.appendChild,pt=e.appendChildToContainer,gt=e.commitTextUpdate,mt=e.commitMount,vt=e.commitUpdate,yt=e.insertBefore,bt=e.insertInContainerBefore,xt=e.removeChild,wt=e.removeChildFromContainer,Et=e.resetTextContent,St=e.hideInstance,kt=e.hideTextInstance,Mt=e.unhideInstance,Ct=e.unhideTextInstance,Nt=e.clearContainer,Ot=e.cloneInstance,Pt=e.createContainerChildSet,Tt=e.appendChildToContainerChildSet,At=e.finalizeContainerChildren,Rt=e.replaceContainerChildren,_t=e.cloneHiddenInstance,Lt=e.cloneHiddenTextInstance,It=e.canHydrateInstance,Dt=e.canHydrateTextInstance,jt=e.isSuspenseInstancePending,zt=e.isSuspenseInstanceFallback,Ft=e.getNextHydratableSibling,Bt=e.getFirstHydratableChild,$t=e.hydrateInstance,Vt=e.hydrateTextInstance,Ht=e.getNextHydratableInstanceAfterSuspenseInstance,Wt=e.commitHydratedContainer,Gt=e.commitHydratedSuspenseInstance;function Ut(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var qt=!1;function Yt(t,e){if(!t||qt)return"";qt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{qt=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ut(t):""}var Xt=[],Kt=-1;function Zt(t){return{current:t}}function Qt(t){0>Kt||(t.current=Xt[Kt],Xt[Kt]=null,Kt--)}function Jt(t,e){Kt++,Xt[Kt]=t.current,t.current=e}var te={},ee=Zt(te),ne=Zt(!1),re=te;function ie(t,e){var n=t.type.contextTypes;if(!n)return te;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function oe(t){return null!==(t=t.childContextTypes)&&void 0!==t}function ae(){Qt(ne),Qt(ee)}function se(t,e,n){if(ee.current!==te)throw Error(s(168));Jt(ee,e),Jt(ne,n)}function le(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(s(108,O(e)||"Unknown",o));return i({},n,r)}function ce(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||te,re=ee.current,Jt(ee,t),Jt(ne,ne.current),!0}function ue(t,e,n){var r=t.stateNode;if(!r)throw Error(s(169));n?(t=le(t,e,re),r.__reactInternalMemoizedMergedChildContext=t,Qt(ne),Qt(ee),Jt(ee,t)):Qt(ne),Jt(ne,n)}var de=null,he=null;(0,a.unstable_now)();var fe=0,pe=8;function ge(t){if(0!==(1&t))return pe=15,1;if(0!==(2&t))return pe=14,2;if(0!==(4&t))return pe=13,4;var e=24&t;return 0!==e?(pe=12,e):0!==(32&t)?(pe=11,32):0!==(e=192&t)?(pe=10,e):0!==(256&t)?(pe=9,256):0!==(e=3584&t)?(pe=8,e):0!==(4096&t)?(pe=7,4096):0!==(e=4186112&t)?(pe=6,e):0!==(e=62914560&t)?(pe=5,e):67108864&t?(pe=4,67108864):0!==(134217728&t)?(pe=3,134217728):0!==(e=805306368&t)?(pe=2,e):0!==(1073741824&t)?(pe=1,1073741824):(pe=8,t)}function me(t,e){var n=t.pendingLanes;if(0===n)return pe=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=pe=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=ge(l),i=pe):0!==(s&=o)&&(r=ge(s),i=pe)}else 0!==(o=n&~a)?(r=ge(o),i=pe):0!==s&&(r=ge(s),i=pe);if(0===r)return 0;if(r=n&((0>(r=31-Ee(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(ge(e),i<=pe)return e;pe=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-Ee(e)),r|=t[n],e&=~i;return r}function ve(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ye(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=be(24&~e))?ye(10,e):t;case 10:return 0===(t=be(192&~e))?ye(8,e):t;case 8:return 0===(t=be(3584&~e))&&(0===(t=be(4186112&~e))&&(t=512)),t;case 2:return 0===(e=be(805306368&~e))&&(e=268435456),e}throw Error(s(358,t))}function be(t){return t&-t}function xe(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function we(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-Ee(e)]=n}var Ee=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Se(t)/ke|0)|0},Se=Math.log,ke=Math.LN2;var Me=a.unstable_runWithPriority,Ce=a.unstable_scheduleCallback,Ne=a.unstable_cancelCallback,Oe=a.unstable_shouldYield,Pe=a.unstable_requestPaint,Te=a.unstable_now,Ae=a.unstable_getCurrentPriorityLevel,Re=a.unstable_ImmediatePriority,_e=a.unstable_UserBlockingPriority,Le=a.unstable_NormalPriority,Ie=a.unstable_LowPriority,De=a.unstable_IdlePriority,je={},ze=void 0!==Pe?Pe:function(){},Fe=null,Be=null,$e=!1,Ve=Te(),He=1e4>Ve?Te:function(){return Te()-Ve};function We(){switch(Ae()){case Re:return 99;case _e:return 98;case Le:return 97;case Ie:return 96;case De:return 95;default:throw Error(s(332))}}function Ge(t){switch(t){case 99:return Re;case 98:return _e;case 97:return Le;case 96:return Ie;case 95:return De;default:throw Error(s(332))}}function Ue(t,e){return t=Ge(t),Me(t,e)}function qe(t,e,n){return t=Ge(t),Ce(t,e,n)}function Ye(){if(null!==Be){var t=Be;Be=null,Ne(t)}Xe()}function Xe(){if(!$e&&null!==Fe){$e=!0;var t=0;try{var e=Fe;Ue(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Fe=null}catch(n){throw null!==Fe&&(Fe=Fe.slice(t+1)),Ce(Re,Ye),n}finally{$e=!1}}}var Ke=l.ReactCurrentBatchConfig;var Ze="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Qe=Object.prototype.hasOwnProperty;function Je(t,e){if(Ze(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Qe.call(e,n[r])||!Ze(t[n[r]],e[n[r]]))return!1;return!0}function tn(t){switch(t.tag){case 5:return Ut(t.type);case 16:return Ut("Lazy");case 13:return Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 2:case 15:return t=Yt(t.type,!1);case 11:return t=Yt(t.type.render,!1);case 22:return t=Yt(t.type._render,!1);case 1:return t=Yt(t.type,!0);default:return""}}function en(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var nn=Zt(null),rn=null,on=null,an=null;function sn(){an=on=rn=null}function ln(t,e){t=t.type._context,X?(Jt(nn,t._currentValue),t._currentValue=e):(Jt(nn,t._currentValue2),t._currentValue2=e)}function cn(t){var e=nn.current;Qt(nn),t=t.type._context,X?t._currentValue=e:t._currentValue2=e}function un(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function dn(t,e){rn=t,an=on=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Vr=!0),t.firstContext=null)}function hn(t,e){if(an!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(an=t,e=1073741823),e={context:t,observedBits:e,next:null},null===on){if(null===rn)throw Error(s(308));on=e,rn.dependencies={lanes:0,firstContext:e,responders:null}}else on=on.next=e;return X?t._currentValue:t._currentValue2}var fn=!1;function pn(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function gn(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vn(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function yn(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bn(t,e,n,r){var o=t.updateQueue;fn=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var d=t.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,d=u=c=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(l=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,l);break t}h=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=g.payload)?p.call(f,h,l):p)||void 0===l)break t;h=i({},h,l);break t;case 2:fn=!0}}null!==a.callback&&(t.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=f,c=h):d=d.next=f,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(c=h),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,ho|=s,t.lanes=s,t.memoizedState=h}}function xn(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var wn=(new o.Component).refs;function En(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Sn={isMounted:function(t){return!!(t=t._reactInternals)&&P(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jo(),i=zo(t),o=mn(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),vn(t,o),Fo(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jo(),i=zo(t),o=mn(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),vn(t,o),Fo(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jo(),r=zo(t),i=mn(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),vn(t,i),Fo(t,r,n)}};function kn(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Je(n,r)||!Je(i,o))}function Mn(t,e,n){var r=!1,i=te,o=e.contextType;return"object"===typeof o&&null!==o?o=hn(o):(i=oe(e)?re:ee.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?ie(t,i):te),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Sn,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Cn(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sn.enqueueReplaceState(e,e.state,null)}function Nn(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=wn,pn(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=hn(o):(o=oe(e)?re:ee.current,i.context=ie(t,o)),bn(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(En(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Sn.enqueueReplaceState(i,i.state,null),bn(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var On=Array.isArray;function Pn(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===wn&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function Tn(t,e){if("textarea"!==t.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function An(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=ka(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function a(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Oa(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Pn(t,e,n),r.return=t,r):((r=Ma(n.type,n.key,n.props,null,t.mode,r)).ref=Pn(t,e,n),r.return=t,r)}function f(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Pa(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function p(t,e,n,r,o){return null===e||7!==e.tag?((e=Ca(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function g(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Oa(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case c:return(n=Ma(e.type,e.key,e.props,null,t.mode,n)).ref=Pn(t,null,e),n.return=t,n;case u:return(e=Pa(e,t.mode,n)).return=t,e}if(On(e)||N(e))return(e=Ca(e,t.mode,n,null)).return=t,e;Tn(t,e)}return null}function m(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?n.type===d?p(t,e,n.props.children,r,i):h(t,e,n,r):null;case u:return n.key===i?f(t,e,n,r):null}if(On(n)||N(n))return null!==i?null:p(t,e,n,r,null);Tn(t,n)}return null}function v(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return t=t.get(null===r.key?n:r.key)||null,r.type===d?p(e,t,r.props.children,i,r.key):h(e,t,r,i);case u:return f(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(On(r)||N(r))return p(e,t=t.get(n)||null,r,i,null);Tn(e,r)}return null}function y(i,a,s,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=m(i,d,s[h],l);if(null===p){null===d&&(d=f);break}t&&d&&null===p.alternate&&e(i,d),a=o(p,a,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===s.length)return n(i,d),c;if(null===d){for(;h<s.length;h++)null!==(d=g(i,s[h],l))&&(a=o(d,a,h),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);h<s.length;h++)null!==(f=v(d,i,h,s[h],l))&&(t&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=o(f,a,h),null===u?c=f:u.sibling=f,u=f);return t&&d.forEach((function(t){return e(i,t)})),c}function b(i,a,l,c){var u=N(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,h=a,f=a=0,p=null,y=l.next();null!==h&&!y.done;f++,y=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=m(i,h,y.value,c);if(null===b){null===h&&(h=p);break}t&&h&&null===b.alternate&&e(i,h),a=o(b,a,f),null===d?u=b:d.sibling=b,d=b,h=p}if(y.done)return n(i,h),u;if(null===h){for(;!y.done;f++,y=l.next())null!==(y=g(i,y.value,c))&&(a=o(y,a,f),null===d?u=y:d.sibling=y,d=y);return u}for(h=r(i,h);!y.done;f++,y=l.next())null!==(y=v(h,i,f,y.value,c))&&(t&&null!==y.alternate&&h.delete(null===y.key?f:y.key),a=o(y,a,f),null===d?u=y:d.sibling=y,d=y);return t&&h.forEach((function(t){return e(i,t)})),u}return function(t,r,o,l){var h="object"===typeof o&&null!==o&&o.type===d&&null===o.key;h&&(o=o.props.children);var f="object"===typeof o&&null!==o;if(f)switch(o.$$typeof){case c:t:{for(f=o.key,h=r;null!==h;){if(h.key===f){if(7===h.tag){if(o.type===d){n(t,h.sibling),(r=i(h,o.props.children)).return=t,t=r;break t}}else if(h.elementType===o.type){n(t,h.sibling),(r=i(h,o.props)).ref=Pn(t,h,o),r.return=t,t=r;break t}n(t,h);break}e(t,h),h=h.sibling}o.type===d?((r=Ca(o.props.children,t.mode,l,o.key)).return=t,t=r):((l=Ma(o.type,o.key,o.props,null,t.mode,l)).ref=Pn(t,r,o),l.return=t,t=l)}return a(t);case u:t:{for(h=o.key;null!==r;){if(r.key===h){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Pa(o,t.mode,l)).return=t,t=r}return a(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Oa(o,t.mode,l)).return=t,t=r),a(t);if(On(o))return y(t,r,o,l);if(N(o))return b(t,r,o,l);if(f&&Tn(t,o),"undefined"===typeof o&&!h)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,O(t.type)||"Component"))}return n(t,r)}}var Rn=An(!0),_n=An(!1),Ln={},In=Zt(Ln),Dn=Zt(Ln),jn=Zt(Ln);function zn(t){if(t===Ln)throw Error(s(174));return t}function Fn(t,e){Jt(jn,e),Jt(Dn,t),Jt(In,Ln),t=D(e),Qt(In),Jt(In,t)}function Bn(){Qt(In),Qt(Dn),Qt(jn)}function $n(t){var e=zn(jn.current),n=zn(In.current);n!==(e=j(n,t.type,e))&&(Jt(Dn,t),Jt(In,e))}function Vn(t){Dn.current===t&&(Qt(In),Qt(Dn))}var Hn=Zt(0);function Wn(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||jt(n)||zt(n)))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gn=null,Un=null,qn=!1;function Yn(t,e){var n=Ea(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Xn(t,e){switch(t.tag){case 5:return null!==(e=It(e,t.type,t.pendingProps))&&(t.stateNode=e,!0);case 6:return null!==(e=Dt(e,t.pendingProps))&&(t.stateNode=e,!0);default:return!1}}function Kn(t){if(qn){var e=Un;if(e){var n=e;if(!Xn(t,e)){if(!(e=Ft(n))||!Xn(t,e))return t.flags=-1025&t.flags|2,qn=!1,void(Gn=t);Yn(Gn,n)}Gn=t,Un=Bt(e)}else t.flags=-1025&t.flags|2,qn=!1,Gn=t}}function Zn(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Gn=t}function Qn(t){if(!Q||t!==Gn)return!1;if(!qn)return Zn(t),qn=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!W(e,t.memoizedProps))for(e=Un;e;)Yn(t,e),e=Ft(e);if(Zn(t),13===t.tag){if(!Q)throw Error(s(316));if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));Un=Ht(t)}else Un=Gn?Ft(t.stateNode):null;return!0}function Jn(){Q&&(Un=Gn=null,qn=!1)}var tr=[];function er(){for(var t=0;t<tr.length;t++){var e=tr[t];X?e._workInProgressVersionPrimary=null:e._workInProgressVersionSecondary=null}tr.length=0}var nr=l.ReactCurrentDispatcher,rr=l.ReactCurrentBatchConfig,ir=0,or=null,ar=null,sr=null,lr=!1,cr=!1;function ur(){throw Error(s(321))}function dr(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ze(t[n],e[n]))return!1;return!0}function hr(t,e,n,r,i,o){if(ir=o,or=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nr.current=null===t||null===t.memoizedState?zr:Fr,t=n(r,i),cr){o=0;do{if(cr=!1,!(25>o))throw Error(s(301));o+=1,sr=ar=null,e.updateQueue=null,nr.current=Br,t=n(r,i)}while(cr)}if(nr.current=jr,e=null!==ar&&null!==ar.next,ir=0,sr=ar=or=null,lr=!1,e)throw Error(s(300));return t}function fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sr?or.memoizedState=sr=t:sr=sr.next=t,sr}function pr(){if(null===ar){var t=or.alternate;t=null!==t?t.memoizedState:null}else t=ar.next;var e=null===sr?or.memoizedState:sr.next;if(null!==e)sr=e,ar=t;else{if(null===t)throw Error(s(310));t={memoizedState:(ar=t).memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},null===sr?or.memoizedState=sr=t:sr=sr.next=t}return sr}function gr(t,e){return"function"===typeof e?e(t):e}function mr(t){var e=pr(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=ar,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,c=i;do{var u=c.lane;if((ir&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=d,o=r):l=l.next=d,or.lanes|=u,ho|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=a,Ze(r,e.memoizedState)||(Vr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function vr(t){var e=pr(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);Ze(o,e.memoizedState)||(Vr=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function yr(t,e,n){var r=e._getVersion;r=r(e._source);var i=X?e._workInProgressVersionPrimary:e._workInProgressVersionSecondary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(ir&t)===t)&&(X?e._workInProgressVersionPrimary=r:e._workInProgressVersionSecondary=r,tr.push(e))),t)return n(e._source);throw tr.push(e),Error(s(350))}function br(t,e,n,r){var i=ro;if(null===i)throw Error(s(349));var o=e._getVersion,a=o(e._source),l=nr.current,c=l.useState((function(){return yr(i,e,n)})),u=c[1],d=c[0];c=sr;var h=t.memoizedState,f=h.refs,p=f.getSnapshot,g=h.source;h=h.subscribe;var m=or;return t.memoizedState={refs:f,source:e,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var t=o(e._source);if(!Ze(a,t)){t=n(e._source),Ze(d,t)||(u(t),t=zo(m),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,s=t;0<s;){var l=31-Ee(s),c=1<<l;r[l]|=t,s&=~c}}}),[n,e,r]),l.useEffect((function(){return r(e._source,(function(){var t=f.getSnapshot,n=f.setSnapshot;try{n(t(e._source));var r=zo(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,r]),Ze(p,n)&&Ze(g,e)&&Ze(h,r)||((t={pending:null,dispatch:null,lastRenderedReducer:gr,lastRenderedState:d}).dispatch=u=Dr.bind(null,or,t),c.queue=t,c.baseQueue=null,d=yr(i,e,n),c.memoizedState=c.baseState=d),d}function xr(t,e,n){return br(pr(),t,e,n)}function wr(t){var e=fr();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:gr,lastRenderedState:t}).dispatch=Dr.bind(null,or,t),[e.memoizedState,t]}function Er(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=or.updateQueue)?(e={lastEffect:null},or.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Sr(t){return t={current:t},fr().memoizedState=t}function kr(){return pr().memoizedState}function Mr(t,e,n,r){var i=fr();or.flags|=t,i.memoizedState=Er(1|e,n,void 0,void 0===r?null:r)}function Cr(t,e,n,r){var i=pr();r=void 0===r?null:r;var o=void 0;if(null!==ar){var a=ar.memoizedState;if(o=a.destroy,null!==r&&dr(r,a.deps))return void Er(e,n,o,r)}or.flags|=t,i.memoizedState=Er(1|e,n,o,r)}function Nr(t,e){return Mr(516,4,t,e)}function Or(t,e){return Cr(516,4,t,e)}function Pr(t,e){return Cr(4,2,t,e)}function Tr(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ar(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Cr(4,2,Tr.bind(null,e,t),n)}function Rr(){}function _r(t,e){var n=pr();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&dr(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lr(t,e){var n=pr();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&dr(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ir(t,e){var n=We();Ue(98>n?98:n,(function(){t(!0)})),Ue(97<n?97:n,(function(){var n=rr.transition;rr.transition=1;try{t(!1),e()}finally{rr.transition=n}}))}function Dr(t,e,n){var r=jo(),i=zo(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===or||null!==a&&a===or)cr=lr=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,Ze(l,s))return}catch(c){}Fo(t,i,r)}}var jr={readContext:hn,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useOpaqueIdentifier:ur,unstable_isNewReconciler:!1},zr={readContext:hn,useCallback:function(t,e){return fr().memoizedState=[t,void 0===e?null:e],t},useContext:hn,useEffect:Nr,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Mr(4,2,Tr.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mr(4,2,t,e)},useMemo:function(t,e){var n=fr();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fr();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Dr.bind(null,or,t),[r.memoizedState,t]},useRef:Sr,useState:wr,useDebugValue:Rr,useDeferredValue:function(t){var e=wr(t),n=e[0],r=e[1];return Nr((function(){var e=rr.transition;rr.transition=1;try{r(t)}finally{rr.transition=e}}),[t]),n},useTransition:function(){var t=wr(!1),e=t[0];return Sr(t=Ir.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=fr();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},br(r,t,e,n)},useOpaqueIdentifier:function(){if(qn){var t=!1,e=tt((function(){throw t||(t=!0,n(et())),Error(s(355))})),n=wr(e)[1];return 0===(2&or.mode)&&(or.flags|=516,Er(5,(function(){n(et())}),void 0,null)),e}return wr(e=et()),e},unstable_isNewReconciler:!1},Fr={readContext:hn,useCallback:_r,useContext:hn,useEffect:Or,useImperativeHandle:Ar,useLayoutEffect:Pr,useMemo:Lr,useReducer:mr,useRef:kr,useState:function(){return mr(gr)},useDebugValue:Rr,useDeferredValue:function(t){var e=mr(gr),n=e[0],r=e[1];return Or((function(){var e=rr.transition;rr.transition=1;try{r(t)}finally{rr.transition=e}}),[t]),n},useTransition:function(){var t=mr(gr)[0];return[kr().current,t]},useMutableSource:xr,useOpaqueIdentifier:function(){return mr(gr)[0]},unstable_isNewReconciler:!1},Br={readContext:hn,useCallback:_r,useContext:hn,useEffect:Or,useImperativeHandle:Ar,useLayoutEffect:Pr,useMemo:Lr,useReducer:vr,useRef:kr,useState:function(){return vr(gr)},useDebugValue:Rr,useDeferredValue:function(t){var e=vr(gr),n=e[0],r=e[1];return Or((function(){var e=rr.transition;rr.transition=1;try{r(t)}finally{rr.transition=e}}),[t]),n},useTransition:function(){var t=vr(gr)[0];return[kr().current,t]},useMutableSource:xr,useOpaqueIdentifier:function(){return vr(gr)[0]},unstable_isNewReconciler:!1},$r=l.ReactCurrentOwner,Vr=!1;function Hr(t,e,n,r){e.child=null===t?_n(e,null,n,r):Rn(e,t.child,n,r)}function Wr(t,e,n,r,i){n=n.render;var o=e.ref;return dn(e,i),r=hr(t,e,n,r,o,i),null===t||Vr?(e.flags|=1,Hr(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,di(t,e,i))}function Gr(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Sa(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ma(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ur(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Je)(i,r)&&t.ref===e.ref)?di(t,e,o):(e.flags|=1,(t=ka(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ur(t,e,n,r,i,o){if(null!==t&&Je(t.memoizedProps,r)&&t.ref===e.ref){if(Vr=!1,0===(o&i))return e.lanes=t.lanes,di(t,e,o);0!==(16384&t.flags)&&(Vr=!0)}return Xr(t,e,n,r,o)}function qr(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},qo(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},qo(e,t),null;e.memoizedState={baseLanes:0},qo(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,qo(e,r);return Hr(t,e,i,n),e.child}function Yr(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Xr(t,e,n,r,i){var o=oe(n)?re:ee.current;return o=ie(e,o),dn(e,i),n=hr(t,e,n,r,o,i),null===t||Vr?(e.flags|=1,Hr(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,di(t,e,i))}function Kr(t,e,n,r,i){if(oe(n)){var o=!0;ce(e)}else o=!1;if(dn(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),Mn(e,n,r),Nn(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=hn(c):c=ie(e,c=oe(n)?re:ee.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Cn(e,a,r,c),fn=!1;var h=e.memoizedState;a.state=h,bn(e,r,a,i),l=e.memoizedState,s!==r||h!==l||ne.current||fn?("function"===typeof u&&(En(e,n,u,r),l=e.memoizedState),(s=fn||kn(e,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,gn(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:en(e.type,s),a.props=c,d=e.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=hn(l):l=ie(e,l=oe(n)?re:ee.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Cn(e,a,r,l),fn=!1,h=e.memoizedState,a.state=h,bn(e,r,a,i);var p=e.memoizedState;s!==d||h!==p||ne.current||fn?("function"===typeof f&&(En(e,n,f,r),p=e.memoizedState),(c=fn||kn(e,n,c,r,h,p,l))?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),r=!1)}return Zr(t,e,n,r,o,i)}function Zr(t,e,n,r,i,o){Yr(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&ue(e,n,!1),di(t,e,o);r=e.stateNode,$r.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Rn(e,t.child,null,o),e.child=Rn(e,null,s,o)):Hr(t,e,s,o),e.memoizedState=r.state,i&&ue(e,n,!0),e.child}function Qr(t){var e=t.stateNode;e.pendingContext?se(0,e.pendingContext,e.pendingContext!==e.context):e.context&&se(0,e.context,!1),Fn(t,e.containerInfo)}var Jr,ti,ei,ni,ri={dehydrated:null,retryLane:0};function ii(t,e,n){var r,i=e.pendingProps,o=Hn.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Jt(Hn,1&o),null===t?(void 0!==i.fallback&&Kn(e),t=i.children,o=i.fallback,a?(t=oi(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=ri,t):"number"===typeof i.unstable_expectedLoadTime?(t=oi(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=ri,e.lanes=33554432,t):((n=Na({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=si(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=ri,i):(n=ai(t,e,i.children,n),e.memoizedState=null,n))}function oi(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Na(e,i,0,null),n=Ca(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function ai(t,e,n,r){var i=t.child;return t=i.sibling,n=ka(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function si(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=ka(a,s),null!==t?r=ka(t,r):(r=Ca(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function li(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),un(t.return,e)}function ci(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ui(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Hr(t,e,r.children,n),0!==(2&(r=Hn.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&li(t,n);else if(19===t.tag)li(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Jt(Hn,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Wn(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ci(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Wn(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ci(e,!0,n,null,o,e.lastEffect);break;case"together":ci(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function di(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),ho|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=ka(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=ka(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function hi(t){t.flags|=4}if(K)Jr=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)$(t,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ti=function(){},ei=function(t,e,n,r,i){if((t=t.memoizedProps)!==r){var o=e.stateNode,a=zn(In.current);n=H(o,n,t,r,i,a),(e.updateQueue=n)&&hi(e)}},ni=function(t,e,n,r){n!==r&&hi(e)};else if(Z){Jr=function(t,e,n,r){for(var i=e.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=_t(o,i.type,i.memoizedProps,i)),$(t,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Lt(o,i.memoizedProps,i)),$(t,o);else if(4!==i.tag){if(13===i.tag&&0!==(4&i.flags)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,Jr(t,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var fi=function(t,e,n,r){for(var i=e.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=_t(o,i.type,i.memoizedProps,i)),Tt(t,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Lt(o,i.memoizedProps,i)),Tt(t,o);else if(4!==i.tag){if(13===i.tag&&0!==(4&i.flags)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,fi(t,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};ti=function(t){var e=t.stateNode;if(null!==t.firstEffect){var n=e.containerInfo,r=Pt(n);fi(r,t,!1,!1),e.pendingChildren=r,hi(t),At(n,r)}},ei=function(t,e,n,r,i){var o=t.stateNode,a=t.memoizedProps;if((t=null===e.firstEffect)&&a===r)e.stateNode=o;else{var s=e.stateNode,l=zn(In.current),c=null;a!==r&&(c=H(s,n,a,r,i,l)),t&&null===c?e.stateNode=o:(o=Ot(o,c,n,a,r,e,t,s),V(o,n,r,i,l)&&hi(e),e.stateNode=o,t?hi(e):Jr(o,e,!1,!1))}},ni=function(t,e,n,r){n!==r?(t=zn(jn.current),n=zn(In.current),e.stateNode=G(r,t,n,e),hi(e)):e.stateNode=t.stateNode}}else ti=function(){},ei=function(){},ni=function(){};function pi(t,e){if(!qn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gi(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return oe(e.type)&&ae(),null;case 3:return Bn(),Qt(ne),Qt(ee),er(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Qn(e)?hi(e):r.hydrate||(e.flags|=256)),ti(e),null;case 5:Vn(e);var i=zn(jn.current);if(n=e.type,null!==t&&null!=e.stateNode)ei(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(s(166));return null}if(t=zn(In.current),Qn(e)){if(!Q)throw Error(s(175));t=$t(e.stateNode,e.type,e.memoizedProps,i,t,e),e.updateQueue=t,null!==t&&hi(e)}else{var o=B(n,r,i,t,e);Jr(o,e,!1,!1),e.stateNode=o,V(o,n,r,i,t)&&hi(e)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)ni(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(s(166));if(t=zn(jn.current),i=zn(In.current),Qn(e)){if(!Q)throw Error(s(176));Vt(e.stateNode,e.memoizedProps,e)&&hi(e)}else e.stateNode=G(r,t,i,e)}return null;case 13:return Qt(Hn),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,i=!1,null===t?void 0!==e.memoizedProps.fallback&&Qn(e):i=null!==t.memoizedState,r&&!i&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Hn.current)?0===lo&&(lo=3):(0!==lo&&3!==lo||(lo=4),null===ro||0===(134217727&ho)&&0===(134217727&fo)||Ho(ro,oo))),Z&&r&&(e.flags|=4),K&&(r||i)&&(e.flags|=4),null);case 4:return Bn(),ti(e),null===t&&it(e.stateNode.containerInfo),null;case 10:return cn(e),null;case 19:if(Qt(Hn),null===(r=e.memoizedState))return null;if(i=0!==(64&e.flags),null===(o=r.rendering))if(i)pi(r,!1);else{if(0!==lo||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(o=Wn(t))){for(e.flags|=64,pi(r,!1),null!==(t=o.updateQueue)&&(e.updateQueue=t,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,t=n,r=e.child;null!==r;)n=t,(i=r).flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(o=i.alternate)?(i.childLanes=0,i.lanes=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return Jt(Hn,1&Hn.current|2),e.child}t=t.sibling}null!==r.tail&&He()>vo&&(e.flags|=64,i=!0,pi(r,!1),e.lanes=33554432)}else{if(!i)if(null!==(t=Wn(o))){if(e.flags|=64,i=!0,null!==(t=t.updateQueue)&&(e.updateQueue=t,e.flags|=4),pi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!qn)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*He()-r.renderingStartTime>vo&&1073741824!==n&&(e.flags|=64,i=!0,pi(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(null!==(t=r.last)?t.sibling=o:e.child=o,r.last=o)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=He(),t.sibling=null,e=Hn.current,Jt(Hn,i?1&e|2:1&e),t):null;case 23:case 24:return Yo(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(s(156,e.tag))}function mi(t){switch(t.tag){case 1:oe(t.type)&&ae();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Bn(),Qt(ne),Qt(ee),er(),0!==(64&(e=t.flags)))throw Error(s(285));return t.flags=-4097&e|64,t;case 5:return Vn(t),null;case 13:return Qt(Hn),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return Qt(Hn),null;case 4:return Bn(),null;case 10:return cn(t),null;case 23:case 24:return Yo(),null;default:return null}}function vi(t,e){try{var n="",r=e;do{n+=tn(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function yi(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var bi="function"===typeof WeakMap?WeakMap:Map;function xi(t,e,n){(n=mn(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wo||(wo=!0,Eo=r),yi(0,e)},n}function wi(t,e,n){(n=mn(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return yi(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===So?So=new Set([this]):So.add(this),yi(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var Ei="function"===typeof WeakSet?WeakSet:Set;function Si(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){da(t,n)}else e.current=null}function ki(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:en(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(K&&256&e.flags&&Nt(e.stateNode.containerInfo))}throw Error(s(163))}function Mi(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function Ci(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(la(n,t),sa(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:en(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&xn(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=I(n.child.stateNode);break;case 1:t=n.child.stateNode}xn(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&mt(t,n.type,n.memoizedProps,n));case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(Q&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Gt(n)))))}throw Error(s(163))}function Ni(t,e){if(K)for(var n=t;;){if(5===n.tag){var r=n.stateNode;e?St(r):Mt(n.stateNode,n.memoizedProps)}else if(6===n.tag)r=n.stateNode,e?kt(r):Ct(r,n.memoizedProps);else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Oi(t,e){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(de,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))la(e,n);else{r=e;try{i()}catch(o){da(r,o)}}n=n.next}while(n!==t)}break;case 1:if(Si(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){da(e,o)}break;case 5:Si(e);break;case 4:K?Ii(t,e):Z&&Z&&(e=e.stateNode.containerInfo,t=Pt(e),Rt(e,t))}}function Pi(t,e){for(var n=e;;)if(Oi(t,n),null===n.child||K&&4===n.tag){if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function Ti(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Ai(t){return 5===t.tag||3===t.tag||4===t.tag}function Ri(t){if(K){t:{for(var e=t.return;null!==e;){if(Ai(e))break t;e=e.return}throw Error(s(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(Et(e),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||Ai(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?_i(t,n,e):Li(t,n,e)}}function _i(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?bt(n,t,e):pt(n,t);else if(4!==r&&null!==(t=t.child))for(_i(t,e,n),t=t.sibling;null!==t;)_i(t,e,n),t=t.sibling}function Li(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?yt(n,t,e):ft(n,t);else if(4!==r&&null!==(t=t.child))for(Li(t,e,n),t=t.sibling;null!==t;)Li(t,e,n),t=t.sibling}function Ii(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag)Pi(t,i),r?wt(n,i.stateNode):xt(n,i.stateNode);else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(Oi(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Di(t,e){if(K){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void Mi(3,e);case 1:case 12:case 17:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var i=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&vt(n,o,i,t,r,e)}return;case 6:if(null===e.stateNode)throw Error(s(162));return n=e.memoizedProps,void gt(e.stateNode,null!==t?t.memoizedProps:n,n);case 3:return void(Q&&(e=e.stateNode,e.hydrate&&(e.hydrate=!1,Wt(e.containerInfo))));case 13:return ji(e),void zi(e);case 19:return void zi(e);case 23:case 24:return void Ni(e,null!==e.memoizedState)}throw Error(s(163))}switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void Mi(3,e);case 12:case 23:case 24:return;case 13:return ji(e),void zi(e);case 19:return void zi(e);case 3:Q&&((n=e.stateNode).hydrate&&(n.hydrate=!1,Wt(n.containerInfo)))}t:if(Z){switch(e.tag){case 1:case 5:case 6:case 20:break t;case 3:case 4:e=e.stateNode,Rt(e.containerInfo,e.pendingChildren);break t}throw Error(s(163))}}function ji(t){null!==t.memoizedState&&(mo=He(),K&&Ni(t.child,!0))}function zi(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ei),e.forEach((function(e){var r=fa.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Fi(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Bi=0,$i=1,Vi=2,Hi=3,Wi=4;if("function"===typeof Symbol&&Symbol.for){var Gi=Symbol.for;Bi=Gi("selector.component"),$i=Gi("selector.has_pseudo_class"),Vi=Gi("selector.role"),Hi=Gi("selector.test_id"),Wi=Gi("selector.text")}function Ui(t){var e=J(t);if(null!=e){if("string"!==typeof e.memoizedProps["data-testname"])throw Error(s(364));return e}if(null===(t=at(t)))throw Error(s(362));return t.stateNode.current}function qi(t,e){switch(e.$$typeof){case Bi:if(t.type===e.value)return!0;break;case $i:t:{e=e.value,t=[t,0];for(var n=0;n<t.length;){var r=t[n++],i=t[n++],o=e[i];if(5!==r.tag||!ct(r)){for(;null!=o&&qi(r,o);)o=e[++i];if(i===e.length){e=!0;break t}for(r=r.child;null!==r;)t.push(r,i),r=r.sibling}}e=!1}return e;case Vi:if(5===t.tag&&ut(t.stateNode,e.value))return!0;break;case Wi:if((5===t.tag||6===t.tag)&&(null!==(t=lt(t))&&0<=t.indexOf(e.value)))return!0;break;case Hi:if(5===t.tag&&("string"===typeof(t=t.memoizedProps["data-testname"])&&t.toLowerCase()===e.value.toLowerCase()))return!0;break;default:throw Error(s(365,e))}return!1}function Yi(t){switch(t.$$typeof){case Bi:return"<"+(O(t.value)||"Unknown")+">";case $i:return":has("+(Yi(t)||"")+")";case Vi:return'[role="'+t.value+'"]';case Wi:return'"'+t.value+'"';case Hi:return'[data-testname="'+t.value+'"]';default:throw Error(s(365,t))}}function Xi(t,e){var n=[];t=[t,0];for(var r=0;r<t.length;){var i=t[r++],o=t[r++],a=e[o];if(5!==i.tag||!ct(i)){for(;null!=a&&qi(i,a);)a=e[++o];if(o===e.length)n.push(i);else for(i=i.child;null!==i;)t.push(i,o),i=i.sibling}}return n}function Ki(t,e){if(!ot)throw Error(s(363));t=Xi(t=Ui(t),e),e=[],t=Array.from(t);for(var n=0;n<t.length;){var r=t[n++];if(5===r.tag)ct(r)||e.push(r.stateNode);else for(r=r.child;null!==r;)t.push(r),r=r.sibling}return e}var Zi=null;var Qi=Math.ceil,Ji=l.ReactCurrentDispatcher,to=l.ReactCurrentOwner,eo=l.IsSomeRendererActing,no=0,ro=null,io=null,oo=0,ao=0,so=Zt(0),lo=0,co=null,uo=0,ho=0,fo=0,po=0,go=null,mo=0,vo=1/0;function yo(){vo=He()+500}var bo,xo=null,wo=!1,Eo=null,So=null,ko=!1,Mo=null,Co=90,No=[],Oo=[],Po=null,To=0,Ao=null,Ro=-1,_o=0,Lo=0,Io=null,Do=!1;function jo(){return 0!==(48&no)?He():-1!==Ro?Ro:Ro=He()}function zo(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===We()?1:2;if(0===_o&&(_o=uo),0!==Ke.transition){0!==Lo&&(Lo=null!==go?go.pendingLanes:0),t=_o;var e=4186112&~Lo;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=We(),0!==(4&no)&&98===t?t=ye(12,_o):t=ye(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),_o),t}function Fo(t,e,n){if(50<To)throw To=0,Ao=null,Error(s(185));if(null===(t=Bo(t,e)))return null;we(t,e,n),t===ro&&(fo|=e,4===lo&&Ho(t,oo));var r=We();1===e?0!==(8&no)&&0===(48&no)?Wo(t):($o(t,n),0===no&&(yo(),Ye())):(0===(4&no)||98!==r&&99!==r||(null===Po?Po=new Set([t]):Po.add(t)),$o(t,n)),go=t}function Bo(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function $o(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Ee(a),c=1<<l,u=o[l];if(-1===u){if(0===(c&r)||0!==(c&i)){u=e,ge(c);var d=pe;o[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=e&&(t.expiredLanes|=c);a&=~c}if(r=me(t,t===ro?oo:0),e=pe,0===r)null!==n&&(n!==je&&Ne(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==je&&Ne(n)}15===e?(n=Wo.bind(null,t),null===Fe?(Fe=[n],Be=Ce(Re,Xe)):Fe.push(n),n=je):14===e?n=qe(99,Wo.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,t))}}(e),n=qe(n,Vo.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function Vo(t){if(Ro=-1,Lo=_o=0,0!==(48&no))throw Error(s(327));var e=t.callbackNode;if(aa()&&t.callbackNode!==e)return null;var n=me(t,t===ro?oo:0);if(0===n)return null;var r=n,i=no;no|=16;var o=Zo();for(ro===t&&oo===r||(yo(),Xo(t,r));;)try{ta();break}catch(l){Ko(t,l)}if(sn(),Ji.current=o,no=i,null!==io?r=0:(ro=null,oo=0,r=lo),0!==(uo&fo))Xo(t,0);else if(0!==r){if(2===r&&(no|=64,t.hydrate&&(t.hydrate=!1,Nt(t.containerInfo)),0!==(n=ve(t))&&(r=Qo(t,n))),1===r)throw e=co,Xo(t,0),Ho(t,n),$o(t,He()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:ra(t);break;case 3:if(Ho(t,n),(62914560&n)===n&&10<(r=mo+500-He())){if(0!==me(t,0))break;if(((i=t.suspendedLanes)&n)!==n){jo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=U(ra.bind(null,t),r);break}ra(t);break;case 4:if(Ho(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var a=31-Ee(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=He()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qi(n/1960))-n)){t.timeoutHandle=U(ra.bind(null,t),n);break}ra(t);break;default:throw Error(s(329))}}return $o(t,He()),t.callbackNode===e?Vo.bind(null,t):null}function Ho(t,e){for(e&=~po,e&=~fo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ee(e),r=1<<n;t[n]=-1,e&=~r}}function Wo(t){if(0!==(48&no))throw Error(s(327));if(aa(),t===ro&&0!==(t.expiredLanes&oo)){var e=oo,n=Qo(t,e);0!==(uo&fo)&&(n=Qo(t,e=me(t,e)))}else n=Qo(t,e=me(t,0));if(0!==t.tag&&2===n&&(no|=64,t.hydrate&&(t.hydrate=!1,Nt(t.containerInfo)),0!==(e=ve(t))&&(n=Qo(t,e))),1===n)throw n=co,Xo(t,0),Ho(t,e),$o(t,He()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,ra(t),$o(t,He()),null}function Go(t,e){var n=no;no|=1;try{return t(e)}finally{0===(no=n)&&(yo(),Ye())}}function Uo(t,e){var n=no;if(0!==(48&n))return t(e);no|=1;try{if(t)return Ue(99,t.bind(null,e))}finally{no=n,Ye()}}function qo(t,e){Jt(so,ao),ao|=e,uo|=e}function Yo(){ao=so.current,Qt(so)}function Xo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==Y&&(t.timeoutHandle=Y,q(n)),null!==io)for(n=io.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ae();break;case 3:Bn(),Qt(ne),Qt(ee),er();break;case 5:Vn(r);break;case 4:Bn();break;case 13:case 19:Qt(Hn);break;case 10:cn(r);break;case 23:case 24:Yo()}n=n.return}ro=t,io=ka(t.current,null),oo=ao=uo=e,lo=0,co=null,po=fo=ho=0}function Ko(t,e){for(;;){var n=io;try{if(sn(),nr.current=jr,lr){for(var r=or.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lr=!1}if(ir=0,sr=ar=or=null,cr=!1,to.current=null,null===n||null===n.return){lo=1,co=e,io=null;break}t:{var o=t,a=n.return,s=n,l=e;if(e=oo,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Hn.current),h=a;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var g=h.memoizedProps;f=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!d)}}if(f){var m=h.updateQueue;if(null===m){var v=new Set;v.add(c),h.updateQueue=v}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=mn(-1,1);y.tag=2,vn(s,y)}s.lanes|=1;break t}l=void 0,s=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new bi,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(s)){l.add(s);var x=ha.bind(null,o,c,s);c.then(x,x)}h.flags|=4096,h.lanes=e;break t}h=h.return}while(null!==h);l=Error((O(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==lo&&(lo=2),l=vi(l,s),h=a;do{switch(h.tag){case 3:o=l,h.flags|=4096,e&=-e,h.lanes|=e,yn(h,xi(0,o,e));break t;case 1:o=l;var w=h.type,E=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===So||!So.has(E)))){h.flags|=4096,e&=-e,h.lanes|=e,yn(h,wi(h,o,e));break t}}h=h.return}while(null!==h)}na(n)}catch(S){e=S,io===n&&null!==n&&(io=n=n.return);continue}break}}function Zo(){var t=Ji.current;return Ji.current=jr,null===t?jr:t}function Qo(t,e){var n=no;no|=16;var r=Zo();for(ro===t&&oo===e||Xo(t,e);;)try{Jo();break}catch(i){Ko(t,i)}if(sn(),no=n,Ji.current=r,null!==io)throw Error(s(261));return ro=null,oo=0,lo}function Jo(){for(;null!==io;)ea(io)}function ta(){for(;null!==io&&!Oe();)ea(io)}function ea(t){var e=bo(t.alternate,t,ao);t.memoizedProps=t.pendingProps,null===e?na(t):io=e,to.current=null}function na(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=gi(n,e,ao)))return void(io=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&ao)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=mi(e)))return n.flags&=2047,void(io=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(io=e);io=e=t}while(null!==e);0===lo&&(lo=5)}function ra(t){var e=We();return Ue(99,ia.bind(null,t,e)),null}function ia(t,e){do{aa()}while(null!==Mo);if(0!==(48&no))throw Error(s(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,l=t.expirationTimes;0<o;){var c=31-Ee(o),u=1<<c;i[c]=0,a[c]=-1,l[c]=-1,o&=~u}if(null!==Po&&0===(24&r)&&Po.has(t)&&Po.delete(t),t===ro&&(io=ro=null,oo=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){i=no,no|=32,to.current=null,Io=z(t.containerInfo),Do=!1,xo=r;do{try{oa()}catch(y){if(null===xo)throw Error(s(330));da(xo,y),xo=xo.nextEffect}}while(null!==xo);Io=null,xo=r;do{try{for(a=t;null!==xo;){var d=xo.flags;if(16&d&&K&&Et(xo.stateNode),128&d){var h=xo.alternate;if(null!==h){var f=h.ref;null!==f&&("function"===typeof f?f(null):f.current=null)}}switch(1038&d){case 2:Ri(xo),xo.flags&=-3;break;case 6:Ri(xo),xo.flags&=-3,Di(xo.alternate,xo);break;case 1024:xo.flags&=-1025;break;case 1028:xo.flags&=-1025,Di(xo.alternate,xo);break;case 4:Di(xo.alternate,xo);break;case 8:l=a,o=xo,K?Ii(l,o):Pi(l,o);var p=o.alternate;Ti(o),null!==p&&Ti(p)}xo=xo.nextEffect}}catch(y){if(null===xo)throw Error(s(330));da(xo,y),xo=xo.nextEffect}}while(null!==xo);Do&&rt(),F(t.containerInfo),t.current=n,xo=r;do{try{for(d=t;null!==xo;){var g=xo.flags;if(36&g&&Ci(d,xo.alternate,xo),128&g){h=void 0;var m=xo.ref;if(null!==m){var v=xo.stateNode;if(5===xo.tag)h=I(v);else h=v;"function"===typeof m?m(h):m.current=h}}xo=xo.nextEffect}}catch(y){if(null===xo)throw Error(s(330));da(xo,y),xo=xo.nextEffect}}while(null!==xo);xo=null,ze(),no=i}else t.current=n;if(ko)ko=!1,Mo=t,Co=e;else for(xo=r;null!==xo;)e=xo.nextEffect,xo.nextEffect=null,8&xo.flags&&((g=xo).sibling=null,g.stateNode=null),xo=e;if(0===(r=t.pendingLanes)&&(So=null),1===r?t===Ao?To++:(To=0,Ao=t):To=0,n=n.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(de,n,void 0,64===(64&n.current.flags))}catch(y){}if($o(t,He()),wo)throw wo=!1,t=Eo,Eo=null,t;return 0!==(8&no)||Ye(),null}function oa(){for(;null!==xo;){var t=xo.alternate;Do||null===Io||(0!==(8&xo.flags)?_(xo,Io)&&(Do=!0,nt()):13===xo.tag&&Fi(t,xo)&&_(xo,Io)&&(Do=!0,nt()));var e=xo.flags;0!==(256&e)&&ki(t,xo),0===(512&e)||ko||(ko=!0,qe(97,(function(){return aa(),null}))),xo=xo.nextEffect}}function aa(){if(90!==Co){var t=97<Co?97:Co;return Co=90,Ue(t,ca)}return!1}function sa(t,e){No.push(e,t),ko||(ko=!0,qe(97,(function(){return aa(),null})))}function la(t,e){Oo.push(e,t),ko||(ko=!0,qe(97,(function(){return aa(),null})))}function ca(){if(null===Mo)return!1;var t=Mo;if(Mo=null,0!==(48&no))throw Error(s(331));var e=no;no|=32;var n=Oo;Oo=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(c){if(null===o)throw Error(s(330));da(o,c)}}for(n=No,No=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(null===o)throw Error(s(330));da(o,c)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return no=e,Ye(),!0}function ua(t,e,n){vn(t,e=xi(0,e=vi(n,e),1)),e=jo(),null!==(t=Bo(t,1))&&(we(t,1,e),$o(t,e))}function da(t,e){if(3===t.tag)ua(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){ua(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===So||!So.has(r))){var i=wi(n,t=vi(e,t),1);if(vn(n,i),i=jo(),null!==(n=Bo(n,1)))we(n,1,i),$o(n,i);else if("function"===typeof r.componentDidCatch&&(null===So||!So.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function ha(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=jo(),t.pingedLanes|=t.suspendedLanes&n,ro===t&&(oo&n)===n&&(4===lo||3===lo&&(62914560&oo)===oo&&500>He()-mo?Xo(t,0):po|=n),$o(t,e)}function fa(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===We()?1:2:(0===_o&&(_o=uo),0===(e=be(62914560&~_o))&&(e=4194304))),n=jo(),null!==(t=Bo(t,e))&&(we(t,e,n),$o(t,n))}bo=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||ne.current)Vr=!0;else{if(0===(n&r)){switch(Vr=!1,e.tag){case 3:Qr(e),Jn();break;case 5:$n(e);break;case 1:oe(e.type)&&ce(e);break;case 4:Fn(e,e.stateNode.containerInfo);break;case 10:ln(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?ii(t,e,n):(Jt(Hn,1&Hn.current),null!==(e=di(t,e,n))?e.sibling:null);Jt(Hn,1&Hn.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return ui(t,e,n);e.flags|=64}var i=e.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jt(Hn,Hn.current),r)break;return null;case 23:case 24:return e.lanes=0,qr(t,e,n)}return di(t,e,n)}Vr=0!==(16384&t.flags)}else Vr=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=ie(e,ee.current),dn(e,n),i=hr(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,oe(r)){var o=!0;ce(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(e);var a=r.getDerivedStateFromProps;"function"===typeof a&&En(e,r,a,t),i.updater=Sn,e.stateNode=i,i._reactInternals=e,Nn(e,r,t,n),e=Zr(null,e,r,!0,o,n)}else e.tag=0,Hr(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return Sa(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===m)return 11;if(t===b)return 14}return 2}(i),t=en(i,t),o){case 0:e=Xr(null,e,i,t,n);break t;case 1:e=Kr(null,e,i,t,n);break t;case 11:e=Wr(null,e,i,t,n);break t;case 14:e=Gr(null,e,i,en(i.type,t),r,n);break t}throw Error(s(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Xr(t,e,r,i=e.elementType===r?i:en(r,i),n);case 1:return r=e.type,i=e.pendingProps,Kr(t,e,r,i=e.elementType===r?i:en(r,i),n);case 3:if(Qr(e),r=e.updateQueue,null===t||null===r)throw Error(s(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,gn(t,e),bn(e,r,null,n),(r=e.memoizedState.element)===i)Jn(),e=di(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Q?(Un=Bt(e.stateNode.containerInfo),Gn=e,o=qn=!0):o=!1),o){if(Q&&null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)o=t[i],a=t[i+1],X?o._workInProgressVersionPrimary=a:o._workInProgressVersionSecondary=a,tr.push(o);for(n=_n(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Hr(t,e,r,n),Jn();e=e.child}return e;case 5:return $n(e),null===t&&Kn(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,W(r,i)?a=null:null!==o&&W(r,o)&&(e.flags|=16),Yr(t,e),Hr(t,e,a,n),e.child;case 6:return null===t&&Kn(e),null;case 13:return ii(t,e,n);case 4:return Fn(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Rn(e,null,r,n):Hr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Wr(t,e,r,i=e.elementType===r?i:en(r,i),n);case 7:return Hr(t,e,e.pendingProps,n),e.child;case 8:case 12:return Hr(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,ln(e,o=i.value),null!==a){var l=a.value;if(0===(o=Ze(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!ne.current){e=di(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===l.tag&&((u=mn(-1,n&-n)).tag=2,vn(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),un(l.return,n),c.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===e.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}}Hr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,dn(e,n),r=r(i=hn(i,o.unstable_observedBits)),e.flags|=1,Hr(t,e,r,n),e.child;case 14:return o=en(i=e.type,e.pendingProps),Gr(t,e,i,o=en(i.type,o),r,n);case 15:return Ur(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:en(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,oe(r)?(t=!0,ce(e)):t=!1,dn(e,n),Mn(e,r,i),Nn(e,r,i,n),Zr(null,e,r,!0,t,n);case 19:return ui(t,e,n);case 23:case 24:return qr(t,e,n)}throw Error(s(156,e.tag))};var pa={current:!1},ga=a.unstable_flushAllWithoutAsserting,ma="function"===typeof ga;function va(){if(void 0!==ga)return ga();for(var t=!1;aa();)t=!0;return t}function ya(e){try{va(),function(e){if(null===Zi)try{var n=("require"+Math.random()).slice(0,7);Zi=(t&&t[n]).call(t,"timers").setImmediate}catch(r){Zi=function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(void 0)}}Zi(e)}((function(){va()?ya(e):e()}))}catch(n){e(n)}}var ba=0,xa=!1;function wa(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(t,e,n,r){return new wa(t,e,n,r)}function Sa(t){return!(!(t=t.prototype)||!t.isReactComponent)}function ka(t,e){var n=t.alternate;return null===n?((n=Ea(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ma(t,e,n,r,i,o){var a=2;if(r=t,"function"===typeof t)Sa(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case d:return Ca(n.children,i,o,e);case E:a=8,i|=16;break;case h:a=8,i|=1;break;case f:return(t=Ea(12,n,e,8|i)).elementType=f,t.type=f,t.lanes=o,t;case v:return(t=Ea(13,n,e,i)).type=v,t.elementType=v,t.lanes=o,t;case y:return(t=Ea(19,n,e,i)).elementType=y,t.lanes=o,t;case S:return Na(n,i,o,e);case k:return(t=Ea(24,n,e,i)).elementType=k,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case p:a=10;break t;case g:a=9;break t;case m:a=11;break t;case b:a=14;break t;case x:a=16,r=null;break t;case w:a=22;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Ea(a,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Ca(t,e,n,r){return(t=Ea(7,t,r,e)).lanes=n,t}function Na(t,e,n,r){return(t=Ea(23,t,r,e)).elementType=S,t.lanes=n,t}function Oa(t,e,n){return(t=Ea(6,t,null,e)).lanes=n,t}function Pa(t,e,n){return(e=Ea(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ta(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Y,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=xe(0),this.expirationTimes=xe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),Q&&(this.mutableSourceEagerHydrationData=null)}function Aa(t){var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw Error(s(268,Object.keys(t)))}return null===(t=R(e))?null:t.stateNode}function Ra(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function _a(t,e){Ra(t,e),(t=t.alternate)&&Ra(t,e)}function La(t){return null===(t=R(t))?null:t.stateNode}function Ia(){return null}return r.IsThisRendererActing=pa,r.act=function(t){function e(){ba--,eo.current=n,pa.current=r}!1===xa&&(xa=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),ba++;var n=eo.current,r=pa.current;eo.current=!0,pa.current=!0;try{var i=Go(t)}catch(o){throw e(),o}if(null!==i&&"object"===typeof i&&"function"===typeof i.then)return{then:function(t,r){i.then((function(){1<ba||!0===ma&&!0===n?(e(),t()):ya((function(n){e(),n?r(n):t()}))}),(function(t){e(),r(t)}))}};try{1!==ba||!1!==ma&&!1!==n||va(),e()}catch(o){throw e(),o}return{then:function(t){t()}}},r.attemptContinuousHydration=function(t){13===t.tag&&(Fo(t,67108864,jo()),_a(t,67108864))},r.attemptHydrationAtCurrentPriority=function(t){if(13===t.tag){var e=jo(),n=zo(t);Fo(t,n,e),_a(t,n)}},r.attemptSynchronousHydration=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.hydrate){var n=ge(e.pendingLanes);e.expiredLanes|=n&e.pendingLanes,$o(e,He()),0===(48&no)&&(yo(),Ye())}break;case 13:var r=jo();Uo((function(){return Fo(t,1,r)})),_a(t,4)}},r.attemptUserBlockingHydration=function(t){13===t.tag&&(Fo(t,4,jo()),_a(t,4))},r.batchedEventUpdates=function(t,e){var n=no;no|=2;try{return t(e)}finally{0===(no=n)&&(yo(),Ye())}},r.batchedUpdates=Go,r.createComponentSelector=function(t){return{$$typeof:Bi,value:t}},r.createContainer=function(t,e,n){return t=new Ta(t,e,n),e=Ea(3,null,null,2===e?7:1===e?3:0),t.current=e,e.stateNode=t,pn(e),t},r.createHasPsuedoClassSelector=function(t){return{$$typeof:$i,value:t}},r.createPortal=function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}},r.createRoleSelector=function(t){return{$$typeof:Vi,value:t}},r.createTestNameSelector=function(t){return{$$typeof:Hi,value:t}},r.createTextSelector=function(t){return{$$typeof:Wi,value:t}},r.deferredUpdates=function(t){return Ue(97,t)},r.discreteUpdates=function(t,e,n,r,i){var o=no;no|=4;try{return Ue(98,t.bind(null,e,n,r,i))}finally{0===(no=o)&&(yo(),Ye())}},r.findAllNodes=Ki,r.findBoundingRects=function(t,e){if(!ot)throw Error(s(363));e=Ki(t,e),t=[];for(var n=0;n<e.length;n++)t.push(st(e[n]));for(e=t.length-1;0<e;e--)for(var r=(n=t[e]).x,i=r+n.width,o=n.y,a=o+n.height,l=e-1;0<=l;l--)if(e!==l){var c=t[l],u=c.x,d=u+c.width,h=c.y,f=h+c.height;if(r>=u&&o>=h&&i<=d&&a<=f){t.splice(e,1);break}if(!(r!==u||n.width!==c.width||f<o||h>a)){h>o&&(c.height+=h-o,c.y=o),f<a&&(c.height=a-h),t.splice(e,1);break}if(!(o!==h||n.height!==c.height||d<r||u>i)){u>r&&(c.width+=u-r,c.x=r),d<i&&(c.width=i-u),t.splice(e,1);break}}return t},r.findHostInstance=Aa,r.findHostInstanceWithNoPortals=function(t){return null===(t=function(t){if(!(t=A(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}(t))?null:20===t.tag?t.stateNode.instance:t.stateNode},r.findHostInstanceWithWarning=function(t){return Aa(t)},r.flushControlled=function(t){var e=no;no|=1;try{Ue(99,t)}finally{0===(no=e)&&(yo(),Ye())}},r.flushDiscreteUpdates=function(){0===(49&no)&&(function(){if(null!==Po){var t=Po;Po=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,$o(t,He())}))}Ye()}(),aa())},r.flushPassiveEffects=aa,r.flushSync=Uo,r.focusWithin=function(t,e){if(!ot)throw Error(s(363));for(e=Xi(t=Ui(t),e),e=Array.from(e),t=0;t<e.length;){var n=e[t++];if(!ct(n)){if(5===n.tag&&dt(n.stateNode))return!0;for(n=n.child;null!==n;)e.push(n),n=n.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return fe},r.getFindAllNodesFailureDescription=function(t,e){if(!ot)throw Error(s(363));var n=0,r=[];t=[Ui(t),0];for(var i=0;i<t.length;){var o=t[i++],a=t[i++],l=e[a];if((5!==o.tag||!ct(o))&&(qi(o,l)&&(r.push(Yi(l)),++a>n&&(n=a)),a<e.length))for(o=o.child;null!==o;)t.push(o,a),o=o.sibling}if(n<e.length){for(t=[];n<e.length;n++)t.push(Yi(e[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+t.join(" > ")}return null},r.getPublicRootInstance=function(t){return(t=t.current).child?5===t.child.tag?I(t.child.stateNode):t.child.stateNode:null},r.injectIntoDevTools=function(t){if(t={bundleType:t.bundleType,version:t.version,rendererPackageName:t.rendererPackageName,rendererConfig:t.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:La,findFiberByHostInstance:t.findFiberByHostInstance||Ia,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)t=!1;else{var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e.isDisabled&&e.supportsFiber)try{de=e.inject(t),he=e}catch(n){}t=!0}return t},r.observeVisibleRects=function(t,e,n,r){if(!ot)throw Error(s(363));t=Ki(t,e);var i=ht(t,n,r).disconnect;return{disconnect:function(){i()}}},r.registerMutableSourceForHydration=function(t,e){var n=e._getVersion;n=n(e._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[e,n]:t.mutableSourceEagerHydrationData.push(e,n)},r.runWithPriority=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(t,e){var n=no;no&=-2,no|=8;try{return t(e)}finally{0===(no=n)&&(yo(),Ye())}},r.updateContainer=function(t,e,n,r){var i=e.current,o=jo(),a=zo(i);t:if(n){e:{if(P(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(oe(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var c=n.type;if(oe(c)){n=le(n,c,l);break t}}n=l}else n=te;return null===e.context?e.context=n:e.pendingContext=n,(e=mn(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),vn(i,e),Fo(i,a,o),a},r}},9235:(t,e,n)=>{"use strict";t.exports=n(8473)},2654:(t,e,n)=>{"use strict";var r=n(9950),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)a.call(e,r)&&!l.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:u,props:o,_owner:s.current}}e.Fragment=o,e.jsx=c,e.jsxs=c},2049:(t,e)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function y(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function M(t,e,r){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)E.call(e,i)&&!k.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:S.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var N=/\/+/g;function O(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=t),t=""===o?"."+O(l,0):o,w(a)?(i="",null!=t&&(i=t.replace(N,"$&/")+"/"),P(a,e,i,"",(function(t){return t}))):null!=a&&(C(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+t)),e.push(a)),1;if(l=0,o=""===o?".":o+":",w(t))for(var c=0;c<t.length;c++){var u=o+O(s=t[c],c);l+=P(s,e,i,u,a)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=P(s=s.value,e,i,u=o+O(s,c++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function T(t,e,n){if(null==t)return t;var r=[],i=0;return P(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function A(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var R={current:null},_={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:_,ReactCurrentOwner:S};function I(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:T,forEach:function(t,e,n){T(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return T(t,(function(){e++})),e},toArray:function(t){return T(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=i,e.Profiler=a,e.PureComponent=b,e.StrictMode=o,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,e.act=I,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=g({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=S.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)E.call(e,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=M,e.createFactory=function(t){var e=M.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:h,_payload:{_status:-1,_result:t},_init:A}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=_.transition;_.transition={};try{t()}finally{_.transition=e}},e.unstable_act=I,e.useCallback=function(t,e){return R.current.useCallback(t,e)},e.useContext=function(t){return R.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return R.current.useDeferredValue(t)},e.useEffect=function(t,e){return R.current.useEffect(t,e)},e.useId=function(){return R.current.useId()},e.useImperativeHandle=function(t,e,n){return R.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return R.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return R.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return R.current.useMemo(t,e)},e.useReducer=function(t,e,n){return R.current.useReducer(t,e,n)},e.useRef=function(t){return R.current.useRef(t)},e.useState=function(t){return R.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return R.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return R.current.useTransition()},e.version="18.3.1"},9950:(t,e,n)=>{"use strict";t.exports=n(2049)},4414:(t,e,n)=>{"use strict";t.exports=n(2654)},1761:(t,e)=>{"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,d=function(){if(null!==c)try{var t=e.unstable_now();c(!0,t),c=null}catch(n){throw setTimeout(d,0),n}};n=function(t){null!==c?setTimeout(n,0,t):(c=t,setTimeout(d,0))},r=function(t,e){u=setTimeout(t,e)},i=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,v=-1,y=5,b=0;e.unstable_shouldYield=function(){return e.unstable_now()>=b},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<t?Math.floor(1e3/t):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();b=t+y;try{m(!0,t)?w.postMessage(null):(g=!1,m=null)}catch(n){throw w.postMessage(null),n}}else g=!1},n=function(t){m=t,g||(g=!0,w.postMessage(null))},r=function(t,n){v=h((function(){t(e.unstable_now())}),n)},i=function(){f(v),v=-1}}function E(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<M(i,e)))break t;t[r]=e,t[n]=i,n=r}}function S(t){return void 0===(t=t[0])?null:t}function k(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>M(a,n))void 0!==l&&0>M(l,a)?(t[r]=l,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==l&&0>M(l,n)))break t;t[r]=l,t[s]=n,r=s}}}return e}return null}function M(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var C=[],N=[],O=1,P=null,T=3,A=!1,R=!1,_=!1;function L(t){for(var e=S(N);null!==e;){if(null===e.callback)k(N);else{if(!(e.startTime<=t))break;k(N),e.sortIndex=e.expirationTime,E(C,e)}e=S(N)}}function I(t){if(_=!1,L(t),!R)if(null!==S(C))R=!0,n(D);else{var e=S(N);null!==e&&r(I,e.startTime-t)}}function D(t,n){R=!1,_&&(_=!1,i()),A=!0;var o=T;try{for(L(n),P=S(C);null!==P&&(!(P.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=P.callback;if("function"===typeof a){P.callback=null,T=P.priorityLevel;var s=a(P.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?P.callback=s:P===S(C)&&k(C),L(n)}else k(C);P=S(C)}if(null!==P)var l=!0;else{var c=S(N);null!==c&&r(I,c.startTime-n),l=!1}return l}finally{P=null,T=o,A=!1}}var j=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){R||A||(R=!0,n(D))},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return S(C)},e.unstable_next=function(t){switch(T){case 1:case 2:case 3:var e=3;break;default:e=T}var n=T;T=e;try{return t()}finally{T=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=j,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=T;T=t;try{return e()}finally{T=n}},e.unstable_scheduleCallback=function(t,o,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:O++,callback:o,priorityLevel:t,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(t.sortIndex=a,E(N,t),null===S(C)&&t===S(N)&&(_?i():_=!0,r(I,a-s))):(t.sortIndex=l,E(C,t),R||A||(R=!0,n(D))),t},e.unstable_wrapCallback=function(t){var e=T;return function(){var n=T;T=e;try{return t.apply(this,arguments)}finally{T=n}}}},5340:(t,e,n)=>{"use strict";t.exports=n(1761)},6122:(t,e,n)=>{"use strict";var r=n(5546),i=Array.prototype.concat,o=Array.prototype.slice,a=t.exports=function(t){for(var e=[],n=0,a=t.length;n<a;n++){var s=t[n];r(s)?e=i.call(e,o.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},5546:t=>{t.exports=function(t){return!(!t||"string"===typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},9660:t=>{t.exports=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||n.forEach((function(e){t.addRange(e)})),e&&e.focus()}}},8738:(t,e)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=a(t,o(n)))}return t}function o(t){if("string"===typeof t||"number"===typeof t)return t;if("object"!==typeof t)return"";if(Array.isArray(t))return i.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var n in t)r.call(t,n)&&t[n]&&(e=a(e,n));return e}function a(t,e){return e?t?t+" "+e:t+e:t}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&i&&r;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>r[t]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,r)=>(n.f[r](t,e),e)),[])),n.u=t=>"static/js/"+t+"."+{206:"635e821d",873:"251267c0"}[t]+".chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="antv-g6-learn:";n.l=(r,i,o,a)=>{if(t[r])t[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==e+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+o),s.src=r),t[r]=[i];var h=(e,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((t=>t(n))),e)return e(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.p="/antv-g6-learn/",(()=>{n.b=document.baseURI||self.location.href;var t={792:0};n.f.j=(e,r)=>{var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=t[e]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(e),s=new Error;n.l(a,(r=>{if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+e,e)}};var e=(e,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((e=>0!==t[e]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(e&&e(r);c<a.length;c++)o=a[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkantv_g6_learn=self.webpackChunkantv_g6_learn||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),(()=>{"use strict";var t={};n.r(t),n.d(t,{add:()=>kt,adjoint:()=>H,clone:()=>D,copy:()=>j,create:()=>I,determinant:()=>W,equals:()=>Pt,exactEquals:()=>Ot,frob:()=>St,fromQuat:()=>dt,fromQuat2:()=>ot,fromRotation:()=>tt,fromRotationTranslation:()=>it,fromRotationTranslationScale:()=>ct,fromRotationTranslationScaleOrigin:()=>ut,fromScaling:()=>J,fromTranslation:()=>Q,fromValues:()=>z,fromXRotation:()=>et,fromYRotation:()=>nt,fromZRotation:()=>rt,frustum:()=>ht,getRotation:()=>lt,getScaling:()=>st,getTranslation:()=>at,identity:()=>B,invert:()=>V,lookAt:()=>xt,mul:()=>Tt,multiply:()=>G,multiplyScalar:()=>Ct,multiplyScalarAndAdd:()=>Nt,ortho:()=>yt,orthoNO:()=>vt,orthoZO:()=>bt,perspective:()=>pt,perspectiveFromFieldOfView:()=>mt,perspectiveNO:()=>ft,perspectiveZO:()=>gt,rotate:()=>Y,rotateX:()=>X,rotateY:()=>K,rotateZ:()=>Z,scale:()=>q,set:()=>F,str:()=>Et,sub:()=>At,subtract:()=>Mt,targetTo:()=>wt,translate:()=>U,transpose:()=>$});var e={};n.r(e),n.d(e,{circle:()=>Jf,diamond:()=>ep,rect:()=>rp,simple:()=>op,triangle:()=>tp,triangleRect:()=>ip,vee:()=>np});var r=n(1352),i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)};function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function u(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function h(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;function f(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}"function"===typeof SuppressedError&&SuppressedError;const p=n(5438);var g=1e-6,m="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function v(){var t=new m(3);return m!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function y(t){var e=new m(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function b(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function x(t,e,n){var r=new m(3);return r[0]=t,r[1]=e,r[2]=n,r}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function E(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function S(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function k(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function M(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function C(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function N(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function O(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function P(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t}function T(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function A(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function R(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=g*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=g*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=g*Math.max(1,Math.abs(i),Math.abs(s))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var _=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)},L=b;!function(){var t=v()}();function I(){var t=new m(16);return m!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function D(t){var e=new m(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function j(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function z(t,e,n,r,i,o,a,s,l,c,u,d,h,f,p,g){var v=new m(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=r,v[4]=i,v[5]=o,v[6]=a,v[7]=s,v[8]=l,v[9]=c,v[10]=u,v[11]=d,v[12]=h,v[13]=f,v[14]=p,v[15]=g,v}function F(t,e,n,r,i,o,a,s,l,c,u,d,h,f,p,g,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=c,t[9]=u,t[10]=d,t[11]=h,t[12]=f,t[13]=p,t[14]=g,t[15]=m,t}function B(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function $(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function V(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],g=e[13],m=e[14],v=e[15],y=n*s-r*a,b=n*l-i*a,x=n*c-o*a,w=r*l-i*s,E=r*c-o*s,S=i*c-o*l,k=u*g-d*p,M=u*m-h*p,C=u*v-f*p,N=d*m-h*g,O=d*v-f*g,P=h*v-f*m,T=y*P-b*O+x*N+w*C-E*M+S*k;return T?(T=1/T,t[0]=(s*P-l*O+c*N)*T,t[1]=(i*O-r*P-o*N)*T,t[2]=(g*S-m*E+v*w)*T,t[3]=(h*E-d*S-f*w)*T,t[4]=(l*C-a*P-c*M)*T,t[5]=(n*P-i*C+o*M)*T,t[6]=(m*x-p*S-v*b)*T,t[7]=(u*S-h*x+f*b)*T,t[8]=(a*O-s*C+c*k)*T,t[9]=(r*C-n*O-o*k)*T,t[10]=(p*E-g*x+v*y)*T,t[11]=(d*x-u*E-f*y)*T,t[12]=(s*M-a*N-l*k)*T,t[13]=(n*N-r*M+i*k)*T,t[14]=(g*b-p*w-m*y)*T,t[15]=(u*w-d*b+h*y)*T,t):null}function H(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],g=e[13],m=e[14],v=e[15];return t[0]=s*(h*v-f*m)-d*(l*v-c*m)+g*(l*f-c*h),t[1]=-(r*(h*v-f*m)-d*(i*v-o*m)+g*(i*f-o*h)),t[2]=r*(l*v-c*m)-s*(i*v-o*m)+g*(i*c-o*l),t[3]=-(r*(l*f-c*h)-s*(i*f-o*h)+d*(i*c-o*l)),t[4]=-(a*(h*v-f*m)-u*(l*v-c*m)+p*(l*f-c*h)),t[5]=n*(h*v-f*m)-u*(i*v-o*m)+p*(i*f-o*h),t[6]=-(n*(l*v-c*m)-a*(i*v-o*m)+p*(i*c-o*l)),t[7]=n*(l*f-c*h)-a*(i*f-o*h)+u*(i*c-o*l),t[8]=a*(d*v-f*g)-u*(s*v-c*g)+p*(s*f-c*d),t[9]=-(n*(d*v-f*g)-u*(r*v-o*g)+p*(r*f-o*d)),t[10]=n*(s*v-c*g)-a*(r*v-o*g)+p*(r*c-o*s),t[11]=-(n*(s*f-c*d)-a*(r*f-o*d)+u*(r*c-o*s)),t[12]=-(a*(d*m-h*g)-u*(s*m-l*g)+p*(s*h-l*d)),t[13]=n*(d*m-h*g)-u*(r*m-i*g)+p*(r*h-i*d),t[14]=-(n*(s*m-l*g)-a*(r*m-i*g)+p*(r*l-i*s)),t[15]=n*(s*h-l*d)-a*(r*h-i*d)+u*(r*l-i*s),t}function W(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11],f=t[12],p=t[13],g=t[14],m=t[15];return(e*a-n*o)*(d*m-h*g)-(e*s-r*o)*(u*m-h*p)+(e*l-i*o)*(u*g-d*p)+(n*s-r*a)*(c*m-h*f)-(n*l-i*a)*(c*g-d*f)+(r*l-i*s)*(c*p-u*f)}function G(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],f=e[10],p=e[11],g=e[12],m=e[13],v=e[14],y=e[15],b=n[0],x=n[1],w=n[2],E=n[3];return t[0]=b*r+x*s+w*d+E*g,t[1]=b*i+x*l+w*h+E*m,t[2]=b*o+x*c+w*f+E*v,t[3]=b*a+x*u+w*p+E*y,b=n[4],x=n[5],w=n[6],E=n[7],t[4]=b*r+x*s+w*d+E*g,t[5]=b*i+x*l+w*h+E*m,t[6]=b*o+x*c+w*f+E*v,t[7]=b*a+x*u+w*p+E*y,b=n[8],x=n[9],w=n[10],E=n[11],t[8]=b*r+x*s+w*d+E*g,t[9]=b*i+x*l+w*h+E*m,t[10]=b*o+x*c+w*f+E*v,t[11]=b*a+x*u+w*p+E*y,b=n[12],x=n[13],w=n[14],E=n[15],t[12]=b*r+x*s+w*d+E*g,t[13]=b*i+x*l+w*h+E*m,t[14]=b*o+x*c+w*f+E*v,t[15]=b*a+x*u+w*p+E*y,t}function U(t,e,n){var r,i,o,a,s,l,c,u,d,h,f,p,g=n[0],m=n[1],v=n[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],f=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=d,t[9]=h,t[10]=f,t[11]=p,t[12]=r*g+s*m+d*v+e[12],t[13]=i*g+l*m+h*v+e[13],t[14]=o*g+c*m+f*v+e[14],t[15]=a*g+u*m+p*v+e[15]),t}function q(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Y(t,e,n,r){var i,o,a,s,l,c,u,d,h,f,p,m,v,y,b,x,w,E,S,k,M,C,N,O,P=r[0],T=r[1],A=r[2],R=Math.hypot(P,T,A);return R<g?null:(P*=R=1/R,T*=R,A*=R,i=Math.sin(n),a=1-(o=Math.cos(n)),s=e[0],l=e[1],c=e[2],u=e[3],d=e[4],h=e[5],f=e[6],p=e[7],m=e[8],v=e[9],y=e[10],b=e[11],x=P*P*a+o,w=T*P*a+A*i,E=A*P*a-T*i,S=P*T*a-A*i,k=T*T*a+o,M=A*T*a+P*i,C=P*A*a+T*i,N=T*A*a-P*i,O=A*A*a+o,t[0]=s*x+d*w+m*E,t[1]=l*x+h*w+v*E,t[2]=c*x+f*w+y*E,t[3]=u*x+p*w+b*E,t[4]=s*S+d*k+m*M,t[5]=l*S+h*k+v*M,t[6]=c*S+f*k+y*M,t[7]=u*S+p*k+b*M,t[8]=s*C+d*N+m*O,t[9]=l*C+h*N+v*O,t[10]=c*C+f*N+y*O,t[11]=u*C+p*N+b*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function X(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+u*r,t[6]=s*i+d*r,t[7]=l*i+h*r,t[8]=c*i-o*r,t[9]=u*i-a*r,t[10]=d*i-s*r,t[11]=h*i-l*r,t}function K(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],c=e[8],u=e[9],d=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-u*r,t[2]=s*i-d*r,t[3]=l*i-h*r,t[8]=o*r+c*i,t[9]=a*r+u*i,t[10]=s*r+d*i,t[11]=l*r+h*i,t}function Z(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],c=e[4],u=e[5],d=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+u*r,t[2]=s*i+d*r,t[3]=l*i+h*r,t[4]=c*i-o*r,t[5]=u*i-a*r,t[6]=d*i-s*r,t[7]=h*i-l*r,t}function Q(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function J(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function tt(t,e,n){var r,i,o,a=n[0],s=n[1],l=n[2],c=Math.hypot(a,s,l);return c<g?null:(a*=c=1/c,s*=c,l*=c,r=Math.sin(e),o=1-(i=Math.cos(e)),t[0]=a*a*o+i,t[1]=s*a*o+l*r,t[2]=l*a*o-s*r,t[3]=0,t[4]=a*s*o-l*r,t[5]=s*s*o+i,t[6]=l*s*o+a*r,t[7]=0,t[8]=a*l*o+s*r,t[9]=s*l*o-a*r,t[10]=l*l*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function et(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function rt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function it(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,l=i+i,c=o+o,u=r*s,d=r*l,h=r*c,f=i*l,p=i*c,g=o*c,m=a*s,v=a*l,y=a*c;return t[0]=1-(f+g),t[1]=d+y,t[2]=h-v,t[3]=0,t[4]=d-y,t[5]=1-(u+g),t[6]=p+m,t[7]=0,t[8]=h+v,t[9]=p-m,t[10]=1-(u+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ot(t,e){var n=new m(3),r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=r*r+i*i+o*o+a*a;return d>0?(n[0]=2*(s*a+u*r+l*o-c*i)/d,n[1]=2*(l*a+u*i+c*r-s*o)/d,n[2]=2*(c*a+u*o+s*i-l*r)/d):(n[0]=2*(s*a+u*r+l*o-c*i),n[1]=2*(l*a+u*i+c*r-s*o),n[2]=2*(c*a+u*o+s*i-l*r)),it(t,e,n),t}function at(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function st(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],l=e[8],c=e[9],u=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(l,c,u),t}function lt(t,e){var n=new m(3);st(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],a=e[0]*r,s=e[1]*i,l=e[2]*o,c=e[4]*r,u=e[5]*i,d=e[6]*o,h=e[8]*r,f=e[9]*i,p=e[10]*o,g=a+u+p,v=0;return g>0?(v=2*Math.sqrt(g+1),t[3]=.25*v,t[0]=(d-f)/v,t[1]=(h-l)/v,t[2]=(s-c)/v):a>u&&a>p?(v=2*Math.sqrt(1+a-u-p),t[3]=(d-f)/v,t[0]=.25*v,t[1]=(s+c)/v,t[2]=(h+l)/v):u>p?(v=2*Math.sqrt(1+u-a-p),t[3]=(h-l)/v,t[0]=(s+c)/v,t[1]=.25*v,t[2]=(d+f)/v):(v=2*Math.sqrt(1+p-a-u),t[3]=(s-c)/v,t[0]=(h+l)/v,t[1]=(d+f)/v,t[2]=.25*v),t}function ct(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],l=i+i,c=o+o,u=a+a,d=i*l,h=i*c,f=i*u,p=o*c,g=o*u,m=a*u,v=s*l,y=s*c,b=s*u,x=r[0],w=r[1],E=r[2];return t[0]=(1-(p+m))*x,t[1]=(h+b)*x,t[2]=(f-y)*x,t[3]=0,t[4]=(h-b)*w,t[5]=(1-(d+m))*w,t[6]=(g+v)*w,t[7]=0,t[8]=(f+y)*E,t[9]=(g-v)*E,t[10]=(1-(d+p))*E,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ut(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],l=e[3],c=o+o,u=a+a,d=s+s,h=o*c,f=o*u,p=o*d,g=a*u,m=a*d,v=s*d,y=l*c,b=l*u,x=l*d,w=r[0],E=r[1],S=r[2],k=i[0],M=i[1],C=i[2],N=(1-(g+v))*w,O=(f+x)*w,P=(p-b)*w,T=(f-x)*E,A=(1-(h+v))*E,R=(m+y)*E,_=(p+b)*S,L=(m-y)*S,I=(1-(h+g))*S;return t[0]=N,t[1]=O,t[2]=P,t[3]=0,t[4]=T,t[5]=A,t[6]=R,t[7]=0,t[8]=_,t[9]=L,t[10]=I,t[11]=0,t[12]=n[0]+k-(N*k+T*M+_*C),t[13]=n[1]+M-(O*k+A*M+L*C),t[14]=n[2]+C-(P*k+R*M+I*C),t[15]=1,t}function dt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,c=n*a,u=r*a,d=r*s,h=i*a,f=i*s,p=i*l,g=o*a,m=o*s,v=o*l;return t[0]=1-d-p,t[1]=u+v,t[2]=h-m,t[3]=0,t[4]=u-v,t[5]=1-c-p,t[6]=f+g,t[7]=0,t[8]=h+m,t[9]=f-g,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ht(t,e,n,r,i,o,a){var s=1/(n-e),l=1/(i-r),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function ft(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}var pt=ft;function gt(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=i*o,t[14]=i*r*o):(t[10]=-1,t[14]=-r),t}function mt(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),c=2/(i+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*l*.5,t[9]=(i-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function vt(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*c,t[15]=1,t}var yt=vt;function bt(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=o*c,t[15]=1,t}function xt(t,e,n,r){var i,o,a,s,l,c,u,d,h,f,p=e[0],m=e[1],v=e[2],y=r[0],b=r[1],x=r[2],w=n[0],E=n[1],S=n[2];return Math.abs(p-w)<g&&Math.abs(m-E)<g&&Math.abs(v-S)<g?B(t):(u=p-w,d=m-E,h=v-S,i=b*(h*=f=1/Math.hypot(u,d,h))-x*(d*=f),o=x*(u*=f)-y*h,a=y*d-b*u,(f=Math.hypot(i,o,a))?(i*=f=1/f,o*=f,a*=f):(i=0,o=0,a=0),s=d*a-h*o,l=h*i-u*a,c=u*o-d*i,(f=Math.hypot(s,l,c))?(s*=f=1/f,l*=f,c*=f):(s=0,l=0,c=0),t[0]=i,t[1]=s,t[2]=u,t[3]=0,t[4]=o,t[5]=l,t[6]=d,t[7]=0,t[8]=a,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*p+o*m+a*v),t[13]=-(s*p+l*m+c*v),t[14]=-(u*p+d*m+h*v),t[15]=1,t)}function wt(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],l=r[1],c=r[2],u=i-n[0],d=o-n[1],h=a-n[2],f=u*u+d*d+h*h;f>0&&(u*=f=1/Math.sqrt(f),d*=f,h*=f);var p=l*h-c*d,g=c*u-s*h,m=s*d-l*u;return(f=p*p+g*g+m*m)>0&&(p*=f=1/Math.sqrt(f),g*=f,m*=f),t[0]=p,t[1]=g,t[2]=m,t[3]=0,t[4]=d*m-h*g,t[5]=h*p-u*m,t[6]=u*g-d*p,t[7]=0,t[8]=u,t[9]=d,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function Et(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function St(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function kt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Mt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Ct(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Nt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Ot(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Pt(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],f=t[11],p=t[12],m=t[13],v=t[14],y=t[15],b=e[0],x=e[1],w=e[2],E=e[3],S=e[4],k=e[5],M=e[6],C=e[7],N=e[8],O=e[9],P=e[10],T=e[11],A=e[12],R=e[13],_=e[14],L=e[15];return Math.abs(n-b)<=g*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-x)<=g*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(i-w)<=g*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-E)<=g*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(a-S)<=g*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(s-k)<=g*Math.max(1,Math.abs(s),Math.abs(k))&&Math.abs(l-M)<=g*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(c-C)<=g*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(u-N)<=g*Math.max(1,Math.abs(u),Math.abs(N))&&Math.abs(d-O)<=g*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(h-P)<=g*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(f-T)<=g*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(p-A)<=g*Math.max(1,Math.abs(p),Math.abs(A))&&Math.abs(m-R)<=g*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(v-_)<=g*Math.max(1,Math.abs(v),Math.abs(_))&&Math.abs(y-L)<=g*Math.max(1,Math.abs(y),Math.abs(L))}var Tt=G,At=Mt;function Rt(){var t=new m(9);return m!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function _t(){var t=new m(4);return m!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Lt(t,e,n,r){var i=new m(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function It(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}!function(){var t=_t()}();function Dt(){var t=new m(4);return m!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function jt(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function zt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*u+a*s+i*c-o*l,t[1]=i*u+a*l+o*s-r*c,t[2]=o*u+a*c+r*l-i*s,t[3]=a*u-r*s-i*l-o*c,t}function Ft(t,e,n,r){var i,o,a,s,l,c=e[0],u=e[1],d=e[2],h=e[3],f=n[0],p=n[1],m=n[2],v=n[3];return c*f+u*p+d*m+h*v<0&&-v,1-o>g?(Math.acos(o),Math.sin(i),Math.sin((1-r)*i)/a,Math.sin(r*i)/a):r,t[0]=s*c+l*f,t[1]=s*u+l*p,t[2]=s*d+l*m,t[3]=s*h+l*v,t}function Bt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function $t(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),l=Math.cos(n),c=Math.sin(r),u=Math.cos(r);return t[0]=o*l*u-a*s*c,t[1]=a*s*u+o*l*c,t[2]=a*l*c-o*s*u,t[3]=a*l*u+o*s*c,t}var Vt=Lt,Ht=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},Wt=zt,Gt=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t};(function(){var t=v(),e=x(1,0,0),n=x(0,1,0)})(),function(){var t=Dt(),e=Dt()}(),function(){var t=Rt()}();!function(){var t=function(){var t=new m(2);return m!=Float32Array&&(t[0]=0,t[1]=0),t}()}();var Ut={}.toString;const qt=function(t,e){return Ut.call(t)==="[object "+e+"]"};const Yt=function(t){return qt(t,"Number")};function Xt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}const Kt=function(t){return null===t||void 0===t},Zt=function(t){return qt(t,"String")};const Qt=function(t,e,n){return t<e?e:t>n?n:t};var Jt={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function te(t){return Array.isArray(t)&&t.every((function(t){var e=t[0].toLowerCase();return Jt[e]===t.length-1&&"achlmqstvz".includes(e)}))}function ee(t){return te(t)&&t.every((function(t){var e=t[0];return e===e.toUpperCase()}))}function ne(t){return ee(t)&&t.every((function(t){var e=t[0];return"ACLMQZ".includes(e)}))}var re={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function ie(t){for(var e=t.pathValue[t.segmentStart],n=e.toLowerCase(),r=t.data;r.length>=Jt[n]&&("m"===n&&r.length>2?(t.segments.push([e].concat(r.splice(0,2))),n="l",e="m"===e?"l":"L"):t.segments.push([e].concat(r.splice(0,Jt[n]))),Jt[n]););}function oe(t){var e=t.index,n=t.pathValue,r=n.charCodeAt(e);return 48===r?(t.param=0,void(t.index+=1)):49===r?(t.param=1,void(t.index+=1)):void(t.err='[path-util]: invalid Arc flag "'+n[e]+'", expecting 0 or 1 at index '+e)}function ae(t){return t>=48&&t<=57||43===t||45===t||46===t}function se(t){return t>=48&&t<=57}function le(t){var e,n=t.max,r=t.pathValue,i=t.index,o=i,a=!1,s=!1,l=!1,c=!1;if(o>=n)t.err="[path-util]: Invalid path value at index "+o+', "pathValue" is missing param';else if(43!==(e=r.charCodeAt(o))&&45!==e||(o+=1,e=r.charCodeAt(o)),se(e)||46===e){if(46!==e){if(a=48===e,o+=1,e=r.charCodeAt(o),a&&o<n&&e&&se(e))return void(t.err="[path-util]: Invalid path value at index "+i+', "'+r[i]+'" illegal number');for(;o<n&&se(r.charCodeAt(o));)o+=1,s=!0;e=r.charCodeAt(o)}if(46===e){for(c=!0,o+=1;se(r.charCodeAt(o));)o+=1,l=!0;e=r.charCodeAt(o)}if(101===e||69===e){if(c&&!s&&!l)return void(t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" invalid float exponent');if(o+=1,43!==(e=r.charCodeAt(o))&&45!==e||(o+=1),!(o<n&&se(r.charCodeAt(o))))return void(t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" invalid integer exponent');for(;o<n&&se(r.charCodeAt(o));)o+=1}t.index=o,t.param=+t.pathValue.slice(i,o)}else t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" is not a number'}function ce(t){for(var e,n=t.pathValue,r=t.max;t.index<r&&(10===(e=n.charCodeAt(t.index))||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e));)t.index+=1}function ue(t){var e=t.max,n=t.pathValue,r=t.index,i=n.charCodeAt(r),o=Jt[n[r].toLowerCase()];if(t.segmentStart=r,function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}(i))if(t.index+=1,ce(t),t.data=[],o){for(;;){for(var a=o;a>0;a-=1){if(97!==(32|i)||3!==a&&4!==a?le(t):oe(t),t.err.length)return;t.data.push(t.param),ce(t),t.index<e&&44===n.charCodeAt(t.index)&&(t.index+=1,ce(t))}if(t.index>=t.max)break;if(!ae(n.charCodeAt(t.index)))break}ie(t)}else ie(t);else t.err='[path-util]: Invalid path value "'+n[r]+'" is not a path command'}var de=function(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""};function he(t){if(ee(t))return[].concat(t);var e=function(t){if(te(t))return[].concat(t);var e=new de(t);for(ce(e);e.index<e.max&&!e.err.length;)ue(e);return e.err?e.err:e.segments}(t),n=0,r=0,i=0,o=0;return e.map((function(t){var e,a=t.slice(1).map(Number),s=t[0],l=s.toUpperCase();if("M"===s)return n=a[0],r=a[1],i=n,o=r,["M",n,r];if(s!==l)switch(l){case"A":e=[l,a[0],a[1],a[2],a[3],a[4],a[5]+n,a[6]+r];break;case"V":e=[l,a[0]+r];break;case"H":e=[l,a[0]+n];break;default:var c=a.map((function(t,e){return t+(e%2?r:n)}));e=[l].concat(c)}else e=[l].concat(a);var u=e.length;switch(l){case"Z":n=i,r=o;break;case"H":n=e[1];break;case"V":r=e[1];break;default:n=e[u-2],r=e[u-1],"M"===l&&(i=n,o=r)}return e}))}function fe(t,e){var n=t[0],r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=t.slice(1).map(Number),l=t;if("TQ".includes(n)||(e.qx=null,e.qy=null),"H"===n)l=["L",t[1],i];else if("V"===n)l=["L",r,t[1]];else if("S"===n){var c=2*r-o,u=2*i-a;e.x1=c,e.y1=u,l=["C",c,u].concat(s)}else if("T"===n){var d=2*r-e.qx,h=2*i-e.qy;e.qx=d,e.qy=h,l=["Q",d,h].concat(s)}else if("Q"===n){var f=s[0],p=s[1];e.qx=f,e.qy=p}return l}function pe(t){if(ne(t))return[].concat(t);for(var e=he(t),n=a({},re),r=0;r<e.length;r+=1){e[r]=fe(e[r],n);var i=e[r],o=i.length;n.x1=+i[o-2],n.y1=+i[o-1],n.x2=+i[o-4]||n.x1,n.y2=+i[o-3]||n.y1}return e}function ge(t,e,n){var r=t[0],i=t[1];return[r+(e[0]-r)*n,i+(e[1]-i)*n]}function me(t,e,n,r,i){var o=Xt([t,e],[n,r]),a={x:0,y:0};if("number"===typeof i)if(i<=0)a={x:t,y:e};else if(i>=o)a={x:n,y:r};else{var s=ge([t,e],[n,r],i/o);a={x:s[0],y:s[1]}}return{length:o,point:a,min:{x:Math.min(t,n),y:Math.min(e,r)},max:{x:Math.max(t,n),y:Math.max(e,r)}}}function ve(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,a=n*i+r*o,s=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(o,2)));return(n*o-r*i<0?-1:1)*Math.acos(a/s)}function ye(t,e,n,r,i,o,a,s,l,c){var u=Math.abs,d=Math.sin,h=Math.cos,f=Math.sqrt,p=Math.PI,g=u(n),m=u(r),v=(i%360+360)%360*(p/180);if(t===s&&e===l)return{x:t,y:e};if(0===g||0===m)return me(t,e,s,l,c).point;var y=(t-s)/2,b=(e-l)/2,x={x:h(v)*y+d(v)*b,y:-d(v)*y+h(v)*b},w=Math.pow(x.x,2)/Math.pow(g,2)+Math.pow(x.y,2)/Math.pow(m,2);w>1&&(g*=f(w),m*=f(w));var E=(Math.pow(g,2)*Math.pow(m,2)-Math.pow(g,2)*Math.pow(x.y,2)-Math.pow(m,2)*Math.pow(x.x,2))/(Math.pow(g,2)*Math.pow(x.y,2)+Math.pow(m,2)*Math.pow(x.x,2)),S=(o!==a?1:-1)*f(E=E<0?0:E),k=S*(g*x.y/m),M=S*(-m*x.x/g),C=h(v)*k-d(v)*M+(t+s)/2,N=d(v)*k+h(v)*M+(e+l)/2,O={x:(x.x-k)/g,y:(x.y-M)/m},P=ve({x:1,y:0},O),T=ve(O,{x:(-x.x-k)/g,y:(-x.y-M)/m});!a&&T>0?T-=2*p:a&&T<0&&(T+=2*p);var A=P+(T%=2*p)*c,R=g*h(A),_=m*d(A);return{x:h(v)*R-d(v)*_+C,y:d(v)*R+h(v)*_+N}}function be(t,e,n,r,i,o,a,s,l,c,u){var d,h=u.bbox,f=void 0===h||h,p=u.length,g=void 0===p||p,m=u.sampleSize,v=void 0===m?30:m,y="number"===typeof c,b=t,x=e,w=0,E=[b,x,w],S=[b,x],k={x:0,y:0},M=[{x:b,y:x}];y&&c<=0&&(k={x:b,y:x});for(var C=0;C<=v;C+=1){if(b=(d=ye(t,e,n,r,i,o,a,s,l,C/v)).x,x=d.y,f&&M.push({x:b,y:x}),g&&(w+=Xt(S,[b,x])),S=[b,x],y&&w>=c&&c>E[2]){var N=(w-c)/(w-E[2]);k={x:S[0]*(1-N)+E[0]*N,y:S[1]*(1-N)+E[1]*N}}E=[b,x,w]}return y&&c>=w&&(k={x:s,y:l}),{length:w,point:k,min:{x:Math.min.apply(null,M.map((function(t){return t.x}))),y:Math.min.apply(null,M.map((function(t){return t.y})))},max:{x:Math.max.apply(null,M.map((function(t){return t.x}))),y:Math.max.apply(null,M.map((function(t){return t.y})))}}}function xe(t,e,n,r,i,o,a,s,l){var c=1-l;return{x:Math.pow(c,3)*t+3*Math.pow(c,2)*l*n+3*c*Math.pow(l,2)*i+Math.pow(l,3)*a,y:Math.pow(c,3)*e+3*Math.pow(c,2)*l*r+3*c*Math.pow(l,2)*o+Math.pow(l,3)*s}}function we(t,e,n,r,i,o,a,s,l,c){var u,d=c.bbox,h=void 0===d||d,f=c.length,p=void 0===f||f,g=c.sampleSize,m=void 0===g?10:g,v="number"===typeof l,y=t,b=e,x=0,w=[y,b,x],E=[y,b],S={x:0,y:0},k=[{x:y,y:b}];v&&l<=0&&(S={x:y,y:b});for(var M=0;M<=m;M+=1){if(y=(u=xe(t,e,n,r,i,o,a,s,M/m)).x,b=u.y,h&&k.push({x:y,y:b}),p&&(x+=Xt(E,[y,b])),E=[y,b],v&&x>=l&&l>w[2]){var C=(x-l)/(x-w[2]);S={x:E[0]*(1-C)+w[0]*C,y:E[1]*(1-C)+w[1]*C}}w=[y,b,x]}return v&&l>=x&&(S={x:a,y:s}),{length:x,point:S,min:{x:Math.min.apply(null,k.map((function(t){return t.x}))),y:Math.min.apply(null,k.map((function(t){return t.y})))},max:{x:Math.max.apply(null,k.map((function(t){return t.x}))),y:Math.max.apply(null,k.map((function(t){return t.y})))}}}function Ee(t,e,n,r,i,o,a){var s=1-a;return{x:Math.pow(s,2)*t+2*s*a*n+Math.pow(a,2)*i,y:Math.pow(s,2)*e+2*s*a*r+Math.pow(a,2)*o}}function Se(t,e,n,r,i,o,a,s){var l,c=s.bbox,u=void 0===c||c,d=s.length,h=void 0===d||d,f=s.sampleSize,p=void 0===f?10:f,g="number"===typeof a,m=t,v=e,y=0,b=[m,v,y],x=[m,v],w={x:0,y:0},E=[{x:m,y:v}];g&&a<=0&&(w={x:m,y:v});for(var S=0;S<=p;S+=1){if(m=(l=Ee(t,e,n,r,i,o,S/p)).x,v=l.y,u&&E.push({x:m,y:v}),h&&(y+=Xt(x,[m,v])),x=[m,v],g&&y>=a&&a>b[2]){var k=(y-a)/(y-b[2]);w={x:x[0]*(1-k)+b[0]*k,y:x[1]*(1-k)+b[1]*k}}b=[m,v,y]}return g&&a>=y&&(w={x:i,y:o}),{length:y,point:w,min:{x:Math.min.apply(null,E.map((function(t){return t.x}))),y:Math.min.apply(null,E.map((function(t){return t.y})))},max:{x:Math.max.apply(null,E.map((function(t){return t.x}))),y:Math.max.apply(null,E.map((function(t){return t.y})))}}}function ke(t,e,n){for(var r,i,o,a,s,l,c,u,d,h=pe(t),f="number"===typeof e,p=[],g=0,m=0,v=0,y=0,b=[],x=[],w=0,E={x:0,y:0},S=E,k=E,M=E,C=0,N=0,O=h.length;N<O;N+=1)p=(c="M"===(u=(d=h[N])[0]))?p:[g,m].concat(d.slice(1)),c?(S=E={x:v=d[1],y:y=d[2]},w=0,f&&e<.001&&(M=E)):"L"===u?(w=(r=me(p[0],p[1],p[2],p[3],(e||0)-C)).length,E=r.min,S=r.max,k=r.point):"A"===u?(w=(i=be(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],(e||0)-C,n||{})).length,E=i.min,S=i.max,k=i.point):"C"===u?(w=(o=we(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],(e||0)-C,n||{})).length,E=o.min,S=o.max,k=o.point):"Q"===u?(w=(a=Se(p[0],p[1],p[2],p[3],p[4],p[5],(e||0)-C,n||{})).length,E=a.min,S=a.max,k=a.point):"Z"===u&&(w=(s=me((p=[g,m,v,y])[0],p[1],p[2],p[3],(e||0)-C)).length,E=s.min,S=s.max,k=s.point),f&&C<e&&C+w>=e&&(M=k),x.push(S),b.push(E),C+=w,g=(l="Z"!==u?d.slice(-2):[v,y])[0],m=l[1];return f&&e>=C&&(M={x:g,y:m}),{length:C,point:M,min:{x:Math.min.apply(null,b.map((function(t){return t.x}))),y:Math.min.apply(null,b.map((function(t){return t.y})))},max:{x:Math.max.apply(null,x.map((function(t){return t.x}))),y:Math.max.apply(null,x.map((function(t){return t.y})))}}}const Me=function(t){return Array.isArray?Array.isArray(t):qt(t,"Array")},Ce=function(t){if(Me(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},Ne=function(t){if(Me(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])};var Oe=1e-5;function Pe(t,e,n){return void 0===n&&(n=Oe),Math.abs(t-e)<n}const Te=function(t,e){return(t%e+e)%e};function Ae(t,e,n){if(t[n].length>7){t[n].shift();for(var r=t[n],i=n;r.length;)e[n]="A",t.splice(i+=1,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}function Re(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}function _e(t,e,n,r,i,o,a,s,l,c){var u,d,h,f,p,g=t,m=e,v=n,y=r,b=s,x=l,w=120*Math.PI/180,E=Math.PI/180*(+i||0),S=[];if(c)d=c[0],h=c[1],f=c[2],p=c[3];else{g=(u=Re(g,m,-E)).x,m=u.y;var k=(g-(b=(u=Re(b,x,-E)).x))/2,M=(m-(x=u.y))/2,C=k*k/(v*v)+M*M/(y*y);C>1&&(v*=C=Math.sqrt(C),y*=C);var N=v*v,O=y*y,P=(o===a?-1:1)*Math.sqrt(Math.abs((N*O-N*M*M-O*k*k)/(N*M*M+O*k*k)));f=P*v*M/y+(g+b)/2,p=P*-y*k/v+(m+x)/2,d=Math.asin(((m-p)/y*Math.pow(10,9)|0)/Math.pow(10,9)),h=Math.asin(((x-p)/y*Math.pow(10,9)|0)/Math.pow(10,9)),d=g<f?Math.PI-d:d,h=b<f?Math.PI-h:h,d<0&&(d=2*Math.PI+d),h<0&&(h=2*Math.PI+h),a&&d>h&&(d-=2*Math.PI),!a&&h>d&&(h-=2*Math.PI)}var T=h-d;if(Math.abs(T)>w){var A=h,R=b,_=x;h=d+w*(a&&h>d?1:-1),S=_e(b=f+v*Math.cos(h),x=p+y*Math.sin(h),v,y,i,0,a,R,_,[h,A,f,p])}T=h-d;var L=Math.cos(d),I=Math.sin(d),D=Math.cos(h),j=Math.sin(h),z=Math.tan(T/4),F=4/3*v*z,B=4/3*y*z,$=[g,m],V=[g+F*I,m-B*L],H=[b+F*j,x-B*D],W=[b,x];if(V[0]=2*$[0]-V[0],V[1]=2*$[1]-V[1],c)return V.concat(H,W,S);for(var G=[],U=0,q=(S=V.concat(H,W,S)).length;U<q;U+=1)G[U]=U%2?Re(S[U-1],S[U],E).y:Re(S[U],S[U+1],E).x;return G}var Le=function(t,e,n,r){return h(h([],ge([t,e],[n,r],.5),!0),[n,r,n,r],!1)};function Ie(t,e){var n,r=t[0],i=t.slice(1).map(Number),o=i[0],a=i[1],s=e.x1,l=e.y1,c=e.x,u=e.y;switch("TQ".includes(r)||(e.qx=null,e.qy=null),r){case"M":return e.x=o,e.y=a,t;case"A":return n=[s,l].concat(i),["C"].concat(_e(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]));case"Q":return e.qx=o,e.qy=a,n=[s,l].concat(i),["C"].concat(function(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]}(n[0],n[1],n[2],n[3],n[4],n[5]));case"L":return["C"].concat(Le(s,l,o,a));case"Z":return s===c&&l===u?["C",s,l,c,u,c,u]:["C"].concat(Le(s,l,c,u))}return t}function De(t,e){if(void 0===e&&(e=!1),function(t){return ne(t)&&t.every((function(t){var e=t[0];return"MC".includes(e)}))}(t)){var n=[].concat(t);return e?[n,[]]:n}for(var r,i,o=pe(t),s=a({},re),l=[],c="",u=o.length,d=[],h=0;h<u;h+=1){o[h]&&(c=o[h][0]),l[h]=c;var f=Ie(o[h],s);o[h]=f,Ae(o,l,h),u=o.length,"Z"===c&&d.push(h),i=(r=o[h]).length,s.x1=+r[i-2],s.y1=+r[i-1],s.x2=+r[i-4]||s.x1,s.y2=+r[i-3]||s.y1}return e?[o,d]:o}function je(t){return t.map((function(t,e,n){var r=e&&n[e-1].slice(-2).concat(t.slice(1)),i=e?we(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],{bbox:!1}).length:0;return{s:t,ss:e?i?function(t,e){void 0===e&&(e=.5);var n=t.slice(0,2),r=t.slice(2,4),i=t.slice(4,6),o=t.slice(6,8),a=ge(n,r,e),s=ge(r,i,e),l=ge(i,o,e),c=ge(a,s,e),u=ge(s,l,e),d=ge(c,u,e);return[["C"].concat(a,c,d),["C"].concat(u,l,o)]}(r):[t,t]:[t],l:i}}))}function ze(t,e,n){var r=je(t),i=je(e),o=r.length,a=i.length,s=r.filter((function(t){return t.l})).length,l=i.filter((function(t){return t.l})).length,c=r.filter((function(t){return t.l})).reduce((function(t,e){return t+e.l}),0)/s||0,u=i.filter((function(t){return t.l})).reduce((function(t,e){return t+e.l}),0)/l||0,d=n||Math.max(o,a),h=[c,u],f=[d-o,d-a],p=0,g=[r,i].map((function(t,e){return t.l===d?t.map((function(t){return t.s})):t.map((function(t,n){return p=n&&f[e]&&t.l>=h[e],f[e]-=p?1:0,p?t.ss:[t.s]})).flat()}));return g[0].length===g[1].length?g:ze(g[0],g[1],d)}function Fe(t){return function(t){var e=0,n=0,r=0;return De(t).map((function(t){var i;if("M"===t[0])return e=t[1],n=t[2],0;var o=t.slice(1),a=o[0],s=o[1],l=o[2],c=o[3],u=o[4],d=o[5];return r=function(t,e,n,r,i,o,a,s){return 3*((s-e)*(n+i)-(a-t)*(r+o)+r*(t-i)-n*(e-o)+s*(i+t/3)-a*(o+e/3))/20}(e,n,a,s,l,c,u,d),i=t.slice(-2),e=i[0],n=i[1],r})).reduce((function(t,e){return t+e}),0)}(t)>=0}function Be(t,e){var n=t.length-1,r=[],i=0,o=function(t){var e=t.length,n=e-1;return t.map((function(r,i){return t.map((function(r,o){var a,s=i+o;return 0===o||t[s]&&"M"===t[s][0]?(a=t[s],["M"].concat(a.slice(-2))):(s>=e&&(s-=n),t[s])}))}))}(t);return o.forEach((function(o,a){t.slice(1).forEach((function(r,o){i+=Xt(t[(a+o)%n].slice(-2),e[o%n].slice(-2))})),r[a]=i,i=0})),o[r.indexOf(Math.min.apply(null,r))]}const $e=function(t){return void 0===t};const Ve=function(t){return qt(t,"Boolean")},He=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};function We(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ge(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ue(){}var qe=.7,Ye=1/qe,Xe="\\s*([+-]?\\d+)\\s*",Ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qe=/^#([0-9a-f]{3,8})$/,Je=new RegExp(`^rgb\\(${Xe},${Xe},${Xe}\\)$`),tn=new RegExp(`^rgb\\(${Ze},${Ze},${Ze}\\)$`),en=new RegExp(`^rgba\\(${Xe},${Xe},${Xe},${Ke}\\)$`),nn=new RegExp(`^rgba\\(${Ze},${Ze},${Ze},${Ke}\\)$`),rn=new RegExp(`^hsl\\(${Ke},${Ze},${Ze}\\)$`),on=new RegExp(`^hsla\\(${Ke},${Ze},${Ze},${Ke}\\)$`),an={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function sn(){return this.rgb().formatHex()}function ln(){return this.rgb().formatRgb()}function cn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Qe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?un(e):3===n?new hn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?dn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?dn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Je.exec(t))?new hn(e[1],e[2],e[3],1):(e=tn.exec(t))?new hn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=en.exec(t))?dn(e[1],e[2],e[3],e[4]):(e=nn.exec(t))?dn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=rn.exec(t))?yn(e[1],e[2]/100,e[3]/100,1):(e=on.exec(t))?yn(e[1],e[2]/100,e[3]/100,e[4]):an.hasOwnProperty(t)?un(an[t]):"transparent"===t?new hn(NaN,NaN,NaN,0):null}function un(t){return new hn(t>>16&255,t>>8&255,255&t,1)}function dn(t,e,n,r){return r<=0&&(t=e=n=NaN),new hn(t,e,n,r)}function hn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function fn(){return`#${vn(this.r)}${vn(this.g)}${vn(this.b)}`}function pn(){const t=gn(this.opacity);return`${1===t?"rgb(":"rgba("}${mn(this.r)}, ${mn(this.g)}, ${mn(this.b)}${1===t?")":`, ${t})`}`}function gn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vn(t){return((t=mn(t))<16?"0":"")+t.toString(16)}function yn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xn(t,e,n,r)}function bn(t){if(t instanceof xn)return new xn(t.h,t.s,t.l,t.opacity);if(t instanceof Ue||(t=cn(t)),!t)return new xn;if(t instanceof xn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new xn(a,s,l,t.opacity)}function xn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function wn(t){return(t=(t||0)%360)<0?t+360:t}function En(t){return Math.max(0,Math.min(1,t||0))}function Sn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function kn(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function Mn(t,e){var n=Math.min.apply(Math,h([],d(t),!1)),r=Math.min.apply(Math,h([],d(e),!1));return{x:n,y:r,width:Math.max.apply(Math,h([],d(t),!1))-n,height:Math.max.apply(Math,h([],d(e),!1))-r}}function Cn(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function Nn(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function On(t,e,n,r,i,o,a){for(var s=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),l=1/0,c=-1/0,u=[o,a],d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var h=s+d;o<a?o<h&&h<a&&u.push(h):a<h&&h<o&&u.push(h)}for(d=0;d<u.length;d++){var f=Cn(t,0,n,r,i,u[d]);f<l&&(l=f),f>c&&(c=f)}var p=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),g=1/0,m=-1/0,v=[o,a];for(d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var y=p+d;o<a?o<y&&y<a&&v.push(y):a<y&&y<o&&v.push(y)}for(d=0;d<v.length;d++){var b=Nn(0,e,n,r,i,v[d]);b<g&&(g=b),b>m&&(m=b)}return{x:l,y:g,width:c-l,height:m-g}}We(Ue,cn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sn,formatHex:sn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return bn(this).formatHsl()},formatRgb:ln,toString:ln}),We(hn,(function(t,e,n,r){return 1===arguments.length?((i=t)instanceof Ue||(i=cn(i)),i?new hn((i=i.rgb()).r,i.g,i.b,i.opacity):new hn):new hn(t,e,n,null==r?1:r);var i}),Ge(Ue,{brighter(t){return t=null==t?Ye:Math.pow(Ye,t),new hn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?qe:Math.pow(qe,t),new hn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hn(mn(this.r),mn(this.g),mn(this.b),gn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fn,formatHex:fn,formatHex8:function(){return`#${vn(this.r)}${vn(this.g)}${vn(this.b)}${vn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:pn,toString:pn})),We(xn,(function(t,e,n,r){return 1===arguments.length?bn(t):new xn(t,e,n,null==r?1:r)}),Ge(Ue,{brighter(t){return t=null==t?Ye:Math.pow(Ye,t),new xn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?qe:Math.pow(qe,t),new xn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new hn(Sn(t>=240?t-240:t+120,i,r),Sn(t,i,r),Sn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new xn(wn(this.h),En(this.s),En(this.l),gn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gn(this.opacity);return`${1===t?"hsl(":"hsla("}${wn(this.h)}, ${100*En(this.s)}%, ${100*En(this.l)}%${1===t?")":`, ${t})`}`}}));var Pn=1e-4;function Tn(t,e,n,r,i,o){var a=-1,s=1/0,l=[n,r],c=20;o&&o>200&&(c=o/10);for(var u=1/c,f=u/10,p=0;p<=c;p++){var g=p*u,m=[i.apply(void 0,h([],d(t.concat([g])),!1)),i.apply(void 0,h([],d(e.concat([g])),!1))];(x=kn(l[0],l[1],m[0],m[1]))<s&&(a=g,s=x)}if(0===a)return{x:t[0],y:e[0]};if(1===a){var v=t.length;return{x:t[v-1],y:e[v-1]}}s=1/0;for(p=0;p<32&&!(f<Pn);p++){var y=a-f,b=a+f,x=(m=[i.apply(void 0,h([],d(t.concat([y])),!1)),i.apply(void 0,h([],d(e.concat([y])),!1))],kn(l[0],l[1],m[0],m[1]));if(y>=0&&x<s)a=y,s=x;else{var w=[i.apply(void 0,h([],d(t.concat([b])),!1)),i.apply(void 0,h([],d(e.concat([b])),!1))],E=kn(l[0],l[1],w[0],w[1]);b<=1&&E<s?(a=b,s=E):f*=.5}}return{x:i.apply(void 0,h([],d(t.concat([a])),!1)),y:i.apply(void 0,h([],d(e.concat([a])),!1))}}function An(t,e,n,r){return kn(t,e,n,r)}function Rn(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}}function _n(t,e,n,r,i,o){var a=[n-t,r-e];if(function(t,e){return t[0]===e[0]&&t[1]===e[1]}(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var s=[-a[1],a[0]];!function(t,e){var n=e[0],r=e[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i}(s,s);var l=[i-t,o-e];return Math.abs(function(t,e){return t[0]*e[0]+t[1]*e[1]}(l,s))}function Ln(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function In(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,l=6*t-12*e+6*n,c=3*e-3*t,u=[];if(Pe(s,0))Pe(l,0)||(i=-c/l)>=0&&i<=1&&u.push(i);else{var d=l*l-4*s*c;Pe(d,0)?u.push(-l/(2*s)):d>0&&(o=(-l-(a=Math.sqrt(d)))/(2*s),(i=(-l+a)/(2*s))>=0&&i<=1&&u.push(i),o>=0&&o<=1&&u.push(o))}return u}function Dn(t,e,n,r,i,o,a,s){for(var l=[t,a],c=[e,s],u=In(t,n,i,a),d=In(e,r,o,s),h=0;h<u.length;h++)l.push(Ln(t,n,i,a,u[h]));for(h=0;h<d.length;h++)c.push(Ln(e,r,o,s,d[h]));return Mn(l,c)}function jn(t,e,n,r,i,o,a,s,l,c,u){var d=function(t,e,n,r,i,o,a,s,l,c,u){return Tn([t,n,i,a],[e,r,o,s],l,c,Ln,u)}(t,e,n,r,i,o,a,s,l,c,u);return kn(d.x,d.y,l,c)}function zn(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=kn(r[0],r[1],i[0],i[1])}return e}function Fn(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function Bn(t,e,n){var r=t+n-2*e;if(Pe(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function $n(t,e,n,r,i,o){var a=Bn(t,n,i)[0],s=Bn(e,r,o)[0],l=[t,i],c=[e,o];return void 0!==a&&l.push(Fn(t,n,i,a)),void 0!==s&&c.push(Fn(e,r,o,s)),Mn(l,c)}function Vn(t,e,n,r,i,o,a,s){var l=function(t,e,n,r,i,o,a,s){return Tn([t,n,i],[e,r,o],a,s,Fn)}(t,e,n,r,i,o,a,s);return kn(l.x,l.y,a,s)}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self&&self;var Hn={exports:{}};Hn.exports=function(){function t(t,n,i,o,a){e(t,n,i||0,o||t.length-1,a||r)}function e(t,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,c=Math.log(s),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);e(t,r,Math.max(i,Math.floor(r-l*u/s+d)),Math.min(o,Math.floor(r+(s-l)*u/s+d)),a)}var h=t[r],f=i,p=o;for(n(t,i,r),a(t[o],h)>0&&n(t,i,o);f<p;){for(n(t,f,p),f++,p--;a(t[f],h)<0;)f++;for(;a(t[p],h)>0;)p--}0===a(t[i],h)?n(t,i,p):n(t,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}function n(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function r(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=v(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];l(i,t.leaf?r(a):a)}return i}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function d(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function p(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function g(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function m(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function v(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(e,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;t(e,s,n,r,o),a.push(n,s,s,r)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!m(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?r(a):a;m(t,s)&&(e.leaf?n.push(a):g(t,s)?this._all(a,n):i.push(a))}e=i.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!m(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(m(t,o)){if(e.leaf||g(t,o))return!0;n.push(i)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=v([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,r,i,a=this.data,s=this.toBBox(t),l=[],c=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=c.pop(),i=!0),a.leaf){var u=o(t,a.children,e);if(-1!==u)return a.children.splice(u,1),l.push(a),this._condense(l),this}i||a.leaf||!g(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(l.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return a(i=v(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=v([])).leaf=!1,i.height=r;var l=Math.ceil(o/s),c=l*Math.ceil(Math.sqrt(s));y(t,e,n,c,this.compareMinX);for(var u=e;u<=n;u+=c){var d=Math.min(u+c-1,n);y(t,u,d,l,this.compareMinY);for(var h=u;h<=d;h+=l){var f=Math.min(h+l-1,d);i.children.push(this._build(t,h,f,r-1))}}return a(i,this.toBBox),i},i.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],c=d(l),u=f(t,l)-c;u<o?(o=u,i=c<i?c:i,a=l):u===o&&c<i&&(i=c,a=l)}e=a||e.children[0]}return e},i.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),l(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},i.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=v(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(t,e){this.data=v([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var r,i=1/0,o=1/0,a=e;a<=n-e;a++){var l=s(t,0,a,this.toBBox),c=s(t,a,n,this.toBBox),u=p(l,c),h=d(l)+d(c);u<i?(i=u,r=a,o=h<o?h:o):u===i&&h<o&&(o=h,r=a)}return r||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:c,i=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},i.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=s(t,0,e,i),a=s(t,n-e,n,i),c=h(o)+h(a),u=e;u<n-e;u++){var d=t.children[u];l(o,t.leaf?i(d):d),c+=h(o)}for(var f=n-e-1;f>=e;f--){var p=t.children[f];l(a,t.leaf?i(p):p),c+=h(a)}return c},i.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)l(e[r],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():a(t[e],this.toBBox)},i}();var Wn,Gn,Un=Hn.exports;!function(t){t.GROUP="g",t.CIRCLE="circle",t.ELLIPSE="ellipse",t.IMAGE="image",t.RECT="rect",t.LINE="line",t.POLYLINE="polyline",t.POLYGON="polygon",t.TEXT="text",t.PATH="path",t.HTML="html",t.MESH="mesh"}(Wn||(Wn={})),function(t){t[t.ZERO=0]="ZERO",t[t.NEGATIVE_ONE=1]="NEGATIVE_ONE"}(Gn||(Gn={}));var qn=function(){function t(){this.plugins=[]}return t.prototype.addRenderingPlugin=function(t){this.plugins.push(t),this.context.renderingPlugins.push(t)},t.prototype.removeAllRenderingPlugins=function(){var t=this;this.plugins.forEach((function(e){var n=t.context.renderingPlugins.indexOf(e);n>=0&&t.context.renderingPlugins.splice(n,1)}))},t}(),Yn=function(){function t(t){this.clipSpaceNearZ=Gn.NEGATIVE_ONE,this.plugins=[],this.config=a({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0},t)}return t.prototype.registerPlugin=function(t){-1===this.plugins.findIndex((function(e){return e===t}))&&this.plugins.push(t)},t.prototype.unregisterPlugin=function(t){var e=this.plugins.findIndex((function(e){return e===t}));e>-1&&this.plugins.splice(e,1)},t.prototype.getPlugins=function(){return this.plugins},t.prototype.getPlugin=function(t){return this.plugins.find((function(e){return e.name===t}))},t.prototype.getConfig=function(){return this.config},t.prototype.setConfig=function(t){Object.assign(this.config,t)},t}();function Xn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Kn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Zn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Qn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function Jn(t){return void 0===t?0:t>360||t<-360?t%360:t}function tr(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Array.isArray(t)&&3===t.length?y(t):Yt(t)?x(t,e,n):x(t[0],t[1]||e,t[2]||n)}function er(t){return t*(Math.PI/180)}function nr(t){return t*(180/Math.PI)}function rr(t,e){return 16===e.length?function(t,e){var n,r,i=.5*Math.PI,o=d(st(v(),e),3),a=o[0],s=o[1],l=o[2],c=Math.asin(-e[2]/a);return c<i?c>-i?(n=Math.atan2(e[6]/s,e[10]/l),r=Math.atan2(e[1]/a,e[0]/a)):(r=0,n=-Math.atan2(e[4]/s,e[5]/s)):(r=0,n=Math.atan2(e[4]/s,e[5]/s)),t[0]=n,t[1]=c,t[2]=r,t}(t,e):function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=r*r,s=i*i,l=o*o,c=n*n+a+s+l,u=n*o-r*i;return u>.499995*c?(t[0]=Math.PI/2,t[1]=2*Math.atan2(r,n),t[2]=0):u<-.499995*c?(t[0]=-Math.PI/2,t[1]=2*Math.atan2(r,n),t[2]=0):(t[0]=Math.asin(2*(n*i-o*r)),t[1]=Math.atan2(2*(n*o+r*i),1-2*(s+l)),t[2]=Math.atan2(2*(n*r+i*o),1-2*(a+s))),t}(t,e)}function ir(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t);return function(t,e,n,r,i,o,a,s,l){var c=new m(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=l,c}(r*o,i*a,0,-r*a,i*o,0,e,n,1)}function or(t){var e=t[0],n=t[1],r=t[3],i=t[4],o=Math.sqrt(e*e+n*n),a=Math.sqrt(r*r+i*i);e*i-n*r<0&&(e<i?o=-o:a=-a),o&&(e*=1/o,n*=1/o),a&&(r*=1/a,i*=1/a);var s=nr(Math.atan2(n,e));return[t[6],t[7],o,a,s]}var ar=I(),sr=I(),lr=_t(),cr=[v(),v(),v()],ur=v();function dr(t,e,n,r,i){t[0]=e[0]*r+n[0]*i,t[1]=e[1]*r+n[1]*i,t[2]=e[2]*r+n[2]*i}var hr,fr=function(){function t(){this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return t.isEmpty=function(t){return!t||0===t.halfExtents[0]&&0===t.halfExtents[1]&&0===t.halfExtents[2]},t.prototype.update=function(t,e){Xn(this.center,t),Xn(this.halfExtents,e),Kn(this.min,this.center,this.halfExtents),Zn(this.max,this.center,this.halfExtents)},t.prototype.setMinMax=function(t,e){Zn(this.center,e,t),Qn(this.center,this.center,.5),Kn(this.halfExtents,e,t),Qn(this.halfExtents,this.halfExtents,.5),Xn(this.min,t),Xn(this.max,e)},t.prototype.getMin=function(){return this.min},t.prototype.getMax=function(){return this.max},t.prototype.add=function(e){if(!t.isEmpty(e))if(t.isEmpty(this))this.setMinMax(e.getMin(),e.getMax());else{var n=this.center,r=n[0],i=n[1],o=n[2],a=this.halfExtents,s=a[0],l=a[1],c=a[2],u=r-s,d=r+s,h=i-l,f=i+l,p=o-c,g=o+c,m=e.center,v=m[0],y=m[1],b=m[2],x=e.halfExtents,w=x[0],E=x[1],S=x[2],k=v-w,M=v+w,C=y-E,N=y+E,O=b-S,P=b+S;k<u&&(u=k),M>d&&(d=M),C<h&&(h=C),N>f&&(f=N),O<p&&(p=O),P>g&&(g=P),n[0]=.5*(u+d),n[1]=.5*(h+f),n[2]=.5*(p+g),a[0]=.5*(d-u),a[1]=.5*(f-h),a[2]=.5*(g-p),this.min[0]=u,this.min[1]=h,this.min[2]=p,this.max[0]=d,this.max[1]=f,this.max[2]=g}},t.prototype.setFromTransformedAABB=function(t,e){var n=this.center,r=this.halfExtents,i=t.center,o=t.halfExtents,a=e[0],s=e[4],l=e[8],c=e[1],u=e[5],d=e[9],h=e[2],f=e[6],p=e[10],g=Math.abs(a),m=Math.abs(s),v=Math.abs(l),y=Math.abs(c),b=Math.abs(u),x=Math.abs(d),w=Math.abs(h),E=Math.abs(f),S=Math.abs(p);n[0]=e[12]+a*i[0]+s*i[1]+l*i[2],n[1]=e[13]+c*i[0]+u*i[1]+d*i[2],n[2]=e[14]+h*i[0]+f*i[1]+p*i[2],r[0]=g*o[0]+m*o[1]+v*o[2],r[1]=y*o[0]+b*o[1]+x*o[2],r[2]=w*o[0]+E*o[1]+S*o[2],Kn(this.min,n,r),Zn(this.max,n,r)},t.prototype.intersects=function(t){var e=this.getMax(),n=this.getMin(),r=t.getMax(),i=t.getMin();return n[0]<=r[0]&&e[0]>=i[0]&&n[1]<=r[1]&&e[1]>=i[1]&&n[2]<=r[2]&&e[2]>=i[2]},t.prototype.intersection=function(e){if(!this.intersects(e))return null;var n=new t,r=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}([0,0,0],this.getMin(),e.getMin()),i=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}([0,0,0],this.getMax(),e.getMax());return n.setMinMax(r,i),n},t.prototype.getNegativeFarPoint=function(t){return 273===t.pnVertexFlag?Xn([0,0,0],this.min):272===t.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:257===t.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:256===t.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:17===t.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:16===t.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:1===t.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]},t.prototype.getPositiveFarPoint=function(t){return 273===t.pnVertexFlag?Xn([0,0,0],this.max):272===t.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:257===t.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:256===t.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:17===t.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:16===t.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:1===t.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]},t}(),pr=function(){function t(t,e){this.distance=t||0,this.normal=e||x(0,1,0),this.updatePNVertexFlag()}return t.prototype.updatePNVertexFlag=function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)},t.prototype.distanceToPoint=function(t){return O(t,this.normal)-this.distance},t.prototype.normalize=function(){var t=1/L(this.normal);C(this.normal,this.normal,t),this.distance*=t},t.prototype.intersectsLine=function(t,e,n){var r=this.distanceToPoint(t),i=r/(r-this.distanceToPoint(e)),o=i>=0&&i<=1;return o&&n&&T(n,t,e,i),o},t}();!function(t){t[t.OUTSIDE=4294967295]="OUTSIDE",t[t.INSIDE=0]="INSIDE",t[t.INDETERMINATE=2147483647]="INDETERMINATE"}(hr||(hr={}));var gr,mr,vr,yr=function(){function t(t){if(this.planes=[],t)this.planes=t;else for(var e=0;e<6;e++)this.planes.push(new pr)}return t.prototype.extractFromVPMatrix=function(t){var e=d(t,16),n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],f=e[10],p=e[11],g=e[12],m=e[13],v=e[14],y=e[15];E(this.planes[0].normal,o-n,c-a,p-u),this.planes[0].distance=y-g,E(this.planes[1].normal,o+n,c+a,p+u),this.planes[1].distance=y+g,E(this.planes[2].normal,o+r,c+s,p+h),this.planes[2].distance=y+m,E(this.planes[3].normal,o-r,c-s,p-h),this.planes[3].distance=y-m,E(this.planes[4].normal,o-i,c-l,p-f),this.planes[4].distance=y-v,E(this.planes[5].normal,o+i,c+l,p+f),this.planes[5].distance=y+v,this.planes.forEach((function(t){t.normalize(),t.updatePNVertexFlag()}))},t}(),br=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y},t}(),xr=function(){function t(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r,this.left=t,this.right=t+n,this.top=e,this.bottom=e+r}return t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t.applyTransform=function(e,n){var r=Lt(e.x,e.y,0,1),i=Lt(e.x+e.width,e.y,0,1),o=Lt(e.x,e.y+e.height,0,1),a=Lt(e.x+e.width,e.y+e.height,0,1),s=_t(),l=_t(),c=_t(),u=_t();It(s,r,n),It(l,i,n),It(c,o,n),It(u,a,n);var d=Math.min(s[0],l[0],c[0],u[0]),h=Math.min(s[1],l[1],c[1],u[1]),f=Math.max(s[0],l[0],c[0],u[0]),p=Math.max(s[1],l[1],c[1],u[1]);return t.fromRect({x:d,y:h,width:f-d,height:p-h})},t.prototype.toJSON=function(){},t}(),wr="Method not implemented.",Er="Use document.documentElement instead.";!function(t){t[t.ORBITING=0]="ORBITING",t[t.EXPLORING=1]="EXPLORING",t[t.TRACKING=2]="TRACKING"}(gr||(gr={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ROTATIONAL=1]="ROTATIONAL",t[t.TRANSLATIONAL=2]="TRANSLATIONAL",t[t.CINEMATIC=3]="CINEMATIC"}(mr||(mr={})),function(t){t[t.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",t[t.PERSPECTIVE=1]="PERSPECTIVE"}(vr||(vr={}));var Sr,kr,Mr,Cr,Nr,Or="updated",Pr=2e-4,Tr=function(){function t(){this.clipSpaceNearZ=Gn.NEGATIVE_ONE,this.eventEmitter=new p,this.matrix=I(),this.right=x(1,0,0),this.up=x(0,1,0),this.forward=x(0,0,1),this.position=x(0,0,1),this.focalPoint=x(0,0,0),this.distanceVector=x(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=I(),this.projectionMatrixInverse=I(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=gr.EXPLORING,this.trackingMode=mr.DEFAULT,this.projectionMode=vr.PERSPECTIVE,this.frustum=new yr,this.orthoMatrix=I()}return t.prototype.isOrtho=function(){return this.projectionMode===vr.ORTHOGRAPHIC},t.prototype.getProjectionMode=function(){return this.projectionMode},t.prototype.getPerspective=function(){return this.jitteredProjectionMatrix||this.projectionMatrix},t.prototype.getPerspectiveInverse=function(){return this.projectionMatrixInverse},t.prototype.getFrustum=function(){return this.frustum},t.prototype.getPosition=function(){return this.position},t.prototype.getFocalPoint=function(){return this.focalPoint},t.prototype.getDollyingStep=function(){return this.dollyingStep},t.prototype.getNear=function(){return this.near},t.prototype.getFar=function(){return this.far},t.prototype.getZoom=function(){return this.zoom},t.prototype.getOrthoMatrix=function(){return this.orthoMatrix},t.prototype.getView=function(){return this.view},t.prototype.setEnableUpdate=function(t){this.enableUpdate=t},t.prototype.setType=function(t,e){return this.type=t,this.type===gr.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===gr.TRACKING&&void 0!==e&&this.setTrackingMode(e),this},t.prototype.setProjectionMode=function(t){return this.projectionMode=t,this},t.prototype.setTrackingMode=function(t){if(this.type!==gr.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this},t.prototype.setWorldRotation=function(t){return this.rotateWorld=t,this._getAngles(),this},t.prototype.getViewTransform=function(){return V(I(),this.matrix)},t.prototype.getWorldTransform=function(){return this.matrix},t.prototype.jitterProjectionMatrix=function(t,e){var n=Q(I(),[t,e,0]);this.jitteredProjectionMatrix=G(I(),n,this.projectionMatrix)},t.prototype.clearJitterProjectionMatrix=function(){this.jitteredProjectionMatrix=void 0},t.prototype.setMatrix=function(t){return this.matrix=t,this._update(),this},t.prototype.setProjectionMatrix=function(t){this.projectionMatrix=t},t.prototype.setFov=function(t){return this.setPerspective(this.near,this.far,t,this.aspect),this},t.prototype.setAspect=function(t){return this.setPerspective(this.near,this.far,this.fov,t),this},t.prototype.setNear=function(t){return this.projectionMode===vr.PERSPECTIVE?this.setPerspective(t,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,t,this.far),this},t.prototype.setFar=function(t){return this.projectionMode===vr.PERSPECTIVE?this.setPerspective(this.near,t,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,t),this},t.prototype.setViewOffset=function(t,e,n,r,i,o){return this.aspect=t/e,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.projectionMode===vr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},t.prototype.clearViewOffset=function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===vr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},t.prototype.setZoom=function(t){return this.zoom=t,this.projectionMode===vr.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===vr.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this},t.prototype.setZoomByViewportPoint=function(t,e){var n=this.canvas.viewport2Canvas({x:e[0],y:e[1]}),r=n.x,i=n.y,o=this.roll;this.rotate(0,0,-o),this.setPosition(r,i),this.setFocalPoint(r,i),this.setZoom(t),this.rotate(0,0,o);var a=this.canvas.viewport2Canvas({x:e[0],y:e[1]}),s=x(a.x-r,a.y-i,0),l=O(s,this.right)/b(this.right),c=O(s,this.up)/b(this.up),u=d(this.getPosition(),2),h=u[0],f=u[1],p=d(this.getFocalPoint(),2),g=p[0],m=p[1];return this.setPosition(h-l,f-c),this.setFocalPoint(g-l,m-c),this},t.prototype.setPerspective=function(t,e,n,r){var i;this.projectionMode=vr.PERSPECTIVE,this.fov=n,this.near=t,this.far=e,this.aspect=r;var o=this.near*Math.tan(er(.5*this.fov))/this.zoom,a=2*o,s=this.aspect*a,l=-.5*s;if(null===(i=this.view)||void 0===i?void 0:i.enabled){var c=this.view.fullWidth,u=this.view.fullHeight;l+=this.view.offsetX*s/c,o-=this.view.offsetY*a/u,s*=this.view.width/c,a*=this.view.height/u}return function(t,e,n,r,i,o,a,s){void 0===s&&(s=!1);var l,c,u=2*o/(n-e),d=2*o/(r-i),h=(n+e)/(n-e),f=(r+i)/(r-i);s?(l=-a/(a-o),c=-a*o/(a-o)):(l=-(a+o)/(a-o),c=-2*a*o/(a-o)),t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=d,t[6]=0,t[7]=0,t[8]=h,t[9]=f,t[10]=l,t[11]=-1,t[12]=0,t[13]=0,t[14]=c,t[15]=0}(this.projectionMatrix,l,l+s,o-a,o,t,this.far,this.clipSpaceNearZ===Gn.ZERO),V(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this},t.prototype.setOrthographic=function(t,e,n,r,i,o){var a;this.projectionMode=vr.ORTHOGRAPHIC,this.rright=e,this.left=t,this.top=n,this.bottom=r,this.near=i,this.far=o;var s=(this.rright-this.left)/(2*this.zoom),l=(this.top-this.bottom)/(2*this.zoom),c=(this.rright+this.left)/2,u=(this.top+this.bottom)/2,d=c-s,h=c+s,f=u+l,p=u-l;if(null===(a=this.view)||void 0===a?void 0:a.enabled){var g=(this.rright-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h=(d+=g*this.view.offsetX)+g*this.view.width,p=(f-=m*this.view.offsetY)-m*this.view.height}return this.clipSpaceNearZ===Gn.NEGATIVE_ONE?yt(this.projectionMatrix,d,h,f,p,i,o):bt(this.projectionMatrix,d,h,f,p,i,o),V(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this},t.prototype.setPosition=function(t,e,n){void 0===e&&(e=this.position[1]),void 0===n&&(n=this.position[2]);var r=tr(t,e,n);return this._setPosition(r),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this},t.prototype.setFocalPoint=function(t,e,n){void 0===e&&(e=this.focalPoint[1]),void 0===n&&(n=this.focalPoint[2]);var r=x(0,1,0);if(this.focalPoint=tr(t,e,n),this.trackingMode===mr.CINEMATIC){var i=k(v(),this.focalPoint,this.position);t=i[0],e=i[1],n=i[2];var o=b(i),a=nr(Math.asin(e/o)),s=90+nr(Math.atan2(n,t)),l=I();K(l,l,er(s)),X(l,l,er(a)),r=A(v(),[0,1,0],l)}return V(this.matrix,xt(I(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this},t.prototype.getDistance=function(){return this.distance},t.prototype.getDistanceVector=function(){return this.distanceVector},t.prototype.setDistance=function(t){if(this.distance===t||t<0)return this;this.distance=t,this.distance<Pr&&(this.distance=Pr),this.dollyingStep=this.distance/100;var e=v();t=this.distance;var n=this.forward,r=this.focalPoint;return e[0]=t*n[0]+r[0],e[1]=t*n[1]+r[1],e[2]=t*n[2]+r[2],this._setPosition(e),this.triggerUpdate(),this},t.prototype.setMaxDistance=function(t){return this.maxDistance=t,this},t.prototype.setMinDistance=function(t){return this.minDistance=t,this},t.prototype.setAzimuth=function(t){return this.azimuth=Jn(t),this.computeMatrix(),this._getAxes(),this.type===gr.ORBITING||this.type===gr.EXPLORING?this._getPosition():this.type===gr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getAzimuth=function(){return this.azimuth},t.prototype.setElevation=function(t){return this.elevation=Jn(t),this.computeMatrix(),this._getAxes(),this.type===gr.ORBITING||this.type===gr.EXPLORING?this._getPosition():this.type===gr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getElevation=function(){return this.elevation},t.prototype.setRoll=function(t){return this.roll=Jn(t),this.computeMatrix(),this._getAxes(),this.type===gr.ORBITING||this.type===gr.EXPLORING?this._getPosition():this.type===gr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getRoll=function(){return this.roll},t.prototype._update=function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()},t.prototype.computeMatrix=function(){var t=jt(Dt(),[0,0,1],er(this.roll));B(this.matrix);var e=jt(Dt(),[1,0,0],er((this.rotateWorld&&this.type!==gr.TRACKING||this.type===gr.TRACKING?1:-1)*this.elevation)),n=jt(Dt(),[0,1,0],er((this.rotateWorld&&this.type!==gr.TRACKING||this.type===gr.TRACKING?1:-1)*this.azimuth)),r=zt(Dt(),n,e);r=zt(Dt(),r,t);var i=dt(I(),r);this.type===gr.ORBITING||this.type===gr.EXPLORING?(U(this.matrix,this.matrix,this.focalPoint),G(this.matrix,this.matrix,i),U(this.matrix,this.matrix,[0,0,this.distance])):this.type===gr.TRACKING&&(U(this.matrix,this.matrix,this.position),G(this.matrix,this.matrix,i))},t.prototype._setPosition=function(t,e,n){this.position=tr(t,e,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1,this._getOrthoMatrix()},t.prototype._getAxes=function(){w(this.right,tr(It(_t(),[1,0,0,0],this.matrix))),w(this.up,tr(It(_t(),[0,1,0,0],this.matrix))),w(this.forward,tr(It(_t(),[0,0,1,0],this.matrix))),N(this.right,this.right),N(this.up,this.up),N(this.forward,this.forward)},t.prototype._getAngles=function(){var t=this.distanceVector[0],e=this.distanceVector[1],n=this.distanceVector[2],r=b(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===gr.TRACKING||this.rotateWorld?(this.elevation=nr(Math.asin(e/r)),this.azimuth=nr(Math.atan2(-t,-n))):(this.elevation=-nr(Math.asin(e/r)),this.azimuth=-nr(Math.atan2(-t,-n)))},t.prototype._getPosition=function(){w(this.position,tr(It(_t(),[0,0,0,1],this.matrix))),this._getDistance()},t.prototype._getFocalPoint=function(){!function(t,e,n){var r=e[0],i=e[1],o=e[2];t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8]}(this.distanceVector,[0,0,-this.distance],function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}(Rt(),this.matrix)),S(this.focalPoint,this.position,this.distanceVector),this._getDistance()},t.prototype._getDistance=function(){this.distanceVector=k(v(),this.focalPoint,this.position),this.distance=b(this.distanceVector),this.dollyingStep=this.distance/100},t.prototype._getOrthoMatrix=function(){if(this.projectionMode===vr.ORTHOGRAPHIC){var t=this.position,e=jt(Dt(),[0,0,1],-this.roll*Math.PI/180);ut(this.orthoMatrix,e,x((this.rright-this.left)/2-t[0],(this.top-this.bottom)/2-t[1],0),x(this.zoom,this.zoom,1),t)}},t.prototype.triggerUpdate=function(){if(this.enableUpdate){var t=this.getViewTransform(),e=G(I(),this.getPerspective(),t);this.getFrustum().extractFromVPMatrix(e),this.eventEmitter.emit(Or)}},t.prototype.rotate=function(t,e,n){throw new Error(wr)},t.prototype.pan=function(t,e){throw new Error(wr)},t.prototype.dolly=function(t){throw new Error(wr)},t.prototype.createLandmark=function(t,e){throw new Error(wr)},t.prototype.gotoLandmark=function(t,e){throw new Error(wr)},t.prototype.cancelLandmarkAnimation=function(){throw new Error(wr)},t}();function Ar(t,e){if("function"!==typeof t||null!=e&&"function"!==typeof e)throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return n.cache=a.set(o,s)||a,s};return n.cache=new(Ar.Cache||Map),n}Ar.Cache=Map,function(t){t[t.kUnknown=0]="kUnknown",t[t.kNumber=1]="kNumber",t[t.kPercentage=2]="kPercentage",t[t.kEms=3]="kEms",t[t.kPixels=4]="kPixels",t[t.kRems=5]="kRems",t[t.kDegrees=6]="kDegrees",t[t.kRadians=7]="kRadians",t[t.kGradians=8]="kGradians",t[t.kTurns=9]="kTurns",t[t.kMilliseconds=10]="kMilliseconds",t[t.kSeconds=11]="kSeconds",t[t.kInteger=12]="kInteger"}(Sr||(Sr={})),function(t){t[t.kUNumber=0]="kUNumber",t[t.kUPercent=1]="kUPercent",t[t.kULength=2]="kULength",t[t.kUAngle=3]="kUAngle",t[t.kUTime=4]="kUTime",t[t.kUOther=5]="kUOther"}(kr||(kr={})),function(t){t[t.kAll=0]="kAll",t[t.kNonNegative=1]="kNonNegative",t[t.kInteger=2]="kInteger",t[t.kNonNegativeInteger=3]="kNonNegativeInteger",t[t.kPositiveInteger=4]="kPositiveInteger"}(Mr||(Mr={})),function(t){t[t.kYes=0]="kYes",t[t.kNo=1]="kNo"}(Cr||(Cr={})),function(t){t[t.kYes=0]="kYes",t[t.kNo=1]="kNo"}(Nr||(Nr={}));var Rr,_r=[{name:"em",unit_type:Sr.kEms},{name:"px",unit_type:Sr.kPixels},{name:"deg",unit_type:Sr.kDegrees},{name:"rad",unit_type:Sr.kRadians},{name:"grad",unit_type:Sr.kGradians},{name:"ms",unit_type:Sr.kMilliseconds},{name:"s",unit_type:Sr.kSeconds},{name:"rem",unit_type:Sr.kRems},{name:"turn",unit_type:Sr.kTurns}];!function(t){t[t.kUnknownType=0]="kUnknownType",t[t.kUnparsedType=1]="kUnparsedType",t[t.kKeywordType=2]="kKeywordType",t[t.kUnitType=3]="kUnitType",t[t.kSumType=4]="kSumType",t[t.kProductType=5]="kProductType",t[t.kNegateType=6]="kNegateType",t[t.kInvertType=7]="kInvertType",t[t.kMinType=8]="kMinType",t[t.kMaxType=9]="kMaxType",t[t.kClampType=10]="kClampType",t[t.kTransformType=11]="kTransformType",t[t.kPositionType=12]="kPositionType",t[t.kURLImageType=13]="kURLImageType",t[t.kColorType=14]="kColorType",t[t.kUnsupportedColorType=15]="kUnsupportedColorType"}(Rr||(Rr={}));var Lr,Ir=function(t){return t?"number"===t?Sr.kNumber:"percent"===t||"%"===t?Sr.kPercentage:function(t){return _r.find((function(e){return e.name===t})).unit_type}(t):Sr.kUnknown},Dr=function(t){var e=1;switch(t){case Sr.kPixels:case Sr.kDegrees:case Sr.kSeconds:break;case Sr.kMilliseconds:e=.001;break;case Sr.kRadians:e=180/Math.PI;break;case Sr.kGradians:e=.9;break;case Sr.kTurns:e=360}return e},jr=function(t){switch(t){case Sr.kNumber:case Sr.kInteger:return"";case Sr.kPercentage:return"%";case Sr.kEms:return"em";case Sr.kRems:return"rem";case Sr.kPixels:return"px";case Sr.kDegrees:return"deg";case Sr.kRadians:return"rad";case Sr.kGradians:return"grad";case Sr.kMilliseconds:return"ms";case Sr.kSeconds:return"s";case Sr.kTurns:return"turn"}return""},zr=function(){function t(){}return t.isAngle=function(t){return t===Sr.kDegrees||t===Sr.kRadians||t===Sr.kGradians||t===Sr.kTurns},t.isLength=function(t){return t>=Sr.kEms&&t<Sr.kDegrees},t.isRelativeUnit=function(t){return t===Sr.kPercentage||t===Sr.kEms||t===Sr.kRems},t.isTime=function(t){return t===Sr.kSeconds||t===Sr.kMilliseconds},t.prototype.toString=function(){return this.buildCSSText(Cr.kNo,Nr.kNo,"")},t.prototype.isNumericValue=function(){return this.getType()>=Rr.kUnitType&&this.getType()<=Rr.kClampType},t}(),Fr=function(t){function e(e){var n=t.call(this)||this;return n.colorSpace=e,n}return o(e,t),e.prototype.getType=function(){return Rr.kColorType},e.prototype.to=function(t){return this},e}(zr);!function(t){t[t.Constant=0]="Constant",t[t.LinearGradient=1]="LinearGradient",t[t.RadialGradient=2]="RadialGradient"}(Lr||(Lr={}));var Br=function(t){function e(e,n){var r=t.call(this)||this;return r.type=e,r.value=n,r}return o(e,t),e.prototype.clone=function(){return new e(this.type,this.value)},e.prototype.buildCSSText=function(t,e,n){return n},e.prototype.getType=function(){return Rr.kColorType},e}(zr),$r=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}return o(e,t),e.prototype.clone=function(){return new e(this.value)},e.prototype.getType=function(){return Rr.kKeywordType},e.prototype.buildCSSText=function(t,e,n){return n+this.value},e}(zr),Vr=Ar((function(t){return void 0===t&&(t=""),t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))})),Hr=function(t){return t.split("").map((function(t,e){return t.toUpperCase()===t?"".concat(0!==e?"-":"").concat(t.toLowerCase()):t})).join("")};function Wr(t){return"function"===typeof t}var Gr={d:{alias:"path"},strokeDasharray:{alias:"lineDash"},strokeWidth:{alias:"lineWidth"},textAnchor:{alias:"textAlign"},src:{alias:"img"}},Ur=Ar((function(t){var e=Vr(t),n=Gr[e];return e=(null===n||void 0===n?void 0:n.alias)||e})),qr=function(t,e){void 0===e&&(e="");var n="";return Number.isFinite(t)?(!function(t){if(!t)throw new Error}(Number.isNaN(t)),n="NaN"):n=t>0?"infinity":"-infinity",n+e},Yr=function(t){return function(t){switch(t){case kr.kUNumber:return Sr.kNumber;case kr.kULength:return Sr.kPixels;case kr.kUPercent:return Sr.kPercentage;case kr.kUTime:return Sr.kSeconds;case kr.kUAngle:return Sr.kDegrees;default:return Sr.kUnknown}}(function(t){switch(t){case Sr.kNumber:case Sr.kInteger:return kr.kUNumber;case Sr.kPercentage:return kr.kUPercent;case Sr.kPixels:return kr.kULength;case Sr.kMilliseconds:case Sr.kSeconds:return kr.kUTime;case Sr.kDegrees:case Sr.kRadians:case Sr.kGradians:case Sr.kTurns:return kr.kUAngle;default:return kr.kUOther}}(t))},Xr=function(t){function e(e,n){void 0===n&&(n=Sr.kNumber);var r,i=t.call(this)||this;return r="string"===typeof n?Ir(n):n,i.unit=r,i.value=e,i}return o(e,t),e.prototype.clone=function(){return new e(this.value,this.unit)},e.prototype.equals=function(t){var e=t;return this.value===e.value&&this.unit===e.unit},e.prototype.getType=function(){return Rr.kUnitType},e.prototype.convertTo=function(t){if(this.unit===t)return new e(this.value,this.unit);var n=Yr(this.unit);if(n!==Yr(t)||n===Sr.kUnknown)return null;var r=Dr(this.unit)/Dr(t);return new e(this.value*r,t)},e.prototype.buildCSSText=function(t,e,n){var r;switch(this.unit){case Sr.kUnknown:break;case Sr.kInteger:r=Number(this.value).toFixed(0);break;case Sr.kNumber:case Sr.kPercentage:case Sr.kEms:case Sr.kRems:case Sr.kPixels:case Sr.kDegrees:case Sr.kRadians:case Sr.kGradians:case Sr.kMilliseconds:case Sr.kSeconds:case Sr.kTurns:var i=this.value,o=jr(this.unit);if(i<-999999||i>999999){var a=jr(this.unit);r=!Number.isFinite(i)||Number.isNaN(i)?qr(i,a):i+(a||"")}else r="".concat(i).concat(o)}return n+=r},e}(zr),Kr=new Xr(0,"px");new Xr(1,"px");var Zr,Qr,Jr=new Xr(0,"deg"),ti=function(t){function e(e,n,r,i,o){void 0===i&&(i=1),void 0===o&&(o=!1);var a=t.call(this,"rgb")||this;return a.r=e,a.g=n,a.b=r,a.alpha=i,a.isNone=o,a}return o(e,t),e.prototype.clone=function(){return new e(this.r,this.g,this.b,this.alpha)},e.prototype.buildCSSText=function(t,e,n){return n+"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")},e}(Fr),ei=new $r("unset"),ni=new $r("initial"),ri=new $r("inherit"),ii={"":ei,unset:ei,initial:ni,inherit:ri},oi=function(t){return ii[t]||(ii[t]=new $r(t)),ii[t]},ai=new ti(0,0,0,0,!0),si=new ti(0,0,0,0),li=Ar((function(t,e,n,r){return new ti(t,e,n,r)}),(function(t,e,n,r){return"rgba(".concat(t,",").concat(e,",").concat(n,",").concat(r,")")})),ci=function(t,e){return void 0===e&&(e=Sr.kNumber),new Xr(t,e)};new Xr(50,"%"),function(t){t[t.Standard=0]="Standard"}(Zr||(Zr={})),function(t){t[t.ADDED=0]="ADDED",t[t.REMOVED=1]="REMOVED",t[t.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED"}(Qr||(Qr={}));var ui,di={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new xr(0,0,0,0)};function hi(t){var e=t.type,n=t.value;return"hex"===e?"#".concat(n):"literal"===e?n:"rgb"===e?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}!function(t){t.COORDINATE="<coordinate>",t.COLOR="<color>",t.PAINT="<paint>",t.NUMBER="<number>",t.ANGLE="<angle>",t.OPACITY_VALUE="<opacity-value>",t.SHADOW_BLUR="<shadow-blur>",t.LENGTH="<length>",t.PERCENTAGE="<percentage>",t.LENGTH_PERCENTAGE="<length> | <percentage>",t.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",t.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",t.LIST_OF_POINTS="<list-of-points>",t.PATH="<path>",t.FILTER="<filter>",t.Z_INDEX="<z-index>",t.OFFSET_DISTANCE="<offset-distance>",t.DEFINED_PATH="<defined-path>",t.MARKER="<marker>",t.TRANSFORM="<transform>",t.TRANSFORM_ORIGIN="<transform-origin>",t.TEXT="<text>",t.TEXT_TRANSFORM="<text-transform>"}(ui||(ui={}));var fi=function(){var t={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function n(t){throw new Error(e+": "+t)}function r(){var t=f(i);return e.length>0&&n("Invalid input not EOF"),t}function i(){return o("linear-gradient",t.linearGradient,s)||o("repeating-linear-gradient",t.repeatingLinearGradient,s)||o("radial-gradient",t.radialGradient,l)||o("repeating-radial-gradient",t.repeatingRadialGradient,l)||o("conic-gradient",t.conicGradient,l)}function o(e,r,i){return a(r,(function(r){var o=i();return o&&(b(t.comma)||n("Missing comma before color stops")),{type:e,orientation:o,colorStops:f(p)}}))}function a(e,r){var i=b(e);if(i){b(t.startCall)||n("Missing (");var o=r(i);return b(t.endCall)||n("Missing )"),o}}function s(){return y("directional",t.sideOrCorner,1)||y("angular",t.angleValue,1)}function l(){var n,r,i=c();return i&&((n=[]).push(i),r=e,b(t.comma)&&((i=c())?n.push(i):e=r)),n}function c(){var t=function(){var t=y("shape",/^(circle)/i,0);t&&(t.style=v()||u());return t}()||function(){var t=y("shape",/^(ellipse)/i,0);t&&(t.style=m()||u());return t}();if(t)t.at=d();else{var e=u();if(e){t=e;var n=d();n&&(t.at=n)}else{var r=h();r&&(t={type:"default-radial",at:r})}}return t}function u(){return y("extent-keyword",t.extentKeywords,1)}function d(){if(y("position",/^at/,0)){var t=h();return t||n("Missing positioning value"),t}}function h(){var t={x:m(),y:m()};if(t.x||t.y)return{type:"position",value:t}}function f(e){var r=e(),i=[];if(r)for(i.push(r);b(t.comma);)(r=e())?i.push(r):n("One extra comma");return i}function p(){var e=y("hex",t.hexColor,1)||a(t.rgbaColor,(function(){return{type:"rgba",value:f(g)}}))||a(t.rgbColor,(function(){return{type:"rgb",value:f(g)}}))||y("literal",t.literalColor,0);return e||n("Expected color definition"),e.length=m(),e}function g(){return b(t.number)[1]}function m(){return y("%",t.percentageValue,1)||y("position-keyword",t.positionKeywords,1)||v()}function v(){return y("px",t.pixelValue,1)||y("em",t.emValue,1)}function y(t,e,n){var r=b(e);if(r)return{type:t,value:r[n]}}function b(t){var n=/^[\n\r\t\s]+/.exec(e);n&&x(n[0].length);var r=t.exec(e);return r&&x(r[0].length),r}function x(t){e=e.substring(t)}return function(t){return e=t,r()}}();var pi=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,gi=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,mi=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,vi=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;var yi={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},bi=Ar((function(t){var e;return e="angular"===t.type?Number(t.value):yi[t.value]||0,ci(e,"deg")})),xi=Ar((function(t){var e=50,n=50,r="%",i="%";if("position"===(null===t||void 0===t?void 0:t.type)){var o=t.value,a=o.x,s=o.y;"position-keyword"===(null===a||void 0===a?void 0:a.type)&&("left"===a.value?e=0:"center"===a.value?e=50:"right"===a.value?e=100:"top"===a.value?n=0:"bottom"===a.value&&(n=100)),"position-keyword"===(null===s||void 0===s?void 0:s.type)&&("left"===s.value?e=0:"center"===s.value?n=50:"right"===s.value?e=100:"top"===s.value?n=0:"bottom"===s.value&&(n=100)),"px"!==(null===a||void 0===a?void 0:a.type)&&"%"!==(null===a||void 0===a?void 0:a.type)&&"em"!==(null===a||void 0===a?void 0:a.type)||(r=null===a||void 0===a?void 0:a.type,e=Number(a.value)),"px"!==(null===s||void 0===s?void 0:s.type)&&"%"!==(null===s||void 0===s?void 0:s.type)&&"em"!==(null===s||void 0===s?void 0:s.type)||(i=null===s||void 0===s?void 0:s.type,n=Number(s.value))}return{cx:ci(e,r),cy:ci(n,i)}})),wi=Ar((function(t){var e;if(t.indexOf("linear")>-1||t.indexOf("radial")>-1)return fi(t).map((function(t){var e=t.type,n=t.orientation,r=t.colorStops;!function(t){var e,n,r,i=t.length;t[i-1].length=null!==(e=t[i-1].length)&&void 0!==e?e:{type:"%",value:"100"},i>1&&(t[0].length=null!==(n=t[0].length)&&void 0!==n?n:{type:"%",value:"0"});for(var o=0,a=Number(t[0].length.value),s=1;s<i;s++){var l=null===(r=t[s].length)||void 0===r?void 0:r.value;if(!Kt(l)&&!Kt(a)){for(var c=1;c<s-o;c++)t[o+c].length={type:"%",value:"".concat(a+(Number(l)-a)*c/(s-o))};o=s,a=Number(l)}}}(r);var i=r.map((function(t){return{offset:ci(Number(t.length.value),"%"),color:hi(t)}}));if("linear-gradient"===e)return new Br(Lr.LinearGradient,{angle:n?bi(n):Jr,steps:i});if("radial-gradient"===e&&(n||(n=[{type:"shape",value:"circle"}]),"shape"===n[0].type&&"circle"===n[0].value)){var o=xi(n[0].at),a=o.cx,s=o.cy,l=void 0;if(n[0].style){var c=n[0].style,u=c.type,d=c.value;l="extent-keyword"===u?oi(d):ci(d,u)}return new Br(Lr.RadialGradient,{cx:a,cy:s,size:l,steps:i})}}));var n=t[0];if("("===t[1]||"("===t[2])if("l"===n){var r=pi.exec(t);if(r){var i=(null===(e=r[2].match(vi))||void 0===e?void 0:e.map((function(t){return t.split(":")})))||[];return[new Br(Lr.LinearGradient,{angle:ci(parseFloat(r[1]),"deg"),steps:i.map((function(t){var e=d(t,2),n=e[0],r=e[1];return{offset:ci(100*Number(n),"%"),color:r}}))})]}}else if("r"===n){var o=function(t){var e,n=gi.exec(t);if(n){var r=(null===(e=n[4].match(vi))||void 0===e?void 0:e.map((function(t){return t.split(":")})))||[];return{cx:ci(50,"%"),cy:ci(50,"%"),steps:r.map((function(t){var e=d(t,2),n=e[0],r=e[1];return{offset:ci(100*Number(n),"%"),color:r}}))}}return null}(t);if(o){if(!Zt(o))return[new Br(Lr.RadialGradient,o)];t=o}}else if("p"===n)return function(t){var e=mi.exec(t);if(e){var n=e[1],r=e[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}(t)}));function Ei(t){return t&&!!t.image}function Si(t){return t&&!Kt(t.r)&&!Kt(t.g)&&!Kt(t.b)}var ki=Ar((function(t){if(Ei(t))return a({repetition:"repeat"},t);if(Kt(t)&&(t=""),"transparent"===t)return si;if("currentColor"===t)t="black";else if("none"===t)return ai;var e=wi(t);if(e)return e;var n=cn(t),r=[0,0,0,0];return null!==n&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),li.apply(void 0,h([],d(r),!1))}));function Mi(t,e){if(Si(t)&&Si(e))return[[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],function(t){var e=t.slice();if(e[3])for(var n=0;n<3;n++)e[n]=Math.round(Qt(e[n],0,255));return e[3]=Qt(e[3],0,1),"rgba(".concat(e.join(","),")")}]}function Ci(t,e){if(Kt(e))return ci(0,"px");if(e="".concat(e).trim().toLowerCase(),isFinite(Number(e))){if("px".search(t)>=0)return ci(Number(e),"px");if("deg".search(t)>=0)return ci(Number(e),"deg")}var n=[];e=e.replace(t,(function(t){return n.push(t),"U"+t}));var r="U("+t.source+")";return n.map((function(t){return ci(Number(e.replace(new RegExp("U"+t,"g"),"").replace(new RegExp(r,"g"),"*0")),t)}))[0]}var Ni=function(t){return Ci(new RegExp("px","g"),t)},Oi=Ar(Ni);Ar((function(t){return Ci(new RegExp("%","g"),t)}));var Pi=function(t){return Yt(t)||isFinite(Number(t))?ci(Number(t)||0,"px"):Ci(new RegExp("px|%|em|rem","g"),t)},Ti=Ar(Pi),Ai=function(t){return Ci(new RegExp("deg|rad|grad|turn","g"),t)},Ri=Ar(Ai);function _i(t,e,n,r,i){void 0===i&&(i=0);var o="",a=t.value||0,s=e.value||0,l=Yr(t.unit),c=t.convertTo(l),u=e.convertTo(l);return c&&u?(a=c.value,s=u.value,o=jr(t.unit)):(Xr.isLength(t.unit)||Xr.isLength(e.unit))&&(a=ji(t,i,n),s=ji(e,i,n),o="px"),[a,s,function(t){return r&&(t=Math.max(t,0)),t+o}]}function Li(t){var e=0;return t.unit===Sr.kDegrees?e=t.value:t.unit===Sr.kRadians?e=nr(Number(t.value)):t.unit===Sr.kTurns&&(e=360*Number(t.value)),e}function Ii(t,e){var n;return Array.isArray(t)?n=t.map((function(t){return Number(t)})):Zt(t)?n=t.split(" ").map((function(t){return Number(t)})):Yt(t)&&(n=[t]),2===e?1===n.length?[n[0],n[0]]:[n[0],n[1]]:1===n.length?[n[0],n[0],n[0],n[0]]:2===n.length?[n[0],n[1],n[0],n[1]]:3===n.length?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]}function Di(t){return Zt(t)?t.split(" ").map((function(t){return Ti(t)})):t.map((function(t){return Ti(t.toString())}))}function ji(t,e,n,r){if(void 0===r&&(r=!1),t.unit===Sr.kPixels)return Number(t.value);if(t.unit===Sr.kPercentage&&n){var i=n.nodeName===Wn.GROUP?n.getLocalBounds():n.getGeometryBounds();return(r?i.min[e]:0)+t.value/100*i.halfExtents[e]*2}return 0}var zi=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function Fi(t){if(void 0===t&&(t=""),"none"===(t=t.toLowerCase().trim()))return[];for(var e,n=/\s*([\w-]+)\(([^)]*)\)/g,r=[],i=0;e=n.exec(t);){if(e.index!==i)return[];if(i=e.index+e[0].length,zi.indexOf(e[1])>-1&&r.push({name:e[1],params:e[2].split(" ").map((function(t){return Ci(/deg|rad|grad|turn|px|%/g,t)||ki(t)}))}),n.lastIndex===t.length)return r}return[]}function Bi(t){return t.toString()}var $i=function(t){return"number"===typeof t?ci(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?ci(Number(t)):ci(0)},Vi=Ar($i);function Hi(t,e){return[t,e,Bi]}function Wi(t,e){return function(n,r){return[n,r,function(n){return Bi(Qt(n,t,e))}]}}function Gi(t,e){if(t.length===e.length)return[t,e,function(t){return t}]}function Ui(t){var e;return 0===t.parsedStyle.d.totalLength&&(t.parsedStyle.d.totalLength=ke(t.parsedStyle.d.absolutePath,void 0,a(a({},e),{bbox:!1,length:!0})).length),t.parsedStyle.d.totalLength}function qi(t){return 0===t.parsedStyle.points.totalLength&&(t.parsedStyle.points.totalLength=zn(t.parsedStyle.points.points)),t.parsedStyle.points.totalLength}function Yi(t,e){return t[0]===e[0]&&t[1]===e[1]}function Xi(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!l||0===Math.sin(l)||Pe(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),u=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u,{xExtra:Math.cos(l/2-c)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(u-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}function Ki(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}Ar((function(t){return Zt(t)?t.split(" ").map(Vi):t.map(Vi)}));var Zi=function(t,e){var n=t.x*e.x+t.y*e.y,r=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(e.x,2)+Math.pow(e.y,2)));return(t.x*e.y-t.y*e.x<0?-1:1)*Math.acos(n/r)},Qi=function(t,e,n,r,i,o,a,s){e=Math.abs(e),n=Math.abs(n);var l=er(r=Te(r,360));if(t.x===a.x&&t.y===a.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(0===e||0===n)return{x:0,y:0,ellipticalArcAngle:0};var c=(t.x-a.x)/2,u=(t.y-a.y)/2,d={x:Math.cos(l)*c+Math.sin(l)*u,y:-Math.sin(l)*c+Math.cos(l)*u},h=Math.pow(d.x,2)/Math.pow(e,2)+Math.pow(d.y,2)/Math.pow(n,2);h>1&&(e=Math.sqrt(h)*e,n=Math.sqrt(h)*n);var f=(Math.pow(e,2)*Math.pow(n,2)-Math.pow(e,2)*Math.pow(d.y,2)-Math.pow(n,2)*Math.pow(d.x,2))/(Math.pow(e,2)*Math.pow(d.y,2)+Math.pow(n,2)*Math.pow(d.x,2));f=f<0?0:f;var p=(i!==o?1:-1)*Math.sqrt(f),g=p*(e*d.y/n),m=p*(-n*d.x/e),v={x:Math.cos(l)*g-Math.sin(l)*m+(t.x+a.x)/2,y:Math.sin(l)*g+Math.cos(l)*m+(t.y+a.y)/2},y={x:(d.x-g)/e,y:(d.y-m)/n},b=Zi({x:1,y:0},y),x=Zi(y,{x:(-d.x-g)/e,y:(-d.y-m)/n});!o&&x>0?x-=2*Math.PI:o&&x<0&&(x+=2*Math.PI);var w=b+(x%=2*Math.PI)*s,E=e*Math.cos(w),S=n*Math.sin(w);return{x:Math.cos(l)*E-Math.sin(l)*S+v.x,y:Math.sin(l)*E+Math.cos(l)*S+v.y,ellipticalArcStartAngle:b,ellipticalArcEndAngle:b+x,ellipticalArcAngle:w,ellipticalArcCenter:v,resultantRx:e,resultantRy:n}};function Ji(t,e,n){void 0===n&&(n=!0);var r=t.arcParams,i=r.rx,o=void 0===i?0:i,a=r.ry,s=void 0===a?0:a,l=r.xRotation,c=r.arcFlag,u=r.sweepFlag,d=Qi({x:t.prePoint[0],y:t.prePoint[1]},o,s,l,!!c,!!u,{x:t.currentPoint[0],y:t.currentPoint[1]},e),h=Qi({x:t.prePoint[0],y:t.prePoint[1]},o,s,l,!!c,!!u,{x:t.currentPoint[0],y:t.currentPoint[1]},n?e+.005:e-.005),f=h.x-d.x,p=h.y-d.y,g=Math.sqrt(f*f+p*p);return{x:-f/g,y:-p/g}}function to(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function eo(t,e){return to(t)*to(e)?(t[0]*e[0]+t[1]*e[1])/(to(t)*to(e)):1}function no(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(eo(t,e))}function ro(t,e){var n=e[1],r=e[2],i=Te(er(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],c=e[6],u=e[7],d=Math.cos(i)*(s-c)/2+Math.sin(i)*(l-u)/2,h=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(l-u)/2,f=d*d/(n*n)+h*h/(r*r);f>1&&(n*=Math.sqrt(f),r*=Math.sqrt(f));var p=n*n*(h*h)+r*r*(d*d),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var m=r?g*n*h/r:0,v=n?g*-r*d/n:0,y=(s+c)/2+Math.cos(i)*m-Math.sin(i)*v,b=(l+u)/2+Math.sin(i)*m+Math.cos(i)*v,x=[(d-m)/n,(h-v)/r],w=[(-1*d-m)/n,(-1*h-v)/r],E=no([1,0],x),S=no(x,w);return eo(x,w)<=-1&&(S=Math.PI),eo(x,w)>=1&&(S=0),0===a&&S>0&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:y,cy:b,rx:Yi(t,[c,u])?0:n,ry:Yi(t,[c,u])?0:r,startAngle:E,endAngle:E+S,xRotation:i,arcFlag:o,sweepFlag:a}}var io=function(t){if(""===t||Array.isArray(t)&&0===t.length)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var e;try{e=pe(t)}catch(h){e=pe(""),console.error("[g]: Invalid SVG Path definition: ".concat(t))}!function(t){for(var e=0;e<t.length;e++){var n=t[e-1],r=t[e];if("M"===r[0]&&n){var i=n[0],o=[r[1],r[2]],a=void 0;"L"===i||"M"===i?a=[n[1],n[2]]:"C"!==i&&"A"!==i&&"Q"!==i||(a=[n[n.length-2],n[n.length-1]]),a&&Yi(o,a)&&(t.splice(e,1),e--)}}}(e);var n=function(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r][0];if("C"===i||"A"===i||"Q"===i){e=!0;break}}return e}(e),r=function(t){for(var e=[],n=[],r=[],i=0;i<t.length;i++){var o=t[i],a=o[0];"M"===a?(r.length&&(n.push(r),r=[]),r.push([o[1],o[2]])):"Z"===a?r.length&&(e.push(r),r=[]):r.push([o[1],o[2]])}return r.length>0&&n.push(r),{polygons:e,polylines:n}}(e),i=r.polygons,o=r.polylines,a=function(t){for(var e=[],n=null,r=null,i=null,o=0,a=t.length,s=0;s<a;s++){var l=t[s];r=t[s+1];var c=l[0],u={command:c,prePoint:n,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(c){case"M":i=[l[1],l[2]],o=s;break;case"A":var d=ro(n,l);u.arcParams=d}if("Z"===c)n=i,r=t[o+1];else{var h=l.length;n=[l[h-2],l[h-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),u.currentPoint=n,e[o]&&Yi(n,e[o].currentPoint)&&(e[o].prePoint=u.prePoint);var f=r?[r[r.length-2],r[r.length-1]]:null;u.nextPoint=f;var p=u.prePoint;if(["L","H","V"].includes(c))u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===c){var g=[l[1],l[2]];u.startTangent=[p[0]-g[0],p[1]-g[1]],u.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===c)g=Ki((y=e[s-1]).currentPoint,p),"Q"===y.command?(u.command="Q",u.startTangent=[p[0]-g[0],p[1]-g[1]],u.endTangent=[n[0]-g[0],n[1]-g[1]]):(u.command="TL",u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]]);else if("C"===c){var m=[l[1],l[2]],v=[l[3],l[4]];u.startTangent=[p[0]-m[0],p[1]-m[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]],0===u.startTangent[0]&&0===u.startTangent[1]&&(u.startTangent=[m[0]-v[0],m[1]-v[1]]),0===u.endTangent[0]&&0===u.endTangent[1]&&(u.endTangent=[v[0]-m[0],v[1]-m[1]])}else if("S"===c){var y;m=Ki((y=e[s-1]).currentPoint,p),v=[l[1],l[2]],"C"===y.command?(u.command="C",u.startTangent=[p[0]-m[0],p[1]-m[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]]):(u.command="SQ",u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]])}else if("A"===c){var b=Ji(u,0),x=b.x,w=b.y,E=Ji(u,1,!1),S=E.x,k=E.y;u.startTangent=[x,w],u.endTangent=[S,k]}e.push(u)}return e}(e),s=function(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=(g=t[o]).currentPoint,s=g.params,l=g.prePoint,c=void 0;switch(g.command){case"Q":c=$n(l[0],l[1],s[1],s[2],s[3],s[4]);break;case"C":c=Dn(l[0],l[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var u=g.arcParams;c=On(u.cx,u.cy,u.rx,u.ry,u.xRotation,u.startAngle,u.endAngle);break;default:n.push(a[0]),r.push(a[1])}c&&(g.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&("L"===g.command||"M"===g.command)&&g.prePoint&&g.nextPoint&&i.push(g)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),r=r.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var d=Ce(n),h=Ce(r),f=Ne(n),p=Ne(r);if(0===i.length)return{x:d,y:h,width:f-d,height:p-h};for(o=0;o<i.length;o++){var g;(a=(g=i[o]).currentPoint)[0]===d?d-=Xi(g,e).xExtra:a[0]===f&&(f+=Xi(g,e).xExtra),a[1]===h?h-=Xi(g,e).yExtra:a[1]===p&&(p+=Xi(g,e).yExtra)}return{x:d,y:h,width:f-d,height:p-h}}(a,0),l=s.x,c=s.y,u=s.width,d=s.height;return{absolutePath:e,hasArc:n,segments:a,polygons:i,polylines:o,totalLength:0,rect:{x:Number.isFinite(l)?l:0,y:Number.isFinite(c)?c:0,width:Number.isFinite(u)?u:0,height:Number.isFinite(d)?d:0}}},oo=Ar(io);function ao(t){return Zt(t)?oo(t):io(t)}function so(t,e,n){var r=t.curve,i=e.curve;r&&0!==r.length||(r=De(t.absolutePath,!1),t.curve=r),i&&0!==i.length||(i=De(e.absolutePath,!1),e.curve=i);var o=[r,i];r.length!==i.length&&(o=ze(r,i));var a=Fe(o[0])!==Fe(o[1])?function(t){var e=t.slice(1).map((function(e,n,r){return n?r[n-1].slice(-2).concat(e.slice(1)):t[0].slice(1).concat(e.slice(1))})).map((function(t){return t.map((function(e,n){return t[t.length-n-2*(1-n%2)]}))})).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map((function(t){return["C"].concat(t.slice(2))})))}(o[0]):o[0].map((function(t){return Array.isArray(t)?[].concat(t):t}));return[a,Be(o[1],a),function(t){return t}]}function lo(t,e){var n;return n=Zt(t)?t.split(" ").map((function(t){var e=d(t.split(","),2),n=e[0],r=e[1];return[Number(n),Number(r)]})):t,{points:n,totalLength:0,segments:[]}}function co(t,e){return[t.points,e.points,function(t){return t}]}var uo=null;function ho(t){return function(e){var n=0;return t.map((function(t){return t===uo?e[n++]:t}))}}function fo(t){return t}var po={matrix:["NNNNNN",[uo,uo,0,0,uo,uo,0,0,0,0,1,0,uo,uo,0,1],fo],matrix3d:["NNNNNNNNNNNNNNNN",fo],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",ho([uo,uo,new Xr(1)]),fo],scalex:["N",ho([uo,new Xr(1),new Xr(1)]),ho([uo,new Xr(1)])],scaley:["N",ho([new Xr(1),uo,new Xr(1)]),ho([new Xr(1),uo])],scalez:["N",ho([new Xr(1),new Xr(1),uo])],scale3d:["NNN",fo],skew:["Aa",null,fo],skewx:["A",null,ho([uo,Jr])],skewy:["A",null,ho([Jr,uo])],translate:["Tt",ho([uo,uo,Kr]),fo],translatex:["T",ho([uo,Kr,Kr]),ho([uo,Kr])],translatey:["T",ho([Kr,uo,Kr]),ho([Kr,uo])],translatez:["L",ho([Kr,Kr,uo])],translate3d:["TTL",fo]};function go(t){if("none"===(t=(t||"none").toLowerCase().trim()))return[];for(var e,n=/\s*(\w+)\(([^)]*)\)/g,r=[],i=0;e=n.exec(t);){if(e.index!==i)return[];i=e.index+e[0].length;var o=e[1],a=po[o];if(!a)return[];var s=e[2].split(","),l=a[0];if(l.length<s.length)return[];for(var c=[],u=0;u<l.length;u++){var d=s[u],h=l[u],f=void 0;if(void 0===(f=d?{A:function(t){return"0"===t.trim()?Jr:Ri(t)},N:Vi,T:Ti,L:Oi}[h.toUpperCase()](d):{a:Jr,n:c[0],t:Kr}[h]))return[];c.push(f)}if(r.push({t:o,d:c}),n.lastIndex===t.length)return r}return[]}function mo(t){if("none"===(t=(t||"none").toLowerCase().trim()))return[];for(var e,n=/\s*(\w+)\(([^)]*)\)/g,r=[],i=0;e=n.exec(t);){if(e.index!==i)return[];i=e.index+e[0].length;var o=e[1],a=po[o];if(!a)return[];var s=e[2].split(","),l=a[0];if(l.length<s.length)return[];for(var c=[],u=0;u<l.length;u++){var d=s[u],h=l[u],f=void 0;if(void 0===(f=d?{A:function(t){return"0"===t.trim()?Jr:Ai(t)},N:$i,T:Pi,L:Ni}[h.toUpperCase()](d):{a:Jr,n:c[0],t:Kr}[h]))return[];c.push(f)}if(r.push({t:o,d:c}),n.lastIndex===t.length)return r}return[]}function vo(t){var e,n,r,i;switch(t.t){case"rotatex":return i=er(Li(t.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotatey":return i=er(Li(t.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotatez":return i=er(Li(t.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":e=t.d[0].value,n=t.d[1].value,r=t.d[2].value,i=er(Li(t.d[3]));var o=e*e+n*n+r*r;if(0===o)e=1,n=0,r=0;else if(1!==o){var a=Math.sqrt(o);e/=a,n/=a,r/=a}var s=Math.sin(i/2),l=s*Math.cos(i/2),c=s*s;return[1-2*(n*n+r*r)*c,2*(e*n*c+r*l),2*(e*r*c-n*l),0,2*(e*n*c-r*l),1-2*(e*e+r*r)*c,2*(n*r*c+e*l),0,2*(e*r*c+n*l),2*(n*r*c-e*l),1-2*(e*e+n*n)*c,0,0,0,0,1];case"scale":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scalex":return[t.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,t.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,t.d[0].value,0,0,0,0,1];case"scale3d":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,t.d[2].value,0,0,0,0,1];case"skew":var u=er(Li(t.d[0])),d=er(Li(t.d[1]));return[1,Math.tan(d),0,0,Math.tan(u),1,0,0,0,0,1,0,0,0,0,1];case"skewx":return i=er(Li(t.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewy":return i=er(Li(t.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,e=ji(t.d[0],0,null)||0,n=ji(t.d[1],0,null)||0,0,1];case"translatex":return[1,0,0,0,0,1,0,0,0,0,1,0,e=ji(t.d[0],0,null)||0,0,0,1];case"translatey":return[1,0,0,0,0,1,0,0,0,0,1,0,0,n=ji(t.d[0],0,null)||0,0,1];case"translatez":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r=ji(t.d[0],0,null)||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,e=ji(t.d[0],0,null)||0,n=ji(t.d[1],0,null)||0,r=ji(t.d[2],0,null)||0,1];case"perspective":var h=ji(t.d[0],0,null)||0;return[1,0,0,0,0,1,0,0,0,0,1,h?-1/h:0,0,0,0,1];case"matrix":return[t.d[0].value,t.d[1].value,0,0,t.d[2].value,t.d[3].value,0,0,0,0,1,0,t.d[4].value,t.d[5].value,0,1];case"matrix3d":return t.d.map((function(t){return t.value}))}}function yo(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function bo(t){var e=[0,0,0],n=[1,1,1],r=[0,0,0],i=[0,0,0,1],o=[0,0,0,1];return function(t,e,n,r,i,o){if(!function(t,e){var n=e[15];if(0===n)return!1;for(var r=1/n,i=0;i<16;i++)t[i]=e[i]*r;return!0}(ar,t))return!1;if(j(sr,ar),sr[3]=0,sr[7]=0,sr[11]=0,sr[15]=1,Math.abs(W(sr))<1e-8)return!1;var a,s,l=ar[3],c=ar[7],u=ar[11],d=ar[12],h=ar[13],f=ar[14],p=ar[15];if(0!==l||0!==c||0!==u){if(lr[0]=l,lr[1]=c,lr[2]=u,lr[3]=p,!V(sr,sr))return!1;$(sr,sr),It(i,lr,sr)}else i[0]=i[1]=i[2]=0,i[3]=1;if(e[0]=d,e[1]=h,e[2]=f,s=ar,(a=cr)[0][0]=s[0],a[0][1]=s[1],a[0][2]=s[2],a[1][0]=s[4],a[1][1]=s[5],a[1][2]=s[6],a[2][0]=s[8],a[2][1]=s[9],a[2][2]=s[10],n[0]=b(cr[0]),N(cr[0],cr[0]),r[0]=O(cr[0],cr[1]),dr(cr[1],cr[1],cr[0],1,-r[0]),n[1]=b(cr[1]),N(cr[1],cr[1]),r[0]/=n[1],r[1]=O(cr[0],cr[2]),dr(cr[2],cr[2],cr[0],1,-r[1]),r[2]=O(cr[1],cr[2]),dr(cr[2],cr[2],cr[1],1,-r[2]),n[2]=b(cr[2]),N(cr[2],cr[2]),r[1]/=n[2],r[2]/=n[2],P(ur,cr[1],cr[2]),O(cr[0],ur)<0)for(var g=0;g<3;g++)n[g]*=-1,cr[g][0]*=-1,cr[g][1]*=-1,cr[g][2]*=-1;o[0]=.5*Math.sqrt(Math.max(1+cr[0][0]-cr[1][1]-cr[2][2],0)),o[1]=.5*Math.sqrt(Math.max(1-cr[0][0]+cr[1][1]-cr[2][2],0)),o[2]=.5*Math.sqrt(Math.max(1-cr[0][0]-cr[1][1]+cr[2][2],0)),o[3]=.5*Math.sqrt(Math.max(1+cr[0][0]+cr[1][1]+cr[2][2],0)),cr[2][1]>cr[1][2]&&(o[0]=-o[0]),cr[0][2]>cr[2][0]&&(o[1]=-o[1]),cr[1][0]>cr[0][1]&&(o[2]=-o[2])}(function(t){return 0===t.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(vo).reduce(yo)}(t),e,n,r,i,o),[[e,n,r,o,i]]}var xo=function(){function t(t,e){for(var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],r=0;r<4;r++)for(var i=0;i<4;i++)for(var o=0;o<4;o++)n[r][i]+=e[r][o]*t[o][i];return n}return function(e,n,r,i,o){for(var a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],s=0;s<4;s++)a[s][3]=o[s];for(s=0;s<3;s++)for(var l=0;l<3;l++)a[3][s]+=e[l]*a[l][s];var c=i[0],u=i[1],d=i[2],h=i[3],f=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];f[0][0]=1-2*(u*u+d*d),f[0][1]=2*(c*u-d*h),f[0][2]=2*(c*d+u*h),f[1][0]=2*(c*u+d*h),f[1][1]=1-2*(c*c+d*d),f[1][2]=2*(u*d-c*h),f[2][0]=2*(c*d-u*h),f[2][1]=2*(u*d+c*h),f[2][2]=1-2*(c*c+u*u),a=t(a,f);var p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];for(r[2]&&(p[2][1]=r[2],a=t(a,p)),r[1]&&(p[2][1]=0,p[2][0]=r[0],a=t(a,p)),r[0]&&(p[2][0]=0,p[1][0]=r[0],a=t(a,p)),s=0;s<3;s++)for(l=0;l<3;l++)a[s][l]*=n[s];return function(t){return 0==t[0][2]&&0==t[0][3]&&0==t[1][2]&&0==t[1][3]&&0==t[2][0]&&0==t[2][1]&&1==t[2][2]&&0==t[2][3]&&0==t[3][2]&&1==t[3][3]}(a)?[a[0][0],a[0][1],a[1][0],a[1][1],a[3][0],a[3][1]]:a[0].concat(a[1],a[2],a[3])}}();function wo(t){return t.toFixed(6).replace(".000000","")}function Eo(t,e){var n,r;return t.decompositionPair!==e&&(t.decompositionPair=e,n=bo(t)),e.decompositionPair!==t&&(e.decompositionPair=t,r=bo(e)),null===n[0]||null===r[0]?[[!1],[!0],function(n){return n?e[0].d:t[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(t){var e=function(t,e,n){var r=function(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[r];return n}(t,e);r=Qt(r,-1,1);var i=[];if(1===r)i=t;else for(var o=Math.acos(r),a=1*Math.sin(n*o)/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(t[s]*(Math.cos(n*o)-r*a)+e[s]*a);return i}(n[0][3],r[0][3],t[5]);return xo(t[0],t[1],t[2],e,t[4]).map(wo).join(",")}])}function So(t){return t.replace(/[xy]/,"")}function ko(t){return t.replace(/(x|y|z|3d)?$/,"3d")}function Mo(t,e,n){var r=!1;if(!t.length||!e.length){t.length||(r=!0,t=e,e=[]);for(var i=function(n){var r=t[n],i=r.t,o=r.d,a="scale"===i.substring(0,5)?1:0;e.push({t:i,d:o.map((function(t){return"number"===typeof t?ci(a):ci(a,t.unit)}))})},o=0;o<t.length;o++)i(o)}var a,s,l=[],c=[],u=[];if(t.length!==e.length)l=[(y=Eo(t,e))[0]],c=[y[1]],u=[["matrix",[y[2]]]];else for(o=0;o<t.length;o++){var d=t[o].t,h=e[o].t,f=t[o].d,p=e[o].d,g=po[d],m=po[h],v=void 0;if(s=h,"perspective"===(a=d)&&"perspective"===s||!("matrix"!==a&&"matrix3d"!==a||"matrix"!==s&&"matrix3d"!==s)){var y=Eo([t[o]],[e[o]]);l.push(y[0]),c.push(y[1]),u.push(["matrix",[y[2]]])}else{if(d===h)v=d;else if(g[2]&&m[2]&&So(d)===So(h))v=So(d),f=g[2](f),p=m[2](p);else{if(!g[1]||!m[1]||ko(d)!==ko(h)){l=[(y=Eo(t,e))[0]],c=[y[1]],u=[["matrix",[y[2]]]];break}v=ko(d),f=g[1](f),p=m[1](p)}for(var b=[],x=[],w=[],E=0;E<f.length;E++){y=_i(f[E],p[E],n,!1,E);b[E]=y[0],x[E]=y[1],w.push(y[2])}l.push(b),c.push(x),u.push([v,w])}}if(r){var S=l;l=c,c=S}return[l,c,function(t){return t.map((function(t,e){var n=t.map((function(t,n){return u[e][1][n](t)})).join(",");return"matrix"===u[e][0]&&16===n.split(",").length&&(u[e][0]="matrix3d"),"matrix3d"===u[e][0]&&6===n.split(",").length&&(u[e][0]="matrix"),u[e][0]+"("+n+")"})).join(" ")}]}var Co=Ar((function(t){if(Zt(t)){if("text-anchor"===t)return[ci(0,"px"),ci(0,"px")];var e=t.split(" ");return 1===e.length&&("top"===e[0]||"bottom"===e[0]?(e[1]=e[0],e[0]="center"):e[1]="center"),2!==e.length?null:[Ti(Oo(e[0])),Ti(Oo(e[1]))]}return[ci(t[0]||0,"px"),ci(t[1]||0,"px")]})),No=function(t){if(Zt(t)){if("text-anchor"===t)return[ci(0,"px"),ci(0,"px")];var e=t.split(" ");return 1===e.length&&("top"===e[0]||"bottom"===e[0]?(e[1]=e[0],e[0]="center"):e[1]="center"),2!==e.length?null:[Pi(Oo(e[0])),Pi(Oo(e[1]))]}return[ci(t[0]||0,"px"),ci(t[1]||0,"px")]};function Oo(t){return"center"===t?"50%":"left"===t||"top"===t?"0%":"right"===t||"bottom"===t?"100%":t}var Po=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:ui.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:ui.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:ui.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:ui.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:ui.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:ui.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:ui.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:ui.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:ui.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:ui.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:ui.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:ui.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:ui.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:ui.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:ui.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:ui.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:ui.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:ui.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:ui.FILTER},{n:"clipPath",syntax:ui.DEFINED_PATH},{n:"textPath",syntax:ui.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:ui.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:ui.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:ui.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:ui.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:ui.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:ui.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:ui.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:ui.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:ui.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:ui.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:ui.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:ui.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:ui.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:ui.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:ui.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:ui.COORDINATE},{n:"y1",int:!0,l:!0,syntax:ui.COORDINATE},{n:"z1",int:!0,l:!0,syntax:ui.COORDINATE},{n:"x2",int:!0,l:!0,syntax:ui.COORDINATE},{n:"y2",int:!0,l:!0,syntax:ui.COORDINATE},{n:"z2",int:!0,l:!0,syntax:ui.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:ui.PATH,p:50},{n:"points",int:!0,l:!0,syntax:ui.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:ui.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:ui.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:ui.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:ui.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:ui.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:ui.NUMBER,d:function(t){return t===Wn.PATH||t===Wn.POLYGON||t===Wn.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:ui.MARKER},{n:"markerEnd",syntax:ui.MARKER},{n:"markerMid",syntax:ui.MARKER},{n:"markerStartOffset",syntax:ui.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:ui.LENGTH,l:!0,int:!0,d:"0"}],To=Po.filter((function(t){return!!t.l})).map((function(t){return t.n})),Ao={},Ro=new WeakMap,_o=function(){function t(t){var e=this;this.runtime=t,Po.forEach((function(t){e.registerMetadata(t)}))}return t.prototype.registerMetadata=function(t){h([t.n],d(t.a||[]),!1).forEach((function(e){Ao[e]=t}))},t.prototype.unregisterMetadata=function(t){delete Ao[t]},t.prototype.getPropertySyntax=function(t){return this.runtime.CSSPropertySyntaxFactory[t]},t.prototype.processProperties=function(t,e,n){var r=this;if(void 0===n&&(n={skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[],memoize:!0}),this.runtime.enableCSSParsing){var i=n.skipUpdateAttribute,o=n.skipParse,s=n.forceUpdateGeometry,l=n.usedAttributes,c=n.memoize,u=s,d=Object.keys(e);d.forEach((function(n){var r;i||(t.attributes[n]=e[n]),!u&&(null===(r=Ao[n])||void 0===r?void 0:r.l)&&(u=!0)})),o||d.forEach((function(e){t.computedStyle[e]=r.parseProperty(e,t.attributes[e],t,c)})),(null===l||void 0===l?void 0:l.length)&&(d=Array.from(new Set(d.concat(l)))),d.forEach((function(e){e in t.computedStyle&&(t.parsedStyle[e]=r.computeProperty(e,t.computedStyle[e],t,c))})),u&&(t.geometry.dirty=!0,t.renderable.boundsDirty=!0,t.renderable.renderBoundsDirty=!0,n.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(t)),d.forEach((function(e){e in t.parsedStyle&&r.postProcessProperty(e,t,d)})),this.runtime.enableCSSParsing&&t.children.length&&d.forEach((function(e){e in t.parsedStyle&&r.isPropertyInheritable(e)&&t.children.forEach((function(t){t.internalSetAttribute(e,null,{skipUpdateAttribute:!0,skipParse:!0})}))}))}else{Object.assign(t.attributes,e);var h=Object.keys(e),f=t.parsedStyle.clipPath,p=t.parsedStyle.offsetPath;t.parsedStyle=Object.assign(t.parsedStyle,e);var g=!!n.forceUpdateGeometry;if(!g)for(var m=0;m<To.length;m++)if(To[m]in e){g=!0;break}e.fill&&(t.parsedStyle.fill=ki(e.fill)),e.stroke&&(t.parsedStyle.stroke=ki(e.stroke)),e.shadowColor&&(t.parsedStyle.shadowColor=ki(e.shadowColor)),e.filter&&(t.parsedStyle.filter=Fi(e.filter)),Kt(e.radius)||(t.parsedStyle.radius=Ii(e.radius,4)),Kt(e.lineDash)||(t.parsedStyle.lineDash=Ii(e.lineDash,2)),e.points&&(t.parsedStyle.points=lo(e.points)),""===e.d&&(t.parsedStyle.d=a({},di)),e.d&&(t.parsedStyle.d=ao(e.d)),e.textTransform&&this.runtime.CSSPropertySyntaxFactory["<text-transform>"].calculator(null,null,{value:e.textTransform},t,null),$e(e.clipPath)||this.runtime.CSSPropertySyntaxFactory["<defined-path>"].calculator("clipPath",f,e.clipPath,t,this.runtime),e.offsetPath&&this.runtime.CSSPropertySyntaxFactory["<defined-path>"].calculator("offsetPath",p,e.offsetPath,t,this.runtime),e.transform&&(t.parsedStyle.transform=go(e.transform)),e.transformOrigin&&(t.parsedStyle.transformOrigin=Co(e.transformOrigin)),e.markerStart&&(t.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator(null,e.markerStart,e.markerStart,null,null)),e.markerEnd&&(t.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator(null,e.markerEnd,e.markerEnd,null,null)),e.markerMid&&(t.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator("",e.markerMid,e.markerMid,null,null)),Kt(e.zIndex)||this.runtime.CSSPropertySyntaxFactory["<z-index>"].postProcessor(t,h),Kt(e.offsetDistance)||this.runtime.CSSPropertySyntaxFactory["<offset-distance>"].postProcessor(t,h),e.transform&&this.runtime.CSSPropertySyntaxFactory["<transform>"].postProcessor(t,h),e.transformOrigin&&this.runtime.CSSPropertySyntaxFactory["<transform-origin>"].postProcessor(t,h),g&&(t.geometry.dirty=!0,t.renderable.boundsDirty=!0,t.renderable.renderBoundsDirty=!0,n.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(t))}},t.prototype.parseProperty=function(t,e,n,r){var i=Ao[t],o=e;if((""===e||Kt(e))&&(e="unset"),"unset"===e||"initial"===e||"inherit"===e)o=oi(e);else if(i){var a=i.k,s=i.syntax,l=s&&this.getPropertySyntax(s);a&&a.indexOf(e)>-1?o=oi(e):l&&(!r&&l.parserUnmemoize?o=l.parserUnmemoize(e,n):l.parser&&(o=l.parser(e,n)))}return o},t.prototype.computeProperty=function(t,e,n,r){var i=Ao[t],o="g-root"===n.id,a=e;if(i){var s=i.syntax,l=i.inh,c=i.d;if(e instanceof $r){var u=e.value;if("unset"===u&&(u=l&&!o?"inherit":"initial"),"initial"===u)Kt(c)||(e=this.parseProperty(t,Wr(c)?c(n.nodeName):c,n,r));else if("inherit"===u){var d=this.tryToResolveProperty(n,t,{inherited:!0});return Kt(d)?void this.addUnresolveProperty(n,t):d}}var h=s&&this.getPropertySyntax(s);if(h&&h.calculator){var f=n.parsedStyle[t];a=h.calculator(t,f,e,n,this.runtime)}else a=e instanceof $r?e.value:e}return a},t.prototype.postProcessProperty=function(t,e,n){var r=Ao[t];if(r&&r.syntax){var i=r.syntax&&this.getPropertySyntax(r.syntax);i&&i.postProcessor&&i.postProcessor(e,n)}},t.prototype.addUnresolveProperty=function(t,e){var n=Ro.get(t);n||(Ro.set(t,[]),n=Ro.get(t)),-1===n.indexOf(e)&&n.push(e)},t.prototype.tryToResolveProperty=function(t,e,n){if(void 0===n&&(n={}),n.inherited&&t.parentElement&&function(t,e){var n=Ro.get(t);return!n||0===n.length||n.includes(e)}(t.parentElement,e)){var r=t.parentElement.parsedStyle[e];if("unset"===r||"initial"===r||"inherit"===r)return;return r}},t.prototype.recalc=function(t){var e=Ro.get(t);if(e&&e.length){var n={};e.forEach((function(e){n[e]=t.attributes[e]})),this.processProperties(t,n),Ro.delete(t)}},t.prototype.updateGeometry=function(t){var e=t.nodeName,n=this.runtime.geometryUpdaterFactory[e];if(n){var r=t.geometry;r.contentBounds||(r.contentBounds=new fr),r.renderBounds||(r.renderBounds=new fr);var i=t.parsedStyle,o=n.update(i,t),a=o.cx,s=void 0===a?0:a,l=o.cy,c=void 0===l?0:l,u=o.cz,d=void 0===u?0:u,h=o.hwidth,f=void 0===h?0:h,p=o.hheight,g=void 0===p?0:p,m=o.hdepth,v=void 0===m?0:m,y=[Math.abs(f),Math.abs(g),v],b=i,x=b.stroke,w=b.lineWidth,E=void 0===w?1:w,S=b.increasedLineWidthForHitTesting,k=void 0===S?0:S,M=b.shadowType,C=void 0===M?"outer":M,N=b.shadowColor,O=b.filter,P=void 0===O?[]:O,T=b.transformOrigin,A=[s,c,d];r.contentBounds.update(A,y);var R=e===Wn.POLYLINE||e===Wn.POLYGON||e===Wn.PATH?Math.SQRT2:.5;if(x&&!x.isNone){var _=((E||0)+(k||0))*R;y[0]+=_,y[1]+=_}if(r.renderBounds.update(A,y),N&&C&&"inner"!==C){var L=r.renderBounds,I=L.min,D=L.max,j=i,z=j.shadowBlur||0,F=j.shadowOffsetX||0,B=j.shadowOffsetY||0,$=I[0]-z+F,V=D[0]+z+F,H=I[1]-z+B,W=D[1]+z+B;I[0]=Math.min(I[0],$),D[0]=Math.max(D[0],V),I[1]=Math.min(I[1],H),D[1]=Math.max(D[1],W),r.renderBounds.setMinMax(I,D)}P.forEach((function(t){var e=t.name,n=t.params;if("blur"===e){var i=n[0].value;r.renderBounds.update(r.renderBounds.center,Zn(r.renderBounds.halfExtents,r.renderBounds.halfExtents,[i,i,0]))}else if("drop-shadow"===e){var o=n[0].value,a=n[1].value,s=n[2].value,l=r.renderBounds,c=l.min,u=l.max,d=c[0]-s+o,h=u[0]+s+o,f=c[1]-s+a,p=u[1]+s+a;c[0]=Math.min(c[0],d),u[0]=Math.max(u[0],h),c[1]=Math.min(c[1],f),u[1]=Math.max(u[1],p),r.renderBounds.setMinMax(c,u)}})),t.geometry.dirty=!1;var G=g<0,U=(f<0?-1:1)*(T?ji(T[0],0,t,!0):0),q=(G?-1:1)*(T?ji(T[1],1,t,!0):0);(U||q)&&t.setOrigin(U,q)}},t.prototype.updateSizeAttenuation=function(t,e){t.style.isSizeAttenuation?(t.style.rawLineWidth||(t.style.rawLineWidth=t.style.lineWidth),t.style.lineWidth=(t.style.rawLineWidth||1)/e,t.nodeName===Wn.CIRCLE&&(t.style.rawR||(t.style.rawR=t.style.r),t.style.r=(t.style.rawR||1)/e)):(t.style.rawLineWidth&&(t.style.lineWidth=t.style.rawLineWidth,delete t.style.rawLineWidth),t.nodeName===Wn.CIRCLE&&t.style.rawR&&(t.style.r=t.style.rawR,delete t.style.rawR))},t.prototype.isPropertyInheritable=function(t){var e=Ao[t];return!!e&&e.inh},t}(),Lo=function(){function t(){this.parser=Ri,this.parserUnmemoize=Ai,this.parserWithCSSDisabled=null,this.mixer=Hi}return t.prototype.calculator=function(t,e,n,r){return Li(n)},t}(),Io=function(){function t(){}return t.prototype.calculator=function(t,e,n,r,i){return n instanceof $r&&(n=null),i.sceneGraphService.updateDisplayObjectDependency(t,e,n,r),"clipPath"===t&&r.forEach((function(t){0===t.childNodes.length&&i.sceneGraphService.dirtifyToRoot(t)})),n},t}(),Do=function(){function t(){this.parser=ki,this.parserWithCSSDisabled=ki,this.mixer=Mi}return t.prototype.calculator=function(t,e,n,r){return n instanceof $r?"none"===n.value?ai:si:n},t}(),jo=function(){function t(){this.parser=Fi}return t.prototype.calculator=function(t,e,n){return n instanceof $r?[]:n},t}();function zo(t){var e=t.parsedStyle.fontSize;return Kt(e)?null:e}var Fo=function(){function t(){this.parser=Ti,this.parserUnmemoize=Pi,this.parserWithCSSDisabled=null,this.mixer=Hi}return t.prototype.calculator=function(t,e,n,r,i){var o;if(Yt(n))return n;if(!Xr.isRelativeUnit(n.unit))return n.value;var a=i.styleValueRegistry;if(n.unit===Sr.kPercentage)return 0;if(n.unit===Sr.kEms){if(r.parentNode){if(s=zo(r.parentNode))return s*=n.value;a.addUnresolveProperty(r,t)}else a.addUnresolveProperty(r,t);return 0}if(n.unit===Sr.kRems){if(null===(o=null===r||void 0===r?void 0:r.ownerDocument)||void 0===o?void 0:o.documentElement){var s;if(s=zo(r.ownerDocument.documentElement))return s*=n.value;a.addUnresolveProperty(r,t)}else a.addUnresolveProperty(r,t);return 0}},t}(),Bo=function(){function t(){this.mixer=Gi}return t.prototype.parser=function(t){var e=Di(Yt(t)?[t]:t);return 1===e.length?[e[0],e[0]]:[e[0],e[1]]},t.prototype.calculator=function(t,e,n){return n.map((function(t){return t.value}))},t}(),$o=function(){function t(){this.mixer=Gi}return t.prototype.parser=function(t){var e=Di(Yt(t)?[t]:t);return 1===e.length?[e[0],e[0],e[0],e[0]]:2===e.length?[e[0],e[1],e[0],e[1]]:3===e.length?[e[0],e[1],e[2],e[1]]:[e[0],e[1],e[2],e[3]]},t.prototype.calculator=function(t,e,n){return n.map((function(t){return t.value}))},t}(),Vo=function(){function t(){}return t.prototype.calculator=function(t,e,n,r){n instanceof $r&&(n=null);var i=null===n||void 0===n?void 0:n.cloneNode(!0);return i&&(i.style.isMarker=!0),i},t}(),Ho=function(){function t(){this.mixer=Hi,this.parser=Vi,this.parserUnmemoize=$i,this.parserWithCSSDisabled=null}return t.prototype.calculator=function(t,e,n){return n.value},t}(),Wo=function(){function t(){this.parser=Vi,this.parserUnmemoize=$i,this.parserWithCSSDisabled=null,this.mixer=Wi(0,1)}return t.prototype.calculator=function(t,e,n){return n.value},t.prototype.postProcessor=function(t){var e=t.parsedStyle,n=e.offsetPath,r=e.offsetDistance;if(n){var i=n.nodeName;if(i===Wn.LINE||i===Wn.PATH||i===Wn.POLYLINE){var o=n.getPoint(r);o&&t.setLocalPosition(o.x,o.y)}}},t}(),Go=function(){function t(){this.parser=Vi,this.parserUnmemoize=$i,this.parserWithCSSDisabled=null,this.mixer=Wi(0,1)}return t.prototype.calculator=function(t,e,n){return n.value},t}(),Uo=function(){function t(){this.parser=ao,this.parserWithCSSDisabled=ao,this.mixer=so}return t.prototype.calculator=function(t,e,n){return n instanceof $r&&"unset"===n.value?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new xr(0,0,0,0)}:n},t}(),qo=function(){this.parser=lo,this.mixer=co},Yo=function(t){function e(){var e=t.apply(this,h([],d(arguments),!1))||this;return e.mixer=Wi(0,1/0),e}return o(e,t),e}(Fo),Xo=function(){function t(){}return t.prototype.calculator=function(t,e,n,r){return n instanceof $r?"unset"===n.value?"":n.value:"".concat(n)},t.prototype.postProcessor=function(t){t.nodeValue="".concat(t.parsedStyle.text)||""},t}(),Ko=function(){function t(){}return t.prototype.calculator=function(t,e,n,r){var i=r.getAttribute("text");if(i){var o=i;"capitalize"===n.value?o=i.charAt(0).toUpperCase()+i.slice(1):"lowercase"===n.value?o=i.toLowerCase():"uppercase"===n.value&&(o=i.toUpperCase()),r.parsedStyle.text=o}return n.value},t}(),Zo={},Qo=0;var Jo="undefined"!==typeof window&&"undefined"!==typeof window.document;function ta(t){return!!t.getAttribute}function ea(t,e){var n=Number(t.parsedStyle.zIndex||0),r=Number(e.parsedStyle.zIndex||0);if(n===r){var i=t.parentNode;if(i){var o=i.childNodes||[];return o.indexOf(t)-o.indexOf(e)}}return n-r}function na(t){var e,n=t;do{if(null===(e=n.parsedStyle)||void 0===e?void 0:e.clipPath)return n;n=n.parentElement}while(null!==n);return null}function ra(t,e){if(Jo)return document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}var ia={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},oa="object"===typeof performance&&performance.now?performance:Date;function aa(t,e,n){void 0===t&&(t="auto");var r=!1,i=!1,o=!!e&&!e.isNone,a=!!n&&!n.isNone;return"visiblepainted"===t||"painted"===t||"auto"===t?(r=o,i=a):"visiblefill"===t||"fill"===t?r=!0:"visiblestroke"===t||"stroke"===t?i=!0:"visible"!==t&&"all"!==t||(r=!0,i=!0),[r,i]}var sa=1,la="object"===typeof self&&self.self==self?self:"object"===typeof n.g&&n.g.global==n.g?n.g:{},ca=Date.now(),ua={},da=Date.now(),ha=function(t){if("function"!==typeof t)throw new TypeError(t+" is not a function");var e=Date.now(),n=e-da,r=n>16?0:16-n,i=sa++;return ua[i]=t,Object.keys(ua).length>1||setTimeout((function(){da=e;var t=ua;ua={},Object.keys(t).forEach((function(e){return t[e](la.performance&&"function"===typeof la.performance.now?la.performance.now():Date.now()-ca)}))}),r),i},fa=function(t){delete ua[t]},pa=function(t){return"string"!==typeof t?ha:""===t?la.requestAnimationFrame:la[t+"RequestAnimationFrame"]},ga=function(t,e){for(var n=0;void 0!==t[n];){if(e(t[n]))return t[n];n+=1}}(["","webkit","moz","ms","o"],(function(t){return!!pa(t)})),ma=pa(ga),va=function(t){return"string"!==typeof t?fa:""===t?la.cancelAnimationFrame:la[t+"CancelAnimationFrame"]||la[t+"CancelRequestAnimationFrame"]}(ga);la.requestAnimationFrame=ma,la.cancelAnimationFrame=va;var ya=function(){function t(){this.callbacks=[]}return t.prototype.getCallbacksNum=function(){return this.callbacks.length},t.prototype.tapPromise=function(t,e){this.callbacks.push(e)},t.prototype.promise=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Promise.all(this.callbacks.map((function(e){return e.apply(void 0,h([],d(t),!1))})))},t}(),ba=function(){function t(){this.callbacks=[]}return t.prototype.tapPromise=function(t,e){this.callbacks.push(e)},t.prototype.promise=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return l(this,void 0,void 0,(function(){var e,n,r;return c(this,(function(i){switch(i.label){case 0:return this.callbacks.length?[4,(r=this.callbacks)[0].apply(r,h([],d(t),!1))]:[3,6];case 1:e=i.sent(),n=0,i.label=2;case 2:return n<this.callbacks.length-1?[4,(0,this.callbacks[n])(e)]:[3,5];case 3:e=i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,e];case 6:return[2,null]}}))}))},t}(),xa=function(){function t(){this.callbacks=[]}return t.prototype.tap=function(t,e){this.callbacks.push(e)},t.prototype.call=function(){var t=arguments;this.callbacks.forEach((function(e){e.apply(void 0,t)}))},t}(),wa=function(){function t(){this.callbacks=[]}return t.prototype.tap=function(t,e){this.callbacks.push(e)},t.prototype.call=function(){if(this.callbacks.length){for(var t=arguments,e=this.callbacks[0].apply(void 0,t),n=0;n<this.callbacks.length-1;n++){e=(0,this.callbacks[n])(e)}return e}return null},t}(),Ea=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Sa=/([\"\'])[^\'\"]+\1/;function ka(t,e,n){return B(t),t[4]=Math.tan(e),t[1]=Math.tan(n),t}var Ma=1e-5,Ca=I(),Na=I();function Oa(e,n){if(e.length){var r=B(Ca);e.forEach((function(e){var n=e.t,i=e.d;if("scale"===n){var o=(null===i||void 0===i?void 0:i.map((function(t){return Math.max(t.value,Ma)})))||[1,1];J(Na,[o[0],o[1],1])}else if("scalex"===n){o=(null===i||void 0===i?void 0:i.map((function(t){return Math.max(t.value,Ma)})))||[1];J(Na,[o[0],1,1])}else if("scaley"===n){o=(null===i||void 0===i?void 0:i.map((function(t){return Math.max(t.value,Ma)})))||[1];J(Na,[1,o[0],1])}else if("scalez"===n){o=(null===i||void 0===i?void 0:i.map((function(t){return Math.max(t.value,Ma)})))||[1];J(Na,[1,1,o[0]])}else if("scale3d"===n){o=(null===i||void 0===i?void 0:i.map((function(t){return Math.max(t.value,Ma)})))||[1,1,1];J(Na,[o[0],o[1],o[2]])}else if("translate"===n){Q(Na,[(a=i||[Kr,Kr])[0].value,a[1].value,0])}else if("translatex"===n){Q(Na,[(a=i||[Kr])[0].value,0,0])}else if("translatey"===n){Q(Na,[0,(a=i||[Kr])[0].value,0])}else if("translatez"===n){Q(Na,[0,0,(a=i||[Kr])[0].value])}else if("translate3d"===n){var a;Q(Na,[(a=i||[Kr,Kr,Kr])[0].value,a[1].value,a[2].value])}else if("rotate"===n){rt(Na,er(Li((s=i||[Jr])[0])))}else if("rotatex"===n){et(Na,er(Li((s=i||[Jr])[0])))}else if("rotatey"===n){nt(Na,er(Li((s=i||[Jr])[0])))}else if("rotatez"===n){rt(Na,er(Li((s=i||[Jr])[0])))}else if("rotate3d"===n){var s;tt(Na,er(Li((s=i||[Kr,Kr,Kr,Jr])[3])),[s[0].value,s[1].value,s[2].value])}else if("skew"===n){var l=(null===i||void 0===i?void 0:i.map((function(t){return t.value})))||[0,0];ka(Na,er(l[0]),er(l[1]))}else if("skewx"===n){l=(null===i||void 0===i?void 0:i.map((function(t){return t.value})))||[0];ka(Na,er(l[0]),0)}else if("skewy"===n){l=(null===i||void 0===i?void 0:i.map((function(t){return t.value})))||[0];ka(Na,0,er(l[0]))}else if("matrix"===n){var c=d(i.map((function(t){return t.value})),6),u=c[0],f=c[1],p=c[2],g=c[3],m=c[4],v=c[5];F(Na,u,f,0,0,p,g,0,0,0,0,1,0,m,v,0,1)}else"matrix3d"===n&&F.apply(t,h([Na],d(i.map((function(t){return t.value}))),!1));Tt(r,r,Na)})),n.setLocalTransform(r)}else n.resetLocalTransform();return n.getLocalTransform()}var Pa=function(){function t(){this.parser=go,this.parserUnmemoize=mo,this.parserWithCSSDisabled=mo,this.mixer=Mo}return t.prototype.calculator=function(t,e,n,r){return n instanceof $r?[]:n},t.prototype.postProcessor=function(t){Oa(t.parsedStyle.transform,t)},t}(),Ta=function(){function t(){this.parser=Co,this.parserUnmemoize=No}return t.prototype.postProcessor=function(t){var e=t.parsedStyle.transformOrigin;e[0].unit===Sr.kPixels&&e[1].unit===Sr.kPixels?t.setOrigin(e[0].value,e[1].value):t.getGeometryBounds()},t}(),Aa=function(){function t(){this.parser=Vi,this.parserUnmemoize=$i}return t.prototype.calculator=function(t,e,n,r){return n.value},t.prototype.postProcessor=function(t){if(t.parentNode){var e=t.parentNode,n=e.renderable,r=e.sortable;n&&(n.dirty=!0),r&&(r.dirty=!0,r.dirtyReason=Qr.Z_INDEX_CHANGED)}},t}(),Ra=function(){function t(){}return t.prototype.update=function(t,e){var n=t.cx,r=void 0===n?0:n,i=t.cy,o=void 0===i?0:i,a=t.r,s=void 0===a?0:a;return{cx:r,cy:o,hwidth:s,hheight:s}},t}(),_a=function(){function t(){}return t.prototype.update=function(t,e){var n=t.cx,r=void 0===n?0:n,i=t.cy,o=void 0===i?0:i,a=t.rx,s=void 0===a?0:a,l=t.ry;return{cx:r,cy:o,hwidth:s,hheight:void 0===l?0:l}},t}(),La=function(){function t(){}return t.prototype.update=function(t){var e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=Math.min(e,r),a=Math.max(e,r),s=Math.min(n,i),l=(a-o)/2,c=(Math.max(n,i)-s)/2;return{cx:o+l,cy:s+c,hwidth:l,hheight:c}},t}(),Ia=function(){function t(){}return t.prototype.update=function(t){var e=t.d.rect,n=e.x,r=e.y,i=e.width/2,o=e.height/2;return{cx:n+i,cy:r+o,hwidth:i,hheight:o}},t}(),Da=function(){function t(){}return t.prototype.update=function(t){if(t.points&&Me(t.points.points)){var e=t.points.points,n=Math.min.apply(Math,h([],d(e.map((function(t){return t[0]}))),!1)),r=Math.max.apply(Math,h([],d(e.map((function(t){return t[0]}))),!1)),i=Math.min.apply(Math,h([],d(e.map((function(t){return t[1]}))),!1)),o=Math.max.apply(Math,h([],d(e.map((function(t){return t[1]}))),!1)),a=(r-n)/2,s=(o-i)/2;return{cx:n+a,cy:i+s,hwidth:a,hheight:s}}return{cx:0,cy:0,hwidth:0,hheight:0}},t}(),ja=function(){function t(){}return t.prototype.update=function(t,e){var n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.src,s=t.width,l=void 0===s?0:s,c=t.height,u=l,d=void 0===c?0:c;return a&&!Zt(a)&&(u||(u=a.width,t.width=u),d||(d=a.height,t.height=d)),{cx:r+u/2,cy:o+d/2,hwidth:u/2,hheight:d/2}},t}(),za=function(){function t(t){this.globalRuntime=t}return t.prototype.isReadyToMeasure=function(t,e){var n=t.text,r=t.textAlign,i=t.textBaseline,o=t.fontSize,a=t.fontStyle,s=t.fontWeight,l=t.fontVariant,c=t.lineWidth;return us.enableCSSParsing?n&&o&&a&&s&&l&&r&&i&&!Kt(c):n},t.prototype.update=function(t,e){var n,r,i=t.text,o=t.textAlign,a=void 0===o?"start":o,s=t.lineWidth,l=void 0===s?1:s,c=t.textBaseline,u=void 0===c?"alphabetic":c,d=t.dx,h=void 0===d?0:d,f=t.dy,p=void 0===f?0:f,g=t.x,m=void 0===g?0:g,v=t.y,y=void 0===v?0:v;if(!this.isReadyToMeasure(t,e))return t.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var b=((null===(r=null===(n=null===e||void 0===e?void 0:e.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0===r?void 0:r.getConfig())||{}).offscreenCanvas,x=this.globalRuntime.textService.measureText(i,t,b);t.metrics=x;var w=x.width,E=x.height,S=x.lineHeight,k=x.fontProperties,M=w/2,C=E/2,N=m+M;"center"===a||"middle"===a?N+=l/2-M:"right"!==a&&"end"!==a||(N+=l-2*M);var O=y-C;return"middle"===u?O+=C:"top"===u||"hanging"===u?O+=2*C:"alphabetic"===u?O+=this.globalRuntime.enableCSSParsing?S-k.ascent:0:"bottom"!==u&&"ideographic"!==u||(O+=0),h&&(N+=h),p&&(O+=p),{cx:N,cy:O,hwidth:M,hheight:C}},t}(),Fa=function(){function t(){}return t.prototype.update=function(t,e){return{cx:0,cy:0,hwidth:0,hheight:0}},t}(),Ba=function(){function t(){}return t.prototype.update=function(t,e){var n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.width,s=void 0===a?0:a,l=t.height,c=void 0===l?0:l;return{cx:r+s/2,cy:o+c/2,hwidth:s/2,hheight:c/2}},t}();var $a,Va=function(){function t(e){this.eventPhase=t.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new br,this.page=new br,this.canvas=new br,this.viewport=new br,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerX",{get:function(){return this.layer.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerY",{get:function(){return this.layer.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageX",{get:function(){return this.page.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageY",{get:function(){return this.page.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.canvas.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.canvas.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasX",{get:function(){return this.canvas.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasY",{get:function(){return this.canvas.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewportX",{get:function(){return this.viewport.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewportY",{get:function(){return this.viewport.y},enumerable:!1,configurable:!0}),t.prototype.composedPath=function(){return!this.manager||this.path&&this.path[0]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path},Object.defineProperty(t.prototype,"propagationPath",{get:function(){return this.composedPath()},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0},t.prototype.stopImmediatePropagation=function(){this.propagationImmediatelyStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.initEvent=function(){},t.prototype.initUIEvent=function(){},t.prototype.clone=function(){throw new Error(wr)},t}(),Ha=function(t){function e(){var e=t.apply(this,h([],d(arguments),!1))||this;return e.client=new br,e.movement=new br,e.offset=new br,e.global=new br,e.screen=new br,e}return o(e,t),Object.defineProperty(e.prototype,"clientX",{get:function(){return this.client.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this.client.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"movementX",{get:function(){return this.movement.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"movementY",{get:function(){return this.movement.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){return this.offset.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return this.offset.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalX",{get:function(){return this.global.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalY",{get:function(){return this.global.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenX",{get:function(){return this.screen.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenY",{get:function(){return this.screen.y},enumerable:!1,configurable:!0}),e.prototype.getModifierState=function(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)},e.prototype.initMouseEvent=function(){throw new Error(wr)},e}(Va),Wa=function(t){function e(){var e=t.apply(this,h([],d(arguments),!1))||this;return e.width=0,e.height=0,e.isPrimary=!1,e}return o(e,t),e.prototype.getCoalescedEvents=function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]},e.prototype.getPredictedEvents=function(){throw new Error("getPredictedEvents is not supported!")},e.prototype.clone=function(){return this.manager.clonePointerEvent(this)},e}(Ha),Ga=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.clone=function(){return this.manager.cloneWheelEvent(this)},e}(Ha),Ua=function(t){function e(e,n){var r=t.call(this,null)||this;return r.type=e,r.detail=n,Object.assign(r,n),r}return o(e,t),e}(Va),qa=function(){function t(){this.emitter=new p}return t.prototype.on=function(t,e,n){return this.addEventListener(t,e,n),this},t.prototype.addEventListener=function(t,e,n){var r=Ve(n)&&n||He(n)&&n.capture,i=He(n)&&n.once,o=Wr(e)?void 0:e,a=!1,s="";if(t.indexOf(":")>-1){var l=d(t.split(":"),2),c=l[0];t=l[1],s=c,a=!0}if(t=r?"".concat(t,"capture"):t,e=Wr(e)?e:e.handleEvent,a){var u=e;e=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(null===(t=e[0].target)||void 0===t?void 0:t.name)===s&&u.apply(void 0,h([],d(e),!1))}}return i?this.emitter.once(t,e,o):this.emitter.on(t,e,o),this},t.prototype.off=function(t,e,n){return t?this.removeEventListener(t,e,n):this.removeAllEventListeners(),this},t.prototype.removeAllEventListeners=function(){this.emitter.removeAllListeners()},t.prototype.removeEventListener=function(t,e,n){var r=Ve(n)&&n||He(n)&&n.capture,i=Wr(e)?void 0:e;return t=r?"".concat(t,"capture"):t,e=Wr(e)?e:null===e||void 0===e?void 0:e.handleEvent,this.emitter.off(t,e,i),this},t.prototype.emit=function(t,e){this.dispatchEvent(new Ua(t,e))},t.prototype.dispatchEvent=function(t,e){var n,r,i;if(void 0===e&&(e=!1),!t.type)throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");if(i=this.document?this:this.defaultView?this.defaultView:null===(n=this.ownerDocument)||void 0===n?void 0:n.defaultView){if(t.manager=i.getEventService()||null,!t.manager)return!1;t.defaultPrevented=!1,t.path=[],e||(t.target=this),null===(r=t.manager)||void 0===r||r.dispatchEvent(t,t.type,e)}return!t.defaultPrevented},t}(),Ya=function(t){function e(){var e=t.call(this)||this;return e.shadow=!1,e.ownerDocument=null,e.isConnected=!1,e.baseURI="",e.childNodes=[],e.nodeType=0,e.nodeName="",e.nodeValue=null,e.parentNode=null,e}return o(e,t),e.isNode=function(t){return!!t.childNodes},Object.defineProperty(e.prototype,"textContent",{get:function(){var t,e,n="";this.nodeName===Wn.TEXT&&(n+=this.style.text);try{for(var r=u(this.childNodes),i=r.next();!i.done;i=r.next()){var o=i.value;o.nodeName===Wn.TEXT?n+=o.nodeValue:n+=o.textContent}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},set:function(t){var e=this;this.childNodes.slice().forEach((function(t){e.removeChild(t)})),this.nodeName===Wn.TEXT&&(this.style.text="".concat(t))},enumerable:!1,configurable:!0}),e.prototype.getRootNode=function(t){return void 0===t&&(t={}),this.parentNode?this.parentNode.getRootNode(t):t.composed&&this.host?this.host.getRootNode(t):this},e.prototype.hasChildNodes=function(){return this.childNodes.length>0},e.prototype.isDefaultNamespace=function(t){throw new Error(wr)},e.prototype.lookupNamespaceURI=function(t){throw new Error(wr)},e.prototype.lookupPrefix=function(t){throw new Error(wr)},e.prototype.normalize=function(){throw new Error(wr)},e.prototype.isEqualNode=function(t){return this===t},e.prototype.isSameNode=function(t){return this.isEqualNode(t)},Object.defineProperty(e.prototype,"parent",{get:function(){return this.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.childNodes.length>0?this.childNodes[0]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null},enumerable:!1,configurable:!0}),e.prototype.compareDocumentPosition=function(t){var n;if(t===this)return 0;for(var r=t,i=this,o=[r],a=[i];null!==(n=r.parentNode)&&void 0!==n?n:i.parentNode;)r=r.parentNode?(o.push(r.parentNode),r.parentNode):r,i=i.parentNode?(a.push(i.parentNode),i.parentNode):i;if(r!==i)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var s=o.length>a.length?o:a,l=s===o?a:o;if(s[s.length-l.length]===l[0])return s===o?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var c=s.length-l.length,u=l.length-1;u>=0;u--){var d=l[u],h=s[c+u];if(h!==d){var f=d.parentNode.childNodes;return f.indexOf(d)<f.indexOf(h)?l===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:s===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING},e.prototype.contain=function(t){return this.contains(t)},e.prototype.contains=function(t){for(var e=t;e&&this!==e;)e=e.parentNode;return!!e},e.prototype.getAncestor=function(t){for(var e=this;t>0&&e;)e=e.parentNode,t--;return e},e.prototype.forEach=function(t,e){void 0===e&&(e=!1),t(this)||(e?this.childNodes.slice():this.childNodes).forEach((function(e){e.forEach(t)}))},e.DOCUMENT_POSITION_DISCONNECTED=1,e.DOCUMENT_POSITION_PRECEDING=2,e.DOCUMENT_POSITION_FOLLOWING=4,e.DOCUMENT_POSITION_CONTAINS=8,e.DOCUMENT_POSITION_CONTAINED_BY=16,e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,e}(qa),Xa=function(){function t(t,e){var n=this;this.globalRuntime=t,this.context=e,this.emitter=new p,this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=I(),this.tmpVec3=v(),this.onPointerDown=function(t){var e=n.createPointerEvent(t);if(n.dispatchEvent(e,"pointerdown"),"touch"===e.pointerType)n.dispatchEvent(e,"touchstart");else if("mouse"===e.pointerType||"pen"===e.pointerType){var r=2===e.button;n.dispatchEvent(e,r?"rightdown":"mousedown")}n.trackingData(t.pointerId).pressTargetsByButton[t.button]=e.composedPath(),n.freeEvent(e)},this.onPointerUp=function(t){var e,r=oa.now(),i=n.createPointerEvent(t,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0);if(n.dispatchEvent(i,"pointerup"),"touch"===i.pointerType)n.dispatchEvent(i,"touchend");else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;n.dispatchEvent(i,o?"rightup":"mouseup")}var a=n.trackingData(t.pointerId),s=n.findMountedTarget(a.pressTargetsByButton[t.button]),l=s;if(s&&!i.composedPath().includes(s)){for(var c=s;c&&!i.composedPath().includes(c);){if(i.currentTarget=c,n.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType)n.notifyTarget(i,"touchendoutside");else if("mouse"===i.pointerType||"pen"===i.pointerType){o=2===i.button;n.notifyTarget(i,o?"rightupoutside":"mouseupoutside")}Ya.isNode(c)&&(c=c.parentNode)}delete a.pressTargetsByButton[t.button],l=c}if(l){var u=n.clonePointerEvent(i,"click");u.target=l,u.path=[],a.clicksByButton[t.button]||(a.clicksByButton[t.button]={clickCount:0,target:u.target,timeStamp:r});var d=n.context.renderingContext.root.ownerDocument.defaultView,h=a.clicksByButton[t.button];h.target===u.target&&r-h.timeStamp<d.dblClickSpeed?++h.clickCount:h.clickCount=1,h.target=u.target,h.timeStamp=r,u.detail=h.clickCount,(null===(e=i.detail)||void 0===e?void 0:e.preventClick)||(n.context.config.useNativeClickEvent||"mouse"!==u.pointerType&&"touch"!==u.pointerType||n.dispatchEvent(u,"click"),n.dispatchEvent(u,"pointertap")),n.freeEvent(u)}n.freeEvent(i)},this.onPointerMove=function(t){var e=n.createPointerEvent(t,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0),r="mouse"===e.pointerType||"pen"===e.pointerType,i=n.trackingData(t.pointerId),o=n.findMountedTarget(i.overTargets);if(i.overTargets&&o!==e.target){var a="mousemove"===t.type?"mouseout":"pointerout",s=n.createPointerEvent(t,a,o||void 0);if(n.dispatchEvent(s,"pointerout"),r&&n.dispatchEvent(s,"mouseout"),!e.composedPath().includes(o)){var l=n.createPointerEvent(t,"pointerleave",o||void 0);for(l.eventPhase=l.AT_TARGET;l.target&&!e.composedPath().includes(l.target);)l.currentTarget=l.target,n.notifyTarget(l),r&&n.notifyTarget(l,"mouseleave"),Ya.isNode(l.target)&&(l.target=l.target.parentNode);n.freeEvent(l)}n.freeEvent(s)}if(o!==e.target){var c="mousemove"===t.type?"mouseover":"pointerover",u=n.clonePointerEvent(e,c);n.dispatchEvent(u,"pointerover"),r&&n.dispatchEvent(u,"mouseover");for(var d=o&&Ya.isNode(o)&&o.parentNode;d&&d!==(Ya.isNode(n.rootTarget)&&n.rootTarget.parentNode)&&d!==e.target;)d=d.parentNode;if(!d||d===(Ya.isNode(n.rootTarget)&&n.rootTarget.parentNode)){var h=n.clonePointerEvent(e,"pointerenter");for(h.eventPhase=h.AT_TARGET;h.target&&h.target!==o&&h.target!==(Ya.isNode(n.rootTarget)&&n.rootTarget.parentNode);)h.currentTarget=h.target,n.notifyTarget(h),r&&n.notifyTarget(h,"mouseenter"),Ya.isNode(h.target)&&(h.target=h.target.parentNode);n.freeEvent(h)}n.freeEvent(u)}n.dispatchEvent(e,"pointermove"),"touch"===e.pointerType&&n.dispatchEvent(e,"touchmove"),r&&(n.dispatchEvent(e,"mousemove"),n.cursor=n.getCursor(e.target)),i.overTargets=e.composedPath(),n.freeEvent(e)},this.onPointerOut=function(t){var e=n.trackingData(t.pointerId);if(e.overTargets){var r="mouse"===t.pointerType||"pen"===t.pointerType,i=n.findMountedTarget(e.overTargets),o=n.createPointerEvent(t,"pointerout",i||void 0);n.dispatchEvent(o),r&&n.dispatchEvent(o,"mouseout");var a=n.createPointerEvent(t,"pointerleave",i||void 0);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==(Ya.isNode(n.rootTarget)&&n.rootTarget.parentNode);)a.currentTarget=a.target,n.notifyTarget(a),r&&n.notifyTarget(a,"mouseleave"),Ya.isNode(a.target)&&(a.target=a.target.parentNode);e.overTargets=null,n.freeEvent(o),n.freeEvent(a)}n.cursor=null},this.onPointerOver=function(t){var e=n.trackingData(t.pointerId),r=n.createPointerEvent(t),i="mouse"===r.pointerType||"pen"===r.pointerType;n.dispatchEvent(r,"pointerover"),i&&n.dispatchEvent(r,"mouseover"),"mouse"===r.pointerType&&(n.cursor=n.getCursor(r.target));var o=n.clonePointerEvent(r,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==(Ya.isNode(n.rootTarget)&&n.rootTarget.parentNode);)o.currentTarget=o.target,n.notifyTarget(o),i&&n.notifyTarget(o,"mouseenter"),Ya.isNode(o.target)&&(o.target=o.target.parentNode);e.overTargets=r.composedPath(),n.freeEvent(r),n.freeEvent(o)},this.onPointerUpOutside=function(t){var e=n.trackingData(t.pointerId),r=n.findMountedTarget(e.pressTargetsByButton[t.button]),i=n.createPointerEvent(t);if(r){for(var o=r;o;)i.currentTarget=o,n.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType||"mouse"!==i.pointerType&&"pen"!==i.pointerType||n.notifyTarget(i,2===i.button?"rightupoutside":"mouseupoutside"),Ya.isNode(o)&&(o=o.parentNode);delete e.pressTargetsByButton[t.button]}n.freeEvent(i)},this.onWheel=function(t){var e=n.createWheelEvent(t);n.dispatchEvent(e),n.freeEvent(e)},this.onClick=function(t){if(n.context.config.useNativeClickEvent){var e=n.createPointerEvent(t);n.dispatchEvent(e),n.freeEvent(e)}},this.onPointerCancel=function(t){var e=n.createPointerEvent(t,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0);n.dispatchEvent(e),n.freeEvent(e)}}return t.prototype.init=function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)},t.prototype.destroy=function(){this.emitter.removeAllListeners(),this.mappingTable={},this.mappingState={},this.eventPool.clear()},t.prototype.getScale=function(){var t=this.context.contextService.getBoundingClientRect(),e=1,n=1,r=this.context.contextService.getDomElement();if(r&&t){var i=r.offsetWidth,o=r.offsetHeight;i&&o&&(e=t.width/i,n=t.height/o)}return{scaleX:e,scaleY:n,bbox:t}},t.prototype.client2Viewport=function(t){var e=this.getScale(),n=e.scaleX,r=e.scaleY,i=e.bbox;return new br((t.x-((null===i||void 0===i?void 0:i.left)||0))/n,(t.y-((null===i||void 0===i?void 0:i.top)||0))/r)},t.prototype.viewport2Client=function(t){var e=this.getScale(),n=e.scaleX,r=e.scaleY,i=e.bbox;return new br((t.x+((null===i||void 0===i?void 0:i.left)||0))*n,(t.y+((null===i||void 0===i?void 0:i.top)||0))*r)},t.prototype.viewport2Canvas=function(t){var e=t.x,n=t.y,r=this.rootTarget.defaultView.getCamera(),i=this.context.config,o=i.width,a=i.height,s=r.getPerspectiveInverse(),l=r.getWorldTransform(),c=G(this.tmpMatrix,l,s),u=E(this.tmpVec3,e/o*2-1,2*(1-n/a)-1,0);return A(u,u,c),new br(u[0],u[1])},t.prototype.canvas2Viewport=function(t){var e=this.rootTarget.defaultView.getCamera(),n=e.getPerspective(),r=e.getViewTransform(),i=G(this.tmpMatrix,n,r),o=E(this.tmpVec3,t.x,t.y,0);A(this.tmpVec3,this.tmpVec3,i);var a=this.context.config,s=a.width,l=a.height;return new br((o[0]+1)/2*s,(1-(o[1]+1)/2)*l)},t.prototype.setPickHandler=function(t){this.pickHandler=t},t.prototype.addEventMapping=function(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort((function(t,e){return t.priority-e.priority}))},t.prototype.mapEvent=function(t){if(this.rootTarget){var e=this.mappingTable[t.type];if(e)for(var n=0,r=e.length;n<r;n++)e[n].fn(t);else console.warn("[EventService]: Event mapping not defined for ".concat(t.type))}},t.prototype.dispatchEvent=function(t,e,n){if(n){t.eventPhase=t.AT_TARGET;var r=this.rootTarget.defaultView||null;t.currentTarget=r,this.notifyListeners(t,e)}else t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e);this.emitter.emit(e||t.type,t)},t.prototype.propagate=function(t,e){if(t.target){var n=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(var r=n.length-1;r>=1;r--)if(t.currentTarget=n[r],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!t.propagationStopped&&!t.propagationImmediatelyStopped){var i=n.indexOf(t.currentTarget);t.eventPhase=t.BUBBLING_PHASE;for(r=i+1;r<n.length;r++)if(t.currentTarget=n[r],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}},t.prototype.propagationPath=function(t){var e=[t],n=this.rootTarget.defaultView||null;if(n&&n===t)return e.unshift(n.document),e;for(var r=0;r<2048&&t!==this.rootTarget;r++)Ya.isNode(t)&&t.parentNode&&(e.push(t.parentNode),t=t.parentNode);return n&&e.push(n),e},t.prototype.hitTest=function(t){var e=t.viewportX,n=t.viewportY,r=this.context.config,i=r.width,o=r.height,a=r.disableHitTesting;return e<0||n<0||e>i||n>o?null:!a&&this.pickHandler(t)||this.rootTarget||null},t.prototype.isNativeEventFromCanvas=function(t,e){var n=null===e||void 0===e?void 0:e.target;if((null===n||void 0===n?void 0:n.shadowRoot)&&(n=e.composedPath()[0]),n){if(n===t)return!0;if(t&&t.contains)return t.contains(n)}return!!(null===e||void 0===e?void 0:e.composedPath)&&e.composedPath().indexOf(t)>-1},t.prototype.getExistedHTML=function(t){var e,n;if(t.nativeEvent.composedPath)try{for(var r=u(t.nativeEvent.composedPath()),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.nativeHTMLMap.get(o);if(a)return a}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype.pickTarget=function(t){return this.hitTest({clientX:t.clientX,clientY:t.clientY,viewportX:t.viewportX,viewportY:t.viewportY,x:t.canvasX,y:t.canvasY})},t.prototype.createPointerEvent=function(t,e,n,r){var i=this.allocateEvent(Wa);this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.nativeEvent=t.nativeEvent,i.originalEvent=t;var o=this.getExistedHTML(i),a=this.context.contextService.getDomElement();return i.target=null!==n&&void 0!==n?n:o||this.isNativeEventFromCanvas(a,i.nativeEvent)&&this.pickTarget(i)||r,"string"===typeof e&&(i.type=e),i},t.prototype.createWheelEvent=function(t){var e=this.allocateEvent(Ga);this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t;var n=this.getExistedHTML(e),r=this.context.contextService.getDomElement();return e.target=n||this.isNativeEventFromCanvas(r,e.nativeEvent)&&this.pickTarget(e),e},t.prototype.trackingData=function(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]},t.prototype.cloneWheelEvent=function(t){var e=this.allocateEvent(Ga);return e.nativeEvent=t.nativeEvent,e.originalEvent=t.originalEvent,this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.target=t.target,e.path=t.composedPath().slice(),e.type=t.type,e},t.prototype.clonePointerEvent=function(t,e){var n=this.allocateEvent(Wa);return n.nativeEvent=t.nativeEvent,n.originalEvent=t.originalEvent,this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.target=t.target,n.path=t.composedPath().slice(),n.type=null!==e&&void 0!==e?e:n.type,n},t.prototype.copyPointerData=function(t,e){e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist},t.prototype.copyMouseData=function(t,e){e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.client.copyFrom(t.client),e.movement.copyFrom(t.movement),e.canvas.copyFrom(t.canvas),e.screen.copyFrom(t.screen),e.global.copyFrom(t.global),e.offset.copyFrom(t.offset)},t.prototype.copyWheelData=function(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ},t.prototype.copyData=function(t,e){e.isTrusted=t.isTrusted,e.timeStamp=oa.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.page.copyFrom(t.page),e.viewport.copyFrom(t.viewport)},t.prototype.allocateEvent=function(t){this.eventPool.has(t)||this.eventPool.set(t,[]);var e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=[],e.target=null,e},t.prototype.freeEvent=function(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)},t.prototype.notifyTarget=function(t,e){e=null!==e&&void 0!==e?e:t.type;var n=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?"".concat(e,"capture"):e;this.notifyListeners(t,n),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)},t.prototype.notifyListeners=function(t,e){var n=t.currentTarget.emitter,r=n._events[e];if(r)if("fn"in r)r.once&&n.removeListener(e,r.fn,void 0,!0),r.fn.call(t.currentTarget||r.context,t);else for(var i=0;i<r.length&&!t.propagationImmediatelyStopped;i++)r[i].once&&n.removeListener(e,r[i].fn,void 0,!0),r[i].fn.call(t.currentTarget||r[i].context,t)},t.prototype.findMountedTarget=function(t){if(!t)return null;for(var e=t[t.length-1],n=t.length-2;n>=0;n--){var r=t[n];if(!(r===this.rootTarget||Ya.isNode(r)&&r.parentNode===e))break;e=t[n]}return e},t.prototype.getCursor=function(t){for(var e=t;e;){var n=ta(e)&&e.getAttribute("cursor");if(n)return n;e=Ya.isNode(e)&&e.parentNode}},t}(),Ka=function(){function t(){}return t.prototype.getOrCreateCanvas=function(t,e){if(this.canvas)return this.canvas;if(t||us.offscreenCanvas)this.canvas=t||us.offscreenCanvas,this.context=this.canvas.getContext("2d",a({willReadFrequently:!0},e));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",a({willReadFrequently:!0},e)),this.context&&this.context.measureText||(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",a({willReadFrequently:!0},e))}return this.canvas.width=10,this.canvas.height=10,this.canvas},t.prototype.getOrCreateContext=function(t,e){return this.context||this.getOrCreateCanvas(t,e),this.context},t}();!function(t){t[t.CAMERA_CHANGED=0]="CAMERA_CHANGED",t[t.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",t[t.NONE=2]="NONE"}($a||($a={}));var Za,Qa=function(){function t(t,e){this.globalRuntime=t,this.context=e,this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new xa,initAsync:new ya,dirtycheck:new wa,cull:new wa,beginFrame:new xa,beforeRender:new xa,render:new xa,afterRender:new xa,endFrame:new xa,destroy:new xa,pick:new ba,pickSync:new wa,pointerDown:new xa,pointerUp:new xa,pointerMove:new xa,pointerOut:new xa,pointerOver:new xa,pointerWheel:new xa,pointerCancel:new xa,click:new xa}}return t.prototype.init=function(t){var e=this,n=a(a({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach((function(t){t.apply(n,e.globalRuntime)})),this.hooks.init.call(),0===this.hooks.initAsync.getCallbacksNum()?(this.inited=!0,t()):this.hooks.initAsync.promise().then((function(){e.inited=!0,t()}))},t.prototype.getStats=function(){return this.stats},t.prototype.disableDirtyRectangleRendering=function(){return!this.context.config.renderer.getConfig().enableDirtyRectangleRendering||this.context.renderingContext.renderReasons.has($a.CAMERA_CHANGED)},t.prototype.render=function(t,e,n){var r=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var i=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(i.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),i.renderReasons.size&&this.inited){i.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var o=1===i.renderReasons.size&&i.renderReasons.has($a.CAMERA_CHANGED),a=!t.disableRenderHooks||!(t.disableRenderHooks&&o);a&&this.renderDisplayObject(i.root,t,i),this.hooks.beginFrame.call(e),a&&i.renderListCurrentFrame.forEach((function(t){r.hooks.beforeRender.call(t),r.hooks.render.call(t),r.hooks.afterRender.call(t)})),this.hooks.endFrame.call(e),i.renderListCurrentFrame=[],i.renderReasons.clear(),n()}},t.prototype.renderDisplayObject=function(t,e,n){var r=this,i=e.renderer.getConfig(),o=i.enableDirtyCheck,a=i.enableCulling;this.globalRuntime.enableCSSParsing&&this.globalRuntime.styleValueRegistry.recalc(t);var s=t.renderable,l=o?s.dirty||n.dirtyRectangleRenderingDisabled?t:null:t;if(l){var c=a?this.hooks.cull.call(l,this.context.camera):l;c&&(this.stats.rendered++,n.renderListCurrentFrame.push(c))}t.renderable.dirty=!1,t.sortable.renderOrder=this.zIndexCounter++,this.stats.total++;var u=t.sortable;u.dirty&&(this.sort(t,u),u.dirty=!1,u.dirtyChildren=[],u.dirtyReason=void 0),(u.sorted||t.childNodes).forEach((function(t){r.renderDisplayObject(t,e,n)}))},t.prototype.sort=function(t,e){e.sorted&&e.dirtyReason!==Qr.Z_INDEX_CHANGED?e.dirtyChildren.forEach((function(n){if(-1===t.childNodes.indexOf(n)){var r=e.sorted.indexOf(n);r>=0&&e.sorted.splice(r,1)}else if(0===e.sorted.length)e.sorted.push(n);else{var i=function(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;ea(t[i],e)<0?n=i+1:r=i}return n}(e.sorted,n);e.sorted.splice(i,0,n)}})):e.sorted=t.childNodes.slice().sort(ea)},t.prototype.destroy=function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()},t.prototype.dirtify=function(){this.context.renderingContext.renderReasons.add($a.DISPLAY_OBJECT_CHANGED)},t}(),Ja=/\[\s*(.*)=(.*)\s*\]/,ts=function(){function t(){}return t.prototype.selectOne=function(t,e){var n=this;if(t.startsWith("."))return e.find((function(e){return((null===e||void 0===e?void 0:e.classList)||[]).indexOf(n.getIdOrClassname(t))>-1}));if(t.startsWith("#"))return e.find((function(e){return e.id===n.getIdOrClassname(t)}));if(t.startsWith("[")){var r=this.getAttribute(t),i=r.name,o=r.value;return i?e.find((function(t){return e!==t&&("name"===i?t.name===o:n.attributeToString(t,i)===o)})):null}return e.find((function(n){return e!==n&&n.nodeName===t}))},t.prototype.selectAll=function(t,e){var n=this;if(t.startsWith("."))return e.findAll((function(r){return e!==r&&((null===r||void 0===r?void 0:r.classList)||[]).indexOf(n.getIdOrClassname(t))>-1}));if(t.startsWith("#"))return e.findAll((function(r){return e!==r&&r.id===n.getIdOrClassname(t)}));if(t.startsWith("[")){var r=this.getAttribute(t),i=r.name,o=r.value;return i?e.findAll((function(t){return e!==t&&("name"===i?t.name===o:n.attributeToString(t,i)===o)})):[]}return e.findAll((function(n){return e!==n&&n.nodeName===t}))},t.prototype.is=function(t,e){if(t.startsWith("."))return e.className===this.getIdOrClassname(t);if(t.startsWith("#"))return e.id===this.getIdOrClassname(t);if(t.startsWith("[")){var n=this.getAttribute(t),r=n.name,i=n.value;return"name"===r?e.name===i:this.attributeToString(e,r)===i}return e.nodeName===t},t.prototype.getIdOrClassname=function(t){return t.substring(1)},t.prototype.getAttribute=function(t){var e=t.match(Ja),n="",r="";return e&&e.length>2&&(n=e[1].replace(/"/g,""),r=e[2].replace(/"/g,"")),{name:n,value:r}},t.prototype.attributeToString=function(t,e){if(!t.getAttribute)return"";var n=t.getAttribute(e);return Kt(n)?"":n.toString?n.toString():""},t}(),es=function(t){function e(e,n,r,i,o,a,s,l){var c=t.call(this,null)||this;return c.relatedNode=n,c.prevValue=r,c.newValue=i,c.attrName=o,c.attrChange=a,c.prevParsedValue=s,c.newParsedValue=l,c.type=e,c}return o(e,t),e.ADDITION=2,e.MODIFICATION=1,e.REMOVAL=3,e}(Va);function ns(t){var e=t.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0)}!function(t){t.REPARENT="reparent",t.DESTROY="destroy",t.ATTR_MODIFIED="DOMAttrModified",t.INSERTED="DOMNodeInserted",t.REMOVED="removed",t.MOUNTED="DOMNodeInsertedIntoDocument",t.UNMOUNTED="DOMNodeRemovedFromDocument",t.BOUNDS_CHANGED="bounds-changed",t.CULLED="culled"}(Za||(Za={}));var rs=new es(Za.REPARENT,null,"","","",0,"",""),is=function(){function t(t){var e=this;this.runtime=t,this.pendingEvents=[],this.boundsChangedEvent=new Ua(Za.BOUNDS_CHANGED),this.rotate=function(){var t=Dt();return function(n,r,i,o,a){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=!0),"number"===typeof r&&(r=x(r,i,o));var s=n.transformable;if(null!==n.parentNode&&n.parentNode.transformable){var l=Dt();$t(l,r[0],r[1],r[2]);var c=e.getRotation(n),u=e.getRotation(n.parentNode);Ht(t,u),Bt(t,t),zt(l,t,l),zt(s.localRotation,l,c),Gt(s.localRotation,s.localRotation),a&&e.dirtifyLocal(n,s)}else e.rotateLocal(n,r)}}(),this.rotateLocal=function(){var t=Dt();return function(n,r,i,o,a){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=!0),"number"===typeof r&&(r=x(r,i,o));var s=n.transformable;$t(t,r[0],r[1],r[2]),Wt(s.localRotation,s.localRotation,t),a&&e.dirtifyLocal(n,s)}}(),this.setEulerAngles=function(){var t=Dt();return function(n,r,i,o,a){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=!0),"number"===typeof r&&(r=x(r,i,o));var s=n.transformable;if(null!==n.parentNode&&n.parentNode.transformable){$t(s.localRotation,r[0],r[1],r[2]);var l=e.getRotation(n.parentNode);Ht(t,Bt(Dt(),l)),Wt(s.localRotation,s.localRotation,t),a&&e.dirtifyLocal(n,s)}else e.setLocalEulerAngles(n,r)}}(),this.translateLocal=function(t,n,r,i,o){void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=!0),"number"===typeof n&&(n=x(n,r,i));var a=t.transformable;R(n,v())||(function(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],l=e[1],c=e[2],u=i*c-o*l,d=o*s-r*c,h=r*l-i*s,f=i*h-o*d,p=o*u-r*h,g=r*d-i*u,m=2*a;u*=m,d*=m,h*=m,f*=2,p*=2,g*=2,t[0]=s+u+f,t[1]=l+d+p,t[2]=c+h+g}(n,n,a.localRotation),S(a.localPosition,a.localPosition,n),o&&e.dirtifyLocal(t,a))},this.setPosition=function(){var t=I(),n=v();return function(r,i,o){void 0===o&&(o=!0);var a=r.transformable;if(n[0]=i[0],n[1]=i[1],n[2]=i[2]||0,!R(e.getPosition(r),n)){if(w(a.position,n),null!==r.parentNode&&r.parentNode.transformable){var s=r.parentNode.transformable;j(t,s.worldTransform),V(t,t),A(a.localPosition,n,t)}else w(a.localPosition,n);o&&e.dirtifyLocal(r,a)}}}(),this.setLocalPosition=function(){var t=v();return function(n,r,i){void 0===i&&(i=!0);var o=n.transformable;t[0]=r[0],t[1]=r[1],t[2]=r[2]||0,R(o.localPosition,t)||(w(o.localPosition,t),i&&e.dirtifyLocal(n,o))}}(),this.translate=function(){var t=v(),n=v(),r=v();return function(i,o,a,s,l){void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=!0),"number"===typeof o&&(o=E(n,o,a,s)),R(o,t)||(S(r,e.getPosition(i),o),e.setPosition(i,r,l))}}(),this.setRotation=function(){var t=Dt();return function(n,r,i,o,a,s){void 0===s&&(s=!0);var l=n.transformable;if("number"===typeof r&&(r=Vt(r,i,o,a)),null!==n.parentNode&&n.parentNode.transformable){var c=e.getRotation(n.parentNode);Ht(t,c),Bt(t,t),zt(l.localRotation,t,r),Gt(l.localRotation,l.localRotation),s&&e.dirtifyLocal(n,l)}else e.setLocalRotation(n,r)}},this.displayObjectDependencyMap=new WeakMap,this.calcLocalTransform=function(){var t=I(),e=v(),n=Vt(0,0,0,1);return function(r){if(0!==r.localSkew[0]||0!==r.localSkew[1]){if(ut(r.localTransform,r.localRotation,r.localPosition,x(1,1,1),r.origin),0!==r.localSkew[0]||0!==r.localSkew[1]){var i=B(t);i[4]=Math.tan(r.localSkew[0]),i[1]=Math.tan(r.localSkew[1]),G(r.localTransform,r.localTransform,i)}var o=ut(t,n,e,r.localScale,r.origin);G(r.localTransform,r.localTransform,o)}else ut(r.localTransform,r.localRotation,r.localPosition,r.localScale,r.origin)}}()}return t.prototype.matches=function(t,e){return this.runtime.sceneGraphSelector.is(t,e)},t.prototype.querySelector=function(t,e){return this.runtime.sceneGraphSelector.selectOne(t,e)},t.prototype.querySelectorAll=function(t,e){return this.runtime.sceneGraphSelector.selectAll(t,e)},t.prototype.attach=function(t,e,n){var r,i=!1;t.parentNode&&(i=t.parentNode!==e,this.detach(t)),t.parentNode=e,Kt(n)?t.parentNode.childNodes.push(t):t.parentNode.childNodes.splice(n,0,t);var o=e.sortable;((null===(r=null===o||void 0===o?void 0:o.sorted)||void 0===r?void 0:r.length)||t.parsedStyle.zIndex)&&(-1===o.dirtyChildren.indexOf(t)&&o.dirtyChildren.push(t),o.dirty=!0,o.dirtyReason=Qr.ADDED);var a=t.transformable;a&&this.dirtifyWorld(t,a),a.frozen&&this.unfreezeParentToRoot(t),i&&t.dispatchEvent(rs)},t.prototype.detach=function(t){var e,n;if(t.parentNode){var r=t.transformable,i=t.parentNode.sortable;((null===(e=null===i||void 0===i?void 0:i.sorted)||void 0===e?void 0:e.length)||(null===(n=t.style)||void 0===n?void 0:n.zIndex))&&(-1===i.dirtyChildren.indexOf(t)&&i.dirtyChildren.push(t),i.dirty=!0,i.dirtyReason=Qr.REMOVED);var o=t.parentNode.childNodes.indexOf(t);o>-1&&t.parentNode.childNodes.splice(o,1),r&&this.dirtifyWorld(t,r),t.parentNode=null}},t.prototype.getOrigin=function(t){return t.getGeometryBounds(),t.transformable.origin},t.prototype.setOrigin=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0),"number"===typeof e&&(e=[e,n,r]);var i=t.transformable;if(e[0]!==i.origin[0]||e[1]!==i.origin[1]||e[2]!==i.origin[2]){var o=i.origin;o[0]=e[0],o[1]=e[1],o[2]=e[2]||0,this.dirtifyLocal(t,i)}},t.prototype.setLocalEulerAngles=function(t,e,n,r,i){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=!0),"number"===typeof e&&(e=x(e,n,r));var o=t.transformable;$t(o.localRotation,e[0],e[1],e[2]),i&&this.dirtifyLocal(t,o)},t.prototype.scaleLocal=function(t,e,n){void 0===n&&(n=!0);var r=t.transformable;M(r.localScale,r.localScale,x(e[0],e[1],e[2]||1)),n&&this.dirtifyLocal(t,r)},t.prototype.setLocalScale=function(t,e,n){void 0===n&&(n=!0);var r=t.transformable,i=x(e[0],e[1],e[2]||r.localScale[2]);R(i,r.localScale)||(w(r.localScale,i),n&&this.dirtifyLocal(t,r))},t.prototype.setLocalRotation=function(t,e,n,r,i,o){void 0===o&&(o=!0),"number"===typeof e&&(e=Vt(e,n,r,i));var a=t.transformable;Ht(a.localRotation,e),o&&this.dirtifyLocal(t,a)},t.prototype.setLocalSkew=function(t,e,n){"number"===typeof e&&(e=function(t,e){var n=new m(2);return n[0]=t,n[1]=e,n}(e,n));var r=t.transformable;!function(t,e){t[0]=e[0],t[1]=e[1]}(r.localSkew,e),this.dirtifyLocal(t,r)},t.prototype.dirtifyLocal=function(t,e){e.localDirtyFlag||(e.localDirtyFlag=!0,e.dirtyFlag||this.dirtifyWorld(t,e))},t.prototype.dirtifyWorld=function(t,e){e.dirtyFlag||this.unfreezeParentToRoot(t),this.dirtifyWorldInternal(t,e),this.dirtifyToRoot(t,!0)},t.prototype.triggerPendingEvents=function(){var t=this,e=new Set,n=function(n,r){n.isConnected&&!e.has(n.entity)&&(t.boundsChangedEvent.detail=r,t.boundsChangedEvent.target=n,n.isMutationObserved?n.dispatchEvent(t.boundsChangedEvent):n.ownerDocument.defaultView.dispatchEvent(t.boundsChangedEvent,!0),e.add(n.entity))};this.pendingEvents.forEach((function(t){var e=d(t,2),r=e[0],i=e[1];i.affectChildren?r.forEach((function(t){n(t,i)})):n(r,i)})),this.clearPendingEvents(),e.clear()},t.prototype.clearPendingEvents=function(){this.pendingEvents=[]},t.prototype.dirtifyToRoot=function(t,e){void 0===e&&(e=!1);var n=t;for(n.renderable&&(n.renderable.dirty=!0);n;)ns(n),n=n.parentNode;e&&t.forEach((function(t){ns(t)})),this.informDependentDisplayObjects(t),this.pendingEvents.push([t,{affectChildren:e}])},t.prototype.updateDisplayObjectDependency=function(t,e,n,r){if(e&&e!==n){var i=this.displayObjectDependencyMap.get(e);if(i&&i[t]){var o=i[t].indexOf(r);i[t].splice(o,1)}}if(n){var a=this.displayObjectDependencyMap.get(n);a||(this.displayObjectDependencyMap.set(n,{}),a=this.displayObjectDependencyMap.get(n)),a[t]||(a[t]=[]),a[t].push(r)}},t.prototype.informDependentDisplayObjects=function(t){var e=this,n=this.displayObjectDependencyMap.get(t);n&&Object.keys(n).forEach((function(t){n[t].forEach((function(n){e.dirtifyToRoot(n,!0),n.dispatchEvent(new es(Za.ATTR_MODIFIED,n,e,e,t,es.MODIFICATION,e,e)),n.isCustomElement&&n.isConnected&&n.attributeChangedCallback&&n.attributeChangedCallback(t,e,e)}))}))},t.prototype.getPosition=function(t){var e=t.transformable;return at(e.position,this.getWorldTransform(t,e))},t.prototype.getRotation=function(t){var e=t.transformable;return lt(e.rotation,this.getWorldTransform(t,e))},t.prototype.getScale=function(t){var e=t.transformable;return st(e.scaling,this.getWorldTransform(t,e))},t.prototype.getWorldTransform=function(t,e){return void 0===e&&(e=t.transformable),e.localDirtyFlag||e.dirtyFlag?(t.parentNode&&t.parentNode.transformable&&this.getWorldTransform(t.parentNode),this.sync(t,e),e.worldTransform):e.worldTransform},t.prototype.getLocalPosition=function(t){return t.transformable.localPosition},t.prototype.getLocalRotation=function(t){return t.transformable.localRotation},t.prototype.getLocalScale=function(t){return t.transformable.localScale},t.prototype.getLocalSkew=function(t){return t.transformable.localSkew},t.prototype.getLocalTransform=function(t){var e=t.transformable;return e.localDirtyFlag&&(this.calcLocalTransform(e),e.localDirtyFlag=!1),e.localTransform},t.prototype.setLocalTransform=function(t,e){var n=at(v(),e),r=lt(Dt(),e),i=st(v(),e);this.setLocalScale(t,i,!1),this.setLocalPosition(t,n,!1),this.setLocalRotation(t,r,void 0,void 0,void 0,!1),this.dirtifyLocal(t,t.transformable)},t.prototype.resetLocalTransform=function(t){this.setLocalScale(t,[1,1,1]),this.setLocalPosition(t,[0,0,0]),this.setLocalEulerAngles(t,[0,0,0]),this.setLocalSkew(t,[0,0])},t.prototype.getTransformedGeometryBounds=function(t,e,n){void 0===e&&(e=!1);var r=this.getGeometryBounds(t,e);if(fr.isEmpty(r))return null;var i=n||new fr;return i.setFromTransformedAABB(r,this.getWorldTransform(t)),i},t.prototype.getGeometryBounds=function(t,e){void 0===e&&(e=!1);var n=t.geometry;return n.dirty&&us.styleValueRegistry.updateGeometry(t),(e?n.renderBounds:n.contentBounds||null)||new fr},t.prototype.getBounds=function(t,e){var n=this;void 0===e&&(e=!1);var r=t.renderable;if(!r.boundsDirty&&!e&&r.bounds)return r.bounds;if(!r.renderBoundsDirty&&e&&r.renderBounds)return r.renderBounds;var i=e?r.renderBounds:r.bounds,o=this.getTransformedGeometryBounds(t,e,i);if(t.childNodes.forEach((function(t){var r=n.getBounds(t,e);r&&(o?o.add(r):(o=i||new fr).update(r.center,r.halfExtents))})),o||(o=new fr),e){var a=na(t);if(a){var s=a.parsedStyle.clipPath.getBounds(e);o?s&&(o=s.intersection(o)):o.update(s.center,s.halfExtents)}}return e?(r.renderBounds=o,r.renderBoundsDirty=!1):(r.bounds=o,r.boundsDirty=!1),o},t.prototype.getLocalBounds=function(t){if(t.parentNode){var e=I();t.parentNode.transformable&&(e=V(I(),this.getWorldTransform(t.parentNode)));var n=this.getBounds(t);if(!fr.isEmpty(n)){var r=new fr;return r.setFromTransformedAABB(n,e),r}}return this.getBounds(t)},t.prototype.getBoundingClientRect=function(t){var e,n,r,i=this.getGeometryBounds(t);fr.isEmpty(i)||(r=new fr).setFromTransformedAABB(i,this.getWorldTransform(t));var o=null===(n=null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView)||void 0===n?void 0:n.getContextService().getBoundingClientRect();if(r){var a=d(r.getMin(),2),s=a[0],l=a[1],c=d(r.getMax(),2),u=c[0],h=c[1];return new xr(s+((null===o||void 0===o?void 0:o.left)||0),l+((null===o||void 0===o?void 0:o.top)||0),u-s,h-l)}return new xr((null===o||void 0===o?void 0:o.left)||0,(null===o||void 0===o?void 0:o.top)||0,0,0)},t.prototype.dirtifyWorldInternal=function(t,e){var n=this;if(!e.dirtyFlag){e.dirtyFlag=!0,e.frozen=!1,t.childNodes.forEach((function(t){var e=t.transformable;e.dirtyFlag||n.dirtifyWorldInternal(t,e)}));var r=t.renderable;r&&(r.renderBoundsDirty=!0,r.boundsDirty=!0,r.dirty=!0)}},t.prototype.syncHierarchy=function(t){var e=t.transformable;if(!e.frozen){e.frozen=!0,(e.localDirtyFlag||e.dirtyFlag)&&this.sync(t,e);for(var n=t.childNodes,r=0;r<n.length;r++)this.syncHierarchy(n[r])}},t.prototype.sync=function(t,e){if(e.localDirtyFlag&&(this.calcLocalTransform(e),e.localDirtyFlag=!1),e.dirtyFlag){var n=t.parentNode,r=n&&n.transformable;null!==n&&r?G(e.worldTransform,r.worldTransform,e.localTransform):j(e.worldTransform,e.localTransform),e.dirtyFlag=!1}},t.prototype.unfreezeParentToRoot=function(t){for(var e=t.parentNode;e;){var n=e.transformable;n&&(n.frozen=!1),e=e.parentNode}},t}(),os={MetricsString:"|\xc9q\xc5",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},as=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,ss=new RegExp("".concat(/[!%),.:;?\]}\xa2\xb0\xb7'""\u2020\u2021\u203a\u2103\u2236\u3001\u3002\u3003\u3006\u3015\u3017\u301e\ufe5a\ufe5c\uff01\uff02\uff05\uff07\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff3d\uff5d\uff5e]/.source,"|").concat(/[!),.:;?\]}\xa2\xb7\u2013\u2014'"\u2022"\u3001\u3002\u3006\u301e\u3015\u3009\u300b\u300d\ufe30\ufe31\ufe32\ufe33\ufe50\ufe51\ufe52\ufe53\ufe54\ufe55\ufe56\ufe58\ufe5a\ufe5c\uff01\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\ufe36\ufe38\ufe3a\ufe3c\ufe3e\ufe40\ufe42\ufe57\uff3d\uff5c\uff5d\uff64]/.source,"|").concat(/[)\]\uff5d\u3015\u3009\u300b\u300d\u300f\u3011\u3019\u3017\u301f'"\uff60\xbb\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\u2010\u30a0\u2013\u301c?!\u203c\u2047\u2048\u2049\u30fb\u3001:;,\u3002.]/.source,"|").concat(/[!%),.:;?\]}\xa2\xb0'"\u2020\u2021\u2103\u3006\u3008\u300a\u300c\u300e\u3015\uff01\uff05\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff3d\uff5d]/.source)),ls=new RegExp("".concat(/[$(\xa3\xa5\xb7'"\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u301d\ufe59\ufe5b\uff04\uff08\uff0e\uff3b\uff5b\uffe1\uffe5]/.source,"|").concat(/[([{\xa3\xa5'"\u2035\u3008\u300a\u300c\u300e\u3014\u301d\ufe34\ufe59\ufe5b\uff08\uff5b\ufe35\ufe37\ufe39\ufe3b\ufe3d\ufe3f\ufe41\ufe43\ufe4f]/.source,"|").concat(/[([\uff5b\u3014\u3008\u300a\u300c\u300e\u3010\u3018\u3016\u301d'"\uff5f\xab\u2014...\u2025\u3033\u3034\u3035]/.source,"|").concat(/[$([{\xa3\xa5'"\u3005\u3007\u3009\u300b\u300d\u3014\uff04\uff08\uff3b\uff5b\uff60\uffe5\uffe6#]/.source)),cs=function(){function t(t){var e=this;this.runtime=t,this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(t,n){return!e.isBreakingSpace(n)&&!(!t||!ls.exec(n)&&!ss.exec(t))},this.trimByKinsokuShorui=function(t){var e=h([],d(t),!1),n=e[e.length-2];if(!n)return t;var r=n[n.length-1];return e[e.length-2]=n.slice(0,-1),e[e.length-1]=r+e[e.length-1],e}}return t.prototype.measureFont=function(t,e){if(this.fontMetricsCache[t])return this.fontMetricsCache[t];var n={ascent:0,descent:0,fontSize:0},r=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(e),i=this.runtime.offscreenCanvasCreator.getOrCreateContext(e,{willReadFrequently:!0});i.font=t;var o=os.MetricsString+os.BaselineSymbol,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(os.BaselineSymbol).width),l=os.HeightMultiplier*s;s=s*os.BaselineMultiplier|0,r.width=a,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var c=i.getImageData(0,0,a||1,l||1).data,u=c.length,d=4*a,h=0,f=0,p=!1;for(h=0;h<s;++h){for(var g=0;g<d;g+=4)if(255!==c[f+g]){p=!0;break}if(p)break;f+=d}for(n.ascent=s-h,f=u-d,p=!1,h=l;h>s;--h){for(g=0;g<d;g+=4)if(255!==c[f+g]){p=!0;break}if(p)break;f-=d}return n.descent=h-s,n.fontSize=n.ascent+n.descent,this.fontMetricsCache[t]=n,n},t.prototype.measureText=function(t,e,n){var r=e.fontSize,i=void 0===r?16:r,o=e.wordWrap,a=void 0!==o&&o,s=e.lineHeight,l=e.lineWidth,c=void 0===l?1:l,u=e.textBaseline,d=void 0===u?"alphabetic":u,h=e.textAlign,f=void 0===h?"start":h,p=e.letterSpacing,g=void 0===p?0:p,m=e.textPath;e.textPathSide,e.textPathStartOffset;var v=e.leading,y=void 0===v?0:v,b=function(t){for(var e=t.fontSize,n=void 0===e?16:e,r=t.fontFamily,i=void 0===r?"sans-serif":r,o=t.fontStyle,a=void 0===o?"normal":o,s=t.fontVariant,l=void 0===s?"normal":s,c=t.fontWeight,u=void 0===c?"normal":c,d=Yt(n)&&"".concat(n,"px")||"16px",h=i.split(","),f=h.length-1;f>=0;f--){var p=h[f].trim();!Sa.test(p)&&Ea.indexOf(p)<0&&(p='"'.concat(p,'"')),h[f]=p}return"".concat(a," ").concat(l," ").concat(u," ").concat(d," ").concat(h.join(","))}(e),x=this.measureFont(b,n);0===x.fontSize&&(x.fontSize=i,x.ascent=i);var w=this.runtime.offscreenCanvasCreator.getOrCreateContext(n);w.font=b,e.isOverflowing=!1;var E=(a?this.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),S=new Array(E.length),k=0;if(!m){for(P=0;P<E.length;P++){var M=w.measureText(E[P]).width+(E[P].length-1)*g;S[P]=M,k=Math.max(k,M)}T=k+c;var C=s||x.fontSize+c,N=Math.max(C,x.fontSize+c)+(E.length-1)*(C+y),O=0;return"middle"===d?O=-N/2:"bottom"===d||"alphabetic"===d||"ideographic"===d?O=-N:"top"!==d&&"hanging"!==d||(O=0),{font:b,width:T,height:N,lines:E,lineWidths:S,lineHeight:C+=y,maxLineWidth:k,fontProperties:x,lineMetrics:S.map((function(t,e){var n=0;return"center"===f||"middle"===f?n-=t/2:"right"!==f&&"end"!==f||(n-=t),new xr(n-c/2,O+e*C,t+c,C)}))}}m.getTotalLength();for(var P=0;P<E.length;P++)var T=w.measureText(E[P]).width+(E[P].length-1)*g},t.prototype.setGraphemeOnPath=function(){},t.prototype.wordWrap=function(t,e,n){var r=this,i=e.wordWrapWidth,o=void 0===i?0:i,a=e.letterSpacing,s=void 0===a?0:a,l=e.maxLines,c=void 0===l?1/0:l,u=e.textOverflow,d=this.runtime.offscreenCanvasCreator.getOrCreateContext(n),h=o+s,f="";"ellipsis"===u?f="...":u&&"clip"!==u&&(f=u);for(var p=[],g=0,m=0,v={},y=function(t){return r.getFromCache(t,s,v,d)},b=Array.from(f).reduce((function(t,e){return t+y(e)}),0),x=Array.from(t),w=0;w<x.length;w++){var E=x[w],S=t[w-1],k=t[w+1],M=y(E);if(this.isNewline(E)){if(++g>=c){e.isOverflowing=!0;break}m=0,p[g]=""}else{if(m>0&&m+M>h){if(g+1>=c){if(e.isOverflowing=!0,b>0&&b<=h){for(var C=p[g].length,N=0,O=C,P=0;P<C;P++){var T=y(p[g][P]);if(N+T+b>h){O=P;break}N+=T}p[g]=(p[g]||"").slice(0,O)+f}break}if(m=0,p[++g]="",this.isBreakingSpace(E))continue;this.canBreakInLastChar(E)||(p=this.trimToBreakable(p),m=this.sumTextWidthByCache(p[g]||"",v)),this.shouldBreakByKinsokuShorui(E,k)&&(p=this.trimByKinsokuShorui(p),m+=y(S||""))}m+=M,p[g]=(p[g]||"")+E}}return p.join("\n")},t.prototype.isBreakingSpace=function(t){return"string"===typeof t&&os.BreakingSpaces.indexOf(t.charCodeAt(0))>=0},t.prototype.isNewline=function(t){return"string"===typeof t&&os.Newlines.indexOf(t.charCodeAt(0))>=0},t.prototype.trimToBreakable=function(t){var e=h([],d(t),!1),n=e[e.length-2],r=this.findBreakableIndex(n);if(-1===r||!n)return e;var i=n.slice(r,r+1),o=r+1,a=r+(this.isBreakingSpace(i)?0:1);return e[e.length-1]+=n.slice(o,n.length),e[e.length-2]=n.slice(0,a),e},t.prototype.canBreakInLastChar=function(t){return!t||!as.test(t)},t.prototype.sumTextWidthByCache=function(t,e){return t.split("").reduce((function(t,n){if(!e[n])throw Error("cannot count the word without cache");return t+e[n]}),0)},t.prototype.findBreakableIndex=function(t){for(var e=t.length-1;e>=0;e--)if(!as.test(t[e]))return e;return-1},t.prototype.getFromCache=function(t,e,n,r){var i=n[t];if("number"!==typeof i){var o=t.length*e;i=r.measureText(t).width+o,n[t]=i}return i},t}(),us={},ds=function(){var t,e=new ja,n=new Da;return(t={})[Wn.CIRCLE]=new Ra,t[Wn.ELLIPSE]=new _a,t[Wn.RECT]=e,t[Wn.IMAGE]=e,t[Wn.GROUP]=new Fa,t[Wn.LINE]=new La,t[Wn.TEXT]=new za(us),t[Wn.POLYLINE]=n,t[Wn.POLYGON]=n,t[Wn.PATH]=new Ia,t[Wn.HTML]=new Ba,t[Wn.MESH]=null,t}(),hs=function(){var t,e=new Do,n=new Fo;return(t={})[ui.PERCENTAGE]=null,t[ui.NUMBER]=new Ho,t[ui.ANGLE]=new Lo,t[ui.DEFINED_PATH]=new Io,t[ui.PAINT]=e,t[ui.COLOR]=e,t[ui.FILTER]=new jo,t[ui.LENGTH]=n,t[ui.LENGTH_PERCENTAGE]=n,t[ui.LENGTH_PERCENTAGE_12]=new Bo,t[ui.LENGTH_PERCENTAGE_14]=new $o,t[ui.COORDINATE]=new Fo,t[ui.OFFSET_DISTANCE]=new Wo,t[ui.OPACITY_VALUE]=new Go,t[ui.PATH]=new Uo,t[ui.LIST_OF_POINTS]=new qo,t[ui.SHADOW_BLUR]=new Yo,t[ui.TEXT]=new Xo,t[ui.TEXT_TRANSFORM]=new Ko,t[ui.TRANSFORM]=new Pa,t[ui.TRANSFORM_ORIGIN]=new Ta,t[ui.Z_INDEX]=new Aa,t[ui.MARKER]=new Vo,t}();us.CameraContribution=Tr,us.AnimationTimeline=null,us.EasingFunction=null,us.offscreenCanvasCreator=new Ka,us.sceneGraphSelector=new ts,us.sceneGraphService=new is(us),us.textService=new cs(us),us.geometryUpdaterFactory=ds,us.CSSPropertySyntaxFactory=hs,us.styleValueRegistry=new _o(us),us.layoutRegistry=null,us.globalThis="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{},us.enableCSSParsing=!1,us.enableDataset=!1,us.enableStyleSyntax=!0,us.enableAttributeDashCased=!1,us.enableSizeAttenuation=!1;var fs=0;var ps=new es(Za.INSERTED,null,"","","",0,"",""),gs=new es(Za.REMOVED,null,"","","",0,"",""),ms=new Ua(Za.DESTROY),vs=function(t){function e(){var e=t.call(this)||this;return e.entity=fs++,e.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},e.cullable={strategy:Zr.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},e.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},e.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},e.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},e.rBushNode={aabb:void 0},e.namespaceURI="g",e.scrollLeft=0,e.scrollTop=0,e.clientTop=0,e.clientLeft=0,e.destroyed=!1,e.style={},e.computedStyle=us.enableCSSParsing?{opacity:ei,fillOpacity:ei,strokeOpacity:ei,fill:ei,stroke:ei,transform:ei,transformOrigin:ei,visibility:ei,pointerEvents:ei,lineWidth:ei,lineCap:ei,lineJoin:ei,increasedLineWidthForHitTesting:ei,fontSize:ei,fontFamily:ei,fontStyle:ei,fontWeight:ei,fontVariant:ei,textAlign:ei,textBaseline:ei,textTransform:ei,zIndex:ei,filter:ei,shadowType:ei}:null,e.parsedStyle={},e.attributes={},e}return o(e,t),Object.defineProperty(e.prototype,"className",{get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classList",{get:function(){return this.className.split(" ").filter((function(t){return""!==t}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.nodeName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childElementCount",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstElementChild",{get:function(){return this.firstChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastElementChild",{get:function(){return this.lastChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return this.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t+1]||null}return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t-1]||null}return null},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){throw new Error(wr)},e.prototype.appendChild=function(t,e){var n;if(t.destroyed)throw new Error("Cannot append a destroyed element.");return us.sceneGraphService.attach(t,this,e),(null===(n=this.ownerDocument)||void 0===n?void 0:n.defaultView)&&this.ownerDocument.defaultView.mountChildren(t),this.isMutationObserved&&(ps.relatedNode=this,t.dispatchEvent(ps)),t},e.prototype.insertBefore=function(t,e){if(e){t.parentElement&&t.parentElement.removeChild(t);var n=this.childNodes.indexOf(e);-1===n?this.appendChild(t):this.appendChild(t,n)}else this.appendChild(t);return t},e.prototype.replaceChild=function(t,e){var n=this.childNodes.indexOf(e);return this.removeChild(e),this.appendChild(t,n),e},e.prototype.removeChild=function(t){var e;return gs.relatedNode=this,t.dispatchEvent(gs),(null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView)&&t.ownerDocument.defaultView.unmountChildren(t),us.sceneGraphService.detach(t),t},e.prototype.removeChildren=function(){for(var t=this.childNodes.length-1;t>=0;t--){var e=this.childNodes[t];this.removeChild(e)}},e.prototype.destroyChildren=function(){for(var t=this.childNodes.length-1;t>=0;t--){var e=this.childNodes[t];e.childNodes.length&&e.destroyChildren(),e.destroy()}},e.prototype.matches=function(t){return us.sceneGraphService.matches(t,this)},e.prototype.getElementById=function(t){return us.sceneGraphService.querySelector("#".concat(t),this)},e.prototype.getElementsByName=function(t){return us.sceneGraphService.querySelectorAll('[name="'.concat(t,'"]'),this)},e.prototype.getElementsByClassName=function(t){return us.sceneGraphService.querySelectorAll(".".concat(t),this)},e.prototype.getElementsByTagName=function(t){return us.sceneGraphService.querySelectorAll(t,this)},e.prototype.querySelector=function(t){return us.sceneGraphService.querySelector(t,this)},e.prototype.querySelectorAll=function(t){return us.sceneGraphService.querySelectorAll(t,this)},e.prototype.closest=function(t){var e=this;do{if(us.sceneGraphService.matches(t,e))return e;e=e.parentElement}while(null!==e);return null},e.prototype.find=function(t){var e=this,n=null;return this.forEach((function(r){return!(r===e||!t(r))&&(n=r,!0)})),n},e.prototype.findAll=function(t){var e=this,n=[];return this.forEach((function(r){r!==e&&t(r)&&n.push(r)})),n},e.prototype.after=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);e.forEach((function(e,n){var i;return null===(i=t.parentNode)||void 0===i?void 0:i.appendChild(e,r+n+1)}))}},e.prototype.before=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this),i=d(e),o=i[0],a=i.slice(1);this.parentNode.appendChild(o,r),(t=o).after.apply(t,h([],d(a),!1))}},e.prototype.replaceWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.after.apply(this,h([],d(t),!1)),this.remove()},e.prototype.append=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){return t.appendChild(e)}))},e.prototype.prepend=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e,n){return t.appendChild(e,n)}))},e.prototype.replaceChildren=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,h([],d(t),!1))},e.prototype.remove=function(){return this.parentNode?this.parentNode.removeChild(this):this},e.prototype.destroy=function(){this.dispatchEvent(ms),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0},e.prototype.getGeometryBounds=function(){return us.sceneGraphService.getGeometryBounds(this)},e.prototype.getRenderBounds=function(){return us.sceneGraphService.getBounds(this,!0)},e.prototype.getBounds=function(){return us.sceneGraphService.getBounds(this)},e.prototype.getLocalBounds=function(){return us.sceneGraphService.getLocalBounds(this)},e.prototype.getBoundingClientRect=function(){return us.sceneGraphService.getBoundingClientRect(this)},e.prototype.getClientRects=function(){return[this.getBoundingClientRect()]},e.prototype.computedStyleMap=function(){return new Map(Object.entries(this.computedStyle))},e.prototype.getAttributeNames=function(){return Object.keys(this.attributes)},e.prototype.getAttribute=function(t){if(function(t){return"symbol"===typeof t}(t))return us.enableCSSParsing?null:void 0;var e=this.attributes[t];if(void 0===e){if(us.enableAttributeDashCased){var n=Ur(t);e=this.attributes[n]}return us.enableCSSParsing&&Kt(e)?null:e}return e},e.prototype.hasAttribute=function(t){return this.getAttributeNames().includes(t)},e.prototype.hasAttributes=function(){return!!this.getAttributeNames().length},e.prototype.removeAttribute=function(t){this.setAttribute(t,null),delete this.attributes[t]},e.prototype.setAttribute=function(t,e,n,r){this.attributes[t]=e},e.prototype.getAttributeNS=function(t,e){throw new Error(wr)},e.prototype.getAttributeNode=function(t){throw new Error(wr)},e.prototype.getAttributeNodeNS=function(t,e){throw new Error(wr)},e.prototype.hasAttributeNS=function(t,e){throw new Error(wr)},e.prototype.removeAttributeNS=function(t,e){throw new Error(wr)},e.prototype.removeAttributeNode=function(t){throw new Error(wr)},e.prototype.setAttributeNS=function(t,e,n){throw new Error(wr)},e.prototype.setAttributeNode=function(t){throw new Error(wr)},e.prototype.setAttributeNodeNS=function(t){throw new Error(wr)},e.prototype.toggleAttribute=function(t,e){throw new Error(wr)},e}(Ya);function ys(t){return!!(null===t||void 0===t?void 0:t.nodeName)}var bs,xs=us.globalThis.Proxy?us.globalThis.Proxy:function(){},ws=new es(Za.ATTR_MODIFIED,null,null,null,null,es.MODIFICATION,null,null),Es={opacity:"",fillOpacity:"",strokeOpacity:"",fill:"",stroke:"",transform:"",transformOrigin:"",visibility:"",pointerEvents:"",lineWidth:"",lineCap:"",lineJoin:"",increasedLineWidthForHitTesting:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",zIndex:"",filter:"",shadowType:""},Ss={fill:ai,stroke:ai,transform:[],zIndex:0,filter:[],shadowType:"outer",miterLimit:10},ks=h(h([],d(["opacity","fillOpacity","strokeOpacity","transformOrigin","visibility","pointerEvents","lineWidth","lineCap","lineJoin","increasedLineWidthForHitTesting"]),!1),["fontSize","fontFamily","fontStyle","fontWeight","fontVariant","textAlign","textBaseline","textTransform"],!1),Ms="data-",Cs=function(t){function e(e){var n=t.call(this)||this;return n.isCustomElement=!1,n.isMutationObserved=!1,n.activeAnimations=[],n.config=e,n.id=n.config.id||"",n.name=n.config.name||"",(n.config.className||n.config.class)&&(n.className=n.config.className||n.config.class),n.nodeName=n.config.type||Wn.GROUP,us.enableCSSParsing?(Object.assign(n.attributes,Es),Object.assign(n.parsedStyle,Ss,n.config.initialParsedStyle)):n.config.initialParsedStyle&&Object.assign(n.parsedStyle,n.config.initialParsedStyle),n.initAttributes(n.config.style),us.enableDataset&&(n.dataset=new xs({},{get:function(t,e){var r="".concat(Ms).concat(Hr(e));return void 0!==t[r]?t[r]:n.getAttribute(r)},set:function(t,e,r){return n.setAttribute("".concat(Ms).concat(Hr(e)),r),!0}})),us.enableStyleSyntax&&(n.style=new xs({setProperty:function(t,e){n.setAttribute(t,e)},getPropertyValue:function(t){return n.getAttribute(t)},removeProperty:function(t){n.removeAttribute(t)},item:function(){return""}},{get:function(t,e){return void 0!==t[e]?t[e]:n.getAttribute(e)},set:function(t,e,r){return n.setAttribute(e,r),!0}})),n}return o(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.getAnimations().forEach((function(t){t.cancel()}))},e.prototype.cloneNode=function(t,e){var n=a({},this.attributes);for(var r in n){var i=n[r];ys(i)&&"clipPath"!==r&&"offsetPath"!==r&&"textPath"!==r&&(n[r]=i.cloneNode(t)),e&&(n[r]=e(r,i))}var o=new this.constructor({id:this.id,name:this.name,className:this.name,interactive:this.interactive,style:n});return o.setLocalTransform(this.getLocalTransform()),t&&this.children.forEach((function(e){if(!e.style.isMarker){var n=e.cloneNode(t);o.appendChild(n)}})),o},e.prototype.initAttributes=function(t){void 0===t&&(t={});var e=this.renderable,n={forceUpdateGeometry:!0};us.enableCSSParsing&&(n.usedAttributes=ks);var r=t;if(us.enableAttributeDashCased)for(var i in r={},t){r[Ur(i)]=t[i]}us.styleValueRegistry.processProperties(this,r,n),e.dirty=!0},e.prototype.setAttribute=function(e,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=!0),us.enableAttributeDashCased&&(e=Ur(e)),$e(n)||(r||n!==this.attributes[e])&&(this.internalSetAttribute(e,n,{memoize:i}),t.prototype.setAttribute.call(this,e,n))},e.prototype.internalSetAttribute=function(t,e,n){var r;void 0===n&&(n={});var i=this.renderable,o=this.attributes[t],a=this.parsedStyle[t];us.styleValueRegistry.processProperties(this,((r={})[t]=e,r),n),i.dirty=!0;var s=this.parsedStyle[t];this.isConnected&&(ws.relatedNode=this,ws.prevValue=o,ws.newValue=e,ws.attrName=t,ws.prevParsedValue=a,ws.newParsedValue=s,this.isMutationObserved?this.dispatchEvent(ws):(ws.target=this,this.ownerDocument.defaultView.dispatchEvent(ws,!0))),(this.isCustomElement&&this.isConnected||!this.isCustomElement)&&this.attributeChangedCallback&&this.attributeChangedCallback(t,o,e,a,s)},e.prototype.getBBox=function(){var t=this.getBounds(),e=d(t.getMin(),2),n=e[0],r=e[1],i=d(t.getMax(),2),o=i[0],a=i[1];return new xr(n,r,o-n,a-r)},e.prototype.setOrigin=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),us.sceneGraphService.setOrigin(this,tr(t,e,n)),this},e.prototype.getOrigin=function(){return us.sceneGraphService.getOrigin(this)},e.prototype.setPosition=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),us.sceneGraphService.setPosition(this,tr(t,e,n)),this},e.prototype.setLocalPosition=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),us.sceneGraphService.setLocalPosition(this,tr(t,e,n)),this},e.prototype.translate=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),us.sceneGraphService.translate(this,tr(t,e,n)),this},e.prototype.translateLocal=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),us.sceneGraphService.translateLocal(this,tr(t,e,n)),this},e.prototype.getPosition=function(){return us.sceneGraphService.getPosition(this)},e.prototype.getLocalPosition=function(){return us.sceneGraphService.getLocalPosition(this)},e.prototype.scale=function(t,e,n){return this.scaleLocal(t,e,n)},e.prototype.scaleLocal=function(t,e,n){return"number"===typeof t&&(t=tr(t,e=e||t,n=n||t)),us.sceneGraphService.scaleLocal(this,t),this},e.prototype.setLocalScale=function(t,e,n){return"number"===typeof t&&(t=tr(t,e=e||t,n=n||t)),us.sceneGraphService.setLocalScale(this,t),this},e.prototype.getLocalScale=function(){return us.sceneGraphService.getLocalScale(this)},e.prototype.getScale=function(){return us.sceneGraphService.getScale(this)},e.prototype.getEulerAngles=function(){return nr(d(rr(v(),us.sceneGraphService.getWorldTransform(this)),3)[2])},e.prototype.getLocalEulerAngles=function(){return nr(d(rr(v(),us.sceneGraphService.getLocalRotation(this)),3)[2])},e.prototype.setEulerAngles=function(t){return us.sceneGraphService.setEulerAngles(this,0,0,t),this},e.prototype.setLocalEulerAngles=function(t){return us.sceneGraphService.setLocalEulerAngles(this,0,0,t),this},e.prototype.rotateLocal=function(t,e,n){return Kt(e)&&Kt(n)?us.sceneGraphService.rotateLocal(this,0,0,t):us.sceneGraphService.rotateLocal(this,t,e,n),this},e.prototype.rotate=function(t,e,n){return Kt(e)&&Kt(n)?us.sceneGraphService.rotate(this,0,0,t):us.sceneGraphService.rotate(this,t,e,n),this},e.prototype.setRotation=function(t,e,n,r){return us.sceneGraphService.setRotation(this,t,e,n,r),this},e.prototype.setLocalRotation=function(t,e,n,r){return us.sceneGraphService.setLocalRotation(this,t,e,n,r),this},e.prototype.setLocalSkew=function(t,e){return us.sceneGraphService.setLocalSkew(this,t,e),this},e.prototype.getRotation=function(){return us.sceneGraphService.getRotation(this)},e.prototype.getLocalRotation=function(){return us.sceneGraphService.getLocalRotation(this)},e.prototype.getLocalSkew=function(){return us.sceneGraphService.getLocalSkew(this)},e.prototype.getLocalTransform=function(){return us.sceneGraphService.getLocalTransform(this)},e.prototype.getWorldTransform=function(){return us.sceneGraphService.getWorldTransform(this)},e.prototype.setLocalTransform=function(t){return us.sceneGraphService.setLocalTransform(this,t),this},e.prototype.resetLocalTransform=function(){us.sceneGraphService.resetLocalTransform(this)},e.prototype.getAnimations=function(){return this.activeAnimations},e.prototype.animate=function(t,e){var n,r=null===(n=this.ownerDocument)||void 0===n?void 0:n.timeline;return r?r.play(this,t,e):null},e.prototype.isVisible=function(){var t,e;return us.enableCSSParsing?"visible"===(null===(t=this.parsedStyle)||void 0===t?void 0:t.visibility):"hidden"!==(null===(e=this.parsedStyle)||void 0===e?void 0:e.visibility)},Object.defineProperty(e.prototype,"interactive",{get:function(){return this.isInteractive()},set:function(t){this.style.pointerEvents=t?"auto":"none"},enumerable:!1,configurable:!0}),e.prototype.isInteractive=function(){var t;return"none"!==(null===(t=this.parsedStyle)||void 0===t?void 0:t.pointerEvents)},e.prototype.isCulled=function(){return!(!this.cullable||!this.cullable.enable||this.cullable.visible)},e.prototype.toFront=function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,h([],d(this.parentNode.children.map((function(t){return Number(t.style.zIndex)}))),!1))+1),this},e.prototype.toBack=function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,h([],d(this.parentNode.children.map((function(t){return Number(t.style.zIndex)}))),!1))-1),this},e.prototype.getConfig=function(){return this.config},e.prototype.attr=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=d(e,2),i=r[0],o=r[1];return i?He(i)?(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),this):2===e.length?(this.setAttribute(i,o),this):this.attributes[i]:this.attributes},e.prototype.getMatrix=function(t){var e=t||this.getWorldTransform(),n=d(at(v(),e),2),r=n[0],i=n[1],o=d(st(v(),e),2),a=o[0],s=o[1],l=lt(Dt(),e),c=d(rr(v(),l),3),u=c[0],h=c[2];return ir(u||h,r,i,a,s)},e.prototype.getLocalMatrix=function(){return this.getMatrix(this.getLocalTransform())},e.prototype.setMatrix=function(t){var e=d(or(t),5),n=e[0],r=e[1],i=e[2],o=e[3],a=e[4];this.setEulerAngles(a).setPosition(n,r).setLocalScale(i,o)},e.prototype.setLocalMatrix=function(t){var e=d(or(t),5),n=e[0],r=e[1],i=e[2],o=e[3],a=e[4];this.setLocalEulerAngles(a).setLocalPosition(n,r).setLocalScale(i,o)},e.prototype.show=function(){us.enableCSSParsing?this.style.visibility="visible":this.forEach((function(t){t.style.visibility="visible"}))},e.prototype.hide=function(){us.enableCSSParsing?this.style.visibility="hidden":this.forEach((function(t){t.style.visibility="hidden"}))},e.prototype.getCount=function(){return this.childElementCount},e.prototype.getParent=function(){return this.parentElement},e.prototype.getChildren=function(){return this.children},e.prototype.getFirst=function(){return this.firstElementChild},e.prototype.getLast=function(){return this.lastElementChild},e.prototype.getChildByIndex=function(t){return this.children[t]||null},e.prototype.add=function(t,e){return this.appendChild(t,e)},e.prototype.set=function(t,e){this.config[t]=e},e.prototype.get=function(t){return this.config[t]},e.prototype.moveTo=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),this.setPosition(t,e,n),this},e.prototype.move=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),this.setPosition(t,e,n),this},e.prototype.setZIndex=function(t){return this.style.zIndex=t,this},e}(vs),Ns=function(t){function e(e){return void 0===e&&(e={}),t.call(this,a({type:Wn.CIRCLE},e))||this}return o(e,t),e}(Cs),Os=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=s(e,["style"]);return(n=t.call(this,a({style:(us.enableCSSParsing,a({},r))},i))||this).isCustomElement=!0,n}return o(e,t),e}(Cs),Ps=function(t){function e(e){return void 0===e&&(e={}),t.call(this,a({type:Wn.ELLIPSE},e))||this}return o(e,t),e}(Cs),Ts=function(t){function e(e){return void 0===e&&(e={}),t.call(this,a({type:Wn.GROUP},e))||this}return o(e,t),e}(Cs),As=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=s(e,["style"]);return(n=t.call(this,a({type:Wn.HTML,style:us.enableCSSParsing?a({x:"",y:"",width:"auto",height:"auto",innerHTML:""},r):a({},r)},i))||this).cullable.enable=!1,n}return o(e,t),e.prototype.getDomElement=function(){return this.parsedStyle.$el},e.prototype.getClientRects=function(){return[this.getBoundingClientRect()]},e.prototype.getLocalBounds=function(){if(this.parentNode){var t=V(I(),this.parentNode.getWorldTransform()),e=this.getBounds();if(!fr.isEmpty(e)){var n=new fr;return n.setFromTransformedAABB(e,t),n}}return this.getBounds()},e}(Cs),Rs=function(t){function e(e){return void 0===e&&(e={}),t.call(this,a({type:Wn.IMAGE},e))||this}return o(e,t),e}(Cs),_s=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=s(e,["style"]);(n=t.call(this,a({type:Wn.LINE,style:a({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},r)},i))||this).markerStartAngle=0,n.markerEndAngle=0;var o=n.parsedStyle,l=o.markerStart,c=o.markerEnd;return l&&ys(l)&&(n.markerStartAngle=l.getLocalEulerAngles(),n.appendChild(l)),c&&ys(c)&&(n.markerEndAngle=c.getLocalEulerAngles(),n.appendChild(c)),n.transformMarker(!0),n.transformMarker(!1),n}return o(e,t),e.prototype.attributeChangedCallback=function(t,e,n,r,i){"x1"===t||"y1"===t||"x2"===t||"y2"===t||"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(r&&ys(r)&&(this.markerStartAngle=0,r.remove()),i&&ys(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===t&&(r&&ys(r)&&(this.markerEndAngle=0,r.remove()),i&&ys(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1)))},e.prototype.transformMarker=function(t){var e=this.parsedStyle,n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,o=e.markerEndOffset,a=e.x1,s=e.x2,l=e.y1,c=e.y2,u=t?n:r;if(u&&ys(u)){var d,h,f,p,g,m,v;t?(p=a,g=l,h=s-a,f=c-l,m=i||0,v=this.markerStartAngle):(p=s,g=c,h=a-s,f=l-c,m=o||0,v=this.markerEndAngle),d=Math.atan2(f,h),u.setLocalEulerAngles(180*d/Math.PI+v),u.setLocalPosition(p+Math.cos(d)*m,g+Math.sin(d)*m)}},e.prototype.getPoint=function(t,e){void 0===e&&(e=!1);var n=this.parsedStyle,r=Rn(n.x1,n.y1,n.x2,n.y2,t),i=r.x,o=r.y,a=A(v(),x(i,o,0),e?this.getWorldTransform():this.getLocalTransform());return new br(a[0],a[1])},e.prototype.getPointAtLength=function(t,e){return void 0===e&&(e=!1),this.getPoint(t/this.getTotalLength(),e)},e.prototype.getTotalLength=function(){var t=this.parsedStyle;return An(t.x1,t.y1,t.x2,t.y2)},e}(Cs),Ls=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=s(e,["style"]);(n=t.call(this,a({type:Wn.PATH,style:us.enableCSSParsing?a({d:"",miterLimit:""},r):a({},r),initialParsedStyle:us.enableCSSParsing?null:{miterLimit:4,d:a({},di)}},i))||this).markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,l=o.markerStart,c=o.markerEnd,u=o.markerMid;return l&&ys(l)&&(n.markerStartAngle=l.getLocalEulerAngles(),n.appendChild(l)),u&&ys(u)&&n.placeMarkerMid(u),c&&ys(c)&&(n.markerEndAngle=c.getLocalEulerAngles(),n.appendChild(c)),n.transformMarker(!0),n.transformMarker(!1),n}return o(e,t),e.prototype.attributeChangedCallback=function(t,e,n,r,i){"d"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(r&&ys(r)&&(this.markerStartAngle=0,r.remove()),i&&ys(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===t?(r&&ys(r)&&(this.markerEndAngle=0,r.remove()),i&&ys(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(i)},e.prototype.transformMarker=function(t){var e=this.parsedStyle,n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,o=e.markerEndOffset,a=t?n:r;if(a&&ys(a)){var s,l,c,u,h,f,p;if(t){var g=d(this.getStartTangent(),2),m=g[0];u=(v=g[1])[0],h=v[1],l=m[0]-v[0],c=m[1]-v[1],f=i||0,p=this.markerStartAngle}else{var v,y=d(this.getEndTangent(),2);m=y[0];u=(v=y[1])[0],h=v[1],l=m[0]-v[0],c=m[1]-v[1],f=o||0,p=this.markerEndAngle}s=Math.atan2(c,l),a.setLocalEulerAngles(180*s/Math.PI+p),a.setLocalPosition(u+Math.cos(s)*f,h+Math.sin(s)*f)}},e.prototype.placeMarkerMid=function(t){var e=this.parsedStyle.d.segments;if(this.markerMidList.forEach((function(t){t.remove()})),t&&ys(t))for(var n=1;n<e.length-1;n++){var r=d(e[n].currentPoint,2),i=r[0],o=r[1],a=1===n?t:t.cloneNode(!0);this.markerMidList.push(a),this.appendChild(a),a.setLocalPosition(i,o)}},e.prototype.getTotalLength=function(){return Ui(this)},e.prototype.getPointAtLength=function(t,e){void 0===e&&(e=!1);var n=function(t,e,n){return ke(t,e,a(a({},n),{bbox:!1,length:!0})).point}(this.parsedStyle.d.absolutePath,t),r=n.x,i=n.y,o=A(v(),x(r,i,0),e?this.getWorldTransform():this.getLocalTransform());return new br(o[0],o[1])},e.prototype.getPoint=function(t,e){return void 0===e&&(e=!1),this.getPointAtLength(t*Ui(this),e)},e.prototype.getStartTangent=function(){var t=this.parsedStyle.d.segments,e=[];if(t.length>1){var n=t[0].currentPoint,r=t[1].currentPoint,i=t[1].startTangent;e=[],i?(e.push([n[0]-i[0],n[1]-i[1]]),e.push([n[0],n[1]])):(e.push([r[0],r[1]]),e.push([n[0],n[1]]))}return e},e.prototype.getEndTangent=function(){var t=this.parsedStyle.d.segments,e=t.length,n=[];if(e>1){var r=t[e-2].currentPoint,i=t[e-1].currentPoint,o=t[e-1].endTangent;n=[],o?(n.push([i[0]-o[0],i[1]-o[1]]),n.push([i[0],i[1]])):(n.push([r[0],r[1]]),n.push([i[0],i[1]]))}return n},e}(Cs),Is=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=s(e,["style"]);(n=t.call(this,a({type:Wn.POLYGON,style:us.enableCSSParsing?a({points:"",miterLimit:"",isClosed:!0},r):a({},r),initialParsedStyle:us.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},i))||this).markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,l=o.markerStart,c=o.markerEnd,u=o.markerMid;return l&&ys(l)&&(n.markerStartAngle=l.getLocalEulerAngles(),n.appendChild(l)),u&&ys(u)&&n.placeMarkerMid(u),c&&ys(c)&&(n.markerEndAngle=c.getLocalEulerAngles(),n.appendChild(c)),n.transformMarker(!0),n.transformMarker(!1),n}return o(e,t),e.prototype.attributeChangedCallback=function(t,e,n,r,i){"points"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(r&&ys(r)&&(this.markerStartAngle=0,r.remove()),i&&ys(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===t?(r&&ys(r)&&(this.markerEndAngle=0,r.remove()),i&&ys(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(i)},e.prototype.transformMarker=function(t){var e=this.parsedStyle,n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,o=e.markerEndOffset,a=(e.points||{}).points,s=t?n:r;if(s&&ys(s)&&a){var l,c,u,d,h,f,p;if(d=a[0][0],h=a[0][1],t)c=a[1][0]-a[0][0],u=a[1][1]-a[0][1],f=i||0,p=this.markerStartAngle;else{var g=a.length;this.parsedStyle.isClosed?(c=a[g-1][0]-a[0][0],u=a[g-1][1]-a[0][1]):(d=a[g-1][0],h=a[g-1][1],c=a[g-2][0]-a[g-1][0],u=a[g-2][1]-a[g-1][1]),f=o||0,p=this.markerEndAngle}l=Math.atan2(u,c),s.setLocalEulerAngles(180*l/Math.PI+p),s.setLocalPosition(d+Math.cos(l)*f,h+Math.sin(l)*f)}},e.prototype.placeMarkerMid=function(t){var e=(this.parsedStyle.points||{}).points;if(this.markerMidList.forEach((function(t){t.remove()})),this.markerMidList=[],t&&ys(t)&&e)for(var n=1;n<(this.parsedStyle.isClosed?e.length:e.length-1);n++){var r=e[n][0],i=e[n][1],o=1===n?t:t.cloneNode(!0);this.markerMidList.push(o),this.appendChild(o),o.setLocalPosition(r,i)}},e}(Cs),Ds=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=s(e,["style"]);return t.call(this,a({type:Wn.POLYLINE,style:us.enableCSSParsing?a({points:"",miterLimit:"",isClosed:!1},n):a({},n),initialParsedStyle:us.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},r))||this}return o(e,t),e.prototype.getTotalLength=function(){return qi(this)},e.prototype.getPointAtLength=function(t,e){return void 0===e&&(e=!1),this.getPoint(t/this.getTotalLength(),e)},e.prototype.getPoint=function(t,e){void 0===e&&(e=!1);var n=this.parsedStyle.points.points;if(0===this.parsedStyle.points.segments.length){var r,i,o=[],a=0,s=this.getTotalLength();n.forEach((function(t,e){n[e+1]&&((r=[0,0])[0]=a/s,i=An(t[0],t[1],n[e+1][0],n[e+1][1]),a+=i,r[1]=a/s,o.push(r))})),this.parsedStyle.points.segments=o}var l=0,c=0;this.parsedStyle.points.segments.forEach((function(e,n){t>=e[0]&&t<=e[1]&&(l=(t-e[0])/(e[1]-e[0]),c=n)}));var u=Rn(n[c][0],n[c][1],n[c+1][0],n[c+1][1],l),d=u.x,h=u.y,f=A(v(),x(d,h,0),e?this.getWorldTransform():this.getLocalTransform());return new br(f[0],f[1])},e.prototype.getStartTangent=function(){var t=this.parsedStyle.points.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.parsedStyle.points.points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Is),js=function(t){function e(e){return void 0===e&&(e={}),t.call(this,a({type:Wn.RECT},e))||this}return o(e,t),e}(Cs),zs=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=s(e,["style"]);return t.call(this,a({type:Wn.TEXT,style:us.enableCSSParsing?a({x:"",y:"",text:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",fill:"black",letterSpacing:"",lineHeight:"",miterLimit:"",wordWrap:!1,wordWrapWidth:0,leading:0,dx:"",dy:""},n):a({fill:"black"},n)},r))||this}return o(e,t),e.prototype.getComputedTextLength=function(){var t;return this.getGeometryBounds(),(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.maxLineWidth)||0},e.prototype.getLineBoundingRects=function(){var t;return this.getGeometryBounds(),(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.lineMetrics)||[]},e.prototype.isOverflowing=function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing},e}(Cs),Fs=function(){function t(){this.registry={},this.define(Wn.CIRCLE,Ns),this.define(Wn.ELLIPSE,Ps),this.define(Wn.RECT,js),this.define(Wn.IMAGE,Rs),this.define(Wn.LINE,_s),this.define(Wn.GROUP,Ts),this.define(Wn.PATH,Ls),this.define(Wn.POLYGON,Is),this.define(Wn.POLYLINE,Ds),this.define(Wn.TEXT,zs),this.define(Wn.HTML,As)}return t.prototype.define=function(t,e){this.registry[t]=e},t.prototype.get=function(t){return this.registry[t]},t}(),Bs=function(t){function e(){var e=t.call(this)||this;e.defaultView=null,e.ownerDocument=null,e.nodeName="document";try{e.timeline=new us.AnimationTimeline(e)}catch(r){}var n={};return Po.forEach((function(t){var e=t.n,r=t.inh,i=t.d;r&&i&&(n[e]=Wr(i)?i(Wn.GROUP):i)})),e.documentElement=new Ts({id:"g-root",style:n}),e.documentElement.ownerDocument=e,e.documentElement.parentNode=e,e.childNodes=[e.documentElement],e}return o(e,t),Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childElementCount",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstElementChild",{get:function(){return this.firstChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastElementChild",{get:function(){return this.lastChild},enumerable:!1,configurable:!0}),e.prototype.createElement=function(t,e){if("svg"===t)return this.documentElement;var n=this.defaultView.customElements.get(t);n||(console.warn("Unsupported tagName: ",t),n="tspan"===t?zs:Ts);var r=new n(e);return r.ownerDocument=this,r},e.prototype.createElementNS=function(t,e,n){return this.createElement(e,n)},e.prototype.cloneNode=function(t){throw new Error(wr)},e.prototype.destroy=function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(t){}},e.prototype.elementsFromBBox=function(t,e,n,r){var i=this.defaultView.context.rBushRoot.search({minX:t,minY:e,maxX:n,maxY:r}),o=[];return i.forEach((function(t){var e=t.displayObject,n=e.parsedStyle.pointerEvents,r=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(void 0===n?"auto":n);(!r||r&&e.isVisible())&&!e.isCulled()&&e.isInteractive()&&o.push(e)})),o.sort((function(t,e){return e.sortable.renderOrder-t.sortable.renderOrder})),o},e.prototype.elementFromPointSync=function(t,e){var n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height;if(r<0||i<0||r>a||i>s)return null;var l=this.defaultView.viewport2Client({x:r,y:i}),c=l.x,u=l.y,d=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:c,clientY:u},picked:[]}).picked;return d&&d[0]||this.documentElement},e.prototype.elementFromPoint=function(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,u,d,h;return c(this,(function(c){switch(c.label){case 0:return n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height,r<0||i<0||r>a||i>s?[2,null]:(l=this.defaultView.viewport2Client({x:r,y:i}),u=l.x,d=l.y,[4,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:u,clientY:d},picked:[]})]);case 1:return[2,(h=c.sent().picked)&&h[0]||this.documentElement]}}))}))},e.prototype.elementsFromPointSync=function(t,e){var n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height;if(r<0||i<0||r>a||i>s)return[];var l=this.defaultView.viewport2Client({x:r,y:i}),c=l.x,u=l.y,d=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:c,clientY:u},picked:[]}).picked;return d[d.length-1]!==this.documentElement&&d.push(this.documentElement),d},e.prototype.elementsFromPoint=function(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,u,d,h;return c(this,(function(c){switch(c.label){case 0:return n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height,r<0||i<0||r>a||i>s?[2,[]]:(l=this.defaultView.viewport2Client({x:r,y:i}),u=l.x,d=l.y,[4,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:u,clientY:d},picked:[]})]);case 1:return(h=c.sent().picked)[h.length-1]!==this.documentElement&&h.push(this.documentElement),[2,h]}}))}))},e.prototype.appendChild=function(t,e){throw new Error(Er)},e.prototype.insertBefore=function(t,e){throw new Error(Er)},e.prototype.removeChild=function(t,e){throw new Error(Er)},e.prototype.replaceChild=function(t,e,n){throw new Error(Er)},e.prototype.append=function(){throw new Error(Er)},e.prototype.prepend=function(){throw new Error(Er)},e.prototype.getElementById=function(t){return this.documentElement.getElementById(t)},e.prototype.getElementsByName=function(t){return this.documentElement.getElementsByName(t)},e.prototype.getElementsByTagName=function(t){return this.documentElement.getElementsByTagName(t)},e.prototype.getElementsByClassName=function(t){return this.documentElement.getElementsByClassName(t)},e.prototype.querySelector=function(t){return this.documentElement.querySelector(t)},e.prototype.querySelectorAll=function(t){return this.documentElement.querySelectorAll(t)},e.prototype.find=function(t){return this.documentElement.find(t)},e.prototype.findAll=function(t){return this.documentElement.findAll(t)},e}(Ya),$s=function(){function t(t){this.strategies=t}return t.prototype.apply=function(e){var n=e.camera,r=e.renderingService,i=e.renderingContext,o=this.strategies;r.hooks.cull.tap(t.tag,(function(t){if(t){var e=t.cullable;return 0===o.length?e.visible=i.unculledEntities.indexOf(t.entity)>-1:e.visible=o.every((function(e){return e.isVisible(n,t)})),!t.isCulled()&&t.isVisible()?t:(t.dispatchEvent(new Ua(Za.CULLED)),null)}return t})),r.hooks.afterRender.tap(t.tag,(function(t){t.cullable.visibilityPlaneMask=-1}))},t.tag="Culling",t}(),Vs=function(){function t(){var t=this;this.autoPreventDefault=!1,this.rootPointerEvent=new Wa(null),this.rootWheelEvent=new Ga(null),this.onPointerMove=function(e){var n,r,i,o,a=null===(o=null===(i=t.context.renderingContext.root)||void 0===i?void 0:i.ownerDocument)||void 0===o?void 0:o.defaultView;if(!a.supportsTouchEvents||"touch"!==e.pointerType){var s=t.normalizeToPointerEvent(e,a);try{for(var l=u(s),c=l.next();!c.done;c=l.next()){var d=c.value,h=t.bootstrapEvent(t.rootPointerEvent,d,a,e);t.context.eventService.mapEvent(h)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(e){var n,r,i,o,a=null===(o=null===(i=t.context.renderingContext.root)||void 0===i?void 0:i.ownerDocument)||void 0===o?void 0:o.defaultView,s=t.normalizeToPointerEvent(e,a);try{for(var l=u(s),c=l.next();!c.done;c=l.next()){var d=c.value,h=t.bootstrapEvent(t.rootPointerEvent,d,a,e);t.context.eventService.mapEvent(h)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}t.setCursor(t.context.eventService.cursor)}}return t.prototype.apply=function(e){var n=this;this.context=e;var r=e.renderingService,i=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler((function(t){return n.context.renderingService.hooks.pickSync.call({position:t,picked:[],topmost:!0}).picked[0]||null})),r.hooks.pointerWheel.tap(t.tag,(function(t){var e=n.normalizeWheelEvent(t);n.context.eventService.mapEvent(e)})),r.hooks.pointerDown.tap(t.tag,(function(t){var e,r;if(!i.supportsTouchEvents||"touch"!==t.pointerType){var o=n.normalizeToPointerEvent(t,i);if(n.autoPreventDefault&&o[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();try{for(var a=u(o),s=a.next();!s.done;s=a.next()){var l=s.value,c=n.bootstrapEvent(n.rootPointerEvent,l,i,t);n.context.eventService.mapEvent(c)}}catch(d){e={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}n.setCursor(n.context.eventService.cursor)}})),r.hooks.pointerUp.tap(t.tag,(function(t){var e,r;if(!i.supportsTouchEvents||"touch"!==t.pointerType){var o=n.context.contextService.getDomElement(),a=n.context.eventService.isNativeEventFromCanvas(o,t)?"":"outside",s=n.normalizeToPointerEvent(t,i);try{for(var l=u(s),c=l.next();!c.done;c=l.next()){var d=c.value,h=n.bootstrapEvent(n.rootPointerEvent,d,i,t);h.type+=a,n.context.eventService.mapEvent(h)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}n.setCursor(n.context.eventService.cursor)}})),r.hooks.pointerMove.tap(t.tag,this.onPointerMove),r.hooks.pointerOver.tap(t.tag,this.onPointerMove),r.hooks.pointerOut.tap(t.tag,this.onPointerMove),r.hooks.click.tap(t.tag,this.onClick),r.hooks.pointerCancel.tap(t.tag,(function(t){var e,r,o=n.normalizeToPointerEvent(t,i);try{for(var a=u(o),s=a.next();!s.done;s=a.next()){var l=s.value,c=n.bootstrapEvent(n.rootPointerEvent,l,i,t);n.context.eventService.mapEvent(c)}}catch(d){e={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}n.setCursor(n.context.eventService.cursor)}))},t.prototype.bootstrapEvent=function(t,e,n,r){t.view=n,t.originalEvent=null,t.nativeEvent=r,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e);var i=this.context.eventService.client2Viewport({x:e.clientX,y:e.clientY}),o=i.x,a=i.y;t.viewport.x=o,t.viewport.y=a;var s=this.context.eventService.viewport2Canvas(t.viewport),l=s.x,c=s.y;return t.canvas.x=l,t.canvas.y=c,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.isTrusted=r.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=ia[t.type]||t.type),t},t.prototype.normalizeWheelEvent=function(t){var e=this.rootWheelEvent;this.transferMouseData(e,t),e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ;var n=this.context.eventService.client2Viewport({x:t.clientX,y:t.clientY}),r=n.x,i=n.y;e.viewport.x=r,e.viewport.y=i;var o=this.context.eventService.viewport2Canvas(e.viewport),a=o.x,s=o.y;return e.canvas.x=a,e.canvas.y=s,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.nativeEvent=t,e.type=t.type,e},t.prototype.transferMouseData=function(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=oa.now(),t.type=e.type,t.altKey=e.altKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.ctrlKey=e.ctrlKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.screen.x=e.screenX,t.screen.y=e.screenY,t.relatedTarget=null},t.prototype.setCursor=function(t){this.context.contextService.applyCursorStyle(t||this.context.config.cursor||"default")},t.prototype.normalizeToPointerEvent=function(t,e){var n=[];if(e.isTouchEvent(t))for(var r=0;r<t.changedTouches.length;r++){var i=t.changedTouches[r];$e(i.button)&&(i.button=0),$e(i.buttons)&&(i.buttons=1),$e(i.isPrimary)&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),$e(i.width)&&(i.width=i.radiusX||1),$e(i.height)&&(i.height=i.radiusY||1),$e(i.tiltX)&&(i.tiltX=0),$e(i.tiltY)&&(i.tiltY=0),$e(i.pointerType)&&(i.pointerType="touch"),$e(i.pointerId)&&(i.pointerId=i.identifier||0),$e(i.pressure)&&(i.pressure=i.force||.5),$e(i.twist)&&(i.twist=0),$e(i.tangentialPressure)&&(i.tangentialPressure=0),i.isNormalized=!0,i.type=t.type,n.push(i)}else if(e.isMouseEvent(t)){var o=t;$e(o.isPrimary)&&(o.isPrimary=!0),$e(o.width)&&(o.width=1),$e(o.height)&&(o.height=1),$e(o.tiltX)&&(o.tiltX=0),$e(o.tiltY)&&(o.tiltY=0),$e(o.pointerType)&&(o.pointerType="mouse"),$e(o.pointerId)&&(o.pointerId=1),$e(o.pressure)&&(o.pressure=.5),$e(o.twist)&&(o.twist=0),$e(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,n.push(o)}else n.push(t);return n},t.tag="Event",t}(),Hs=[Wn.CIRCLE,Wn.ELLIPSE,Wn.IMAGE,Wn.RECT,Wn.LINE,Wn.POLYLINE,Wn.POLYGON,Wn.TEXT,Wn.PATH,Wn.HTML],Ws=function(){function t(){}return t.prototype.isVisible=function(t,e){var n,r,i=e.cullable;if(!i.enable)return!0;var o=e.getRenderBounds();if(fr.isEmpty(o))return!1;var a=t.getFrustum(),s=null===(r=null===(n=e.parentNode)||void 0===n?void 0:n.cullable)||void 0===r?void 0:r.visibilityPlaneMask;return i.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(e,o,s||hr.INDETERMINATE,a.planes),i.visible=i.visibilityPlaneMask!==hr.OUTSIDE,i.visible},t.prototype.computeVisibilityWithPlaneMask=function(t,e,n,r){if(n===hr.OUTSIDE||n===hr.INSIDE)return n;for(var i=hr.INSIDE,o=Hs.indexOf(t.nodeName)>-1,a=0,s=r.length;a<s;++a){var l=1<<a;if(0!==(n&l)&&(!o||4!==a&&5!==a)){var c=r[a],u=c.normal,d=c.distance;if(O(u,e.getPositiveFarPoint(r[a]))+d<0)return hr.OUTSIDE;O(u,e.getNegativeFarPoint(r[a]))+d<0&&(i|=l)}}return i},t}(),Gs=function(){function t(){this.toSync=new Set,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return t.prototype.apply=function(e){var n,r=this,i=e.renderingService,o=e.renderingContext,a=e.rBushRoot,s=o.root.ownerDocument.defaultView;this.rBush=a;var l=function(t){t.target.renderable.dirty=!0,i.dirtify()},c=function(t){var e=t.detail.affectChildren,n=t.target;e&&n.forEach((function(t){r.toSync.add(t)}));for(var o=n;o;)o.renderable&&r.toSync.add(o),o=o.parentElement;i.dirtify()},u=function(t){var e=t.target;us.enableSizeAttenuation&&us.styleValueRegistry.updateSizeAttenuation(e,s.getCamera().getZoom()),us.enableCSSParsing&&us.styleValueRegistry.recalc(e),us.sceneGraphService.dirtifyToRoot(e),i.dirtify()},d=function(t){var e=t.target,n=e.rBushNode;n.aabb&&r.rBush.remove(n.aabb),r.toSync.delete(e),us.sceneGraphService.dirtifyToRoot(e),i.dirtify()};i.hooks.init.tap(t.tag,(function(){s.addEventListener(Za.MOUNTED,u),s.addEventListener(Za.UNMOUNTED,d),s.addEventListener(Za.ATTR_MODIFIED,l),s.addEventListener(Za.BOUNDS_CHANGED,c)})),i.hooks.destroy.tap(t.tag,(function(){s.removeEventListener(Za.MOUNTED,u),s.removeEventListener(Za.UNMOUNTED,d),s.removeEventListener(Za.ATTR_MODIFIED,l),s.removeEventListener(Za.BOUNDS_CHANGED,c),r.toSync.clear()}));var h=null!==(n=us.globalThis.requestIdleCallback)&&void 0!==n?n:ma.bind(us.globalThis);i.hooks.endFrame.tap(t.tag,(function(){r.isFirstTimeRendering?(r.isFirstTimeRendering=!1,r.syncing=!0,h((function(){r.syncRTree(!0),r.isFirstTimeRenderingFinished=!0}))):r.syncRTree()}))},t.prototype.syncRTree=function(t){var e=this;if(void 0===t&&(t=!1),t||!this.syncing&&0!==this.toSync.size){this.syncing=!0;var n=[];Array.from(this.toSync).filter((function(t){return t.isConnected})).forEach((function(r){var i=r.rBushNode;i&&i.aabb&&e.rBush.remove(i.aabb);var o=r.getRenderBounds();if(o){var a=r.renderable;t&&(a.dirtyRenderBounds||(a.dirtyRenderBounds=new fr),a.dirtyRenderBounds.update(o.center,o.halfExtents));var s=d(o.getMin(),2),l=s[0],c=s[1],u=d(o.getMax(),2),h=u[0],f=u[1];i.aabb||(i.aabb={}),i.aabb.displayObject=r,i.aabb.minX=l,i.aabb.minY=c,i.aabb.maxX=h,i.aabb.maxY=f}i.aabb&&(isNaN(i.aabb.maxX)||isNaN(i.aabb.maxX)||isNaN(i.aabb.minX)||isNaN(i.aabb.minY)||n.push(i.aabb))})),this.rBush.load(n),n.length=0,this.toSync.clear(),this.syncing=!1}},t.tag="Prepare",t}();!function(t){t.READY="ready",t.BEFORE_RENDER="beforerender",t.RERENDER="rerender",t.AFTER_RENDER="afterrender",t.BEFORE_DESTROY="beforedestroy",t.AFTER_DESTROY="afterdestroy",t.RESIZE="resize",t.DIRTY_RECTANGLE="dirtyrectangle",t.RENDERER_CHANGED="rendererchanged"}(bs||(bs={}));var Us=new Ua(Za.MOUNTED),qs=new Ua(Za.UNMOUNTED),Ys=new Ua(bs.BEFORE_RENDER),Xs=new Ua(bs.RERENDER),Ks=new Ua(bs.AFTER_RENDER),Zs=function(t){function e(e){var n=t.call(this)||this;n.Element=Cs,n.inited=!1,n.context={},n.document=new Bs,n.document.defaultView=n,n.customElements=new Fs;var r=e.container,i=e.canvas,o=e.offscreenCanvas,a=e.width,s=e.height,l=e.devicePixelRatio,c=e.renderer,u=e.background,d=e.cursor,h=e.document,f=e.requestAnimationFrame,p=e.cancelAnimationFrame,g=e.createImage,m=e.supportsPointerEvents,v=e.supportsTouchEvents,y=e.supportsCSSTransform,b=e.supportsMutipleCanvasesInOneContainer,x=e.useNativeClickEvent,w=e.alwaysTriggerPointerEventOnCanvas,E=e.isTouchEvent,S=e.isMouseEvent,k=e.dblClickSpeed;b||function(t,e){if(t){var n="string"===typeof t?t:t.id||Qo++;Zo[n]&&Zo[n].destroy(),Zo[n]=e}}(r,n);var M=a,C=s,N=l;return i&&(N=(N=l||Jo&&window.devicePixelRatio||1)>=1?Math.ceil(N):1,M=a||function(t){var e=ra(t,"width");return"auto"===e?t.offsetWidth:parseFloat(e)}(i)||i.width/N,C=s||function(t){var e=ra(t,"height");return"auto"===e?t.offsetHeight:parseFloat(e)}(i)||i.height/N),o&&(us.offscreenCanvas=o),n.devicePixelRatio=N,n.requestAnimationFrame=null!==f&&void 0!==f?f:ma.bind(us.globalThis),n.cancelAnimationFrame=null!==p&&void 0!==p?p:va.bind(us.globalThis),n.supportsTouchEvents=null!==v&&void 0!==v?v:"ontouchstart"in us.globalThis,n.supportsPointerEvents=null!==m&&void 0!==m?m:!!us.globalThis.PointerEvent,n.isTouchEvent=null!==E&&void 0!==E?E:function(t){return n.supportsTouchEvents&&t instanceof us.globalThis.TouchEvent},n.isMouseEvent=null!==S&&void 0!==S?S:function(t){return!us.globalThis.MouseEvent||t instanceof us.globalThis.MouseEvent&&(!n.supportsPointerEvents||!(t instanceof us.globalThis.PointerEvent))},n.dblClickSpeed=null!==k&&void 0!==k?k:200,n.initRenderingContext({container:r,canvas:i,width:M,height:C,renderer:c,offscreenCanvas:o,devicePixelRatio:N,cursor:d||"default",background:u||"transparent",createImage:g,document:h,supportsCSSTransform:y,useNativeClickEvent:x,alwaysTriggerPointerEventOnCanvas:w}),n.initDefaultCamera(M,C,c.clipSpaceNearZ),n.initRenderer(c,!0),n}return o(e,t),e.prototype.initRenderingContext=function(t){this.context.config=t,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}},e.prototype.initDefaultCamera=function(t,e,n){var r=this,i=new us.CameraContribution;i.clipSpaceNearZ=n,i.setType(gr.EXPLORING,mr.DEFAULT).setPosition(t/2,e/2,500).setFocalPoint(t/2,e/2,0).setOrthographic(t/-2,t/2,e/2,e/-2,.1,1e3),i.canvas=this,i.eventEmitter.on(Or,(function(){r.context.renderingContext.renderReasons.add($a.CAMERA_CHANGED),us.enableSizeAttenuation&&r.getConfig().renderer.getConfig().enableSizeAttenuation&&r.updateSizeAttenuation()})),this.context.camera=i},e.prototype.updateSizeAttenuation=function(){var t=this.getCamera().getZoom();this.document.documentElement.forEach((function(e){us.styleValueRegistry.updateSizeAttenuation(e,t)}))},e.prototype.getConfig=function(){return this.context.config},e.prototype.getRoot=function(){return this.document.documentElement},e.prototype.getCamera=function(){return this.context.camera},e.prototype.getContextService=function(){return this.context.contextService},e.prototype.getEventService=function(){return this.context.eventService},e.prototype.getRenderingService=function(){return this.context.renderingService},e.prototype.getRenderingContext=function(){return this.context.renderingContext},e.prototype.getStats=function(){return this.getRenderingService().getStats()},Object.defineProperty(e.prototype,"ready",{get:function(){var t=this;return this.readyPromise||(this.readyPromise=new Promise((function(e){t.resolveReadyPromise=function(){e(t)}})),this.inited&&this.resolveReadyPromise()),this.readyPromise},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,e){(void 0===t&&(t=!0),void 0===e&&(e=!1),e||this.dispatchEvent(new Ua(bs.BEFORE_DESTROY)),this.frameId)&&(this.getConfig().cancelAnimationFrame||cancelAnimationFrame)(this.frameId);var n=this.getRoot();this.unmountChildren(n),t&&(this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),t&&this.context.rBushRoot&&(this.context.rBushRoot.clear(),this.context.rBushRoot=null,this.context.renderingContext.root=null),e||this.dispatchEvent(new Ua(bs.AFTER_DESTROY))},e.prototype.changeSize=function(t,e){this.resize(t,e)},e.prototype.resize=function(t,e){var n=this.context.config;n.width=t,n.height=e,this.getContextService().resize(t,e);var r=this.context.camera,i=r.getProjectionMode();r.setPosition(t/2,e/2,500).setFocalPoint(t/2,e/2,0),i===vr.ORTHOGRAPHIC?r.setOrthographic(t/-2,t/2,e/2,e/-2,r.getNear(),r.getFar()):r.setAspect(t/e),this.dispatchEvent(new Ua(bs.RESIZE,{width:t,height:e}))},e.prototype.appendChild=function(t,e){return this.document.documentElement.appendChild(t,e)},e.prototype.insertBefore=function(t,e){return this.document.documentElement.insertBefore(t,e)},e.prototype.removeChild=function(t){return this.document.documentElement.removeChild(t)},e.prototype.removeChildren=function(){this.document.documentElement.removeChildren()},e.prototype.destroyChildren=function(){this.document.documentElement.destroyChildren()},e.prototype.render=function(t){var e=this;t&&(Ys.detail=t,Ks.detail=t),this.dispatchEvent(Ys),this.getRenderingService().render(this.getConfig(),t,(function(){e.dispatchEvent(Xs)})),this.dispatchEvent(Ks)},e.prototype.run=function(){var t=this,e=function(n,r){t.render(r),t.frameId=t.requestAnimationFrame(e)};e()},e.prototype.initRenderer=function(t,e){var n=this;if(void 0===e&&(e=!1),!t)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new Un,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new Vs,new Gs,new $s([new Ws])),this.loadRendererContainerModule(t),this.context.contextService=new this.context.ContextService(a(a({},us),this.context)),this.context.renderingService=new Qa(us,this.context),this.context.eventService=new Xa(us,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(t,e,!0)):this.context.contextService.initAsync().then((function(){n.initRenderingService(t,e)}))},e.prototype.initRenderingService=function(t,e,n){var r=this;void 0===e&&(e=!1),void 0===n&&(n=!1),this.context.renderingService.init((function(){r.inited=!0,e?n?r.requestAnimationFrame((function(){r.dispatchEvent(new Ua(bs.READY))})):r.dispatchEvent(new Ua(bs.READY)):r.dispatchEvent(new Ua(bs.RENDERER_CHANGED)),r.readyPromise&&r.resolveReadyPromise(),e||r.getRoot().forEach((function(t){var e=t.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0,e.dirty=!0)})),r.mountChildren(r.getRoot()),t.getConfig().enableAutoRendering&&r.run()}))},e.prototype.loadRendererContainerModule=function(t){var e=this;t.getPlugins().forEach((function(t){t.context=e.context,t.init(us)}))},e.prototype.setRenderer=function(t){var e=this.getConfig();if(e.renderer!==t){var n=e.renderer;e.renderer=t,this.destroy(!1,!0),h([],d(null===n||void 0===n?void 0:n.getPlugins()),!1).reverse().forEach((function(t){t.destroy(us)})),this.initRenderer(t)}},e.prototype.setCursor=function(t){this.getConfig().cursor=t,this.getContextService().applyCursorStyle(t)},e.prototype.unmountChildren=function(t){var e=this;t.childNodes.forEach((function(t){e.unmountChildren(t)})),this.inited&&(t.isMutationObserved?t.dispatchEvent(qs):(qs.target=t,this.dispatchEvent(qs,!0)),t!==this.document.documentElement&&(t.ownerDocument=null),t.isConnected=!1),t.isCustomElement&&t.disconnectedCallback&&t.disconnectedCallback()},e.prototype.mountChildren=function(t){var e=this;this.inited?t.isConnected||(t.ownerDocument=this.document,t.isConnected=!0,t.isMutationObserved?t.dispatchEvent(Us):(Us.target=t,this.dispatchEvent(Us,!0))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",t.nodeName),t.childNodes.forEach((function(t){e.mountChildren(t)})),t.isCustomElement&&t.connectedCallback&&t.connectedCallback()},e.prototype.client2Viewport=function(t){return this.getEventService().client2Viewport(t)},e.prototype.viewport2Client=function(t){return this.getEventService().viewport2Client(t)},e.prototype.viewport2Canvas=function(t){return this.getEventService().viewport2Canvas(t)},e.prototype.canvas2Viewport=function(t){return this.getEventService().canvas2Viewport(t)},e.prototype.getPointByClient=function(t,e){return this.client2Viewport({x:t,y:e})},e.prototype.getClientByPoint=function(t,e){return this.viewport2Client({x:t,y:e})},e}(qa),Qs=function(t){function e(){var e=t.apply(this,h([],d(arguments),!1))||this;return e.landmarks=[],e}return o(e,t),e.prototype.rotate=function(t,e,n){if(this.relElevation=Jn(e),this.relAzimuth=Jn(t),this.relRoll=Jn(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===gr.EXPLORING){var r=jt(Dt(),[1,0,0],er((this.rotateWorld?1:-1)*this.relElevation)),i=jt(Dt(),[0,1,0],er((this.rotateWorld?1:-1)*this.relAzimuth)),o=jt(Dt(),[0,0,1],er(this.relRoll)),a=zt(Dt(),i,r);a=zt(Dt(),a,o);var s=dt(I(),a);U(this.matrix,this.matrix,[0,0,-this.distance]),G(this.matrix,this.matrix,s),U(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===gr.ORBITING||this.type===gr.EXPLORING?this._getPosition():this.type===gr.TRACKING&&this._getFocalPoint(),this._update(),this},e.prototype.pan=function(t,e){var n=tr(t,e,0),r=y(this.position);return S(r,r,C(v(),this.right,n[0])),S(r,r,C(v(),this.up,n[1])),this._setPosition(r),this.triggerUpdate(),this},e.prototype.dolly=function(t){var e=this.forward,n=y(this.position),r=this.dollyingStep,i=this.distance+t*this.dollyingStep;return r=Math.max(Math.min(i,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*e[0],n[1]+=r*e[1],n[2]+=r*e[2],this._setPosition(n),this.type===gr.ORBITING||this.type===gr.EXPLORING?this._getDistance():this.type===gr.TRACKING&&S(this.focalPoint,n,this.distanceVector),this.triggerUpdate(),this},e.prototype.cancelLandmarkAnimation=function(){void 0!==this.landmarkAnimationID&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)},e.prototype.createLandmark=function(t,e){var n,r,i,o;void 0===e&&(e={});var a=e.position,s=void 0===a?this.position:a,l=e.focalPoint,c=void 0===l?this.focalPoint:l,u=e.roll,d=e.zoom,h=new us.CameraContribution;h.setType(this.type,void 0),h.setPosition(s[0],null!==(n=s[1])&&void 0!==n?n:this.position[1],null!==(r=s[2])&&void 0!==r?r:this.position[2]),h.setFocalPoint(c[0],null!==(i=c[1])&&void 0!==i?i:this.focalPoint[1],null!==(o=c[2])&&void 0!==o?o:this.focalPoint[2]),h.setRoll(null!==u&&void 0!==u?u:this.roll),h.setZoom(null!==d&&void 0!==d?d:this.zoom);var f={name:t,matrix:D(h.getWorldTransform()),right:y(h.right),up:y(h.up),forward:y(h.forward),position:y(h.getPosition()),focalPoint:y(h.getFocalPoint()),distanceVector:y(h.getDistanceVector()),distance:h.getDistance(),dollyingStep:h.getDollyingStep(),azimuth:h.getAzimuth(),elevation:h.getElevation(),roll:h.getRoll(),relAzimuth:h.relAzimuth,relElevation:h.relElevation,relRoll:h.relRoll,zoom:h.getZoom()};return this.landmarks.push(f),f},e.prototype.gotoLandmark=function(t,e){var n=this;void 0===e&&(e={});var r=Zt(t)?this.landmarks.find((function(e){return e.name===t})):t;if(r){var i=Yt(e)?{duration:e}:e,o=i.easing,a=void 0===o?"linear":o,s=i.duration,l=void 0===s?100:s,c=i.easingFunction,u=void 0===c?void 0:c,d=i.onfinish,h=void 0===d?void 0:d,f=i.onframe,p=void 0===f?void 0:f;this.cancelLandmarkAnimation();var g,m=r.position,y=r.focalPoint,b=r.zoom,x=r.roll,w=u||us.EasingFunction(a),E=function(){n.setFocalPoint(y),n.setPosition(m),n.setRoll(x),n.setZoom(b),n.computeMatrix(),n.triggerUpdate(),null===h||void 0===h||h()};if(0===l)return E();var S=function(t){void 0===g&&(g=t);var e=t-g;if(e>=l)E();else{var r,i,o=w(e/l),a=v(),s=v();if(T(a,n.focalPoint,y,o),T(s,n.position,m,o),i=n.roll*(1-o)+x*o,r=n.zoom*(1-o)+b*o,n.setFocalPoint(a),n.setPosition(s),n.setRoll(i),n.setZoom(r),_(a,y)+_(s,m)<=.01&&void 0==b&&void 0==x)return E();n.computeMatrix(),n.triggerUpdate(),e<l&&(null===p||void 0===p||p(o),n.landmarkAnimationID=n.canvas.requestAnimationFrame(S))}};this.canvas.requestAnimationFrame(S)}},e}(Tr);us.CameraContribution=Qs;var Js,tl,el=function(){function t(t,e){this.type=t,this.target=e,this.addedNodes=[],this.attributeName=null,this.attributeNamespace=null,this.nextSibling=null,this.oldValue=null,this.previousSibling=null,this.removedNodes=[]}return t.copy=function(e){var n=new t(e.type,e.target);return n.addedNodes=e.addedNodes.slice(),n.removedNodes=e.removedNodes.slice(),n.previousSibling=e.previousSibling,n.nextSibling=e.nextSibling,n.attributeName=e.attributeName,n.attributeNamespace=e.attributeNamespace,n.oldValue=e.oldValue,n},t}(),nl=0,rl=new WeakMap,il=function(){function t(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}return t.prototype.enqueue=function(t){var e,n=this.observer.records,r=n.length;if(n.length>0){var i=function(t,e){return t===e?t:tl&&function(t){return t===tl||t===Js}(t)?tl:null}(n[r-1],t);if(i)return void(n[r-1]=i)}else e=this.observer,ll.push(e),sl||(sl=!0,"undefined"!==typeof us.globalThis?us.globalThis.setTimeout(cl):cl());n[r]=t},t.prototype.addListeners=function(){this.addListeners_(this.target)},t.prototype.addListeners_=function(t){var e=this.options;e.attributes&&t.addEventListener(Za.ATTR_MODIFIED,this,!0),e.childList&&t.addEventListener(Za.INSERTED,this,!0),(e.childList||e.subtree)&&t.addEventListener(Za.REMOVED,this,!0)},t.prototype.removeListeners=function(){this.removeListeners_(this.target)},t.prototype.removeListeners_=function(t){var e=this.options;e.attributes&&t.removeEventListener(Za.ATTR_MODIFIED,this,!0),e.childList&&t.removeEventListener(Za.INSERTED,this,!0),(e.childList||e.subtree)&&t.removeEventListener(Za.REMOVED,this,!0)},t.prototype.removeTransientObservers=function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach((function(t){this.removeListeners_(t);for(var e=rl.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}}),this)},t.prototype.handleEvent=function(t){var e,n;switch(t.stopImmediatePropagation(),t.type){case Za.ATTR_MODIFIED:var r=t.attrName,i=t.relatedNode.namespaceURI;n=t.target,(e=ol("attributes",n)).attributeName=r,e.attributeNamespace=i;var o=t.attrChange===es.ADDITION?null:t.prevValue;al(n,(function(t){var n;if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||-1!==t.attributeFilter.indexOf(r)||-1!==t.attributeFilter.indexOf(i)))return t.attributeOldValue?(n=o,tl||((tl=el.copy(Js)).oldValue=n,tl)):e}));break;case Za.REMOVED:case Za.INSERTED:n=t.relatedNode;var a=t.target,s=void 0,l=void 0;t.type===Za.INSERTED?(s=[a],l=[]):(s=[],l=[a]);var c=a.previousSibling,u=a.nextSibling;(e=ol("childList",n)).addedNodes=s,e.removedNodes=l,e.previousSibling=c,e.nextSibling=u,al(n,(function(t){if(t.childList)return e}))}Js=tl=void 0},t}();!function(){function t(t){this.callback=t,this.nodes=[],this.records=[],this.uid=nl++}t.prototype.observe=function(t,e){if(!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var n,r=rl.get(t);r||rl.set(t,r=[]);for(var i=0;i<r.length;i++)if(r[i].observer===this){(n=r[i]).removeListeners(),n.options=e;break}n||(n=new il(this,t,e),r.push(n),this.nodes.push(t)),n.addListeners()},t.prototype.disconnect=function(){var t=this;this.nodes.forEach((function(e){for(var n=rl.get(e),r=0;r<n.length;r++){var i=n[r];if(i.observer===t){i.removeListeners(),n.splice(r,1);break}}}),this),this.records=[]},t.prototype.takeRecords=function(){var t=this.records;return this.records=[],t}}();function ol(t,e){return Js=new el(t,e)}function al(t,e){for(var n=t;n;n=n.parentNode){var r=rl.get(n);if(r)for(var i=0;i<r.length;i++){var o=r[i],a=o.options;if(n===t||a.subtree){var s=e(a);s&&o.enqueue(s)}}}}var sl=!1,ll=[];function cl(){sl=!1;var t=ll;ll=[],t.sort((function(t,e){return t.uid-e.uid}));var e=!1;t.forEach((function(t){var n=t.takeRecords();!function(t){t.nodes.forEach((function(e){var n=rl.get(e);n&&n.forEach((function(e){e.observer===t&&e.removeTransientObservers()}))}))}(t),n.length&&(t.callback(n,t),e=!0)})),e&&cl()}var ul=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.currentTime=r,o.timelineTime=i,o.target=n,o.type="finish",o.bubbles=!1,o.currentTarget=n,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=r,o.timelineTime=i,o}return o(e,t),e}(Va),dl=0,hl=function(){function t(t,e){var n;this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=t,t.animation=this,this.timeline=e,this.id="".concat(dl++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number(null===(n=this.effect)||void 0===n?void 0:n.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return Object.defineProperty(t.prototype,"pending",{get:function(){return null===this._startTime&&!this._paused&&0!==this.playbackRate||this.currentTimePending},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playState",{get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){var t=this;return this.readyPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise((function(e,n){t.resolveReadyPromise=function(){e(t)},t.rejectReadyPromise=function(){n(new Error)}})),this.pending||this.resolveReadyPromise()),this.readyPromise},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finished",{get:function(){var t=this;return this.finishedPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise((function(e,n){t.resolveFinishedPromise=function(){e(t)},t.rejectFinishedPromise=function(){n(new Error)}})),"finished"===this.playState&&this.resolveFinishedPromise()),this.finishedPromise},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(t){var e;t=Number(t),isNaN(t)||(this.timeline.restart(),this._paused||null===this._startTime||(this._startTime=Number(null===(e=this.timeline)||void 0===e?void 0:e.currentTime)-t/this.playbackRate),this.currentTimePending=!1,this._currentTime!==t&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(t,!0),this.timeline.applyDirtiedAnimation(this)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this._startTime},set:function(t){if(null!==t){if(this.updatePromises(),t=Number(t),isNaN(t))return;if(this._paused||this._idle)return;this._startTime=t,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){if(t!==this._playbackRate){this.updatePromises();var e=this.currentTime;this._playbackRate=t,this.startTime=null,"paused"!==this.playState&&"idle"!==this.playState&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),null!==e&&(this.currentTime=e),this.updatePromises()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_isFinished",{get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalDuration",{get:function(){return this._totalDuration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_needsTick",{get:function(){return this.pending||"running"===this.playState||!this._finishedFlag},enumerable:!1,configurable:!0}),t.prototype.updatePromises=function(){var t=this.oldPlayState,e=this.pending?"pending":this.playState;return this.readyPromise&&e!==t&&("idle"===e?(this.rejectReadyPromise(),this.readyPromise=void 0):"pending"===t?this.resolveReadyPromise():"pending"===e&&(this.readyPromise=void 0)),this.finishedPromise&&e!==t&&("idle"===e?(this.rejectFinishedPromise(),this.finishedPromise=void 0):"finished"===e?this.resolveFinishedPromise():"finished"===t&&(this.finishedPromise=void 0)),this.oldPlayState=e,this.readyPromise||this.finishedPromise},t.prototype.play=function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),-1===this.timeline.animations.indexOf(this)&&this.timeline.animations.push(this),this.updatePromises()},t.prototype.pause=function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._isFinished||this._paused||this._idle?this._idle&&(this.rewind(),this._idle=!1):this.currentTimePending=!0,this._startTime=null,this._paused=!0,this.updatePromises()},t.prototype.finish=function(){this.updatePromises(),this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())},t.prototype.cancel=function(){var t=this;if(this.updatePromises(),this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var e=new ul(null,this,this.currentTime,null);setTimeout((function(){t.oncancel(e)}))}},t.prototype.reverse=function(){this.updatePromises();var t=this.currentTime;this.playbackRate*=-1,this.play(),null!==t&&(this.currentTime=t),this.updatePromises()},t.prototype.updatePlaybackRate=function(t){this.playbackRate=t},t.prototype.targetAnimations=function(){var t;return(null===(t=this.effect)||void 0===t?void 0:t.target).getAnimations()},t.prototype.markTarget=function(){var t=this.targetAnimations();-1===t.indexOf(this)&&t.push(this)},t.prototype.unmarkTarget=function(){var t=this.targetAnimations(),e=t.indexOf(this);-1!==e&&t.splice(e,1)},t.prototype.tick=function(t,e){this._idle||this._paused||(null===this._startTime?e&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((t-this._startTime)*this.playbackRate)),e&&(this.currentTimePending=!1,this.fireEvents(t))},t.prototype.rewind=function(){if(this.playbackRate>=0)this.currentTime=0;else{if(!(this._totalDuration<1/0))throw new Error("Unable to rewind negative playback rate animation with infinite duration");this.currentTime=this._totalDuration}},t.prototype.persist=function(){throw new Error(wr)},t.prototype.addEventListener=function(t,e,n){throw new Error(wr)},t.prototype.removeEventListener=function(t,e,n){throw new Error(wr)},t.prototype.dispatchEvent=function(t){throw new Error(wr)},t.prototype.commitStyles=function(){throw new Error(wr)},t.prototype.ensureAlive=function(){var t,e;this.playbackRate<0&&0===this.currentTime?this._inEffect=!!(null===(t=this.effect)||void 0===t?void 0:t.update(-1)):this._inEffect=!!(null===(e=this.effect)||void 0===e?void 0:e.update(this.currentTime)),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,this.timeline.animations.push(this))},t.prototype.tickCurrentTime=function(t,e){t!==this._currentTime&&(this._currentTime=t,this._isFinished&&!e&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())},t.prototype.fireEvents=function(t){var e=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var n=new ul(null,this,this.currentTime,t);setTimeout((function(){e.onfinish&&e.onfinish(n)}))}this._finishedFlag=!0}}else{if(this.onframe&&"running"===this.playState){var r=new ul(null,this,this.currentTime,t);this.onframe(r)}this._finishedFlag=!1}},t}(),fl=.1,pl="function"===typeof Float32Array,gl=function(t,e){return 1-3*e+3*t},ml=function(t,e){return 3*e-6*t},vl=function(t){return 3*t},yl=function(t,e,n){return((gl(e,n)*t+ml(e,n))*t+vl(e))*t},bl=function(t,e,n){return 3*gl(e,n)*t*t+2*ml(e,n)*t+vl(e)},xl=function(t,e,n,r){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&n===r)return function(t){return t};for(var i=pl?new Float32Array(11):new Array(11),o=0;o<11;++o)i[o]=yl(o*fl,t,n);var a=function(e){for(var r=0,o=1;10!==o&&i[o]<=e;++o)r+=fl;--o;var a=r+(e-i[o])/(i[o+1]-i[o])*fl,s=bl(a,t,n);return s>=.001?function(t,e,n,r){for(var i=0;i<4;++i){var o=bl(e,n,r);if(0===o)return e;e-=(yl(e,n,r)-t)/o}return e}(e,a,t,n):0===s?a:function(t,e,n,r,i){var o,a,s=0;do{(o=yl(a=e+(n-e)/2,r,i)-t)>0?n=a:e=a}while(Math.abs(o)>1e-7&&++s<10);return a}(e,r,r+fl,t,n)};return function(t){return 0===t||1===t?t:yl(a(t),e,r)}},wl=function(t){return Math.pow(t,2)},El=function(t){return Math.pow(t,3)},Sl=function(t){return Math.pow(t,4)},kl=function(t){return Math.pow(t,5)},Ml=function(t){return Math.pow(t,6)},Cl=function(t){return 1-Math.cos(t*Math.PI/2)},Nl=function(t){return 1-Math.sqrt(1-t*t)},Ol=function(t){return t*t*(3*t-2)},Pl=function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)},Tl=function(t,e){void 0===e&&(e=[]);var n=d(e,2),r=n[0],i=void 0===r?1:r,o=n[1],a=void 0===o?.5:o,s=Qt(Number(i),1,10),l=Qt(Number(a),.1,2);return 0===t||1===t?t:-s*Math.pow(2,10*(t-1))*Math.sin((t-1-l/(2*Math.PI)*Math.asin(1/s))*(2*Math.PI)/l)},Al=function(t,e,n){void 0===e&&(e=[]);var r=d(e,4),i=r[0],o=void 0===i?1:i,a=r[1],s=void 0===a?100:a,l=r[2],c=void 0===l?10:l,u=r[3],h=void 0===u?0:u;o=Qt(o,.1,1e3),s=Qt(s,.1,1e3),c=Qt(c,.1,1e3),h=Qt(h,.1,1e3);var f=Math.sqrt(s/o),p=c/(2*Math.sqrt(s*o)),g=p<1?f*Math.sqrt(1-p*p):0,m=p<1?(p*f-h)/g:-h+f,v=n?n*t/1e3:t;return v=p<1?Math.exp(-v*p*f)*(1*Math.cos(g*v)+m*Math.sin(g*v)):(1+m*v)*Math.exp(-v*f),0===t||1===t?t:1-v},Rl=function(t,e){void 0===e&&(e=[]);var n=d(e,2),r=n[0],i=void 0===r?10:r;return("start"==n[1]?Math.ceil:Math.floor)(Qt(t,0,1)*i)/i},_l=function(t,e){void 0===e&&(e=[]);var n=d(e,4),r=n[0],i=n[1],o=n[2],a=n[3];return xl(r,i,o,a)(t)},Ll=xl(.42,0,1,1),Il=function(t){return function(e,n,r){return void 0===n&&(n=[]),1-t(1-e,n,r)}},Dl=function(t){return function(e,n,r){return void 0===n&&(n=[]),e<.5?t(2*e,n,r)/2:1-t(-2*e+2,n,r)/2}},jl=function(t){return function(e,n,r){return void 0===n&&(n=[]),e<.5?(1-t(1-2*e,n,r))/2:(t(2*e-1,n,r)+1)/2}},zl={steps:Rl,"step-start":function(t){return Rl(t,[1,"start"])},"step-end":function(t){return Rl(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":_l,ease:function(t){return _l(t,[.25,.1,.25,1])},in:Ll,out:Il(Ll),"in-out":Dl(Ll),"out-in":jl(Ll),"in-quad":wl,"out-quad":Il(wl),"in-out-quad":Dl(wl),"out-in-quad":jl(wl),"in-cubic":El,"out-cubic":Il(El),"in-out-cubic":Dl(El),"out-in-cubic":jl(El),"in-quart":Sl,"out-quart":Il(Sl),"in-out-quart":Dl(Sl),"out-in-quart":jl(Sl),"in-quint":kl,"out-quint":Il(kl),"in-out-quint":Dl(kl),"out-in-quint":jl(kl),"in-expo":Ml,"out-expo":Il(Ml),"in-out-expo":Dl(Ml),"out-in-expo":jl(Ml),"in-sine":Cl,"out-sine":Il(Cl),"in-out-sine":Dl(Cl),"out-in-sine":jl(Cl),"in-circ":Nl,"out-circ":Il(Nl),"in-out-circ":Dl(Nl),"out-in-circ":jl(Nl),"in-back":Ol,"out-back":Il(Ol),"in-out-back":Dl(Ol),"out-in-back":jl(Ol),"in-bounce":Pl,"out-bounce":Il(Pl),"in-out-bounce":Dl(Pl),"out-in-bounce":jl(Pl),"in-elastic":Tl,"out-elastic":Il(Tl),"in-out-elastic":Dl(Tl),"out-in-elastic":jl(Tl),spring:Al,"spring-in":Al,"spring-out":Il(Al),"spring-in-out":Dl(Al),"spring-out-in":jl(Al)},Fl=function(t){return zl[function(t){return function(t){return"-"===(t=t.replace(/([A-Z])/g,(function(t){return"-".concat(t.toLowerCase())}))).charAt(0)?t.substring(1):t}(t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()}(t)]||zl.linear},Bl=function(t){return t},$l=1,Vl=.5,Hl=0;function Wl(t,e){return function(n){if(n>=1)return 1;var r=1/t;return(n+=e*r)-n%r}}var Gl="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",Ul=new RegExp("cubic-bezier\\("+Gl+","+Gl+","+Gl+","+Gl+"\\)"),ql=/steps\(\s*(\d+)\s*\)/,Yl=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function Xl(t){var e=Ul.exec(t);if(e)return xl.apply(void 0,h([],d(e.slice(1).map(Number)),!1));var n=ql.exec(t);if(n)return Wl(Number(n[1]),Hl);var r=Yl.exec(t);return r?Wl(Number(r[1]),{start:$l,middle:Vl,end:Hl}[r[2]]):Fl(t)}function Kl(t){return Math.abs(function(t){var e;if(0===t.duration||0===t.iterations)return 0;return("auto"===t.duration?0:Number(t.duration))*(null!==(e=t.iterations)&&void 0!==e?e:1)}(t)/(t.playbackRate||1))}var Zl=0,Ql=1,Jl=2,tc=3;function ec(t,e,n){var r=function(t,e,n){if(null===e)return Zl;var r=n.endTime;return e<Math.min(n.delay,r)?Ql:e>=Math.min(n.delay+t+n.endDelay,r)?Jl:tc}(t,e,n),i=function(t,e,n,r,i){switch(r){case Ql:return"backwards"===e||"both"===e?0:null;case tc:return n-i;case Jl:return"forwards"===e||"both"===e?t:null;case Zl:return null}}(t,n.fill,e,r,n.delay);if(null===i)return null;var o="auto"===n.duration?0:n.duration,a=function(t,e,n,r,i){var o=i;return 0===t?e!==Ql&&(o+=n):o+=r/t,o}(o,r,n.iterations,i,n.iterationStart),s=function(t,e,n,r,i,o){var a=t===1/0?e%1:t%1;return 0!==a||n!==Jl||0===r||0===i&&0!==o||(a=1),a}(a,n.iterationStart,r,n.iterations,i,o),l=function(t,e,n,r){return t===Jl&&e===1/0?1/0:1===n?Math.floor(r)-1:Math.floor(r)}(r,n.iterations,s,a),c=function(t,e,n){var r=t;if("normal"!==t&&"reverse"!==t){var i=e;"alternate-reverse"===t&&(i+=1),r="normal",i!==1/0&&i%2!==0&&(r="reverse")}return"normal"===r?n:1-n}(n.direction,l,s);return n.currentIteration=l,n.progress=c,n.easingFunction(c)}function nc(t,e,n){var r=function(t,e){for(var n={},r=0;r<t.length;r++)for(var i in t[r])if(rc(i)){var o={offset:t[r].offset,computedOffset:t[r].computedOffset,easing:t[r].easing,easingFunction:Xl(t[r].easing)||e.easingFunction,value:t[r][i]};n[i]=n[i]||[],n[i].push(o)}return n}(t,e),i=function(t,e){var n=[];for(var r in t)for(var i=t[r],o=0;o<i.length-1;o++){var a=o,s=o+1,l=i[a].computedOffset,c=i[s].computedOffset,u=l,d=c;0===o&&(u=-1/0,0===c&&(s=a)),o===i.length-2&&(d=1/0,1===l&&(a=s)),n.push({applyFrom:u,applyTo:d,startOffset:i[a].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[a].easingFunction,property:r,interpolation:oc(r,i[a].value,i[s].value,e)})}return n.sort((function(t,e){return t.startOffset-e.startOffset})),n}(r,n);return function(t,e){if(null!==e)i.filter((function(t){return e>=t.applyFrom&&e<t.applyTo})).forEach((function(n){var r=e-n.startOffset,i=n.endOffset-n.startOffset,o=0===i?0:r/i;t.setAttribute(n.property,n.interpolation(o),!1,!1)}));else for(var n in r)rc(n)&&t.setAttribute(n,null)}}function rc(t){return"offset"!==t&&"easing"!==t&&"composite"!==t&&"computedOffset"!==t}var ic=function(t,e,n){return function(r){var i=ac(t,e,r);return!us.enableCSSParsing&&Yt(i)?i:n(i)}};function oc(t,e,n,r){var i=Ao[t];if(i&&i.syntax&&i.int){var o=us.styleValueRegistry.getPropertySyntax(i.syntax);if(o){var a=void 0,s=void 0;if(us.enableCSSParsing){var l=us.styleValueRegistry.parseProperty(t,e,r,!1),c=us.styleValueRegistry.parseProperty(t,n,r,!1);a=us.styleValueRegistry.computeProperty(t,l,r,!1),s=us.styleValueRegistry.computeProperty(t,c,r,!1)}else{var u=o.parserWithCSSDisabled;a=u?u(e,r):e,s=u?u(n,r):n}var f=o.mixer(a,s,r);if(f){var p=ic.apply(void 0,h([],d(f),!1));return function(t){return 0===t?e:1===t?n:p(t)}}}}return ic(!1,!0,(function(t){return t?n:e}))}function ac(t,e,n){if("number"===typeof t&&"number"===typeof e)return t*(1-n)+e*n;if("boolean"===typeof t&&"boolean"===typeof e||"string"===typeof t&&"string"===typeof e)return n<.5?t:e;if(Array.isArray(t)&&Array.isArray(e)){for(var r=t.length,i=e.length,o=Math.max(r,i),a=[],s=0;s<o;s++)a.push(ac(t[s<r?s:r-1],e[s<i?s:i-1],n));return a}throw new Error("Mismatched interpolation arguments "+t+":"+e)}var sc=function(){function t(){this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=Bl,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return Object.defineProperty(t.prototype,"easing",{get:function(){return this._easing},set:function(t){this.easingFunction=Xl(t),this._easing=t},enumerable:!1,configurable:!0}),t}();function lc(t,e){if(null===t)return[];Array.isArray(t)||(t=function(t){var e=[];for(var n in t)if(!(n in["easing","offset","composite"])){var r=t[n];Array.isArray(r)||(r=[r]);for(var i=r.length,o=0;o<i;o++){if(!e[o]){var a={};"offset"in t&&(a.offset=Number(t.offset)),"easing"in t&&(a.easing=t.easing),"composite"in t&&(a.composite=t.composite),e[o]=a}void 0!==r[o]&&null!==r[o]&&(e[o][n]=r[o])}}return e.sort((function(t,e){return(t.computedOffset||0)-(e.computedOffset||0)})),e}(t));for(var n=t.map((function(t){var n={};for(var r in(null===e||void 0===e?void 0:e.composite)&&(n.composite="auto"),t){var i=t[r];if("offset"===r){if(null!==i){if(i=Number(i),!isFinite(i))throw new Error("Keyframe offsets must be numbers.");if(i<0||i>1)throw new Error("Keyframe offsets must be between 0 and 1.");n.computedOffset=i}}else if("composite"===r&&-1===["replace","add","accumulate","auto"].indexOf(i))throw new Error("".concat(i," compositing is not supported"));n[r]=i}return void 0===n.offset&&(n.offset=null),void 0===n.easing&&(n.easing=(null===e||void 0===e?void 0:e.easing)||"linear"),void 0===n.composite&&(n.composite="auto"),n})),r=!0,i=-1/0,o=0;o<n.length;o++){var a=n[o].offset;if(Kt(a))r=!1;else{if(a<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=a}}return n=n.filter((function(t){return Number(t.offset)>=0&&Number(t.offset)<=1})),r||function(){var t,e,r=n.length;n[r-1].computedOffset=Number(null!==(t=n[r-1].offset)&&void 0!==t?t:1),r>1&&(n[0].computedOffset=Number(null!==(e=n[0].offset)&&void 0!==e?e:0));for(var i=0,o=Number(n[0].computedOffset),a=1;a<r;a++){var s=n[a].computedOffset;if(!Kt(s)&&!Kt(o)){for(var l=1;l<a-i;l++)n[i+l].computedOffset=o+(Number(s)-o)*l/(a-i);i=a,o=Number(s)}}}(),n}var cc="backwards|forwards|both|none".split("|"),uc="reverse|alternate|alternate-reverse".split("|");function dc(t,e){return function(t,e){var n=new sc;return e&&(n.fill="both",n.duration="auto"),"number"!==typeof t||isNaN(t)?void 0!==t&&Object.keys(t).forEach((function(e){if(void 0!==t[e]&&null!==t[e]&&"auto"!==t[e]){if(("number"===typeof n[e]||"duration"===e)&&("number"!==typeof t[e]||isNaN(t[e])))return;if("fill"===e&&-1===cc.indexOf(t[e]))return;if("direction"===e&&-1===uc.indexOf(t[e]))return;n[e]=t[e]}})):n.duration=t,n}(t=function(t){"number"===typeof t&&(t=isNaN(t)?{duration:"auto"}:{duration:t});return t}(null!==t&&void 0!==t?t:{duration:"auto"}),e)}var hc=function(){function t(t,e,n){var r=this;this.composite="replace",this.iterationComposite="replace",this.target=t,this.timing=dc(n,!1),this.timing.effect=this,this.timing.activeDuration=Kl(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=lc(e,this.timing),this.interpolations=nc(this.normalizedKeyframes,this.timing,this.target);var i=us.globalThis.Proxy;this.computedTiming=i?new i(this.timing,{get:function(t,e){return"duration"===e?"auto"===t.duration?0:t.duration:"fill"===e?"auto"===t.fill?"none":t.fill:"localTime"===e?r.animation&&r.animation.currentTime||null:"currentIteration"===e?r.animation&&"running"===r.animation.playState?t.currentIteration||0:null:"progress"===e?r.animation&&"running"===r.animation.playState?t.progress||0:null:t[e]},set:function(){return!0}}):this.timing}return t.prototype.applyInterpolations=function(){this.interpolations(this.target,Number(this.timeFraction))},t.prototype.update=function(t){return null!==t&&(this.timeFraction=ec(this.timing.activeDuration,t,this.timing),null!==this.timeFraction)},t.prototype.getKeyframes=function(){return this.normalizedKeyframes},t.prototype.setKeyframes=function(t){this.normalizedKeyframes=lc(t)},t.prototype.getComputedTiming=function(){return this.computedTiming},t.prototype.getTiming=function(){return this.timing},t.prototype.updateTiming=function(t){var e=this;Object.keys(t||{}).forEach((function(n){e.timing[n]=t[n]}))},t}();function fc(t,e){return Number(t.id)-Number(e.id)}var pc=function(){function t(t){var e=this;this.document=t,this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(t){e.currentTime=t,e.discardAnimations(),0===e.animations.length?e.timelineTicking=!1:e.requestAnimationFrame(e.webAnimationsNextTick)},this.processRafCallbacks=function(t){var n=e.rafCallbacks;e.rafCallbacks=[],t<Number(e.currentTime)&&(t=Number(e.currentTime)),e.animations.sort(fc),e.animations=e.tick(t,!0,e.animations)[0],n.forEach((function(e){e[1](t)})),e.applyPendingEffects()}}return t.prototype.getAnimations=function(){return this.discardAnimations(),this.animations.slice()},t.prototype.isTicking=function(){return this.inTick},t.prototype.play=function(t,e,n){var r=new hc(t,e,n),i=new hl(r,this);return this.animations.push(i),this.restartWebAnimationsNextTick(),i.updatePromises(),i.play(),i.updatePromises(),i},t.prototype.applyDirtiedAnimation=function(t){var e=this;if(!this.inTick){t.markTarget();var n=t.targetAnimations();n.sort(fc),this.tick(Number(this.currentTime),!1,n.slice())[1].forEach((function(t){var n=e.animations.indexOf(t);-1!==n&&e.animations.splice(n,1)})),this.applyPendingEffects()}},t.prototype.restart=function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame((function(){})),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame},t.prototype.destroy=function(){this.document.defaultView.cancelAnimationFrame(this.frameId)},t.prototype.applyPendingEffects=function(){this.pendingEffects.forEach((function(t){null===t||void 0===t||t.applyInterpolations()})),this.pendingEffects=[]},t.prototype.updateAnimationsPromises=function(){this.animationsWithPromises=this.animationsWithPromises.filter((function(t){return t.updatePromises()}))},t.prototype.discardAnimations=function(){this.updateAnimationsPromises(),this.animations=this.animations.filter((function(t){return"finished"!==t.playState&&"idle"!==t.playState}))},t.prototype.restartWebAnimationsNextTick=function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))},t.prototype.rAF=function(t){var e=this.rafId++;return 0===this.rafCallbacks.length&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([e,t]),e},t.prototype.requestAnimationFrame=function(t){var e=this;return this.rAF((function(n){e.updateAnimationsPromises(),t(n),e.updateAnimationsPromises()}))},t.prototype.tick=function(t,e,n){var r,i,o=this;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=t,this.ticking=!1;var a=[],s=[],l=[],c=[];return n.forEach((function(n){n.tick(t,e),n._inEffect?(s.push(n.effect),n.markTarget()):(a.push(n.effect),n.unmarkTarget()),n._needsTick&&(o.ticking=!0);var r=n._inEffect||n._needsTick;n._inTimeline=r,r?l.push(n):c.push(n)})),(r=this.pendingEffects).push.apply(r,h([],d(a),!1)),(i=this.pendingEffects).push.apply(i,h([],d(s),!1)),this.ticking&&this.requestAnimationFrame((function(){})),this.inTick=!1,[l,c]},t}();us.EasingFunction=Xl,us.AnimationTimeline=pc;const gc=function(t){return Kt(t)?"":t.toString()};const mc=function(t){var e=gc(t);return e.charAt(0).toUpperCase()+e.substring(1)};const vc=function(t){return"object"===typeof t&&null!==t};const yc=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)};var bc=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Zt(t)||Zt(e))return!1;if(yc(t)||yc(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=bc(t[r],e[r]));r++);return n}if(vc(t)||vc(e)){var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(n=!0,r=0;r<i.length&&(n=bc(t[i[r]],e[i[r]]));r++);return n}return!1};const xc=bc,wc={duration:500},Ec={duration:1e3,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",iterations:1,fill:"both"};var Sc,kc,Mc,Cc,Nc,Oc,Pc,Tc,Ac,Rc;!function(t){t.NodeAdded="NodeAdded",t.NodeUpdated="NodeUpdated",t.NodeRemoved="NodeRemoved",t.EdgeAdded="EdgeAdded",t.EdgeUpdated="EdgeUpdated",t.EdgeRemoved="EdgeRemoved",t.ComboAdded="ComboAdded",t.ComboUpdated="ComboUpdated",t.ComboRemoved="ComboRemoved"}(Sc||(Sc={})),function(t){t.DRAW="draw",t.COLLAPSE="collapse",t.EXPAND="expand",t.TRANSFORM="transform"}(kc||(kc={})),function(t){t.CLICK="canvas:click",t.DBLCLICK="canvas:dblclick",t.POINTER_OVER="canvas:pointerover",t.POINTER_LEAVE="canvas:pointerleave",t.POINTER_ENTER="canvas:pointerenter",t.POINTER_MOVE="canvas:pointermove",t.POINTER_OUT="canvas:pointerout",t.POINTER_DOWN="canvas:pointerdown",t.POINTER_UP="canvas:pointerup",t.CONTEXT_MENU="canvas:contextmenu",t.DRAG_START="canvas:dragstart",t.DRAG="canvas:drag",t.DRAG_END="canvas:dragend",t.DRAG_ENTER="canvas:dragenter",t.DRAG_OVER="canvas:dragover",t.DRAG_LEAVE="canvas:dragleave",t.DROP="canvas:drop",t.WHEEL="canvas:wheel"}(Mc||(Mc={})),function(t){t.CLICK="combo:click",t.DBLCLICK="combo:dblclick",t.POINTER_OVER="combo:pointerover",t.POINTER_LEAVE="combo:pointerleave",t.POINTER_ENTER="combo:pointerenter",t.POINTER_MOVE="combo:pointermove",t.POINTER_OUT="combo:pointerout",t.POINTER_DOWN="combo:pointerdown",t.POINTER_UP="combo:pointerup",t.CONTEXT_MENU="combo:contextmenu",t.DRAG_START="combo:dragstart",t.DRAG="combo:drag",t.DRAG_END="combo:dragend",t.DRAG_ENTER="combo:dragenter",t.DRAG_OVER="combo:dragover",t.DRAG_LEAVE="combo:dragleave",t.DROP="combo:drop"}(Cc||(Cc={})),function(t){t.CLICK="click",t.DBLCLICK="dblclick",t.POINTER_OVER="pointerover",t.POINTER_LEAVE="pointerleave",t.POINTER_ENTER="pointerenter",t.POINTER_MOVE="pointermove",t.POINTER_OUT="pointerout",t.POINTER_DOWN="pointerdown",t.POINTER_UP="pointerup",t.CONTEXT_MENU="contextmenu",t.DRAG_START="dragstart",t.DRAG="drag",t.DRAG_END="dragend",t.DRAG_ENTER="dragenter",t.DRAG_OVER="dragover",t.DRAG_LEAVE="dragleave",t.DROP="drop",t.KEY_DOWN="keydown",t.KEY_UP="keyup",t.WHEEL="wheel"}(Nc||(Nc={})),function(t){t.KEY_DOWN="keydown",t.KEY_UP="keyup"}(Oc||(Oc={})),function(t){t.CLICK="edge:click",t.DBLCLICK="edge:dblclick",t.POINTER_OVER="edge:pointerover",t.POINTER_LEAVE="edge:pointerleave",t.POINTER_ENTER="edge:pointerenter",t.POINTER_MOVE="edge:pointermove",t.POINTER_OUT="edge:pointerout",t.POINTER_DOWN="edge:pointerdown",t.POINTER_UP="edge:pointerup",t.CONTEXT_MENU="edge:contextmenu",t.DRAG_ENTER="edge:dragenter",t.DRAG_OVER="edge:dragover",t.DRAG_LEAVE="edge:dragleave",t.DROP="edge:drop"}(Pc||(Pc={})),function(t){t.BEFORE_CANVAS_INIT="beforecanvasinit",t.AFTER_CANVAS_INIT="aftercanvasinit",t.BEFORE_SIZE_CHANGE="beforesizechange",t.AFTER_SIZE_CHANGE="aftersizechange",t.BEFORE_ELEMENT_CREATE="beforeelementcreate",t.AFTER_ELEMENT_CREATE="afterelementcreate",t.BEFORE_ELEMENT_UPDATE="beforeelementupdate",t.AFTER_ELEMENT_UPDATE="afterelementupdate",t.BEFORE_ELEMENT_DESTROY="beforeelementdestroy",t.AFTER_ELEMENT_DESTROY="afterelementdestroy",t.BEFORE_ELEMENT_TRANSLATE="beforeelementtranslate",t.AFTER_ELEMENT_TRANSLATE="afterelementtranslate",t.BEFORE_DRAW="beforedraw",t.AFTER_DRAW="afterdraw",t.BEFORE_RENDER="beforerender",t.AFTER_RENDER="afterrender",t.BEFORE_ANIMATE="beforeanimate",t.AFTER_ANIMATE="afteranimate",t.BEFORE_LAYOUT="beforelayout",t.AFTER_LAYOUT="afterlayout",t.BEFORE_STAGE_LAYOUT="beforestagelayout",t.AFTER_STAGE_LAYOUT="afterstagelayout",t.BEFORE_TRANSFORM="beforetransform",t.AFTER_TRANSFORM="aftertransform",t.BATCH_START="batchstart",t.BATCH_END="batchend",t.BEFORE_DESTROY="beforedestroy",t.AFTER_DESTROY="afterdestroy",t.BEFORE_RENDERER_CHANGE="beforerendererchange",t.AFTER_RENDERER_CHANGE="afterrendererchange"}(Tc||(Tc={})),function(t){t.UNDO="undo",t.REDO="redo",t.CANCEL="cancel",t.ADD="add",t.CLEAR="clear",t.CHANGE="change"}(Ac||(Ac={})),function(t){t.CLICK="node:click",t.DBLCLICK="node:dblclick",t.POINTER_OVER="node:pointerover",t.POINTER_LEAVE="node:pointerleave",t.POINTER_ENTER="node:pointerenter",t.POINTER_MOVE="node:pointermove",t.POINTER_OUT="node:pointerout",t.POINTER_DOWN="node:pointerdown",t.POINTER_UP="node:pointerup",t.CONTEXT_MENU="node:contextmenu",t.DRAG_START="node:dragstart",t.DRAG="node:drag",t.DRAG_END="node:dragend",t.DRAG_ENTER="node:dragenter",t.DRAG_OVER="node:dragover",t.DRAG_LEAVE="node:dragleave",t.DROP="node:drop"}(Rc||(Rc={}));const _c="combo",Lc="tree";var Ic;!function(t){t.NODE="node",t.EDGE="edge",t.COMBO="combo",t.THEME="theme",t.PALETTE="palette",t.LAYOUT="layout",t.BEHAVIOR="behavior",t.PLUGIN="plugin",t.ANIMATION="animation",t.TRANSFORM="transform",t.SHAPE="shape"}(Ic||(Ic={}));const Dc={animation:{},behavior:{},combo:{},edge:{},layout:{},node:{},palette:{},theme:{},plugin:{},transform:{},shape:{}};function jc(t,e){const n=Dc[t]?.[e];if(n)return n}const zc="5.0.21",Fc="G6";function Bc(t){return`[${Fc} v${zc}] ${t}`}const $c={mute:!1,debug:t=>{!$c.mute&&console.debug(Bc(t))},info:t=>{!$c.mute&&console.info(Bc(t))},warn:t=>{!$c.mute&&console.warn(Bc(t))},error:t=>{!$c.mute&&console.error(Bc(t))}};function Vc(t){const{theme:e}=t;if(!e)return{};const n=jc(Ic.THEME,e);return n||($c.warn(`The theme of ${e} is not registered.`),{})}function Hc(t,e){if(Array.isArray(t)&&0===t.length)return null;const n=Array.isArray(t)?t[0]:t,r=Array.isArray(t)?t.slice(1):e||[];return new Proxy(n,{get:(t,e)=>"function"!==typeof t[e]||["onframe","onfinish"].includes(e)?"finished"===e?Promise.all([n.finished,...r.map((t=>t.finished))]):Reflect.get(t,e):function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];t[e](...i),r.forEach((t=>t[e]?.(...i)))},set:(t,e,n)=>(["onframe","onfinish"].includes(e)||r.forEach((t=>{t[e]=n})),Reflect.set(t,e,n))})}function Wc(t){const e=t.reduce(((t,e)=>(Object.entries(e).forEach((e=>{let[n,r]=e;void 0===t[n]?t[n]=[r]:t[n].push(r)})),t)),{});Object.entries(e).forEach((n=>{let[r,i]=n;(i.length!==t.length||i.some((t=>Kt(t)))||i.every((t=>!["sourceNode","targetNode","childrenNode"].includes(r)&&xc(t,i[0]))))&&delete e[r]}));const n=Object.entries(e).reduce(((t,e)=>{let[n,r]=e;return r.forEach(((e,r)=>{t[r]?t[r][n]=e:t[r]={[n]:e}})),t}),[]);return 0!==t.length&&0===n.length&&n.push({_:0},{_:0}),n}function Gc(t){switch(t){case"opacity":return 1;case"x":case"y":case"z":case"zIndex":return 0;case"visibility":return"visible";case"collapsed":return!1;case"states":return[];default:return}}function Uc(t,e){const{animation:n}=t;if(!1===n||!1===e)return!1;const r={...wc};return He(n)&&Object.assign(r,n),He(e)&&Object.assign(r,e),r}function qc(t,e,n,r){const{animation:i}=t,o=t?.[e]?.animation;if(!1===o)return[];const a=o?.[n];if(!1===a)return[];if(!1===i||!1===r)return[];const s=Vc(t)[e]?.animation,l=function(){return function(t){if("string"===typeof t){return jc(Ic.ANIMATION,t)||($c.warn(`The animation of ${t} is not registered.`),[])}return t}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((t=>({...Ec,...He(i)&&i,...t,...He(r)&&r})))};if(a)return l(a);if(!s)return[];const c=s[n];return!1===c?[]:l(c)}const Yc=function(t){if(!vc(t)||!qt(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};function Xc(t,e){if(Object.hasOwn)return Object.hasOwn(t,e);if(null==t)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)}function Kc(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(Xc(e,i)){var o=e[i];null!==o&&Yc(o)?(Yc(t[i])||(t[i]={}),n<r?Kc(t[i],o,n+1,r):t[i]=e[i]):Me(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}const Zc=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)Kc(t,e[r]);return t};function Qc(t){if(void 0!==t.id)return t.id;if(void 0!==t.source&&void 0!==t.target)return`${t.source}-${t.target}`;throw new Error(Bc("The datum does not have available id."))}function Jc(t){return t.combo}function tu(t,e){const n={nodes:(t.nodes||[]).map(Qc),edges:(t.edges||[]).map(Qc),combos:(t.combos||[]).map(Qc)};return e?Object.values(n).flat():n}function eu(t,e,n,r){const i=r?r.replace(/translate(3d)?\([^)]*\)/g,""):"";return 0===n?`translate(${t}, ${e})${i}`:`translate3d(${t}, ${e}, ${n})${i}`}const nu=function(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=Qc(r),a=`${n}s`,s=t.add[a].get(o)||t.update[a].get(o)||t.remove[a].get(o)||r;Object.entries(t).forEach((t=>{let[n,l]=t;e===n?l[a].set(o,i?Zc(s,r):s):l[a].delete(o)}))},ru=(t,e,n)=>{if(!n.length)return null;const[r,i]=e;let o;const a=n.map((e=>{let{fields:n,shape:a,states:s,...l}=e;const c=(e=>{if(e){const n=t.getShape(e);if(!n)return null;const o=`get${mc(e)}Style`,a=t?.[o]?.bind(t)||(t=>t);return{shape:n,fromStyle:a?.(r)||{},toStyle:a?.(i)||{}}}return{shape:t,fromStyle:r,toStyle:i}})(a);if(!c)return null;const{shape:u,fromStyle:d,toStyle:h}=c,f=[{},{}];if(n.forEach((t=>{Object.assign(f[0],{[t]:d[t]??Gc(t)}),Object.assign(f[1],{[t]:h[t]??Gc(t)})})),f.some((t=>Object.keys(t).some((t=>["x","y","z"].includes(t)))))){const{x:t=0,y:e=0,z:n=0,transform:r=""}=u.attributes||{};f.forEach((i=>{i.transform=eu(i.x||t,i.y||e,i.z||n,r)}))}const p=u.animate(Wc(f),l);return void 0===a&&(o=p),p})).filter(Boolean),s=o||a?.[0];return s?Hc(s,a.filter((t=>t!==t))):null},iu=[{fields:["x","y"]}],ou=iu,au=[{fields:["sourceNode","targetNode"]}],su=au,lu=[{fields:["childrenNode","x","y"]}],cu=lu;function uu(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xc;const i=new Map(t.map((t=>[n(t),t]))),o=new Map(e.map((t=>[n(t),t]))),a=new Set(i.keys()),s=new Set(o.keys()),l=[],c=[],u=[],d=[];return s.forEach((t=>{a.has(t)?r(i.get(t),o.get(t))?d.push(o.get(t)):c.push(o.get(t)):l.push(o.get(t))})),a.forEach((t=>{s.has(t)||u.push(i.get(t))})),{enter:l,exit:u,keep:d,update:c}}class du{context;extensions=[];extensionMap={};constructor(t){this.context=t}setExtensions(t){const e=function(t,e,n){const r={},i=t=>(t in r||(r[t]=0),`${e}-${t}-${r[t]++}`);return n.map((e=>"string"===typeof e?{type:e,key:i(e)}:"function"===typeof e?e.call(t):e.key?e:{...e,key:i(e.type)}))}(this.context.graph,this.category,t),{enter:n,update:r,exit:i,keep:o}=uu(this.extensions,e,(t=>t.key));this.createExtensions(n),this.updateExtensions([...r,...o]),this.destroyExtensions(i),this.extensions=e}createExtension(t){const{category:e}=this,{key:n,type:r}=t,i=jc(e,r);if(!i)return $c.warn(`The extension ${r} of ${e} is not registered.`);const o=new i(this.context,t);this.extensionMap[n]=o}createExtensions(t){t.forEach((t=>this.createExtension(t)))}updateExtension(t){const{key:e}=t,n=this.extensionMap[e];n&&n.update(t)}updateExtensions(t){t.forEach((t=>this.updateExtension(t)))}destroyExtension(t){const e=this.extensionMap[t];e&&(e.destroy(),delete this.extensionMap[t])}destroyExtensions(t){t.forEach((t=>{let{key:e}=t;return this.destroyExtension(e)}))}destroy(){Object.values(this.extensionMap).forEach((t=>t.destroy())),this.context={},this.extensions=[],this.extensionMap={}}}class hu{context;options;events=[];destroyed=!1;constructor(t,e){this.context=t,this.options=e}update(t){this.options=Object.assign(this.options,t)}destroy(){this.context={},this.options={},this.destroyed=!0}}class fu extends hu{}const pu=function(t){return"function"===typeof t};var gu=function(t){if("object"!==typeof t||null===t)return t;var e;if(Me(t)){e=[];for(var n=0,r=t.length;n<r;n++)"object"===typeof t[n]&&null!=t[n]?e[n]=gu(t[n]):e[n]=t[n]}else for(var i in e={},t)"object"===typeof t[i]&&null!=t[i]?e[i]=gu(t[i]):e[i]=t[i];return e};const mu=gu;function vu(t){return t instanceof Float32Array||!(!Array.isArray(t)||2!==t.length&&3!==t.length)&&t.every((t=>"number"===typeof t))}function yu(t,e,n){return t>=e&&t<=n}function bu(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(Array.isArray(t)){const[e=0,n=e,r=e,i=n]=t;return[e,n,r,i]}return[t,t,t,t]}function xu(t){return t.max[0]-t.min[0]}function wu(t){return t.max[1]-t.min[1]}function Eu(t){return[xu(t),wu(t)]}function Su(t,e){const n=vu(t)?ku(t):t.getShape("key").getBounds();return e?Mu(n,e):n}function ku(t){const[e,n,r=0]=t,i=new fr;return i.setMinMax([e,n,r],[e,n,r]),i}function Mu(t,e){const[n,r,i,o]=bu(e),[a,s,l]=t.min,[c,u,d]=t.max,h=new fr;return h.setMinMax([a-o,s-n,l],[c+r,u+i,d]),h}function Cu(t){if(0===t.length)return new fr;if(1===t.length)return t[0];const e=new fr;e.setMinMax(t[0].min,t[0].max);for(let n=1;n<t.length;n++){const r=t[n];e.setMinMax([Math.min(e.min[0],r.min[0]),Math.min(e.min[1],r.min[1]),Math.min(e.min[2],r.min[2])],[Math.max(e.max[0],r.max[0]),Math.max(e.max[1],r.max[1]),Math.max(e.max[2],r.max[2])])}return e}function Nu(t,e){return yu(t[0],e.min[0],e.max[0])&&yu(t[1],e.min[1],e.max[1])}function Ou(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{min:[r,i],max:[o,a]}=e,s=(t[1]===i||t[1]===a)&&(n||yu(t[0],r,o)),l=(t[0]===r||t[0]===o)&&(n||yu(t[1],i,a));return s||l}function Pu(t,e){const{center:n}=e;return t[0]===n[0]&&t[1]===n[1]}function Tu(t,e){const[n,r]=t,[i,o]=e.min,[a,s]=e.max,l=n-i,c=a-n,u=r-o,d=s-r,h=Math.min(l,c,u,d);return h===l?"left":h===c?"right":h===u?"top":h===d?"bottom":"left"}function Au(t,e){const n=mu(t);if(Nu(t,e)){switch(Tu(t,e)){case"left":n[0]=e.min[0];break;case"right":n[0]=e.max[0];break;case"top":n[1]=e.min[1];break;case"bottom":n[1]=e.max[1]}}else{const[r,i]=t,[o,a]=e.min,[s,l]=e.max;n[0]=yu(r,o,s)?r:r<o?o:s,n[1]=yu(i,a,l)?i:i<a?a:l}return n}const Ru=[0,0,0];function _u(t,e){return t.map(((t,n)=>t+e[n]))}function Lu(t,e){return t.map(((t,n)=>t-e[n]))}function Iu(t,e){return"number"===typeof e?t.map((t=>t*e)):t.map(((t,n)=>t*e[n]))}function Du(t,e){return"number"===typeof e?t.map((t=>t/e)):t.map(((t,n)=>t/e[n]))}function ju(t,e){return t.map((t=>t*e))}function zu(t,e){return Math.sqrt(t.reduce(((t,n,r)=>t+(n-e[r]||0)**2),0))}function Fu(t,e){return t.reduce(((t,n,r)=>t+Math.abs(n-e[r])),0)}function Bu(t){const e=t.reduce(((t,e)=>t+e**2),0);return t.map((t=>t/Math.sqrt(e)))}function $u(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=t[0]*e[1]-t[1]*e[0];let i=Math.acos(Iu(t,e).reduce(((t,e)=>t+e),0)/(zu(t,Ru)*zu(e,Ru)));return n&&r<0&&(i=2*Math.PI-i),i}function Vu(t){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?[-t[1],t[0]]:[t[1],-t[0]]}function Hu(t){return[t[0],t[1]]}function Wu(t){return 2===t.length?[t[0],t[1],0]:t}function Gu(t){const[e,n]=t;return e||n?Math.atan2(n,e):0}function Uu(t,e){const[n,r]=t,[i,o]=e;return function(t,e){const n=Wu(t),r=Wu(e);return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}(Lu(n,r),Lu(i,o)).every((t=>0===t))}function qu(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Uu(t,e))return;const[r,i]=t,[o,a]=e,s=((r[0]-o[0])*(o[1]-a[1])-(r[1]-o[1])*(o[0]-a[0]))/((r[0]-i[0])*(o[1]-a[1])-(r[1]-i[1])*(o[0]-a[0])),l=a[0]-o[0]?(r[0]-o[0]+s*(i[0]-r[0]))/(a[0]-o[0]):(r[1]-o[1]+s*(i[1]-r[1]))/(a[1]-o[1]);return n||yu(s,0,1)&&yu(l,0,1)?[r[0]+s*(i[0]-r[0]),r[1]+s*(i[1]-r[1])]:void 0}function Yu(t){if(Array.isArray(t))return yu(t[0],0,1)&&yu(t[1],0,1)?t:[.5,.5];const e=t.split("-");return[e.includes("left")?0:e.includes("right")?1:.5,e.includes("top")?0:e.includes("bottom")?1:.5]}function Xu(t){const{x:e=0,y:n=0,z:r=0}=t.style||{};return[+e,+n,+r]}function Ku(t){const{x:e,y:n,z:r}=t.style||{};return void 0!==e||void 0!==n||void 0!==r}function Zu(t,e){const[n,r]=e,{min:i,max:o}=t;return[i[0]+n*(o[0]-i[0]),i[1]+r*(o[1]-i[1])]}function Qu(t){return Zu(t,Yu(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center"))}function Ju(t){return[t.x,t.y,t.z??0]}function td(t){return{x:t[0],y:t[1],z:t[2]??0}}function ed(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((t=>parseFloat(t.toFixed(e))))}function nd(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(xc(t,e))return t;const i=Bu(r?Lu(t,e):Lu(e,t)),o=[i[0]*n,i[1]*n];return _u(Hu(t),o)}function rd(t,e){return t[1]===e[1]}function id(t,e){return[2*e[0]-t[0],2*e[1]-t[1]]}function od(t,e,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];for(let o=0;o<n.length;o++){let a=n[o],s=n[(o+1)%n.length];r&&(a=_u(e,a),s=_u(e,s));const l=qu([e,i?id(t,e):t],[a,s]);if(l)return{point:l,line:[a,s]}}return{point:e,line:void 0}}function ad(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.center,i=Lu(n?id(t,r):t,e.center),o=Math.atan2(i[1],i[0]);if(isNaN(o))return r;const a=xu(e)/2,s=wu(e)/2;return[r[0]+a*Math.cos(o),r[1]+s*Math.sin(o)]}function sd(t,e){let n=1/0,r=[[0,0],[0,0]];return e.forEach((e=>{const i=function(t,e){const n=ld(t,e);return zu(t,n)}(t,e);i<n&&(n=i,r=e)})),r}function ld(t,e){const[n,r]=e[0],[i,o]=e[1],[a,s]=t,l=i-n,c=o-r;if(0===l&&0===c)return[n,r];let u=((a-n)*l+(s-r)*c)/(l*l+c*c);u>1?u=1:u<0&&(u=0);return[n+u*l,r+u*c]}function cd(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=function(t){return Du(t.reduce(((t,e)=>_u(t,e)),[0,0]),t.length)}(t);return t.sort(((t,r)=>{let[i,o]=t,[a,s]=r;const l=Math.atan2(o-n[1],i-n[0]),c=Math.atan2(s-n[1],a-n[0]);return e?c-l:l-c}))}function ud(t,e){return[t,[t[0],e[1]],e,[e[0],t[1]]]}const dd=t=>t.map((t=>Zt(t)?t.toLocaleLowerCase():t));class hd{map=(()=>new Map)();emitter;recordKey=(()=>new Set)();constructor(t){this.emitter=t,this.bindEvents()}bind(t,e){0!==t.length&&this.map.set(t,e)}unbind(t,e){this.map.forEach(((n,r)=>{xc(r,t)&&(e&&e!==n||this.map.delete(r))}))}unbindAll(){this.map.clear()}match(t){const e=dd(Array.from(this.recordKey)).sort(),n=dd(t).sort();return xc(e,n)}bindEvents(){const{emitter:t}=this;t.on(Nc.KEY_DOWN,this.onKeyDown),t.on(Nc.KEY_UP,this.onKeyUp),t.on(Nc.WHEEL,this.onWheel),t.on(Nc.DRAG,this.onDrag),window.addEventListener("focus",this.onFocus)}onKeyDown=t=>{t?.key&&(this.recordKey.add(t.key),this.trigger(t))};onKeyUp=t=>{t?.key&&this.recordKey.delete(t.key)};trigger(t){this.map.forEach(((e,n)=>{this.match(n)&&e(t)}))}triggerExtendKey(t,e){this.map.forEach(((n,r)=>{r.includes(t)&&xc(Array.from(this.recordKey),r.filter((e=>e!==t)))&&n(e)}))}onWheel=t=>{this.triggerExtendKey(Nc.WHEEL,t)};onDrag=t=>{this.triggerExtendKey(Nc.DRAG,t)};onFocus=()=>{this.recordKey.clear()};destroy(){this.unbindAll(),this.emitter.off(Nc.KEY_DOWN,this.onKeyDown),this.emitter.off(Nc.KEY_UP,this.onKeyUp),this.emitter.off(Nc.WHEEL,this.onWheel),this.emitter.off(Nc.DRAG,this.onDrag),window.removeEventListener("blur",this.onFocus)}}class fd extends fu{static defaultOptions={animation:!1,enable:!0,enableElements:["node","combo","edge"],immediately:!1,mode:"default",state:"selected",trigger:["shift"],style:{width:0,height:0,lineWidth:1,fill:"#1677FF",stroke:"#1677FF",fillOpacity:.1,zIndex:2,pointerEvents:"none"}};startPoint;endPoint;rectShape;shortcut;constructor(t,e){super(t,Zc({},fd.defaultOptions,e)),this.shortcut=new hd(t.graph),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.clearStates=this.clearStates.bind(this),this.bindEvents()}onPointerDown(t){if(!this.validate(t)||!this.isKeydown()||this.startPoint)return;const{canvas:e,graph:n}=this.context,r={...this.options.style};this.options.style.lineWidth&&(r.lineWidth=+this.options.style.lineWidth/n.getZoom()),this.rectShape=new js({id:"g6-brush-select",style:r}),e.appendChild(this.rectShape),this.startPoint=[t.canvas.x,t.canvas.y]}onPointerMove(t){if(!this.startPoint)return;const{immediately:e,mode:n}=this.options;this.endPoint=pd(t),this.rectShape?.attr({x:Math.min(this.endPoint[0],this.startPoint[0]),y:Math.min(this.endPoint[1],this.startPoint[1]),width:Math.abs(this.endPoint[0]-this.startPoint[0]),height:Math.abs(this.endPoint[1]-this.startPoint[1])}),e&&"default"===n&&this.updateElementsStates(ud(this.startPoint,this.endPoint))}onPointerUp(t){this.startPoint&&(this.endPoint?(this.endPoint=pd(t),this.updateElementsStates(ud(this.startPoint,this.endPoint)),this.clearBrush()):this.clearBrush())}clearStates(){this.endPoint||this.clearElementsStates()}clearElementsStates(){const{graph:t}=this.context,e=Object.values(t.getData()).reduce(((t,e)=>Object.assign({},t,e.reduce(((t,e)=>(t[Qc(e)]=[],t)),{}))),{});t.setElementState(e,this.options.animation)}updateElementsStates(t){const{graph:e}=this.context,{enableElements:n,state:r,mode:i,onSelect:o}=this.options,a=this.selector(e,t,n);let s={};switch(i){case"union":a.forEach((t=>{s[t]=[...e.getElementState(t),r]}));break;case"diff":a.forEach((t=>{const n=e.getElementState(t);s[t]=n.includes(r)?n.filter((t=>t!==r)):[...n,r]}));break;case"intersect":a.forEach((t=>{const n=e.getElementState(t);s[t]=n.includes(r)?[r]:[]}));break;default:a.forEach((t=>{s[t]=[r]}))}pu(o)&&(s=o(s)),e.setElementState(s,this.options.animation)}selector(t,e,n){if(!n||0===n.length)return[];const r=[],i=t.getData();if(n.forEach((n=>{i[`${n}s`].forEach((n=>{const i=Qc(n);"hidden"!==t.getElementVisibility(i)&&function(t,e,n,r){const i=t[0],o=t[1];let a=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);const s=r-n;for(let l=0,c=s-1;l<s;c=l++){const t=e[l+n][0],r=e[l+n][1],s=e[c+n][0],u=e[c+n][1];r>o!==u>o&&i<(s-t)*(o-r)/(u-r)+t&&(a=!a)}return a}(t.getElementPosition(i),e)&&r.push(i)}))})),n.includes("edge")){const t=i.edges;t?.forEach((t=>{const{source:e,target:n}=t;r.includes(e)&&r.includes(n)&&r.push(Qc(t))}))}return r}clearBrush(){this.rectShape?.remove(),this.rectShape=void 0,this.startPoint=void 0,this.endPoint=void 0}isKeydown(){const{trigger:t}=this.options,e=Array.isArray(t)?t:[t];return this.shortcut.match(e.filter((t=>"drag"!==t)))}validate(t){if(this.destroyed)return!1;const{enable:e}=this.options;return pu(e)?e(t):!!e}bindEvents(){const{graph:t}=this.context;t.on(Nc.POINTER_DOWN,this.onPointerDown),t.on(Nc.POINTER_MOVE,this.onPointerMove),t.on(Nc.POINTER_UP,this.onPointerUp),t.on(Mc.CLICK,this.clearStates)}unbindEvents(){const{graph:t}=this.context;t.off(Nc.POINTER_DOWN,this.onPointerDown),t.off(Nc.POINTER_MOVE,this.onPointerMove),t.off(Nc.POINTER_UP,this.onPointerUp),t.off(Mc.CLICK,this.clearStates)}update(t){this.unbindEvents(),this.options=Zc(this.options,t),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}const pd=t=>[t.canvas.x,t.canvas.y],gd=.8,md=["node","edge","combo"];function vd(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;"TB"===r&&e(t,i);const o=n(t);if(o)for(const a of o)vd(a,e,n,r,i+1);"BT"===r&&e(t,i)}function yd(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"both";if("combo"===e||"node"===e)return bd(t,n,r,i);const o=t.getEdgeData(n);if(!o)return[];const a=bd(t,o.source,r-1,i),s=bd(t,o.target,r-1,i);return Array.from(new Set([...a,...s,n]))}function bd(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"both";const i=new Set,o=new Set,a=new Set;return function(t,e,n){const r=[[t,0]];for(;r.length;){const[t,i]=r.shift();e(t,i);const o=n(t);if(o)for(const e of o)r.push([e,i+1])}}(e,((e,i)=>{i>n||(a.add(e),t.getRelatedEdgesData(e,r).forEach((t=>{const e=Qc(t);!o.has(e)&&i<n&&(a.add(e),o.add(e))})))}),(e=>t.getRelatedEdgesData(e,r).map((t=>t.source===e?t.target:t.source)).filter((t=>!i.has(t)&&(i.add(t),!0))))),Array.from(a)}function xd(t){return t.states||[]}class wd extends fu{shortcut;static defaultOptions={animation:!0,enable:!0,multiple:!1,trigger:["shift"],state:"selected",neighborState:"selected",unselectedState:void 0,degree:0};constructor(t,e){super(t,Object.assign({},wd.defaultOptions,e)),this.shortcut=new hd(t.graph),this.bindEvents()}bindEvents(){const{graph:t}=this.context;this.unbindEvents(),md.forEach((e=>{t.on(`${e}:${Nc.CLICK}`,this.onClickSelect)})),t.on(Mc.CLICK,this.onClickCanvas)}onClickSelect=async t=>{this.validate(t)&&(await this.updateState(t),this.options.onClick?.(t))};onClickCanvas=async t=>{this.validate(t)&&(await this.clearState(),this.options.onClick?.(t))};get isMultipleSelect(){const{multiple:t,trigger:e}=this.options;return t&&this.shortcut.match(e)}getNeighborIds(t){const{target:e,targetType:n}=t,{graph:r}=this.context,{degree:i}=this.options;return yd(r,n,e.id,"function"===typeof i?i(t):i).filter((t=>t!==e.id))}async updateState(t){const{state:e,unselectedState:n,neighborState:r,animation:i}=this.options;if(!e&&!r&&!n)return;const{target:o}=t,{graph:a}=this.context,s=xd(a.getElementData(o.id)).includes(e)?"unselect":"select",l={},c=this.isMultipleSelect,u=[o.id],d=this.getNeighborIds(t);if(c)if(Object.assign(l,this.getDataStates()),"select"===s){const t=(t,e)=>{t.forEach((t=>{const r=new Set(a.getElementState(t));r.add(e),r.delete(n),l[t]=Array.from(r)}))};t(u,e),t(d,r),n&&Object.keys(l).forEach((t=>{const i=l[t];i.includes(e)||i.includes(r)||i.includes(n)||l[t].push(n)}))}else{const t=l[o.id];l[o.id]=t.filter((t=>t!==e&&t!==r)),t.includes(n)||l[o.id].push(n),d.forEach((t=>{l[t]=l[t].filter((t=>t!==r)),l[t].includes(e)||l[t].push(n)}))}else if("select"===s){Object.assign(l,this.getClearStates(!!n));const t=(t,e)=>{t.forEach((t=>{l[t]||(l[t]=a.getElementState(t)),l[t].push(e)}))};t(u,e),t(d,r),n&&Object.keys(l).forEach((t=>{u.includes(t)||d.includes(t)||l[t].push(n)}))}else Object.assign(l,this.getClearStates());await a.setElementState(l,i)}getDataStates(){const{graph:t}=this.context,{nodes:e,edges:n,combos:r}=t.getData(),i={};return[...e,...n,...r].forEach((t=>{i[Qc(t)]=xd(t)})),i}getClearStates(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{graph:e}=this.context,{state:n,unselectedState:r,neighborState:i}=this.options,o=new Set([n,r,i]),{nodes:a,edges:s,combos:l}=e.getData(),c={};return[...a,...s,...l].forEach((e=>{const n=xd(e),r=n.filter((t=>!o.has(t)));(t||r.length!==n.length)&&(c[Qc(e)]=r)})),c}async clearState(){const{graph:t}=this.context;await t.setElementState(this.getClearStates(),this.options.animation)}validate(t){if(this.destroyed)return!1;const{enable:e}=this.options;return pu(e)?e(t):!!e}unbindEvents(){const{graph:t}=this.context;md.forEach((e=>{t.off(`${e}:${Nc.CLICK}`,this.onClickSelect)})),t.off(Mc.CLICK,this.onClickCanvas)}destroy(){this.unbindEvents(),super.destroy()}}function Ed(t){return!!t.style?.collapsed}const Sd=function(t,e,n){for(var r=0,i=Zt(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},kd=function(t,e,n){var r=t,i=Zt(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(He(r[t])||(r[t]=Yt(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t};const Md=function(t){var e=gc(t);return e.charAt(0).toLowerCase()+e.substring(1)};function Cd(t,e){if(!t.startsWith(e))return!1;const n=t[e.length];return n>="A"&&n<="Z"}function Nd(t,e){return`${e}${mc(t)}`}function Od(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return t;if(!Cd(t,e))return t;const r=t.slice(e.length);return n?Md(r):r}function Pd(t,e){const n=Object.entries(t).reduce(((t,n)=>{let[r,i]=n;return"className"===r||"class"===r||Cd(r,e)&&Object.assign(t,{[Od(r,e)]:i}),t}),{});if("opacity"in t){const r=Nd("opacity",e),i=t.opacity;if(r in t){const e=t[r];Object.assign(n,{opacity:i*e})}else Object.assign(n,{opacity:i})}return n}function Td(t,e){const n=e.length;return Object.keys(t).reduce(((r,i)=>{if(i.startsWith(e)){r[i.slice(n)]=t[i]}return r}),{})}function Ad(t,e){const n="string"===typeof e?[e]:e,r={};return Object.keys(t).forEach((e=>{n.find((t=>e.startsWith(t)))||(r[e]=t[e])})),r}function Rd(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("number"===typeof t)return[t,t,t];const[e,n=e,r=e]=t;return[e,n,r]}function _d(t,e){const{datum:n,graph:r}=e;return"function"===typeof t?t.call(r,n):Object.fromEntries(Object.entries(t).map((t=>{let[e,i]=t;return"function"===typeof i?[e,i.call(r,n)]:[e,i]})))}function Ld(t,e){const n=t?.style||{},r=e?.style||{};return Object.assign({},t,e,{style:Object.assign({},n,r)})}const Id=new WeakMap;function Dd(t,e,n){Id.has(t)||Id.set(t,{});const r=Id.get(t);if(!r[e])return r[e]=n,!0;const i=r[e];return!jd(i,n)&&(r[e]=n,!0)}const jd=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if("object"!==typeof t||"object"!==typeof e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const o of r){const r=t[o],i=e[o];if(n>1&&"object"===typeof r&&"object"===typeof i){if(!jd(r,i,n-1))return!1}else if(r!==i)return!1}return!0};var zd=Object.prototype.hasOwnProperty;const Fd=function(t,e){if(!e||!Me(t))return{};for(var n,r={},i=pu(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=i(a),zd.call(r,n)?r[n].push(a):r[n]=[a]}return r};function Bd(t){if(t)return"string"===typeof t||"function"===typeof t||Array.isArray(t)?{type:"group",field:t=>t.id,color:t,invert:!1}:t}function $d(t){const e="string"===typeof t?jc("palette",t):t;if("function"!==typeof e)return e}function Vd(t,e){let n=2*t;return"string"===typeof e?n=t*Number(e.replace("%",""))/100:"number"===typeof e&&(n=e),isNaN(n)&&(n=2*t),n}function Hd(t,e){const n=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?arguments.length>2&&void 0!==arguments[2]?arguments[2]:1:1;return Vd((t.max[0]-t.min[0])*n,e)}const Wd=new WeakMap;function Gd(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;if(void 0===e)return;const i=function(o){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const s=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return o.childNodes.forEach((e=>i(e,t)))};if(r&&!r(o))return s();if(n||o!==t){Wd.has(o)||Wd.set(o,o.style.visibility);const t="hidden"===a||"hidden"===function(t){return Wd.has(t)?Wd.get(t):t.style.visibility}(o)?"hidden":"visible";o.style.visibility=t,s(t)}else t.style.visibility=e,Wd.delete(t),s(e)};i(t)}var Ud={}.toString;const qd=function(t){return Ud.call(t).replace(/^\[object /,"").replace(/]$/,"")};var Yd=Object.prototype;const Xd=function(t){var e=t&&t.constructor;return t===("function"===typeof e&&e.prototype||Yd)};var Kd=Object.prototype.hasOwnProperty;const Zd=function(t){if(Kt(t))return!0;if(yc(t))return!t.length;var e=qd(t);if("Map"===e||"Set"===e)return!t.size;if(Xd(t))return!Object.keys(t).length;for(var n in t)if(Kd.call(t,n))return!1;return!0};class Qd extends Os{constructor(t){super(t),this.transformPosition(this.attributes),this.render(this.attributes,this),this.setVisibility(),this.bindEvents()}get parsedAttributes(){return this.attributes}shapeMap={};animateMap={};upsert(t,e,n,r,i){const o=this.shapeMap[t];if(!1===n)return void(o&&(i?.beforeDestroy?.(o),r.removeChild(o),delete this.shapeMap[t],i?.afterDestroy?.(o)));const a="string"===typeof e?jc(Ic.SHAPE,e):e;if(!a)throw new Error(Bc(`Shape ${e} not found`));if(!o||o.destroyed||!(o instanceof a)){o&&(i?.beforeDestroy?.(o),o?.destroy(),i?.afterDestroy?.(o)),i?.beforeCreate?.();const e=new a({className:t,style:n});return r.appendChild(e),this.shapeMap[t]=e,i?.afterCreate?.(e),e}return i?.beforeUpdate?.(o),jp(o,n),i?.afterUpdate?.(o),o}transformPosition(t){const{x:e=0,y:n=0,z:r=0,transform:i}=t;0===e&&0===n&&0===r||(this.style.transform=eu(+e,+n,+r,i))}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Object.assign({},this.attributes,t);this.attr(e),this.render(e,this),this.transformPosition(e),this.setVisibility()}bindEvents(){}getGraphicStyle(t){return function(t){const{x:e,y:n,z:r,class:i,className:o,transform:a,transformOrigin:s,context:l,zIndex:c,visibility:u,...d}=t;return d}(t)}get compositeShapes(){return[["badges","badge-"],["ports","port-"]]}animate(t,e){if(0===t.length)return null;const n=[];if(void 0!==t[0].x||void 0!==t[0].y||void 0!==t[0].z){const{x:e=0,y:n=0,z:r=0}=this.attributes;t.forEach((t=>{const{x:i=e,y:o=n,z:a=r}=t;Object.assign(t,{transform:eu(+i,+o,+a)})}))}const r=super.animate(t,e);if(r&&(Jd(this,r),n.push(r)),Array.isArray(t)&&t.length>0){const r=["transform","transformOrigin","x","y","z","zIndex"];if(Object.keys(t[0]).some((t=>!r.includes(t)))){Object.entries(this.shapeMap).forEach((r=>{let[i,o]=r;const a=this[`get${mc(i)}Style`];if(pu(a)){const r=t.map((t=>a.call(this,{...this.attributes,...t}))),i=o.animate(Wc(r),e);i&&(Jd(o,i),n.push(i))}}));const r=(r,i)=>{if(!Zd(r)){const o=this[`get${mc(i)}Style`];if(pu(o)){const i=t.map((t=>o.call(this,{...this.attributes,...t})));Object.entries(i[0]).map((t=>{let[o]=t;const a=i.map((t=>t[o])),s=r[o];if(s){const t=s.animate(Wc(a),e);t&&(Jd(s,t),n.push(t))}}))}}};this.compositeShapes.forEach((t=>{let[e,n]=t;const i=Td(this.shapeMap,n);r(i,e)}))}}return Hc(n)}getShape(t){return this.shapeMap[t]}setVisibility(){const{visibility:t}=this.attributes;Gd(this,t,!0)}destroy(){this.shapeMap={},this.animateMap={},super.destroy()}}function Jd(t,e){e?.finished.then((()=>{const n=t.activeAnimations.findIndex((t=>t===e));n>-1&&t.activeAnimations.splice(n,1)}))}class th extends Qd{static defaultStyleProps={padding:0,fontSize:12,fontFamily:"system-ui, sans-serif",wordWrap:!0,maxLines:1,wordWrapWidth:128,textOverflow:"...",textBaseline:"middle",backgroundOpacity:.75,backgroundZIndex:-1,backgroundLineWidth:0};constructor(t){super(Ld({style:th.defaultStyleProps},t))}isTextStyle(t){return Cd(t,"label")}isBackgroundStyle(t){return Cd(t,"background")}getTextStyle(t){const{padding:e,...n}=this.getGraphicStyle(t);return Ad(n,"background")}getBackgroundStyle(t){if(!1===t.background)return!1;const e=this.getGraphicStyle(t),{wordWrap:n,wordWrapWidth:r,padding:i}=e,o=Pd(e,"background"),{min:[a,s],center:[l,c],halfExtents:[u,d]}=this.shapeMap.text.getGeometryBounds(),[h,f,p,g]=bu(i),m=2*u+g+f,{width:v,height:y}=o;v&&y?Object.assign(o,{x:l-Number(v)/2,y:c-Number(y)/2}):Object.assign(o,{x:a-g,y:s-h,width:n?Math.min(m,r+g+f):m,height:2*d+h+p});const{radius:b}=o;if("string"===typeof b&&b.endsWith("%")){const t=Number(b.replace("%",""))/100;o.radius=Math.min(+o.width,+o.height)*t}return o}render(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parsedAttributes,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this.upsert("text",zs,this.getTextStyle(t),e),this.upsert("background",js,this.getBackgroundStyle(t),e)}getGeometryBounds(){return(this.getShape("background")||this.getShape("text")).getGeometryBounds()}}class eh extends Qd{static defaultStyleProps={padding:[2,4,2,4],fontSize:10,wordWrap:!1,backgroundRadius:"50%",backgroundOpacity:1};constructor(t){super(Ld({style:eh.defaultStyleProps},t))}getBadgeStyle(t){return this.getGraphicStyle(t)}render(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parsedAttributes,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this.upsert("label",th,this.getBadgeStyle(t),e)}getGeometryBounds(){const t=this.getShape("label");return(t.getShape("background")||t.getShape("text")).getGeometryBounds()}}const nh={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};function rh(t){const e=[],n="string"===typeof t?function(t){const e=t.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").trim().split(/\s*,|\s+/),n=[];let r="",i={};for(;e.length>0;){let t=e.shift();t in nh?r=t:e.unshift(t),i={type:r},nh[r].forEach((n=>{t=e.shift(),i[n]=t})),"M"===r?r="L":"m"===r&&(r="l");const[o,...a]=Object.values(i);n.push([o,...a.map(Number)])}return n}(t):t;return n.forEach((t=>{const n=t[0];if("Z"!==n)if("A"!==n)for(let r=1;r<t.length;r+=2)e.push([t[r],t[r+1],0]);else{const n=t.length;e.push([t[n-2],t[n-1],0])}else e.push(e[0])})),e}const ih=t=>{if(t.length<2)return[["M",0,0],["L",0,0]];const e=t[0],n=t[1],r=t[t.length-1],i=t[t.length-2];t.unshift(i,r),t.push(e,n);const o=[["M",r[0],r[1]]];for(let a=1;a<t.length-2;a+=1){const[e,n]=t[a-1],[r,i]=t[a],[s,l]=t[a+1],[c,u]=a!==t.length-2?t[a+2]:[s,l],d=r+(s-e)/6,h=i+(l-n)/6,f=s-(c-r)/6,p=l-(u-i)/6;o.push(["C",d,h,f,p,s,l])}return o};class oh extends Qd{static defaultStyleProps={label:!0,labelPlacement:"bottom",labelCloseToPath:!0,labelAutoRotate:!0,labelOffsetX:0,labelOffsetY:0};constructor(t){super(Ld({style:oh.defaultStyleProps},t))}getLabelStyle(t){if(!t.label||!t.d||0===t.d.length)return!1;const{maxWidth:e,offsetX:n,offsetY:r,autoRotate:i,placement:o,closeToPath:a,...s}=Pd(this.getGraphicStyle(t),"label"),l=this.shapeMap.key,c=l?.getRenderBounds();return Object.assign(function(t,e,n,r,i,o,a){const[s,l]=Qu(t,e),c={textAlign:"left"===e?"right":"right"===e?"left":"center",textBaseline:"top"===e?"bottom":"bottom"===e?"top":"middle",transform:`translate(${s+n}, ${l+r})`};if("center"===e||!i)return c;const u=rh(o);if(!u||u.length<=3)return c;const d=u.map(((t,e)=>{const n=t,r=u[(e+1)%u.length];return xc(n,r)?null:[n,r]})).filter(Boolean),h=sd([s,l],d),f=ld([s,l],h);if(f&&h&&(c.transform=`translate(${f[0]+n}, ${f[1]+r})`,a)){const t=Math.atan((h[0][1]-h[1][1])/(h[0][0]-h[1][0]));c.transform+=`rotate(${t/Math.PI*180}deg)`,c.textAlign="center","right"!==e&&"left"!==e||(c.textBaseline=t>0?"right"===e?"bottom":"top":"right"===e?"top":"bottom")}return c}(c,o,n,r,a,t.d,i),{wordWrapWidth:Hd(c,e)},s)}getKeyStyle(t){return this.getGraphicStyle(t)}render(t,e){this.upsert("key",Ls,this.getKeyStyle(t),e),this.upsert("label",th,this.getLabelStyle(t),e)}}class ah extends Rs{constructor(t){super(t),lh=this,this.isMutationObserved=!0,this.addEventListener(Za.MOUNTED,this.onMounted),this.addEventListener(Za.ATTR_MODIFIED,this.onAttrModified)}onMounted=()=>{this.handleRadius()};onAttrModified=()=>{this.handleRadius()};handleRadius(){const{radius:t,clipPath:e,width:n=0,height:r=0}=this.attributes;if(t&&n&&r){const[i,o]=this.getBounds().min,a={x:i,y:o,radius:t,width:n,height:r};if(e)Object.assign(this.parsedStyle.clipPath.style,a);else{const t=new js({style:a});this.style.clipPath=t}}else e&&(this.style.clipPath=null)}}const sh=new WeakMap;let lh=null;const ch=t=>{if(lh&&function(t){const e=[];let n=t.parentNode;for(;n;)e.push(n),n=n.parentNode;return e}(lh).includes(t)){const e=sh.get(t);e?e.includes(lh)||e.push(lh):sh.set(t,[lh])}},uh=t=>{const e=sh.get(t);e&&e.forEach((t=>t.handleRadius()))};class dh extends Qd{constructor(t){super(t)}isImage(){const{src:t}=this.attributes;return!!t}getIconStyle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.attributes;const{width:e=0,height:n=0}=t,r=this.getGraphicStyle(t);return this.isImage()?{x:-e/2,y:-n/2,...r}:{textBaseline:"middle",textAlign:"center",...r}}render(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.attributes,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this.upsert("icon",this.isImage()?ah:zs,this.getIconStyle(t),e)}}class hh extends Qd{get context(){return this.attributes.context}get parsedAttributes(){return this.attributes}onframe(){}animate(t,e){const n=super.animate(t,e);return n&&(n.onframe=()=>this.onframe(),n.finished.then((()=>this.onframe()))),n}}class fh extends hh{type="node";static defaultStyleProps={x:0,y:0,size:32,droppable:!0,draggable:!0,port:!0,ports:[],portZIndex:2,portLinkToCenter:!1,badge:!0,badges:[],badgeZIndex:3,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloStrokeOpacity:.25,haloPointerEvents:"none",haloZIndex:-1,icon:!0,iconZIndex:1,label:!0,labelIsBillboard:!0,labelMaxWidth:"200%",labelPlacement:"bottom",labelWordWrap:!1,labelZIndex:0};constructor(t){super(Ld({style:fh.defaultStyleProps},t))}getSize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.attributes;const{size:e}=t;return Rd(e)}getKeyStyle(t){const e=this.getGraphicStyle(t);return Object.assign(Ad(e,["label","halo","icon","badge","port"]))}getLabelStyle(t){if(!1===t.label||!t.labelText)return!1;const{placement:e,maxWidth:n,offsetX:r,offsetY:i,...o}=Pd(this.getGraphicStyle(t),"label"),a=this.getShape("key").getLocalBounds();return Object.assign(Dp(a,e,r,i),{wordWrapWidth:Hd(a,n)},o)}getHaloStyle(t){if(!1===t.halo)return!1;const{fill:e,...n}=this.getKeyStyle(t);return{...n,stroke:e,...Pd(this.getGraphicStyle(t),"halo")}}getIconStyle(t){if(!1===t.icon||!t.iconText&&!t.iconSrc)return!1;const e=Pd(this.getGraphicStyle(t),"icon");return Object.assign(function(t,e){const n=Rd(t);let r={};return e.text&&!e.fontSize&&(r={fontSize:.5*Math.min(...n)}),!e.src||e.width&&e.height||(r={width:.5*n[0],height:.5*n[1]}),r}(t.size,e),e)}getBadgesStyle(t){const e=Td(this.shapeMap,"badge-"),n={};if(Object.keys(e).forEach((t=>{n[t]=!1})),!1===t.badge||!t.badges?.length)return n;const{badges:r=[],badgePalette:i,opacity:o=1,...a}=t,s=$d(i),l=Pd(this.getGraphicStyle(a),"badge");return r.forEach(((t,e)=>{n[e]={backgroundFill:s?s[e%s?.length]:void 0,opacity:o,...l,...this.getBadgeStyle(t)}})),n}getBadgeStyle(t){const e=this.getShape("key"),{placement:n="top",offsetX:r,offsetY:i,...o}=t;return{...Dp(e.getLocalBounds(),n,r,i,!0),...o}}getPortsStyle(t){const e=this.getPorts(),n={};if(Object.keys(e).forEach((t=>{n[t]=!1})),!1===t.port||!t.ports?.length)return n;const r=Pd(this.getGraphicStyle(t),"port"),{ports:i=[]}=t;return i.forEach(((e,i)=>{const o=e.key||i,a={...r,...e};if(Tp(a))n[o]=!1;else{const[r,i]=this.getPortXY(t,e);n[o]={transform:`translate(${r}, ${i})`,...a}}})),n}getPortXY(t,e){const{placement:n="left"}=e,r=this.getShape("key");return Op(function(t,e){if(!t)return e.getLocalBounds();const n=t.canvas.getLayer(),r=e.cloneNode();Gd(r,"hidden"),n.appendChild(r);const i=r.getLocalBounds();return n.removeChild(r),i}(this.context,r),n)}getPorts(){return Td(this.shapeMap,"port-")}getCenter(){return this.getShape("key").getBounds().center}getIntersectPoint(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return od(t,Qu(e,"center"),[Qu(e,"left-top"),Qu(e,"right-top"),Qu(e,"right-bottom"),Qu(e,"left-bottom")],!1,n).point}(t,this.getShape("key").getBounds(),e)}drawHaloShape(t,e){const n=this.getHaloStyle(t);if(!Dd(this,"halo",n))return;const r=this.getShape("key");this.upsert("halo",r.constructor,n,e)}drawIconShape(t,e){const n=this.getIconStyle(t);Dd(this,"icon",n)&&(this.upsert("icon",dh,n,e),ch(this))}drawBadgeShapes(t,e){const n=this.getBadgesStyle(t);Object.keys(n).forEach((t=>{const r=n[t];Dd(this,`badge-${t}`,r)&&this.upsert(`badge-${t}`,eh,r,e)}))}drawPortShapes(t,e){const n=this.getPortsStyle(t);Object.keys(n).forEach((t=>{const r=n[t],i=`port-${t}`;Dd(this,i,r)&&this.upsert(i,Ns,r,e)}))}drawLabelShape(t,e){const n=this.getLabelStyle(t);Dd(this,"label",n)&&this.upsert("label",th,n,e)}_drawKeyShape(t,e){return this.drawKeyShape(t,e)}render(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parsedAttributes,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this._drawKeyShape(t,e),this.getShape("key")&&(this.drawHaloShape(t,e),this.drawIconShape(t,e),this.drawBadgeShapes(t,e),this.drawLabelShape(t,e),this.drawPortShapes(t,e))}update(t){super.update(t),t&&("x"in t||"y"in t||"z"in t)&&uh(this)}onframe(){this.drawBadgeShapes(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this)}}class ph extends fh{static defaultStyleProps={size:32};constructor(t){super(Ld({style:ph.defaultStyleProps},t))}drawKeyShape(t,e){return this.upsert("key",Ns,this.getKeyStyle(t),e)}getKeyStyle(t){return{...super.getKeyStyle(t),r:Math.min(...this.getSize(t))/2}}getIconStyle(t){const e=super.getIconStyle(t),{r:n}=this.getShape("key").attributes,r=2*n*gd;return!!e&&{width:r,height:r,...e}}getIntersectPoint(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ad(t,this.getShape("key").getBounds(),e)}}class gh extends fh{constructor(t){super(t)}get parsedAttributes(){return this.attributes}drawKeyShape(t,e){return this.upsert("key",Is,this.getKeyStyle(t),e)}getKeyStyle(t){return{...super.getKeyStyle(t),points:this.getPoints(t)}}getIntersectPoint(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{points:n}=this.getShape("key").attributes;return od(t,[+(this.attributes?.x||0),+(this.attributes?.y||0)],n,!0,e).point}}class mh extends ph{static defaultStyleProps={innerR:"50%",donuts:[],donutPalette:"tableau"};constructor(t){super(Ld({style:mh.defaultStyleProps},t))}parseOuterR(){const{size:t}=this.parsedAttributes;return Math.min(...Rd(t))/2}parseInnerR(){const{innerR:t}=this.parsedAttributes;return Zt(t)?parseInt(t)/100*this.parseOuterR():t}drawDonutShape(t,e){const{donuts:n}=t;if(!n?.length)return;const r=n.map((t=>Yt(t)?{value:t}:t)),i=Pd(this.getGraphicStyle(t),"donut"),o=$d(t.donutPalette);if(!o)return;const a=r.reduce(((t,e)=>t+(e.value??0)),0),s=this.parseOuterR(),l=this.parseInnerR();let c=0;r.forEach(((t,n)=>{const{value:u=0,color:d=o[n%o.length],...h}=t,f=360*(0===a?1/r.length:u/a);this.upsert(`round${n}`,Ls,{...i,d:yh(s,l,c,c+f),fill:d,...h},e),c+=f}))}render(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;super.render(t,e),this.drawDonutShape(t,e)}}const vh=(t,e,n,r)=>[t+Math.sin(r)*n,e-Math.cos(r)*n],yh=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const[i,o]=[0,0];return Math.abs(n-r)%360<1e-6?((t,e,n,r)=>r<=0||n<=r?[["M",t-n,e],["A",n,n,0,1,1,t+n,e],["A",n,n,0,1,1,t-n,e],["Z"]]:[["M",t-n,e],["A",n,n,0,1,1,t+n,e],["A",n,n,0,1,1,t-n,e],["Z"],["M",t+r,e],["A",r,r,0,1,0,t-r,e],["A",r,r,0,1,0,t+r,e],["Z"]])(i,o,t,e):((t,e,n,r,i,o)=>{const[a,s]=[i/360*2*Math.PI,o/360*2*Math.PI],l=[vh(t,e,r,a),vh(t,e,n,a),vh(t,e,n,s),vh(t,e,r,s)],c=s-a>Math.PI?1:0;return[["M",l[0][0],l[0][1]],["L",l[1][0],l[1][1]],["A",n,n,0,c,1,l[2][0],l[2][1]],["L",l[3][0],l[3][1]],["A",r,r,0,c,0,l[0][0],l[0][1]],["Z"]]})(i,o,t,e,n,r)};class bh extends fh{static defaultStyleProps={size:[45,35]};constructor(t){super(Ld({style:bh.defaultStyleProps},t))}drawKeyShape(t,e){return this.upsert("key",Ps,this.getKeyStyle(t),e)}getKeyStyle(t){const e=super.getKeyStyle(t),[n,r]=this.getSize(t);return{...e,rx:n/2,ry:r/2}}getIconStyle(t){const e=super.getIconStyle(t),{rx:n,ry:r}=this.getShape("key").attributes,i=2*Math.min(+n,+r)*gd;return!!e&&{width:i,height:i,...e}}getIntersectPoint(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ad(t,this.getShape("key").getBounds(),e)}}function xh(t,e){var n=e.cx,r=void 0===n?0:n,i=e.cy,o=void 0===i?0:i,a=e.r;t.arc(r,o,a,0,2*Math.PI,!1)}function wh(t,e){var n=e.cx,r=void 0===n?0:n,i=e.cy,o=void 0===i?0:i,a=e.rx,s=e.ry;if(t.ellipse)t.ellipse(r,o,a,s,0,0,2*Math.PI,!1);else{var l=a>s?a:s,c=a>s?1:a/s,u=a>s?s/a:1;t.save(),t.scale(c,u),t.arc(r,o,l,0,2*Math.PI)}}function Eh(t,e){var n,r,i=e.x1,o=e.y1,a=e.x2,s=e.y2,l=e.markerStart,c=e.markerEnd,u=e.markerStartOffset,d=e.markerEndOffset,h=0,f=0,p=0,g=0,m=0;l&&ys(l)&&u&&(n=a-i,r=s-o,m=Math.atan2(r,n),h=Math.cos(m)*(u||0),f=Math.sin(m)*(u||0)),c&&ys(c)&&d&&(n=i-a,r=o-s,m=Math.atan2(r,n),p=Math.cos(m)*(d||0),g=Math.sin(m)*(d||0)),t.moveTo(i+h,o+f),t.lineTo(a+p,s+g)}function Sh(t,e){var n,r,i=e.markerStart,o=e.markerEnd,a=e.markerStartOffset,s=e.markerEndOffset,l=e.d,c=l.absolutePath,u=l.segments,h=0,f=0,p=0,g=0,m=0;if(i&&ys(i)&&a){var v=d(i.parentNode.getStartTangent(),2),y=v[0],b=v[1];n=y[0]-b[0],r=y[1]-b[1],m=Math.atan2(r,n),h=Math.cos(m)*(a||0),f=Math.sin(m)*(a||0)}if(o&&ys(o)&&s){var x=d(o.parentNode.getEndTangent(),2);y=x[0],b=x[1];n=y[0]-b[0],r=y[1]-b[1],m=Math.atan2(r,n),p=Math.cos(m)*(s||0),g=Math.sin(m)*(s||0)}for(var w=0;w<c.length;w++){var E=c[w],S=E[0],k=c[w+1],M=0===w&&(0!==h||0!==f),C=(w===c.length-1||k&&("M"===k[0]||"Z"===k[0]))&&0!==p&&0!==g;switch(S){case"M":M?t.moveTo(E[1]+h,E[2]+f):t.moveTo(E[1],E[2]);break;case"L":C?t.lineTo(E[1]+p,E[2]+g):t.lineTo(E[1],E[2]);break;case"Q":t.quadraticCurveTo(E[1],E[2],E[3],E[4]),C&&t.lineTo(E[3]+p,E[4]+g);break;case"C":t.bezierCurveTo(E[1],E[2],E[3],E[4],E[5],E[6]),C&&t.lineTo(E[5]+p,E[6]+g);break;case"A":var N=u[w].arcParams,O=N.cx,P=N.cy,T=N.rx,A=N.ry,R=N.startAngle,_=N.endAngle,L=N.xRotation,I=N.sweepFlag;if(t.ellipse)t.ellipse(O,P,T,A,L,R,_,!!(1-I));else{var D=T>A?T:A,j=T>A?1:T/A,z=T>A?A/T:1;t.translate(O,P),t.rotate(L),t.scale(j,z),t.arc(0,0,D,R,_,!!(1-I)),t.scale(1/j,1/z),t.rotate(-L),t.translate(-O,-P)}C&&t.lineTo(E[6]+p,E[7]+g);break;case"Z":t.closePath()}}}function kh(t,e){var n,r,i=e.markerStart,o=e.markerEnd,a=e.markerStartOffset,s=e.markerEndOffset,l=e.points.points,c=l.length,u=l[0][0],d=l[0][1],h=l[c-1][0],f=l[c-1][1],p=0,g=0,m=0,v=0,y=0;i&&ys(i)&&a&&(n=l[1][0]-l[0][0],r=l[1][1]-l[0][1],y=Math.atan2(r,n),p=Math.cos(y)*(a||0),g=Math.sin(y)*(a||0)),o&&ys(o)&&s&&(n=l[c-1][0]-l[0][0],r=l[c-1][1]-l[0][1],y=Math.atan2(r,n),m=Math.cos(y)*(s||0),v=Math.sin(y)*(s||0)),t.moveTo(u+(p||m),d+(g||v));for(var b=1;b<c-1;b++){var x=l[b];t.lineTo(x[0],x[1])}t.lineTo(h,f)}function Mh(t,e){var n,r,i=e.markerStart,o=e.markerEnd,a=e.markerStartOffset,s=e.markerEndOffset,l=e.points.points,c=l.length,u=l[0][0],d=l[0][1],h=l[c-1][0],f=l[c-1][1],p=0,g=0,m=0,v=0,y=0;i&&ys(i)&&a&&(n=l[1][0]-l[0][0],r=l[1][1]-l[0][1],y=Math.atan2(r,n),p=Math.cos(y)*(a||0),g=Math.sin(y)*(a||0)),o&&ys(o)&&s&&(n=l[c-2][0]-l[c-1][0],r=l[c-2][1]-l[c-1][1],y=Math.atan2(r,n),m=Math.cos(y)*(s||0),v=Math.sin(y)*(s||0)),t.moveTo(u+p,d+g);for(var b=1;b<c-1;b++){var x=l[b];t.lineTo(x[0],x[1])}t.lineTo(h+m,f+v)}function Ch(t,e){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.radius,s=e.width,l=e.height,c=s,u=l;if(a&&a.some((function(t){return 0!==t}))){var h=s>0?1:-1,f=l>0?1:-1,p=h+f===0,g=d(a.map((function(t){return Qt(t,0,Math.min(Math.abs(c)/2,Math.abs(u)/2))})),4),m=g[0],v=g[1],y=g[2],b=g[3];t.moveTo(h*m+r,o),t.lineTo(c-h*v+r,o),0!==v&&t.arc(c-h*v+r,f*v+o,v,-f*Math.PI/2,h>0?0:Math.PI,p),t.lineTo(c+r,u-f*y+o),0!==y&&t.arc(c-h*y+r,u-f*y+o,y,h>0?0:Math.PI,f>0?Math.PI/2:1.5*Math.PI,p),t.lineTo(h*b+r,u+o),0!==b&&t.arc(h*b+r,u-f*b+o,b,f>0?Math.PI/2:-Math.PI/2,h>0?Math.PI:0,p),t.lineTo(r,f*m+o),0!==m&&t.arc(h*m+r,f*m+o,m,h>0?Math.PI:0,f>0?1.5*Math.PI:Math.PI/2,p)}else t.rect(r,o,c,u)}var Nh=function(t){function e(){var e=t.apply(this,h([],d(arguments),!1))||this;return e.name="canvas-path-generator",e}return o(e,t),e.prototype.init=function(){var t,e=((t={})[Wn.CIRCLE]=xh,t[Wn.ELLIPSE]=wh,t[Wn.RECT]=Ch,t[Wn.LINE]=Eh,t[Wn.POLYLINE]=Mh,t[Wn.POLYGON]=kh,t[Wn.PATH]=Sh,t[Wn.TEXT]=void 0,t[Wn.GROUP]=void 0,t[Wn.IMAGE]=void 0,t[Wn.HTML]=void 0,t[Wn.MESH]=void 0,t);this.context.pathGeneratorFactory=e},e.prototype.destroy=function(){delete this.context.pathGeneratorFactory},e}(qn),Oh=v(),Ph=v(),Th=v(),Ah=I(),Rh=function(){function t(){var t=this;this.isHit=function(e,n,r,i){var o=t.context.pointInPathPickerFactory[e.nodeName];if(o){var a=V(Ah,r),s=A(Ph,E(Th,n[0],n[1],0),a);if(o(e,new br(s[0],s[1]),i,t.isPointInPath,t.context,t.runtime))return!0}return!1},this.isPointInPath=function(e,n){var r=t.runtime.offscreenCanvasCreator.getOrCreateContext(t.context.config.offscreenCanvas),i=t.context.pathGeneratorFactory[e.nodeName];return i&&(r.beginPath(),i(r,e.parsedStyle),r.closePath()),r.isPointInPath(n.x,n.y)}}return t.prototype.apply=function(e,n){var r,i=this,o=e.renderingService,a=e.renderingContext;this.context=e,this.runtime=n;var s=null===(r=a.root)||void 0===r?void 0:r.ownerDocument;o.hooks.pick.tapPromise(t.tag,(function(t){return l(i,void 0,void 0,(function(){return c(this,(function(e){return[2,this.pick(s,t)]}))}))})),o.hooks.pickSync.tap(t.tag,(function(t){return i.pick(s,t)}))},t.prototype.pick=function(t,e){var n,r,i=e.topmost,o=e.position,a=o.x,s=o.y,l=E(Oh,a,s,0),c=t.elementsFromBBox(l[0],l[1],l[0],l[1]),d=[];try{for(var h=u(c),f=h.next();!f.done;f=h.next()){var p=f.value,g=p.getWorldTransform();if(this.isHit(p,l,g,!1)){var m=na(p);if(m){var v=m.parsedStyle.clipPath;if(this.isHit(v,l,v.getWorldTransform(),!0)){if(i)return e.picked=[p],e;d.push(p)}}else{if(i)return e.picked=[p],e;d.push(p)}}}}catch(y){n={error:y}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}return e.picked=d,e},t.tag="CanvasPicker",t}();function _h(t,e,n){var r=t.parsedStyle,i=r.cx,o=void 0===i?0:i,a=r.cy,s=void 0===a?0:a,l=r.r,c=r.fill,u=r.stroke,h=r.lineWidth,f=void 0===h?1:h,p=r.increasedLineWidthForHitTesting,g=void 0===p?0:p,m=r.pointerEvents,v=void 0===m?"auto":m,y=(f+g)/2,b=kn(o,s,e.x,e.y),x=d(aa(v,c,u),2),w=x[0],E=x[1];return w&&E||n?b<=l+y:w?b<=l:!!E&&(b>=l-y&&b<=l+y)}function Lh(t,e,n,r){return t/(n*n)+e/(r*r)}function Ih(t,e,n){var r=t.parsedStyle,i=r.cx,o=void 0===i?0:i,a=r.cy,s=void 0===a?0:a,l=r.rx,c=r.ry,u=r.fill,h=r.stroke,f=r.lineWidth,p=void 0===f?1:f,g=r.increasedLineWidthForHitTesting,m=void 0===g?0:g,v=r.pointerEvents,y=void 0===v?"auto":v,b=e.x,x=e.y,w=d(aa(y,u,h),2),E=w[0],S=w[1],k=(p+m)/2,M=(b-o)*(b-o),C=(x-s)*(x-s);return E&&S||n?Lh(M,C,l+k,c+k)<=1:E?Lh(M,C,l,c)<=1:!!S&&(Lh(M,C,l-k,c-k)>=1&&Lh(M,C,l+k,c+k)<=1)}function Dh(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function jh(t,e,n,r,i,o,a,s){var l=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI),c={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return kn(c.x,c.y,a,s)<=o/2}function zh(t,e,n,r,i,o,a){var s=Math.min(t,n),l=Math.max(t,n),c=Math.min(e,r),u=Math.max(e,r),d=i/2;return o>=s-d&&o<=l+d&&a>=c-d&&a<=u+d&&_n(t,e,n,r,o,a)<=i/2}function Fh(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(zh(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,r))return!0}if(i){var s=t[0],l=t[o-1];if(zh(s[0],s[1],l[0],l[1],e,n,r))return!0}return!1}var Bh=1e-6;function $h(t){return Math.abs(t)<Bh?0:t<0?-1:1}function Vh(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function Hh(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],s=t[(o+1)%i];if(Vh(a,s,[e,n]))return!0;$h(a[1]-n)>0!==$h(s[1]-n)>0&&$h(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function Wh(t,e,n){for(var r=!1,i=0;i<t.length;i++){if(r=Hh(t[i],e,n))break}return r}function Gh(t,e,n){var r=t.parsedStyle,i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=r.lineWidth,c=void 0===l?1:l,u=r.increasedLineWidthForHitTesting,h=void 0===u?0:u,f=r.pointerEvents;return!(!d(aa(void 0===f?"auto":f,r.fill,r.stroke),2)[1]&&!n||!c)&&zh(i,o,a,s,c+h,e.x,e.y)}function Uh(t,e,n,r,i,o){var a=t.parsedStyle,s=a.lineWidth,l=void 0===s?1:s,c=a.increasedLineWidthForHitTesting,u=void 0===c?0:c,h=a.stroke,f=a.fill,p=a.d,g=a.pointerEvents,m=void 0===g?"auto":g,v=p.segments,y=p.hasArc,b=p.polylines,x=p.polygons,w=d(aa(m,(null===x||void 0===x?void 0:x.length)&&f,h),2),E=w[0],S=w[1],k=Ui(t),M=!1;return E||n?M=y?r(t,e):Wh(x,e.x,e.y)||Wh(b,e.x,e.y):((S||n)&&(M=function(t,e,n,r,i){for(var o=!1,a=e/2,s=0;s<t.length;s++){var l=t[s],c=l.currentPoint,u=l.params,d=l.prePoint,h=l.box;if(!h||Dh(h.x-a,h.y-a,h.width+e,h.height+e,n,r))switch(l.command){case"L":case"Z":if(o=zh(d[0],d[1],c[0],c[1],e,n,r))return!0;break;case"Q":if(o=Vn(d[0],d[1],u[1],u[2],u[3],u[4],n,r)<=e/2)return!0;break;case"C":if(o=jn(d[0],d[1],u[1],u[2],u[3],u[4],u[5],u[6],n,r,i)<=e/2)return!0;break;case"A":l.cubicParams||(l.cubicParams=_e(d[0],d[1],u[1],u[2],u[3],u[4],u[5],u[6],u[7],void 0));for(var f=l.cubicParams,p=d,g=0;g<f.length;g+=6){var m=jn(p[0],p[1],f[g],f[g+1],f[g+2],f[g+3],f[g+4],f[g+5],n,r,i);if(p=[f[g+4],f[g+5]],o=m<=e/2)return!0}}}return o}(v,l+u,e.x,e.y,k)),M)}function qh(t,e,n){var r=t.parsedStyle,i=r.stroke,o=r.fill,a=r.lineWidth,s=void 0===a?1:a,l=r.increasedLineWidthForHitTesting,c=void 0===l?0:l,u=r.points,h=r.pointerEvents,f=d(aa(void 0===h?"auto":h,o,i),2),p=f[0],g=!1;return(f[1]||n)&&(g=Fh(u.points,s+c,e.x,e.y,!0)),g||!p&&!n||(g=Hh(u.points,e.x,e.y)),g}function Yh(t,e,n){var r=t.parsedStyle,i=r.lineWidth,o=void 0===i?1:i,a=r.increasedLineWidthForHitTesting,s=void 0===a?0:a,l=r.points,c=r.pointerEvents;return!(!d(aa(void 0===c?"auto":c,r.fill,r.stroke),2)[1]&&!n||!o)&&Fh(l.points,o+s,e.x,e.y,!1)}function Xh(t,e,n,r,i){var o=t.parsedStyle,a=o.radius,s=o.fill,l=o.stroke,c=o.lineWidth,u=void 0===c?1:c,h=o.increasedLineWidthForHitTesting,f=void 0===h?0:h,p=o.x,g=void 0===p?0:p,m=o.y,v=void 0===m?0:m,y=o.width,b=o.height,x=o.pointerEvents,w=d(aa(void 0===x?"auto":x,s,l),2),E=w[0],S=w[1],k=u+f;if(a&&a.some((function(t){return 0!==t}))){var M=!1;return(S||n)&&(M=function(t,e,n,r,i,o,a,s){var l=d(i,4),c=l[0],u=l[1],h=l[2],f=l[3];return zh(t+c,e,t+n-u,e,o,a,s)||zh(t+n,e+u,t+n,e+r-h,o,a,s)||zh(t+n-h,e+r,t+f,e+r,o,a,s)||zh(t,e+r-f,t,e+c,o,a,s)||jh(t+n-u,e+u,u,Math.PI,Math.PI,o,a,s)||jh(t+n-h,e+r-h,h,0,Math.PI,o,a,s)||jh(t+f,e+r-f,f,Math.PI,Math.PI,o,a,s)||jh(t+c,e+c,c,Math.PI,Math.PI,o,a,s)}(g,v,y,b,a.map((function(t){return Qt(t,0,Math.min(Math.abs(y)/2,Math.abs(b)/2))})),k,e.x,e.y)),M||!E&&!n||(M=r(t,e)),M}var C=k/2;return E&&S||n?Dh(g-C,v-C,y+C,b+C,e.x,e.y):E?Dh(g,v,y,b,e.x,e.y):!!S&&function(t,e,n,r,i,o,a){var s=i/2;return Dh(t-s,e-s,n,i,o,a)||Dh(t+n-s,e-s,i,r,o,a)||Dh(t+s,e+r-s,n,i,o,a)||Dh(t-s,e+s,i,r,o,a)}(g,v,y,b,k,e.x,e.y)}function Kh(t,e,n,r,i,o){var s=t.parsedStyle,l=s.pointerEvents,c=void 0===l?"auto":l,u=s.x,d=void 0===u?0:u,h=s.y,f=void 0===h?0:h,p=s.width,g=s.height;if("non-transparent-pixel"===c){var m=i.config.offscreenCanvas,v=o.offscreenCanvasCreator.getOrCreateCanvas(m),y=o.offscreenCanvasCreator.getOrCreateContext(m,{willReadFrequently:!0});return v.width=p,v.height=g,i.defaultStyleRendererFactory[Wn.IMAGE].render(y,a(a({},t.parsedStyle),{x:0,y:0}),t,void 0,void 0,void 0),y.getImageData(e.x-d,e.y-f,1,1).data.every((function(t){return 0!==t}))}return!0}var Zh=function(t){function e(){var e=t.apply(this,h([],d(arguments),!1))||this;return e.name="canvas-picker",e}return o(e,t),e.prototype.init=function(){var t,e=((t={})[Wn.CIRCLE]=_h,t[Wn.ELLIPSE]=Ih,t[Wn.RECT]=Xh,t[Wn.LINE]=Gh,t[Wn.POLYLINE]=Yh,t[Wn.POLYGON]=qh,t[Wn.PATH]=Uh,t[Wn.TEXT]=function(){return!0},t[Wn.GROUP]=null,t[Wn.IMAGE]=Kh,t[Wn.HTML]=null,t[Wn.MESH]=null,t);this.context.pointInPathPickerFactory=e,this.addRenderingPlugin(new Rh)},e.prototype.destroy=function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()},e}(qn),Qh=function(){function t(t){this.canvasRendererPluginOptions=t,this.removedRBushNodeAABBs=[],this.renderQueue=[],this.restoreStack=[],this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=I(),this.dprMatrix=I(),this.tmpMat4=I(),this.vec3a=v(),this.vec3b=v(),this.vec3c=v(),this.vec3d=v()}return t.prototype.apply=function(e,n){var r=this;this.context=e;var i=e.config,o=e.camera,a=e.renderingService,s=e.renderingContext,l=e.rBushRoot,c=e.pathGeneratorFactory;this.rBush=l,this.pathGeneratorFactory=c;var u=e.contextService,f=s.root.ownerDocument.defaultView,p=function(t){var e=t.target.rBushNode;e.aabb&&r.removedRBushNodeAABBs.push(e.aabb)},g=function(t){var e=t.target.rBushNode;e.aabb&&r.removedRBushNodeAABBs.push(e.aabb)};a.hooks.init.tap(t.tag,(function(){f.addEventListener(Za.UNMOUNTED,p),f.addEventListener(Za.CULLED,g);var t=u.getDPR(),e=i.width,n=i.height,o=u.getContext();r.clearRect(o,0,0,e*t,n*t,i.background)})),a.hooks.destroy.tap(t.tag,(function(){f.removeEventListener(Za.UNMOUNTED,p),f.removeEventListener(Za.CULLED,g),r.renderQueue=[],r.removedRBushNodeAABBs=[],r.restoreStack=[]})),a.hooks.beginFrame.tap(t.tag,(function(){var t,e=u.getContext(),n=u.getDPR(),o=i.width,s=i.height,l=r.canvasRendererPluginOptions,c=l.dirtyObjectNumThreshold,d=l.dirtyObjectRatioThreshold,h=a.getStats(),p=h.total,g=h.rendered,m=g/p;r.clearFullScreen=r.clearFullScreenLastFrame||!(null===(t=f.context.renderingPlugins[1])||void 0===t?void 0:t.isFirstTimeRenderingFinished)||a.disableDirtyRectangleRendering()||g>c&&m>d,e&&(e.resetTransform?e.resetTransform():e.setTransform(1,0,0,1,0,0),r.clearFullScreen&&r.clearRect(e,0,0,o*n,s*n,i.background))}));var m=function(t,e){t.isVisible()&&!t.isCulled()&&r.renderDisplayObject(t,e,r.context,r.restoreStack,n),(t.sortable.sorted||t.childNodes).forEach((function(t){m(t,e)}))};a.hooks.endFrame.tap(t.tag,(function(){if(0!==s.root.childNodes.length){r.clearFullScreenLastFrame=!1;var t=u.getContext(),e=u.getDPR();if(J(r.dprMatrix,[e,e,1]),G(r.vpMatrix,r.dprMatrix,o.getOrthoMatrix()),r.clearFullScreen)m(s.root,t);else{var a=r.safeMergeAABB.apply(r,h([r.mergeDirtyAABBs(r.renderQueue)],d(r.removedRBushNodeAABBs.map((function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY,o=new fr;return o.setMinMax([e,n,0],[r,i,0]),o}))),!1));if(r.removedRBushNodeAABBs=[],fr.isEmpty(a))return void(r.renderQueue=[]);var l=r.convertAABB2Rect(a),c=l.x,p=l.y,g=l.width,v=l.height,y=A(r.vec3a,[c,p,0],r.vpMatrix),b=A(r.vec3b,[c+g,p,0],r.vpMatrix),x=A(r.vec3c,[c,p+v,0],r.vpMatrix),w=A(r.vec3d,[c+g,p+v,0],r.vpMatrix),E=Math.min(y[0],b[0],w[0],x[0]),S=Math.min(y[1],b[1],w[1],x[1]),k=Math.max(y[0],b[0],w[0],x[0]),M=Math.max(y[1],b[1],w[1],x[1]),C=Math.floor(E),N=Math.floor(S),O=Math.ceil(k-E),P=Math.ceil(M-S);t.save(),r.clearRect(t,C,N,O,P,i.background),t.beginPath(),t.rect(C,N,O,P),t.clip(),t.setTransform(r.vpMatrix[0],r.vpMatrix[1],r.vpMatrix[4],r.vpMatrix[5],r.vpMatrix[12],r.vpMatrix[13]),i.renderer.getConfig().enableDirtyRectangleRenderingDebug&&f.dispatchEvent(new Ua(bs.DIRTY_RECTANGLE,{dirtyRect:{x:C,y:N,width:O,height:P}})),r.searchDirtyObjects(a).sort((function(t,e){return t.sortable.renderOrder-e.sortable.renderOrder})).forEach((function(e){e&&e.isVisible()&&!e.isCulled()&&r.renderDisplayObject(e,t,r.context,r.restoreStack,n)})),t.restore(),r.renderQueue.forEach((function(t){r.saveDirtyAABB(t)})),r.renderQueue=[]}r.restoreStack.forEach((function(){t.restore()})),r.restoreStack=[]}else r.clearFullScreenLastFrame=!0})),a.hooks.render.tap(t.tag,(function(t){r.clearFullScreen||r.renderQueue.push(t)}))},t.prototype.clearRect=function(t,e,n,r,i,o){t.clearRect(e,n,r,i),o&&(t.fillStyle=o,t.fillRect(e,n,r,i))},t.prototype.renderDisplayObject=function(t,e,n,r,i){var o=t.nodeName,a=r[r.length-1];!a||t.compareDocumentPosition(a)&Ya.DOCUMENT_POSITION_CONTAINS||(e.restore(),r.pop());var s=this.context.styleRendererFactory[o],l=this.pathGeneratorFactory[o],c=t.parsedStyle.clipPath;if(c){this.applyWorldTransform(e,c);var u=this.pathGeneratorFactory[c.nodeName];u&&(e.save(),r.push(t),e.beginPath(),u(e,c.parsedStyle),e.closePath(),e.clip())}s&&(this.applyWorldTransform(e,t),e.save(),this.applyAttributesToContext(e,t)),l&&(e.beginPath(),l(e,t.parsedStyle),t.nodeName!==Wn.LINE&&t.nodeName!==Wn.PATH&&t.nodeName!==Wn.POLYLINE&&e.closePath()),s&&(s.render(e,t.parsedStyle,t,n,this,i),e.restore()),t.renderable.dirty=!1},t.prototype.convertAABB2Rect=function(t){var e=t.getMin(),n=t.getMax(),r=Math.floor(e[0]),i=Math.floor(e[1]);return{x:r,y:i,width:Math.ceil(n[0])-r,height:Math.ceil(n[1])-i}},t.prototype.mergeDirtyAABBs=function(t){var e=new fr;return t.forEach((function(t){var n=t.getRenderBounds();e.add(n);var r=t.renderable.dirtyRenderBounds;r&&e.add(r)})),e},t.prototype.searchDirtyObjects=function(t){var e=d(t.getMin(),2),n=e[0],r=e[1],i=d(t.getMax(),2),o=i[0],a=i[1];return this.rBush.search({minX:n,minY:r,maxX:o,maxY:a}).map((function(t){return t.displayObject}))},t.prototype.saveDirtyAABB=function(t){var e=t.renderable;e.dirtyRenderBounds||(e.dirtyRenderBounds=new fr);var n=t.getRenderBounds();n&&e.dirtyRenderBounds.update(n.center,n.halfExtents)},t.prototype.applyAttributesToContext=function(t,e){var n=e.parsedStyle,r=n.stroke,i=n.fill,o=n.opacity,a=n.lineDash,s=n.lineDashOffset;a&&t.setLineDash(a),Kt(s)||(t.lineDashOffset=s),Kt(o)||(t.globalAlpha*=o),Kt(r)||Array.isArray(r)||r.isNone||(t.strokeStyle=e.attributes.stroke),Kt(i)||Array.isArray(i)||i.isNone||(t.fillStyle=e.attributes.fill)},t.prototype.applyWorldTransform=function(t,e,n){n?(j(this.tmpMat4,e.getLocalTransform()),G(this.tmpMat4,n,this.tmpMat4),G(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(j(this.tmpMat4,e.getWorldTransform()),G(this.tmpMat4,this.vpMatrix,this.tmpMat4)),t.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])},t.prototype.safeMergeAABB=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new fr;return t.forEach((function(t){n.add(t)})),n},t.tag="CanvasRenderer",t}(),Jh=function(){function t(t){this.imagePool=t}return t.prototype.render=function(t,e,n,r,i,o){var a=e.fill,s=e.fillRule,l=e.opacity,c=void 0===l?1:l,u=e.fillOpacity,d=void 0===u?1:u,h=e.stroke,f=e.strokeOpacity,p=void 0===f?1:f,g=e.lineWidth,m=void 0===g?1:g,v=e.lineCap,y=e.lineJoin,b=e.shadowType,x=e.shadowColor,w=e.shadowBlur,E=e.filter,S=e.miterLimit,k=a&&!a.isNone,M=h&&!h.isNone&&m>0,C=0===(null===a||void 0===a?void 0:a.alpha),N=!(!E||!E.length),O=!Kt(x)&&w>0,P=n.nodeName,T="inner"===b,A=M&&O&&(P===Wn.PATH||P===Wn.LINE||P===Wn.POLYLINE||C||T);k&&(t.globalAlpha=c*d,A||tf(n,t,O),rf(t,n,a,s,r,i,o,this.imagePool),A||this.clearShadowAndFilter(t,N,O)),M&&(t.globalAlpha=c*p,t.lineWidth=m,Kt(S)||(t.miterLimit=S),Kt(v)||(t.lineCap=v),Kt(y)||(t.lineJoin=y),A&&(T&&(t.globalCompositeOperation="source-atop"),tf(n,t,!0),T&&(of(t,n,h,r,i,o,this.imagePool),t.globalCompositeOperation="source-over",this.clearShadowAndFilter(t,N,!0))),of(t,n,h,r,i,o,this.imagePool))},t.prototype.clearShadowAndFilter=function(t,e,n){if(n&&(t.shadowColor="transparent",t.shadowBlur=0),e){var r=t.filter;!Kt(r)&&r.indexOf("drop-shadow")>-1&&(t.filter=r.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}},t}();function tf(t,e,n){var r=t.parsedStyle,i=r.filter,o=r.shadowColor,a=r.shadowBlur,s=r.shadowOffsetX,l=r.shadowOffsetY;i&&i.length&&(e.filter=t.style.filter),n&&(e.shadowColor=o.toString(),e.shadowBlur=a||0,e.shadowOffsetX=s||0,e.shadowOffsetY=l||0)}function ef(t,e,n,r,i,o,a){var s,l;if("rect"===t.image.nodeName){var c=t.image.parsedStyle,u=c.width,d=c.height;l=r.contextService.getDPR();var h=r.config.offscreenCanvas;(s=o.offscreenCanvasCreator.getOrCreateCanvas(h)).width=u*l,s.height=d*l;var f=o.offscreenCanvasCreator.getOrCreateContext(h),p=[];t.image.forEach((function(t){i.renderDisplayObject(t,f,r,p,o)})),p.forEach((function(){f.restore()}))}return a.getOrCreatePatternSync(t,n,s,l,e.getGeometryBounds().min,(function(){e.renderable.dirty=!0,r.renderingService.dirtify()}))}function nf(t,e,n,r){var i;if(t.type===Lr.LinearGradient||t.type===Lr.RadialGradient){var o=e.getGeometryBounds(),s=o&&2*o.halfExtents[0]||1,l=o&&2*o.halfExtents[1]||1,c=o&&o.min||[0,0];i=r.getOrCreateGradient(a(a({type:t.type},t.value),{min:c,width:s,height:l}),n)}return i}function rf(t,e,n,r,i,o,a,s,l){void 0===l&&(l=!1),Array.isArray(n)?n.forEach((function(n){t.fillStyle=nf(n,e,t,s),l||(r?t.fill(r):t.fill())})):(Ei(n)&&(t.fillStyle=ef(n,e,t,i,o,a,s)),l||(r?t.fill(r):t.fill()))}function of(t,e,n,r,i,o,a,s){void 0===s&&(s=!1),Array.isArray(n)?n.forEach((function(n){t.strokeStyle=nf(n,e,t,a),s||t.stroke()})):(Ei(n)&&(t.strokeStyle=ef(n,e,t,r,i,o,a)),s||t.stroke())}var af=function(){function t(t){this.imagePool=t}return t.prototype.render=function(t,e,n){var r,i=e.x,o=void 0===i?0:i,a=e.y,s=void 0===a?0:a,l=e.width,c=e.height,u=e.src,d=e.shadowColor,h=e.shadowBlur,f=l,p=c;if(Zt(u)?r=this.imagePool.getImageSync(u):(f||(f=u.width),p||(p=u.height),r=u),r){tf(n,t,!Kt(d)&&h>0);try{t.drawImage(r,o,s,f,p)}catch(g){}}},t}(),sf=function(){function t(t){this.imagePool=t}return t.prototype.render=function(t,e,n,r,i,o){n.getBounds();var a=e,s=a.lineWidth,l=void 0===s?1:s,c=a.textAlign,u=void 0===c?"start":c,d=a.textBaseline,h=void 0===d?"alphabetic":d,f=a.lineJoin,p=void 0===f?"miter":f,g=a.miterLimit,m=void 0===g?10:g,v=a.letterSpacing,y=void 0===v?0:v,b=a.stroke,x=a.fill,w=a.fillRule,E=a.fillOpacity,S=void 0===E?1:E,k=a.strokeOpacity,M=void 0===k?1:k,C=a.opacity,N=void 0===C?1:C,O=a.metrics,P=a.x,T=void 0===P?0:P,A=a.y,R=void 0===A?0:A,_=a.dx,L=a.dy,I=a.shadowColor,D=a.shadowBlur,j=O.font,z=O.lines,F=O.height,B=O.lineHeight,$=O.lineMetrics;t.font=j,t.lineWidth=l,t.textAlign="middle"===u?"center":u;var V=h;o.enableCSSParsing||"alphabetic"!==V||(V="bottom"),t.lineJoin=p,Kt(m)||(t.miterLimit=m);var H=R;"middle"===h?H+=-F/2-B/2:"bottom"===h||"alphabetic"===h||"ideographic"===h?H+=-F:"top"!==h&&"hanging"!==h||(H+=-B);var W=T+(_||0);H+=L||0,1===z.length&&("bottom"===V?(V="middle",H-=.5*F):"top"===V&&(V="middle",H+=.5*F)),t.textBaseline=V,tf(n,t,!Kt(I)&&D>0);for(var G=0;G<z.length;G++){var U=l/2+W;H+=B,Kt(b)||b.isNone||!l||this.drawLetterSpacing(t,n,z[G],$[G],u,U,H,y,x,w,S,b,M,N,!0,r,i,o),Kt(x)||this.drawLetterSpacing(t,n,z[G],$[G],u,U,H,y,x,w,S,b,M,N,!1,r,i,o)}},t.prototype.drawLetterSpacing=function(t,e,n,r,i,o,a,s,l,c,u,d,h,f,p,g,m,v){if(0!==s){var y=t.textAlign;t.textAlign="left";var b=o;"center"===i||"middle"===i?b=o-r.width/2:"right"!==i&&"end"!==i||(b=o-r.width);for(var x=Array.from(n),w=t.measureText(n).width,E=0,S=0;S<x.length;++S){var k=x[S];p?this.strokeText(t,e,k,b,a,d,h,g,m,v):this.fillText(t,e,k,b,a,l,c,u,f,g,m,v),b+=w-(E=t.measureText(n.substring(S+1)).width)+s,w=E}t.textAlign=y}else p?this.strokeText(t,e,n,o,a,d,h,g,m,v):this.fillText(t,e,n,o,a,l,c,u,f,g,m,v)},t.prototype.fillText=function(t,e,n,r,i,o,a,s,l,c,u,d){var h;rf(t,e,o,a,c,u,d,this.imagePool,!0);var f=!Kt(s)&&1!==s;f&&(h=t.globalAlpha,t.globalAlpha=s*l),t.fillText(n,r,i),f&&(t.globalAlpha=h)},t.prototype.strokeText=function(t,e,n,r,i,o,a,s,l,c){var u;of(t,e,o,s,l,c,this.imagePool,!0);var d=!Kt(a)&&1!==a;d&&(u=t.globalAlpha,t.globalAlpha=a),t.strokeText(n,r,i),d&&(t.globalAlpha=u)},t}(),lf=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}o(e,t)}(Jh),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}o(e,t)}(Jh),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}o(e,t)}(Jh),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}o(e,t)}(Jh),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}o(e,t)}(Jh),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}o(e,t)}(Jh),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}o(e,t)}(Jh),function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.options=e,n.name="canvas-renderer",n}return o(e,t),e.prototype.init=function(){var t,e=a({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),n=this.context.imagePool,r=new Jh(n),i=((t={})[Wn.CIRCLE]=r,t[Wn.ELLIPSE]=r,t[Wn.RECT]=r,t[Wn.IMAGE]=new af(n),t[Wn.TEXT]=new sf(n),t[Wn.LINE]=r,t[Wn.POLYLINE]=r,t[Wn.POLYGON]=r,t[Wn.PATH]=r,t[Wn.GROUP]=void 0,t[Wn.HTML]=void 0,t[Wn.MESH]=void 0,t);this.context.defaultStyleRendererFactory=i,this.context.styleRendererFactory=i,this.addRenderingPlugin(new Qh(e))},e.prototype.destroy=function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory},e}(qn)),cf=function(){function t(){}return t.prototype.apply=function(e,n){var r=this,i=e.renderingService,o=e.renderingContext,a=e.config;this.context=e;var s=o.root.ownerDocument.defaultView,l=function(t){i.hooks.pointerMove.call(t)},c=function(t){i.hooks.pointerUp.call(t)},u=function(t){i.hooks.pointerDown.call(t)},d=function(t){i.hooks.pointerOver.call(t)},h=function(t){i.hooks.pointerOut.call(t)},f=function(t){i.hooks.pointerCancel.call(t)},p=function(t){i.hooks.pointerWheel.call(t)},g=function(t){i.hooks.click.call(t)};i.hooks.init.tap(t.tag,(function(){var t=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(t.style.msContentZooming="none",t.style.msTouchAction="none"):s.supportsPointerEvents&&(t.style.touchAction="none"),s.supportsPointerEvents?function(t){n.globalThis.document.addEventListener("pointermove",l,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("pointerleave",h,!0),t.addEventListener("pointerover",d,!0),n.globalThis.addEventListener("pointerup",c,!0),n.globalThis.addEventListener("pointercancel",f,!0)}(t):function(t){n.globalThis.document.addEventListener("mousemove",l,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("mouseout",h,!0),t.addEventListener("mouseover",d,!0),n.globalThis.addEventListener("mouseup",c,!0)}(t),s.supportsTouchEvents&&function(t){t.addEventListener("touchstart",u,!0),t.addEventListener("touchend",c,!0),t.addEventListener("touchmove",l,!0),t.addEventListener("touchcancel",f,!0)}(t),a.useNativeClickEvent&&t.addEventListener("click",g,!0),t.addEventListener("wheel",p,{passive:!0,capture:!0})})),i.hooks.destroy.tap(t.tag,(function(){var t=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(t.style.msContentZooming="",t.style.msTouchAction=""):s.supportsPointerEvents&&(t.style.touchAction=""),s.supportsPointerEvents?function(t){n.globalThis.document.removeEventListener("pointermove",l,!0),t.removeEventListener("pointerdown",u,!0),t.removeEventListener("pointerleave",h,!0),t.removeEventListener("pointerover",d,!0),n.globalThis.removeEventListener("pointerup",c,!0)}(t):function(t){n.globalThis.document.removeEventListener("mousemove",l,!0),t.removeEventListener("mousedown",u,!0),t.removeEventListener("mouseout",h,!0),t.removeEventListener("mouseover",d,!0),n.globalThis.removeEventListener("mouseup",c,!0)}(t),s.supportsTouchEvents&&function(t){t.removeEventListener("touchstart",u,!0),t.removeEventListener("touchend",c,!0),t.removeEventListener("touchmove",l,!0),t.removeEventListener("touchcancel",f,!0)}(t),a.useNativeClickEvent&&t.removeEventListener("click",g,!0),t.removeEventListener("wheel",p,!0)}))},t.tag="DOMInteraction",t}(),uf=function(t){function e(){var e=t.apply(this,h([],d(arguments),!1))||this;return e.name="dom-interaction",e}return o(e,t),e.prototype.init=function(){this.addRenderingPlugin(new cf)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(qn),df=function(){function t(){this.displayObjectHTMLElementMap=new WeakMap}return t.prototype.joinTransformMatrix=function(t,e){return void 0===e&&(e=[0,0,0]),"matrix(".concat([t[0],t[1],t[4],t[5],t[12]+e[0],t[13]+e[1]].join(","),")")},t.prototype.apply=function(e,n){var r=this,i=e.camera,o=e.renderingContext,a=e.renderingService;this.context=e;var s=o.root.ownerDocument.defaultView,l=s.context.eventService.nativeHTMLMap,c=function(t,e){e.style.transform=r.joinTransformMatrix(t.getWorldTransform(),t.getOrigin())},u=function(t){var e=t.target;if(e.nodeName===Wn.HTML){r.$camera||(r.$camera=r.createCamera(i));var o=r.getOrCreateEl(e);if(r.$camera.appendChild(o),n.enableCSSParsing){var a=e.ownerDocument.documentElement.attributes;Object.keys(a).forEach((function(t){o.style[t]=a[t]}))}Object.keys(e.attributes).forEach((function(t){r.updateAttribute(t,e)})),c(e,o),l.set(o,e)}},d=function(t){var e=t.target;if(e.nodeName===Wn.HTML&&r.$camera){var n=r.getOrCreateEl(e);n&&(n.remove(),l.delete(n))}},h=function(t){var e=t.target;if(e.nodeName===Wn.HTML){var n=t.attrName;r.updateAttribute(n,e)}},f=function(t){var e=t.target;if(e.nodeName===Wn.HTML){var n=r.getOrCreateEl(e);c(e,n)}},p=function(){if(r.$camera){var t=r.context.config,e=t.width,n=t.height;r.$camera.parentElement.style.width="".concat(e||0,"px"),r.$camera.parentElement.style.height="".concat(n||0,"px")}};a.hooks.init.tap(t.tag,(function(){s.addEventListener(bs.RESIZE,p),s.addEventListener(Za.MOUNTED,u),s.addEventListener(Za.UNMOUNTED,d),s.addEventListener(Za.ATTR_MODIFIED,h),s.addEventListener(Za.BOUNDS_CHANGED,f)})),a.hooks.endFrame.tap(t.tag,(function(){r.$camera&&o.renderReasons.has($a.CAMERA_CHANGED)&&(r.$camera.style.transform=r.joinTransformMatrix(i.getOrthoMatrix()))})),a.hooks.destroy.tap(t.tag,(function(){r.$camera&&r.$camera.remove(),s.removeEventListener(bs.RESIZE,p),s.removeEventListener(Za.MOUNTED,u),s.removeEventListener(Za.UNMOUNTED,d),s.removeEventListener(Za.ATTR_MODIFIED,h),s.removeEventListener(Za.BOUNDS_CHANGED,f)}))},t.prototype.createCamera=function(t){var e=this.context.config,n=e.document,r=e.width,i=e.height,o=this.context.contextService.getDomElement(),a=o.parentNode;if(a){var s="g-canvas-camera",l=a.querySelector("#"+s);if(!l){var c=(n||document).createElement("div");c.style.overflow="hidden",c.style.pointerEvents="none",c.style.position="absolute",c.style.left="0px",c.style.top="0px",c.style.width="".concat(r||0,"px"),c.style.height="".concat(i||0,"px");var u=(n||document).createElement("div");l=u,u.id=s,u.style.position="absolute",u.style.left="".concat(o.offsetLeft||0,"px"),u.style.top="".concat(o.offsetTop||0,"px"),u.style.transformOrigin="left top",u.style.transform=this.joinTransformMatrix(t.getOrthoMatrix()),u.style.pointerEvents="none",u.style.width="100%",u.style.height="100%",c.appendChild(u),a.appendChild(c)}return l}return null},t.prototype.getOrCreateEl=function(t){var e=this.context.config.document,n=this.displayObjectHTMLElementMap.get(t);return n||(n=(e||document).createElement("div"),t.parsedStyle.$el=n,this.displayObjectHTMLElementMap.set(t,n),t.id&&(n.id=t.id),t.name&&n.setAttribute("name",t.name),t.className&&(n.className=t.className),n.style.position="absolute",n.style["will-change"]="transform",n.style.transform=this.joinTransformMatrix(t.getWorldTransform(),t.getOrigin())),n},t.prototype.updateAttribute=function(t,e){var n=this.getOrCreateEl(e);switch(t){case"innerHTML":var r=e.parsedStyle.innerHTML;Zt(r)?n.innerHTML=r:(n.innerHTML="",n.appendChild(r));break;case"x":n.style.left="".concat(e.parsedStyle.x,"px");break;case"y":n.style.top="".concat(e.parsedStyle.y,"px");break;case"transformOrigin":var i=e.parsedStyle.transformOrigin;n.style["transform-origin"]="".concat(i[0].buildCSSText(null,null,"")," ").concat(i[1].buildCSSText(null,null,""));break;case"width":if(this.context.enableCSSParsing){var o=e.computedStyleMap().get("width");n.style.width=o.toString()}else{o=e.parsedStyle.width;n.style.width=Yt(o)?"".concat(o,"px"):o.toString()}break;case"height":if(this.context.enableCSSParsing){var a=e.computedStyleMap().get("height");n.style.height=a.toString()}else{a=e.parsedStyle.height;n.style.height=Yt(a)?"".concat(a,"px"):a.toString()}break;case"zIndex":var s=e.parsedStyle.zIndex;n.style["z-index"]="".concat(s);break;case"visibility":var l=e.parsedStyle.visibility;n.style.visibility=l;break;case"pointerEvents":var c=e.parsedStyle.pointerEvents,u=void 0===c?"auto":c;n.style.pointerEvents=u;break;case"opacity":var d=e.parsedStyle.opacity;n.style.opacity="".concat(d);break;case"fill":var h=e.parsedStyle.fill,f="";Si(h)?f=h.isNone?"transparent":e.getAttribute("fill"):Array.isArray(h)?f=e.getAttribute("fill"):Ei(h),n.style.background=f;break;case"stroke":var p=e.parsedStyle.stroke,g="";Si(p)?g=p.isNone?"transparent":e.getAttribute("stroke"):Array.isArray(p)?g=e.getAttribute("stroke"):Ei(p),n.style["border-color"]=g,n.style["border-style"]="solid";break;case"lineWidth":var m=e.parsedStyle.lineWidth;n.style["border-width"]="".concat(m||0,"px");break;case"lineDash":n.style["border-style"]="dashed";break;case"filter":var v=e.style.filter;n.style.filter=v;break;default:Kt(e.style[t])||""===e.style[t]||(n.style[t]=e.style[t])}},t.tag="HTMLRendering",t}(),hf=function(t){function e(){var e=t.apply(this,h([],d(arguments),!1))||this;return e.name="html-renderer",e}return o(e,t),e.prototype.init=function(){this.addRenderingPlugin(new df)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(qn),ff=function(){function t(t){this.canvasConfig=t,this.imageCache={},this.gradientCache={},this.patternCache={}}return t.prototype.getImageSync=function(t,e){return this.imageCache[t]?e&&e(this.imageCache[t]):this.getOrCreateImage(t).then((function(t){e&&e(t)})),this.imageCache[t]},t.prototype.getOrCreateImage=function(t){var e=this;if(this.imageCache[t])return Promise.resolve(this.imageCache[t]);var n=this.canvasConfig.createImage;return new Promise((function(r,i){var o;n?o=n(t):Jo&&(o=new window.Image),o&&(o.onload=function(){e.imageCache[t]=o,r(o)},o.onerror=function(t){i(t)},o.crossOrigin="Anonymous",o.src=t)}))},t.prototype.getOrCreatePatternSync=function(t,e,n,r,i,o){var a=this.generatePatternKey(t);if(a&&this.patternCache[a])return this.patternCache[a];var s,l=t.image,c=t.repetition,u=t.transform,d=!1;Zt(l)?s=this.getImageSync(l,o):n?(s=n,d=!0):s=l;var h=s&&e.createPattern(s,c);if(h){var f=void 0;f=u?Oa(go(u),new Cs({})):B(I()),d&&q(f,f,[1/r,1/r,1]),h.setTransform({a:f[0],b:f[1],c:f[4],d:f[5],e:f[12]+i[0],f:f[13]+i[1]})}return a&&h&&(this.patternCache[a]=h),h},t.prototype.getOrCreateGradient=function(t,e){var n=this.generateGradientKey(t),r=t.type,i=t.steps,o=t.min,a=t.width,s=t.height,l=t.angle,c=t.cx,u=t.cy,d=t.size;if(this.gradientCache[n])return this.gradientCache[n];var h=null;if(r===Lr.LinearGradient){var f=function(t,e,n,r){var i=er(r.value),o=0+e/2,a=0+n/2,s=Math.abs(e*Math.cos(i))+Math.abs(n*Math.sin(i));return{x1:t[0]+o-Math.cos(i)*s/2,y1:t[1]+a-Math.sin(i)*s/2,x2:t[0]+o+Math.cos(i)*s/2,y2:t[1]+a+Math.sin(i)*s/2}}(o,a,s,l),p=f.x1,g=f.y1,m=f.x2,v=f.y2;h=e.createLinearGradient(p,g,m,v)}else if(r===Lr.RadialGradient){var y=function(t,e,n,r,i,o){var a=r.value,s=i.value;r.unit===Sr.kPercentage&&(a=r.value/100*e),i.unit===Sr.kPercentage&&(s=i.value/100*n);var l=Math.max(Xt([0,0],[a,s]),Xt([0,n],[a,s]),Xt([e,n],[a,s]),Xt([e,0],[a,s]));return o&&(o instanceof Xr?l=o.value:o instanceof $r&&("closest-side"===o.value?l=Math.min(a,e-a,s,n-s):"farthest-side"===o.value?l=Math.max(a,e-a,s,n-s):"closest-corner"===o.value&&(l=Math.min(Xt([0,0],[a,s]),Xt([0,n],[a,s]),Xt([e,n],[a,s]),Xt([e,0],[a,s]))))),{x:a+t[0],y:s+t[1],r:l}}(o,a,s,c,u,d),b=y.x,x=y.y,w=y.r;h=e.createRadialGradient(b,x,0,b,x,w)}return h&&(i.forEach((function(t){var e=t.offset,n=t.color;e.unit===Sr.kPercentage&&(null===h||void 0===h||h.addColorStop(e.value/100,n.toString()))})),this.gradientCache[n]=h),this.gradientCache[n]},t.prototype.generateGradientKey=function(t){var e=t.type,n=t.min,r=t.width,i=t.height,o=t.steps,a=t.angle,s=t.cx,l=t.cy,c=t.size;return"gradient-".concat(e,"-").concat((null===a||void 0===a?void 0:a.toString())||0,"-").concat((null===s||void 0===s?void 0:s.toString())||0,"-").concat((null===l||void 0===l?void 0:l.toString())||0,"-").concat((null===c||void 0===c?void 0:c.toString())||0,"-").concat(n[0],"-").concat(n[1],"-").concat(r,"-").concat(i,"-").concat(o.map((function(t){var e=t.offset,n=t.color;return"".concat(e).concat(n)})).join("-"))},t.prototype.generatePatternKey=function(t){var e=t.image,n=t.repetition;return Zt(e)?"pattern-".concat(e,"-").concat(n):"rect"===e.nodeName?"pattern-".concat(e.entity,"-").concat(n):void 0},t}(),pf=function(){function t(){}return t.prototype.apply=function(e){var n=e.renderingService,r=e.renderingContext,i=e.imagePool,o=r.root.ownerDocument.defaultView,a=function(t,e,n){var r=t.parsedStyle,i=r.width,o=r.height;i&&!o?t.setAttribute("height",n/e*i):!i&&o&&t.setAttribute("width",e/n*o)},s=function(t){var e=t.target,r=e.nodeName,o=e.attributes;if(r===Wn.IMAGE){var s=o.src,l=o.keepAspectRatio;Zt(s)&&i.getImageSync(s,(function(t){var r=t.width,i=t.height;l&&a(e,r,i),e.renderable.dirty=!0,n.dirtify()}))}},l=function(t){var e=t.target,r=t.attrName,o=t.newValue;e.nodeName===Wn.IMAGE&&"src"===r&&Zt(o)&&i.getOrCreateImage(o).then((function(t){var r=t.width,i=t.height;e.attributes.keepAspectRatio&&a(e,r,i),e.renderable.dirty=!0,n.dirtify()}))};n.hooks.init.tap(t.tag,(function(){o.addEventListener(Za.MOUNTED,s),o.addEventListener(Za.ATTR_MODIFIED,l)})),n.hooks.destroy.tap(t.tag,(function(){o.removeEventListener(Za.MOUNTED,s),o.removeEventListener(Za.ATTR_MODIFIED,l)}))},t.tag="LoadImage",t}(),gf=function(t){function e(){var e=t.apply(this,h([],d(arguments),!1))||this;return e.name="image-loader",e}return o(e,t),e.prototype.init=function(){this.context.imagePool=new ff(this.context.config),this.addRenderingPlugin(new pf)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(qn),mf=function(){function t(t){this.renderingContext=t.renderingContext,this.canvasConfig=t.config}return t.prototype.init=function(){var t=this.canvasConfig,e=t.container,n=t.canvas;if(n)this.$canvas=n,e&&n.parentElement!==e&&e.appendChild(n),this.$container=n.parentElement,this.canvasConfig.container=this.$container;else if(e&&(this.$container=Zt(e)?document.getElementById(e):e,this.$container)){var r=document.createElement("canvas");this.$container.appendChild(r),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=r}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)},t.prototype.getContext=function(){return this.context},t.prototype.getDomElement=function(){return this.$canvas},t.prototype.getDPR=function(){return this.dpr},t.prototype.getBoundingClientRect=function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()},t.prototype.destroy=function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)},t.prototype.resize=function(t,e){var n=this.canvasConfig.devicePixelRatio||Jo&&window.devicePixelRatio||1;n=n>=1?Math.ceil(n):1,this.dpr=n,this.$canvas&&(this.$canvas.width=this.dpr*t,this.$canvas.height=this.dpr*e,function(t,e,n){Jo&&t.style&&(t.style.width=e+"px",t.style.height=n+"px")}(this.$canvas,t,e)),this.renderingContext.renderReasons.add($a.CAMERA_CHANGED)},t.prototype.applyCursorStyle=function(t){this.$container&&this.$container.style&&(this.$container.style.cursor=t)},t.prototype.toDataURL=function(t){return void 0===t&&(t={}),l(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){return e=t.type,n=t.encoderOptions,[2,this.context.canvas.toDataURL(e,n)]}))}))},t}(),vf=function(t){function e(){var e=t.apply(this,h([],d(arguments),!1))||this;return e.name="canvas-context-register",e}return o(e,t),e.prototype.init=function(){this.context.ContextService=mf},e.prototype.destroy=function(){delete this.context.ContextService},e}(qn),yf=function(t){function e(e){var n=t.call(this,e)||this;return n.registerPlugin(new vf),n.registerPlugin(new gf),n.registerPlugin(new Nh),n.registerPlugin(new lf),n.registerPlugin(new uf),n.registerPlugin(new Zh),n.registerPlugin(new hf),n}return o(e,t),e}(Yn);const bf=function(t,e){if(t)if(Me(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(He(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break};var xf=Object.prototype.hasOwnProperty;const wf=function(t,e){if(null===t||!Yc(t))return{};var n={};return bf(e,(function(e){xf.call(t,e)&&(n[e]=t[e])})),n};class Ef extends fh{static defaultStyleProps={size:[160,80],halo:!1,icon:!1,label:!1,pointerEvents:"auto"};constructor(t){super({...t,style:Object.assign({},Ef.defaultStyleProps,t.style)})}rootPointerEvent=(()=>new Wa(null))();get eventService(){return this.context.canvas.context.eventService}get events(){return[Nc.CLICK,Nc.POINTER_DOWN,Nc.POINTER_MOVE,Nc.POINTER_UP,Nc.POINTER_OVER,Nc.POINTER_LEAVE]}getDomElement(){return this.getShape("key").getDomElement()}getKeyStyle(t){const{dx:e=0,dy:n=0,...r}=wf(t,["dx","dy","innerHTML","pointerEvents","cursor"]),[i,o]=this.getSize(t);return{x:e,y:n,...r,width:i,height:o}}drawKeyShape(t,e){const n=this.getKeyStyle(t),{x:r,y:i,width:o=0,height:a=0}=n,s=this.upsert("key-container",js,{x:r,y:i,width:o,height:a,opacity:0},e);return this.upsert("key",As,n,s)}connectedCallback(){if(!(this.context.canvas.getRenderer("main")instanceof yf))return;const t=this.getDomElement();this.events.forEach((e=>{t.addEventListener(e,this.forwardEvents)}))}attributeChangedCallback(t,e,n){"zIndex"===t&&e!==n&&(this.getDomElement().style.zIndex=n)}destroy(){const t=this.getDomElement();this.events.forEach((e=>{t.removeEventListener(e,this.forwardEvents)})),super.destroy()}forwardEvents=t=>{const e=this.context.canvas,n=e.context.renderingContext.root.ownerDocument.defaultView;this.normalizeToPointerEvent(t,n).forEach((r=>{const i=this.bootstrapEvent(this.rootPointerEvent,r,n,t);kd(e.context.eventService,"mappingTable.pointerupoutside",[]),e.context.eventService.mapEvent(i)}))};normalizeToPointerEvent(t,e){const n=[];if(e.isTouchEvent(t))for(let r=0;r<t.changedTouches.length;r++){const e=t.changedTouches[r];$e(e.button)&&(e.button=0),$e(e.buttons)&&(e.buttons=1),$e(e.isPrimary)&&(e.isPrimary=1===t.touches.length&&"touchstart"===t.type),$e(e.width)&&(e.width=e.radiusX||1),$e(e.height)&&(e.height=e.radiusY||1),$e(e.tiltX)&&(e.tiltX=0),$e(e.tiltY)&&(e.tiltY=0),$e(e.pointerType)&&(e.pointerType="touch"),$e(e.pointerId)&&(e.pointerId=e.identifier||0),$e(e.pressure)&&(e.pressure=e.force||.5),$e(e.twist)&&(e.twist=0),$e(e.tangentialPressure)&&(e.tangentialPressure=0),e.isNormalized=!0,e.type=t.type,n.push(e)}else if(e.isMouseEvent(t)){const e=t;$e(e.isPrimary)&&(e.isPrimary=!0),$e(e.width)&&(e.width=1),$e(e.height)&&(e.height=1),$e(e.tiltX)&&(e.tiltX=0),$e(e.tiltY)&&(e.tiltY=0),$e(e.pointerType)&&(e.pointerType="mouse"),$e(e.pointerId)&&(e.pointerId=1),$e(e.pressure)&&(e.pressure=.5),$e(e.twist)&&(e.twist=0),$e(e.tangentialPressure)&&(e.tangentialPressure=0),e.isNormalized=!0,n.push(e)}else n.push(t);return n}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.ctrlKey=e.ctrlKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.screen.x=e.screenX,t.screen.y=e.screenY,t.relatedTarget=null}bootstrapEvent(t,e,n,r){t.view=n,t.originalEvent=null,t.nativeEvent=r,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e);const{x:i,y:o}=this.getViewportXY(e);t.viewport.x=i,t.viewport.y=o;const[a,s]=this.context.canvas.getCanvasByViewport([i,o]);return t.canvas.x=a,t.canvas.y=s,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.isTrusted=r.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t}getViewportXY(t){let e,n;const{offsetX:r,offsetY:i,clientX:o,clientY:a}=t;if(!this.context.canvas.context.config.supportsCSSTransform||Kt(r)||Kt(i)){const t=this.eventService.client2Viewport({x:o,y:a});e=t.x,n=t.y}else e=r,n=i;return{x:e,y:n}}onframe(){super.onframe();const{opacity:t}=this.attributes;this.getDomElement().style.opacity=`${t}`}}class Sf extends fh{static defaultStyleProps={size:32};constructor(t){super(Ld({style:Sf.defaultStyleProps},t))}getKeyStyle(t){const[e,n]=this.getSize(t),{fillOpacity:r,opacity:i=r,...o}=super.getKeyStyle(t);return{opacity:i,...o,width:e,height:n,x:-e/2,y:-n/2}}getHaloStyle(t){if(!1===t.halo)return!1;const{fill:e,stroke:n,...r}=this.getShape("key").attributes,i=Pd(this.getGraphicStyle(t),"halo"),o=Number(i.lineWidth),[a,s]=_u(this.getSize(t),[o,o]);return{...i,width:a,height:s,fill:"transparent",x:-a/2,y:-s/2}}getIconStyle(t){const e=super.getIconStyle(t),[n,r]=this.getSize(t);return!!e&&{width:n*gd,height:r*gd,...e}}drawKeyShape(t,e){const n=this.upsert("key",ah,this.getKeyStyle(t),e);return ch(this),n}drawHaloShape(t,e){this.upsert("halo",js,this.getHaloStyle(t),e)}update(t){super.update(t),t&&("x"in t||"y"in t||"z"in t)&&uh(this)}}class kf extends fh{constructor(t){super(t)}getKeyStyle(t){const[e,n]=this.getSize(t);return{...super.getKeyStyle(t),width:e,height:n,x:-e/2,y:-n/2}}getIconStyle(t){const e=super.getIconStyle(t),{width:n,height:r}=this.getShape("key").attributes;return!!e&&{width:n*gd,height:r*gd,...e}}drawKeyShape(t,e){return this.upsert("key",js,this.getKeyStyle(t),e)}}class Mf extends gh{static defaultStyleProps={size:40,direction:"up"};constructor(t){super(Ld({style:Mf.defaultStyleProps},t))}getPoints(t){const{direction:e}=t,[n,r]=this.getSize(t);return function(t,e,n){const r=e/2,i=t/2,o={up:[[-i,r],[i,r],[0,-r]],left:[[-i,0],[i,r],[i,-r]],right:[[-i,r],[-i,-r],[i,0]],down:[[-i,-r],[i,-r],[0,r]]};return o[n]||o.up}(n,r,e)}getPortXY(t,e){const{direction:n}=t,{placement:r="top"}=e,i=this.getShape("key").getLocalBounds(),[o,a]=this.getSize(t),s=function(t,e,n){const r=e/2,i=t/2,o={};"down"===n?(o.bottom=o.default=[0,r],o.right=[i,-r],o.left=[-i,-r]):"left"===n?(o.top=[i,-r],o.bottom=[i,r],o.left=o.default=[-i,0]):"right"===n?(o.top=[-i,-r],o.bottom=[-i,r],o.right=o.default=[i,0]):(o.left=[-i,r],o.top=o.default=[0,-r],o.right=[i,r]);return o}(o,a,n);return Op(i,r,s,!1)}getIconStyle(t){const{icon:e,iconText:n,iconSrc:r,direction:i}=t;if(!1===e||Zd(n||r))return!1;const o=Pd(this.getGraphicStyle(t),"icon"),a=this.getShape("key").getLocalBounds(),[s,l]=function(t,e){const{center:n}=t,[r,i]=Eu(t);return["up"===e||"down"===e?n[0]:"right"===e?n[0]-r/6:n[0]+r/6,"left"===e||"right"===e?n[1]:"down"===e?n[1]-i/6:n[1]+i/6]}(a,i),c=2*function(t,e){let[n,r]=Eu(t);return[n,r]="up"===e||"down"===e?[n,r]:[r,n],(r**2-(Math.sqrt((n/2)**2+r**2)-n/2)**2)/(2*r)}(a,i)*gd;return{x:s,y:l,width:c,height:c,...o}}}class Cf extends fh{type="combo";static defaultStyleProps={childrenNode:[],droppable:!0,draggable:!0,collapsed:!1,collapsedSize:32,collapsedMarker:!0,collapsedMarkerZIndex:1,collapsedMarkerFontSize:12,collapsedMarkerTextAlign:"center",collapsedMarkerTextBaseline:"middle",collapsedMarkerType:"child-count"};constructor(t){super(Ld({style:Cf.defaultStyleProps},t)),this.updateComboPosition(this.parsedAttributes)}getKeySize(t){const{collapsed:e,childrenNode:n=[]}=t;return 0===n.length?this.getEmptyKeySize(t):e?this.getCollapsedKeySize(t):this.getExpandedKeySize(t)}getEmptyKeySize(t){const{padding:e,collapsedSize:n}=t,[r,i,o,a]=bu(e);return _u(Rd(n),[a+i,r+o,0])}getCollapsedKeySize(t){return Rd(t.collapsedSize)}getExpandedKeySize(t){const e=this.getContentBBox(t);return[xu(e),wu(e),0]}getContentBBox(t){const{context:e,childrenNode:n=[],padding:r}=t,i=n.map((t=>e.element.getElement(t))).filter(Boolean);if(0===i.length){const e=new fr,{x:n=0,y:r=0,size:i}=t,[o,a]=Rd(i);return e.setMinMax([n-o/2,r-a/2,0],[n+o/2,r+a/2,0]),e}const o=Cu(i.map((t=>t.getBounds())));return r?Mu(o,r):o}drawCollapsedMarkerShape(t,e){const n=this.getCollapsedMarkerStyle(t);Dd(this,"collapsedMarker",n)&&(this.upsert("collapsed-marker",dh,n,e),ch(this))}getCollapsedMarkerStyle(t){if(!t.collapsed||!t.collapsedMarker)return!1;const{type:e,...n}=Pd(this.getGraphicStyle(t),"collapsedMarker"),r=this.getShape("key"),[i,o]=Qu(r.getLocalBounds(),"center"),a={...n,x:i,y:o};if(e){const n=this.getCollapsedMarkerText(e,t);Object.assign(a,{text:n})}return a}getCollapsedMarkerText(t,e){const{context:n,childrenData:r=[]}=e,{model:i}=n;return"descendant-count"===t?i.getDescendantsData(this.id).length.toString():"child-count"===t?r.length.toString():"node-count"===t?i.getDescendantsData(this.id).filter((t=>"node"===i.getElementType(Qc(t)))).length.toString():pu(t)?t(r):""}getComboZIndex(t){return(this.context.model.getAncestorsData(this.id,_c)||[]).length}getComboPosition(t){const{x:e=0,y:n=0,collapsed:r,context:i,childrenData:o=[]}=t;if(0===o.length)return[+e,+n,0];if(r){const{model:t}=i,r=t.getDescendantsData(this.id).filter((e=>!t.isCombo(Qc(e))));if(r.length>0&&r.some(Ku)){return Du(r.reduce(((t,e)=>_u(t,Xu(e))),[0,0,0]),r.length)}return[+e,+n,0]}return this.getContentBBox(t).center}getComboStyle(t){const{zIndex:e=this.getComboZIndex(t)}=t,[n,r]=this.getComboPosition(t);return{x:n,y:r,transform:`translate(${n}, ${r})`,zIndex:e}}updateComboPosition(t){const e=this.getComboStyle(t);Object.assign(this.style,e);const{x:n,y:r}=e;this.context.model.syncComboDatum({id:this.id,style:{x:n,y:r}}),uh(this)}render(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;super.render(t,e),this.drawCollapsedMarkerShape(t,e)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super.update(t),this.updateComboPosition(this.parsedAttributes)}onframe(){super.onframe(),this.attributes.collapsed||this.updateComboPosition(this.parsedAttributes),this.drawKeyShape(this.parsedAttributes,this)}animate(t,e){const n=super.animate(this.attributes.collapsed?t:t.map((t=>{let{x:e,y:n,z:r,transform:i,...o}=t;return o})),e);return n?new Proxy(n,{set:(t,e,n)=>("currentTime"===e&&Promise.resolve().then((()=>this.onframe())),Reflect.set(t,e,n))}):n}}const Nf=function(t,e){if(!yc(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];e(i,r)&&n.push(i)}return n};const Of=function(t,e){return!!yc(t)&&t.indexOf(e)>-1};const Pf=function(t,e){return void 0===e&&(e=[]),Nf(t,(function(t){return!Of(e,t)}))},Tf={padding:10};function Af(t,e,n,r,i,o){const{padding:a}=Object.assign(Tf,o),s=Su(n,a),l=Su(r,a),c=[t,...i,e];let u=null;const d=[];for(let p=0,g=c.length;p<g-1;p++){const t=p+1,e=c[p],n=c[t],r=rd(h=e,f=n)||function(t,e){return t[0]===e[0]}(h,f);let i=null;if(0===p)if(t===g-1)if(s.intersects(l))i=Bf(e,n,s,l);else if(Pu(e,s)||Pu(n,l))r||(i=Ff(e,n,s,l));else{const t=Au(e,s),r=Au(n,l);i=Df(t,r,Lf(t,r)),i.points.unshift(t),i.points.push(r)}else Nu(n,s)?i=Bf(e,n,s,Su(n,a),u):r||(i=jf(e,n,s));else t===g-1?Nu(e,l)?i=Bf(e,n,Su(e,a),l,u):r||(i=zf(e,n,l,u)):r||(i=Df(e,n,u));i?(d.push(...i.points),u=i.direction):u=Lf(e,n),t<g-1&&d.push(n)}var h,f;return d.map(Hu)}const Rf={N:"S",S:"N",W:"E",E:"W"},_f={N:-Math.PI/2,S:Math.PI/2,E:0,W:Math.PI};function Lf(t,e){const[n,r]=t,[i,o]=e;return n===i?r>o?"N":"S":r===o?n>i?"W":"E":null}function If(t,e){return"N"===e||"S"===e?wu(t):xu(t)}function Df(t,e,n){const r=[t[0],e[1]],i=[e[0],t[1]],o=Lf(t,r),a=Lf(t,i),s=n?Rf[n]:null,l=o===n||o!==s&&a!==n?r:i;return{points:[l],direction:Lf(l,e)}}function jf(t,e,n){if(Pu(t,n)){const r=$f(t,e,n);return{points:[r],direction:Lf(r,e)}}{const r=Au(t,n),i=["left","right"].includes(Tu(t,n))?[e[0],r[1]]:[r[0],e[1]];return{points:[i],direction:Lf(i,e)}}}function zf(t,e,n,r){const i=Pu(e,n)?e:Au(e,n),o=[[i[0],t[1]],[t[0],i[1]]],a=o.filter((t=>function(t,e){return!Nu(t,e)}(t,n)&&!Ou(t,n,!0))),s=a.filter((e=>Lf(e,t)!==r));if(s.length>0){const n=s.find((e=>Lf(t,e)===r))||s[0];return{points:[n],direction:Lf(n,e)}}{const i=nd(e,Pf(o,a)[0],If(n,r)/2);return{points:[$f(i,t,n),i],direction:Lf(i,e)}}}function Ff(t,e,n,r){let i=jf(t,e,n);const o=Wu(i.points[0]);if(Nu(o,r)){i=jf(e,t,r);const a=Wu(i.points[0]);if(Nu(a,n)){const s=nd(t,o,If(n,Lf(t,o))/2),l=nd(e,a,If(r,Lf(e,a))/2),c=[(s[0]+l[0])/2,(s[1]+l[1])/2],u=jf(t,c,n),d=zf(c,e,r,u.direction);i.points=[u.points[0],d.points[0]],i.direction=d.direction}}return i}function Bf(t,e,n,r,i){const o=.01,a=Cu([n,r]),s=zu(e,a.center)>zu(t,a.center),[l,c]=s?[e,t]:[t,e],u=wu(a)+xu(a);let d;if(i){const t=[l[0]+u*Math.cos(_f[i]),l[1]+u*Math.sin(_f[i])];d=nd(Au(t,a),t,o)}else d=nd(Au(l,a),l,-.01);let h=$f(d,c,a),f=[ed(d,2),ed(h,2)];if(xc(ed(d),ed(h))){const t=$u(Lu(d,l),[1,0,0])+Math.PI/2;h=[c[0]+u*Math.cos(t),c[1]+u*Math.sin(t),0],h=ed(nd(Au(h,a),c,-.01),2);f=[d,$f(d,h,a),h]}return{points:s?f.reverse():f,direction:Lf(s?d:h,e)}}function $f(t,e,n){let r=[t[0],e[1]];return Nu(r,n)&&(r=[e[0],t[1]]),r}function Vf(t,e,n,r,i){let o="number"===typeof e?e:.5;"start"===e&&(o=0),"end"===e&&(o=.99);const a=Ju(t.getPoint(o)),s=Ju(t.getPoint(o+.01));let l="start"===e?"left":"end"===e?"right":"center";if(rd(a,s)||!n){const[e,n]=Hf(t,o,r,i);return{transform:`translate(${e}, ${n})`,textAlign:l}}let c=Math.atan2(s[1]-a[1],s[0]-a[0]);s[0]<a[0]&&(l="center"===l?l:"left"===l?"right":"left",r*=-1,c+=Math.PI);const[u,d]=Hf(t,o,r,i,c);return{textAlign:l,transform:`translate(${u}, ${d}) rotate(${c/Math.PI*180}deg)`}}function Hf(t,e,n,r,i){const[o,a]=Ju(t.getPoint(e));let s=n,l=r;return i&&(s=n*Math.cos(i)-r*Math.sin(i),l=n*Math.sin(i)+r*Math.cos(i)),[o+s,a+l]}function Wf(t,e,n,r){if(xc(t,e))return t;const i=Lu(e,t),o=[t[0]+n*i[0],t[1]+n*i[1]],a=Bu(Vu(i,!1));return o[0]+=r*a[0],o[1]+=r*a[1],o}function Gf(t,e,n){return[["M",t[0],t[1]],["C",n[0][0],n[0][1],n[1][0],n[1][1],e[0],e[1]]]}function Uf(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=t[0],i=t[t.length-1],o=t.slice(1,t.length-1),a=[["M",r[0],r[1]]];return o.forEach(((t,n)=>{const s=o[n-1]||r,l=o[n+1]||i;if(!Uu([s,c=t],[c,l])&&e){const[n,r]=function(t,e,n,r){const i=Fu(t,e),o=Fu(n,e),a=Math.min(r,Math.min(i,o)/2),s=[e[0]-a/i*(e[0]-t[0]),e[1]-a/i*(e[1]-t[1])],l=[e[0]-a/o*(e[0]-n[0]),e[1]-a/o*(e[1]-n[1])];return[s,l]}(s,t,l,e);a.push(["L",n[0],n[1]],["Q",t[0],t[1],r[0],r[1]],["L",r[0],r[1]])}else a.push(["L",t[0],t[1]]);var c})),a.push(["L",i[0],i[1]]),n&&a.push(["Z"]),a}const qf=t=>{const e=Math.PI/2,n=wu(t)/2,r=xu(t)/2,i=Math.atan2(n,r)/2,o=Math.atan2(r,n)/2;return{top:[-e-o,-e+o],"top-right":[-e+o,-i],"right-top":[-e+o,-i],right:[-i,i],"bottom-right":[i,e-o],"right-bottom":[i,e-o],bottom:[e-o,e+o],"bottom-left":[e+o,Math.PI-i],"left-bottom":[e+o,Math.PI-i],left:[Math.PI-i,Math.PI+i],"top-left":[Math.PI+i,-e-o],"left-top":[Math.PI+i,-e-o]}};function Yf(t,e,n,r,i){const o=Su(t),a=t.getCenter();let s=r&&Ap(r),l=i&&Ap(i);if(!s||!l){const r=qf(o),i=r[e][0],c=r[e][1],[u,d]=Eu(o),h=Math.max(u,d),f=_u(a,[h*Math.cos(i),h*Math.sin(i),0]),p=_u(a,[h*Math.cos(c),h*Math.sin(c),0]);s=Ip(t,f),l=Ip(t,p),n||([s,l]=[l,s])}return[s,l]}function Xf(t,e,n,r,i,o){const a=t.getPorts()[i||o],s=t.getPorts()[o||i];let[l,c]=Yf(t,e,n,a,s);const u=function(t,e,n,r){const i=t.getCenter();if(xc(e,n)){const t=Lu(e,i),o=[r*Math.sign(t[0])||r/2,r*Math.sign(t[1])||-r/2,0];return[_u(e,o),_u(n,Iu(o,[1,-1,1]))]}return[nd(i,e,zu(i,e)+r),nd(i,n,zu(i,n)+r)]}(t,l,c,r);return a&&(l=Lp(a,u[0])),s&&(c=Lp(s,u[u.length-1])),Gf(l,c,u)}function Kf(t,e,n,r,i,o,a){const s=Pp(t),l=s[o||a],c=s[a||o];let[u,d]=Yf(t,n,r,l,c);const h=function(t,e,n,r){const i=[],o=Su(t);if(xc(e,n)){switch(Tu(e,o)){case"left":i.push([e[0]-r,e[1]]),i.push([e[0]-r,e[1]+r]),i.push([e[0],e[1]+r]);break;case"right":i.push([e[0]+r,e[1]]),i.push([e[0]+r,e[1]+r]),i.push([e[0],e[1]+r]);break;case"top":i.push([e[0],e[1]-r]),i.push([e[0]+r,e[1]-r]),i.push([e[0]+r,e[1]]);break;case"bottom":i.push([e[0],e[1]+r]),i.push([e[0]+r,e[1]+r]),i.push([e[0]+r,e[1]])}}else{const t=Tu(e,o),a=Tu(n,o);if(t===a){let o,a;switch(t){case"left":o=Math.min(e[0],n[0])-r,i.push([o,e[1]]),i.push([o,n[1]]);break;case"right":o=Math.max(e[0],n[0])+r,i.push([o,e[1]]),i.push([o,n[1]]);break;case"top":a=Math.min(e[1],n[1])-r,i.push([e[0],a]),i.push([n[0],a]);break;case"bottom":a=Math.max(e[1],n[1])+r,i.push([e[0],a]),i.push([n[0],a])}}else{const s=(t,e)=>({left:[e[0]-r,e[1]],right:[e[0]+r,e[1]],top:[e[0],e[1]-r],bottom:[e[0],e[1]+r]}[t]),l=s(t,e),c=s(a,n),u=$f(l,c,o);i.push(l,u,c)}}return i}(t,u,d,i);return l&&(u=Lp(l,h[0])),c&&(d=Lp(c,h[h.length-1])),Uf([u,...h,d],e)}function Zf(t,e){const n=new Set,r=new Set,i=new Set;return t.forEach((o=>{e(o).forEach((e=>{n.add(e),t.includes(e.source)&&t.includes(e.target)?r.add(e):i.add(e)}))})),{edges:Array.from(n),internal:Array.from(r),external:Array.from(i)}}function Qf(t,e){const n=[];let r=t;for(;r;){n.push(r);const t=e(Qc(r));if(!t)break;r=t}if(n.some((t=>t.style?.collapsed))){const t=n.reverse().findIndex(Ed);return n[t]||n.at(-1)}return t}const Jf=(t,e)=>{const n=Math.max(t,e)/2;return[["M",-t/2,0],["A",n,n,0,1,0,2*n-t/2,0],["A",n,n,0,1,0,-t/2,0],["Z"]]},tp=(t,e)=>[["M",-t/2,0],["L",t/2,-e/2],["L",t/2,e/2],["Z"]],ep=(t,e)=>[["M",-t/2,0],["L",0,-e/2],["L",t/2,0],["L",0,e/2],["Z"]],np=(t,e)=>[["M",-t/2,0],["L",t/2,-e/2],["L",4*t/5-t/2,0],["L",t/2,e/2],["Z"]],rp=(t,e)=>[["M",-t/2,-e/2],["L",t/2,-e/2],["L",t/2,e/2],["L",-t/2,e/2],["Z"]],ip=(t,e)=>{const n=t/2,r=t/7,i=t-r;return[["M",-n,0],["L",0,-e/2],["L",0,e/2],["Z"],["M",i-n,-e/2],["L",i+r-n,-e/2],["L",i+r-n,e/2],["L",i-n,e/2],["Z"]]},op=(t,e)=>[["M",t/2,-e/2],["L",-t/2,0],["L",t/2,0],["L",-t/2,0],["L",t/2,e/2]];class ap extends hh{type="edge";static defaultStyleProps={badge:!0,badgeOffsetX:0,badgeOffsetY:0,badgePlacement:"suffix",isBillboard:!0,label:!0,labelAutoRotate:!0,labelIsBillboard:!0,labelMaxWidth:"80%",labelOffsetX:4,labelOffsetY:0,labelPlacement:"center",labelTextBaseline:"middle",labelWordWrap:!1,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloPointerEvents:"none",haloStrokeOpacity:.25,haloZIndex:-1,loop:!0,startArrow:!1,startArrowLineDash:0,startArrowLineJoin:"round",startArrowLineWidth:1,startArrowTransformOrigin:"center",startArrowType:"vee",endArrow:!1,endArrowLineDash:0,endArrowLineJoin:"round",endArrowLineWidth:1,endArrowTransformOrigin:"center",endArrowType:"vee",loopPlacement:"top",loopClockwise:!0};constructor(t){super(Ld({style:ap.defaultStyleProps},t))}get sourceNode(){const{context:t,sourceNode:e}=this.parsedAttributes;return t.element.getElement(e)}get targetNode(){const{context:t,targetNode:e}=this.parsedAttributes;return t.element.getElement(e)}getKeyStyle(t){const{loop:e,...n}=this.getGraphicStyle(t),{sourceNode:r,targetNode:i}=this;var o,a;return{d:e&&(a=i,(o=r)&&a&&o===a)?this.getLoopPath(t):this.getKeyPath(t),...Ad(n,["halo","label","startArrow","endArrow"])}}getLoopPath(t){const{sourcePort:e,targetPort:n}=t,r=this.sourceNode,i=Su(r),o=Math.max(xu(i),wu(i)),{placement:a,clockwise:s,dist:l=o}=Pd(this.getGraphicStyle(t),"loop");return Xf(r,a,s,l,e,n)}getEndpoints(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const{sourcePort:r,targetPort:i}=t,{sourceNode:o,targetNode:a}=this,[s,l]=function(t,e,n,r){const i=Rp(t,e,n,r),o=Rp(e,t,r,n);return[i,o]}(o,a,r,i);if(!e){return[s?Ap(s):o.getCenter(),l?Ap(l):a.getCenter()]}const c="function"===typeof n?n():n;return[_p(s||o,c[0]||l||a),_p(l||a,c[c.length-1]||s||o)]}getHaloStyle(t){if(!1===t.halo)return!1;return{...this.getKeyStyle(t),...Pd(this.getGraphicStyle(t),"halo")}}getLabelStyle(t){if(!1===t.label||!t.labelText)return!1;const e=Pd(this.getGraphicStyle(t),"label"),{placement:n,offsetX:r,offsetY:i,autoRotate:o,maxWidth:a,...s}=e,l=Vf(this.shapeMap.key,n,o,r,i),c=this.shapeMap.key.getLocalBounds(),u=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Vd(zu(t[0],t[1])*n,e)}([c.min,c.max],a);return Object.assign({wordWrapWidth:u},l,s)}getBadgeStyle(t){if(!1===t.badge||!t.badgeText)return!1;const{offsetX:e,offsetY:n,placement:r,...i}=Pd(t,"badge");return Object.assign(i,function(t,e,n,r,i){const o=2*t.badge?.getGeometryBounds().halfExtents[0]||0,a=2*t.label?.getGeometryBounds().halfExtents[0]||0;return Vf(t.key,n,!0,(a?(a/2+o/2)*("suffix"===e?1:-1):0)+r,i)}(this.shapeMap,r,t.labelPlacement,e,n))}drawArrow(t,e){const n="start"===e,r=t["start"===e?"startArrow":"endArrow"],i=this.shapeMap.key;if(r){const r=this.getArrowStyle(t,n);if(!Dd(this,`arrow-${e}`,r))return;const[o,a,s]=n?["markerStart","markerStartOffset","startArrowOffset"]:["markerEnd","markerEndOffset","endArrowOffset"],l=i.parsedStyle[o];if(l)l.attr(r);else{const t=new(r.src?Rs:Ls)({style:r});i.style[o]=t}i.style[a]=t[s]||r.width/2+ +r.lineWidth}else{const t=n?"markerStart":"markerEnd";i.style[t]?.destroy(),i.style[t]=null}}getArrowStyle(t,n){const r=this.getShape("key").attributes,i=n?"startArrow":"endArrow",{size:o,type:a,...s}=Pd(this.getGraphicStyle(t),i),[l,c]=Rd(function(t,e){return e||(t<4?10:4===t?12:2.5*t)}(r.lineWidth,o)),u=(pu(a)?a:e[a]||tp)(l,c);return Object.assign(wf(r,["stroke","strokeOpacity","fillOpacity"]),{width:l,height:c},{...u&&{d:u,fill:"simple"===a?"":r.stroke}},s)}drawLabelShape(t,e){const n=this.getLabelStyle(t);Dd(this,"label",n)&&this.upsert("label",th,n,e)}drawHaloShape(t,e){const n=this.getHaloStyle(t);Dd(this,"halo",n)&&this.upsert("halo",Ls,n,e)}drawBadgeShape(t,e){const n=this.getBadgeStyle(t);Dd(this,"badge",n)&&this.upsert("badge",eh,n,e)}drawSourceArrow(t){this.drawArrow(t,"start")}drawTargetArrow(t){this.drawArrow(t,"end")}drawKeyShape(t,e){const n=this.getKeyStyle(t);if(Dd(this,"key",n))return this.upsert("key",Ls,n,e)}render(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parsedAttributes,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this.drawKeyShape(t,e),this.getShape("key")&&(this.drawSourceArrow(t),this.drawTargetArrow(t),this.drawLabelShape(t,e),this.drawHaloShape(t,e),this.drawBadgeShape(t,e))}onframe(){this.drawKeyShape(this.parsedAttributes,this),this.drawSourceArrow(this.parsedAttributes),this.drawTargetArrow(this.parsedAttributes),this.drawHaloShape(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this),this.drawBadgeShape(this.parsedAttributes,this)}animate(t,e){const n=super.animate(t,e);return n?new Proxy(n,{set:(t,e,n)=>("currentTime"===e&&Promise.resolve().then((()=>this.onframe())),Reflect.set(t,e,n))}):n}}class sp extends ap{static defaultStyleProps={curvePosition:.5,curveOffset:20};constructor(t){super(Ld({style:sp.defaultStyleProps},t))}getKeyPath(t){const[e,n]=this.getEndpoints(t),{controlPoints:r,curvePosition:i,curveOffset:o}=t,a=this.getControlPoints(e,n,function(t){return Yt(t)?[t,1-t]:t}(i),function(t){return Yt(t)?[t,-t]:t}(o),r);return Gf(e,n,a)}getControlPoints(t,e,n,r,i){return 2===i?.length?i:[Wf(t,e,n[0],r[0]),Wf(t,e,n[1],r[1])]}}class lp extends sp{static defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]};constructor(t){super(Ld({style:lp.defaultStyleProps},t))}getControlPoints(t,e,n,r){const i=e[0]-t[0];return[[t[0]+i*n[0]+r[0],t[1]],[e[0]-i*n[1]+r[1],e[1]]]}}class cp extends sp{static defaultStyleProps={curvePosition:.5,curveOffset:20};constructor(t){super(Ld({style:cp.defaultStyleProps},t))}get ref(){return this.context.model.getRootsData()[0]}getEndpoints(t){if(this.sourceNode.id===this.ref.id)return super.getEndpoints(t);const e=Xu(this.ref);return[this.sourceNode.getIntersectPoint(e,!0),this.targetNode.getIntersectPoint(e)]}toRadialCoordinate(t){const e=Xu(this.ref);return[zu(t,e),Gu(Lu(t,e))]}getControlPoints(t,e,n,r){const[i,o]=this.toRadialCoordinate(t),[a]=this.toRadialCoordinate(e),s=a-i;return[[t[0]+(s*n[0]+r[0])*Math.cos(o),t[1]+(s*n[0]+r[0])*Math.sin(o)],[e[0]-(s*n[1]-r[0])*Math.cos(o),e[1]-(s*n[1]-r[0])*Math.sin(o)]]}}class up extends sp{static defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]};constructor(t){super(Ld({style:up.defaultStyleProps},t))}getControlPoints(t,e,n,r){const i=e[1]-t[1];return[[t[0],t[1]+i*n[0]+r[0]],[e[0],e[1]-i*n[1]+r[1]]]}}class dp extends ap{static defaultStyleProps={};constructor(t){super(Ld({style:dp.defaultStyleProps},t))}getKeyPath(t){const[e,n]=this.getEndpoints(t);return[["M",e[0],e[1]],["L",n[0],n[1]]]}}const hp={enableObstacleAvoidance:!1,offset:10,maxAllowedDirectionChange:Math.PI/2,maximumLoops:3e3,gridSize:5,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{right:{stepX:1,stepY:0},left:{stepX:-1,stepY:0},bottom:{stepX:0,stepY:1},top:{stepX:0,stepY:-1}},penalties:{0:0,90:0},distFunc:Fu},fp=t=>`${Math.round(t[0])}|||${Math.round(t[1])}`;function pp(t,e){const n=t=>Math.round(t/e);return Yt(t)?n(t):t.map(n)}function gp(t,e){const n=e[0]-t[0],r=e[1]-t[1];return n||r?Math.atan2(r,n):0}function mp(t,e,n,r){const i=gp(t,e),o=n[fp(t)];return function(t,e){const n=Math.abs(t-e);return n>Math.PI?2*Math.PI-n:n}(gp(o||r,t),i)}function vp(t,e,n){return Math.min(...e.map((e=>n(t,e))))}const yp=(t,e,n,r)=>{if(!e)return[t];const{directionMap:i,offset:o}=r,a=Mu(e.getRenderBounds(),o),s=Object.keys(i).reduce(((e,r)=>{if(n.includes(r)){const n=i[r],[o,s]=Eu(a),l=[t[0]+n.stepX*o,t[1]+n.stepY*s],c=function(t){const{min:[e,n],max:[r,i]}=t,o=[e,i],a=[r,i],s=[r,n],l=[e,n];return[[o,a],[a,s],[s,l],[l,o]]}(a);for(let r=0;r<c.length;r++){const n=qu([t,l],c[r]);n&&Ou(n,a)&&e.push(n)}}return e}),[]);return Nu(t,a)||s.push(t),s.map((t=>pp(t,r.gridSize)))},bp=(t,e,n,r,i,o,a)=>{const s=[];let l=[o[0]===r[0]?r[0]:t[0]*a,o[1]===r[1]?r[1]:t[1]*a];s.unshift(l);let c=t,u=e[fp(c)];for(;u;){const t=u,r=c;mp(t,r,e,n)&&(l=[t[0]===r[0]?l[0]:t[0]*a,t[1]===r[1]?l[1]:t[1]*a],s.unshift(l)),u=e[fp(t)],c=t}const d=i.map((t=>[t[0]*a,t[1]*a])),h=function(t,e,n){let r=t[0],i=n(t[0],e);for(let o=0;o<t.length;o++){const a=t[o],s=n(a,e);s<i&&(r=a,i=s)}return r}(d,l,Fu);return s.unshift(h),s};function xp(t,e,n,r){const i=Hu(t.getCenter()),o=Hu(e.getCenter()),a=Object.assign(hp,r),{gridSize:s}=a,l=((t,e)=>{const{offset:n,gridSize:r}=e,i={};return t.forEach((t=>{if(!t||t.destroyed||!t.isVisible())return;const e=Mu(t.getRenderBounds(),n);for(let n=pp(e.min[0],r);n<=pp(e.max[0],r);n+=1)for(let t=pp(e.min[1],r);t<=pp(e.max[1],r);t+=1)i[`${n}|||${t}`]=!0})),i})(a.enableObstacleAvoidance?n:[t,e],a),c=pp(i,s),u=pp(o,s),d=yp(i,t,a.startDirections,a),h=yp(o,e,a.endDirections,a);d.forEach((t=>delete l[fp(t)])),h.forEach((t=>delete l[fp(t)]));const f={},p={},g={},m={},v={},y=new wp;for(let S=0;S<d.length;S++){const t=d[S],e=fp(t);f[e]=t,m[e]=0,v[e]=vp(t,h,a.distFunc),y.add({id:e,value:v[e]})}const b=h.map((t=>fp(t)));let x,w=a.maximumLoops,E=1/0;for(const[S,k]of Object.entries(f))v[S]<=E&&(E=v[S],x=k);for(;Object.keys(f).length>0&&w>0;){const t=y.minId(!1);if(!t)break;x=f[t];const e=fp(x);if(b.includes(e))return bp(x,g,c,o,d,u,s);delete f[e],y.remove(e),p[e]=!0;for(const n of Object.values(a.directionMap)){const t=_u(x,[n.stepX,n.stepY]),r=fp(t);if(p[r])continue;const i=mp(x,t,g,c);if(i>a.maxAllowedDirectionChange)continue;if(l[r])continue;f[r]||(f[r]=t);const o=a.penalties[i],u=a.distFunc(x,t)+(isNaN(o)?s:o),d=m[e]+u,b=m[r];b&&d>=b||(g[r]=x,m[r]=d,v[r]=d+vp(t,h,a.distFunc),y.add({id:r,value:v[r]}))}w-=1}return[]}class wp{arr=[];map={};constructor(){this.arr=[],this.map={}}_innerAdd(t,e){let n=0,r=e-1;for(;r-n>1;){const e=Math.floor((n+r)/2);if(this.arr[e].value>t.value)r=e;else{if(!(this.arr[e].value<t.value))return this.arr.splice(e,0,t),void(this.map[t.id]=!0);n=e}}this.arr.splice(r,0,t),this.map[t.id]=!0}add(t){delete this.map[t.id];const e=this.arr.length;if(!e||this.arr[e-1].value<t.value)return this.arr.push(t),void(this.map[t.id]=!0);this._innerAdd(t,e)}remove(t){this.map[t]&&delete this.map[t]}_clearAndGetMinId(){let t;for(let e=this.arr.length-1;e>=0;e--)this.map[this.arr[e].id]?t=this.arr[e].id:this.arr.splice(e,1);return t}_findFirstId(){for(;this.arr.length;){const t=this.arr.shift();if(this.map[t.id])return t.id}}minId(t){return t?this._clearAndGetMinId():this._findFirstId()}}class Ep extends ap{static defaultStyleProps={radius:0,controlPoints:[],router:!1};constructor(t){super(Ld({style:Ep.defaultStyleProps},t))}getControlPoints(t){const{router:e}=t,{sourceNode:n,targetNode:r}=this,[i,o]=this.getEndpoints(t,!1);let a=[];if(e)if("shortest-path"===e.type){a=xp(n,r,this.context.element.getNodes(),e),a.length||(a=Af(i,o,n,r,t.controlPoints,{padding:e.offset}))}else"orth"===e.type&&(a=Af(i,o,n,r,t.controlPoints,e));else a=t.controlPoints;return a}getPoints(t){const e=this.getControlPoints(t),[n,r]=this.getEndpoints(t,!0,e);return[n,...e,r]}getKeyPath(t){return Uf(this.getPoints(t),t.radius)}getLoopPath(t){const{sourcePort:e,targetPort:n,radius:r}=t,i=this.sourceNode,o=Su(i),a=Math.max(xu(o),wu(o))/4,{placement:s,clockwise:l,dist:c=a}=Pd(this.getGraphicStyle(t),"loop");return Kf(i,r,s,l,c,e,n)}}class Sp extends ap{static defaultStyleProps={curvePosition:.5,curveOffset:30};constructor(t){super(Ld({style:Sp.defaultStyleProps},t))}getKeyPath(t){const{curvePosition:e,curveOffset:n}=t,[r,i]=this.getEndpoints(t);return function(t,e,n){return[["M",t[0],t[1]],["Q",n[0],n[1],e[0],e[1]]]}(r,i,t.controlPoint||Wf(r,i,e,n))}}function kp(t){return t instanceof fh&&"node"===t.type}function Mp(t){return t instanceof ap}function Cp(t){return t instanceof Cf}const Np={top:[.5,0],right:[1,.5],bottom:[.5,1],left:[0,.5],default:[.5,.5]};function Op(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Np,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=[.5,.5],o=Zt(e)?Sd(n,e.toLocaleLowerCase(),i):e;if(!r&&Zt(e))return o;const[a,s]=o||i;return[t.min[0]+xu(t)*a,t.min[1]+wu(t)*s]}function Pp(t){if(!t)return{};const e=t.getPorts();return(t.attributes.ports||[]).forEach(((n,r)=>{const{key:i,placement:o}=n;Tp(n)&&(e[i||r]||=Qu(t.getShape("key").getBounds(),o))})),e}function Tp(t){const{r:e}=t;return!e||0===Number(e)}function Ap(t){return vu(t)?t:t.getPosition()}function Rp(t,e,n,r){const i=Pp(t);if(n)return i[n];const o=Object.values(i);if(0===o.length)return;const a=o.map((t=>Ap(t))),s=function(t,e){const n=Pp(t);if(e)return[Ap(n[e])];const r=Object.values(n);return r.length>0?r.map((t=>Ap(t))):[t.getCenter()]}(e,r),[l]=function(t,e){let n=1/0,r=[t[0],e[0]];return t.forEach((t=>{e.forEach((e=>{const i=zu(t,e);i<n&&(n=i,r=[t,e])}))})),r}(a,s);return o.find((t=>Ap(t)===l))}function _p(t,e){return Cp(t)||kp(t)?Ip(t,e):Lp(t,e)}function Lp(t,e){if(!t||!e)return[0,0,0];if(vu(t))return t;if(t.attributes.linkToCenter)return t.getPosition();return ad(vu(e)?e:kp(e)?e.getCenter():e.getPosition(),t.getBounds())}function Ip(t,e){if(!t||!e)return[0,0,0];const n=vu(e)?e:kp(e)?e.getCenter():e.getPosition();return t.getIntersectPoint(n)||t.getCenter()}function Dp(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=e.split("-"),[a,s]=Qu(t,e),l=o.includes("left")?"right":o.includes("right")?"left":"center";let c=o.includes("top")?"bottom":o.includes("bottom")?"top":"middle";return i&&(c="top"===c?"bottom":"bottom"===c?"top":c),{transform:`translate(${a+n}, ${s+r})`,textBaseline:c,textAlign:l}}function jp(t,e){"update"in t?t.update(e):t.attr(e)}function zp(t){return Sd(t,"__to_be_destroyed__",!1)}class Fp extends fu{static defaultOptions=(()=>({enable:!0,animation:!0,trigger:Nc.DBLCLICK}))();constructor(t,e){super(t,Object.assign({},Fp.defaultOptions,e)),this.bindEvents()}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}bindEvents(){const{graph:t}=this.context,{trigger:e}=this.options;t.on(`node:${e}`,this.onCollapseExpand),t.on(`combo:${e}`,this.onCollapseExpand)}unbindEvents(){const{graph:t}=this.context,{trigger:e}=this.options;t.off(`node:${e}`,this.onCollapseExpand),t.off(`combo:${e}`,this.onCollapseExpand)}onCollapseExpand=async t=>{if(!this.validate(t))return;const{target:e}=t;if(!(kp(n=e)||Mp(n)||Cp(n)))return;var n;const r=e.id,{model:i,graph:o}=this.context,a=i.getElementDataById(r);if(!a)return!1;const{onCollapse:s,onExpand:l,animation:c}=this.options;Ed(a)?(await o.expandElement(r,c),l?.(r)):(await o.collapseElement(r,c),s?.(r))};validate(t){if(this.destroyed)return!1;const{enable:e}=this.options;return pu(e)?e(t):!!e}destroy(){this.unbindEvents(),super.destroy()}}var Bp={};const $p="g6-create-edge-assist-node-id";class Vp extends fu{static defaultOptions={animation:!0,enable:!0,style:{},trigger:"drag",onCreate:t=>t,onFinish:()=>{}};source;constructor(t,e){super(t,Object.assign({},Vp.defaultOptions,e)),this.bindEvents()}update(t){super.update(t),this.bindEvents()}bindEvents(){const{graph:t}=this.context,{trigger:e}=this.options;this.unbindEvents(),"click"===e?(t.on(Rc.CLICK,this.handleCreateEdge),t.on(Cc.CLICK,this.handleCreateEdge),t.on(Mc.CLICK,this.cancelEdge),t.on(Pc.CLICK,this.cancelEdge)):(t.on(Rc.DRAG_START,this.handleCreateEdge),t.on(Cc.DRAG_START,this.handleCreateEdge),t.on(Nc.POINTER_UP,this.drop)),t.on(Nc.POINTER_MOVE,this.updateAssistEdge)}drop=async t=>{const{targetType:e}=t;["combo","node"].includes(e)&&this.source?await this.handleCreateEdge(t):await this.cancelEdge()};handleCreateEdge=async t=>{if(!this.validate(t))return;const{graph:e,canvas:n,batch:r,element:i}=this.context,{style:o}=this.options;if(this.source)return this.createEdge(t),void await this.cancelEdge();r.startBatch(),n.setCursor("crosshair"),this.source=this.getSelectedNodeIDs([t.target.id])[0],e.addNodeData([{id:$p,style:{visibility:"hidden",ports:[{key:"port-1",placement:[.5,.5]}]}}]),e.addEdgeData([{id:"g6-create-edge-assist-edge-id",source:this.source,target:$p,style:{pointerEvents:"none",...o}}]),await(i.draw({animation:!1})?.finished)};updateAssistEdge=async t=>{if(!this.source)return;const{model:e,element:n}=this.context;e.translateNodeTo($p,[t.canvas.x,t.canvas.y]),await(n.draw({animation:!1,silence:!0})?.finished)};createEdge=t=>{const{graph:e}=this.context,{style:n,onFinish:r,onCreate:i}=this.options,o=t.target?.id;if(void 0===o||void 0===this.source)return;const a=this.getSelectedNodeIDs([t.target.id])?.[0];var s;const l=i({id:`${this.source}-${a}-${Bp[s=s||"g"]?Bp[s]+=1:Bp[s]=1,s+Bp[s]}`,source:this.source,target:a,style:n});e.addEdgeData([l]),r(l)};cancelEdge=async()=>{if(!this.source)return;const{graph:t,element:e,batch:n}=this.context;t.removeNodeData([$p]),this.source=void 0,await(e.draw({animation:!1})?.finished),n.endBatch()};getSelectedNodeIDs(t){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map((t=>t.id)).concat(t)))}validate(t){if(this.destroyed)return!1;const{enable:e}=this.options;return pu(e)?e(t):!!e}unbindEvents(){const{graph:t}=this.context;t.off(Rc.CLICK,this.handleCreateEdge),t.off(Cc.CLICK,this.handleCreateEdge),t.off(Mc.CLICK,this.cancelEdge),t.off(Pc.CLICK,this.cancelEdge),t.off(Rc.DRAG_START,this.handleCreateEdge),t.off(Cc.DRAG_START,this.handleCreateEdge),t.off(Nc.POINTER_UP,this.drop),t.off(Nc.POINTER_MOVE,this.updateAssistEdge)}destroy(){this.unbindEvents(),super.destroy()}}const Hp=function(t,e,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||t.apply(i,o)}),e),a&&t.apply(i,o)}};class Wp extends fu{static defaultOptions={enable:t=>!("targetType"in t)||"canvas"===t.targetType,sensitivity:10,direction:"both",range:1};shortcut;defaultCursor;constructor(t,e){super(t,Object.assign({},Wp.defaultOptions,e)),this.shortcut=new hd(t.graph),this.bindEvents(),this.defaultCursor=this.context.canvas.getConfig().cursor||"default"}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}bindEvents(){const{trigger:t}=this.options;if(He(t)){const{up:e=[],down:n=[],left:r=[],right:i=[]}=t;this.shortcut.bind(e,(t=>this.onTranslate([0,1],t))),this.shortcut.bind(n,(t=>this.onTranslate([0,-1],t))),this.shortcut.bind(r,(t=>this.onTranslate([1,0],t))),this.shortcut.bind(i,(t=>this.onTranslate([-1,0],t)))}else{const{graph:t}=this.context;t.on(Nc.DRAG_START,this.onDragStart),t.on(Nc.DRAG,this.onDrag),t.on(Nc.DRAG_END,this.onDragEnd)}}isDragging=!1;onDragStart=t=>{this.validate(t)&&(this.isDragging=!0,this.context.canvas.setCursor("grabbing"))};onDrag=t=>{if(!this.isDragging)return;const{x:e,y:n}=t.movement;0!==(e|n)&&this.translate([e,n],!1)};onDragEnd=()=>{this.isDragging=!1,this.context.canvas.setCursor(this.defaultCursor),this.options.onFinish?.()};invokeOnFinish=(()=>Hp((()=>{this.options.onFinish?.()}),300))();async onTranslate(t,e){if(!this.validate(e))return;const{sensitivity:n}=this.options,r=-1*n;await this.translate(Iu(t,r),this.options.animation),this.invokeOnFinish()}async translate(t,e){t=this.clampByDirection(t),t=this.clampByRange(t),await this.context.graph.translateBy(t,e)}clampByDirection(t){let[e,n]=t;const{direction:r}=this.options;return"x"===r?n=0:"y"===r&&(e=0),[e,n]}clampByRange(t){let[e,n]=t;const{viewport:r,canvas:i}=this.context,[o,a]=i.getSize(),[s,l,c,u]=bu(this.options.range),d=[a*s,o*l,a*c,o*u],h=Mu(ku(r.getCanvasCenter()),d),f=Lu(r.getViewportCenter(),[e,n,0]);if(!Nu(f,h)){const{min:[t,r],max:[i,o]}=h;(f[0]<t&&e>0||f[0]>i&&e<0)&&(e=0),(f[1]<r&&n>0||f[1]>o&&n<0)&&(n=0)}return[e,n]}validate(t){if(this.destroyed)return!1;const{enable:e}=this.options;return"function"===typeof e?e(t):!!e}unbindEvents(){this.shortcut.unbindAll();const{graph:t}=this.context;t.off(Nc.DRAG_START,this.onDragStart),t.off(Nc.DRAG,this.onDrag),t.off(Nc.DRAG_END,this.onDragEnd)}destroy(){this.shortcut.destroy(),this.unbindEvents(),this.context.canvas.setCursor(this.defaultCursor),super.destroy()}}class Gp extends fu{static defaultOptions={animation:!0,enable:t=>["node","combo"].includes(t.targetType),dropEffect:"move",state:"selected",hideEdge:"none",shadow:!1,shadowZIndex:100,shadowFill:"#F3F9FF",shadowFillOpacity:.5,shadowStroke:"#1890FF",shadowStrokeOpacity:.9,shadowLineDash:[5,5],cursor:{default:"default",grab:"grab",grabbing:"grabbing"}};enable=!1;enableElements=["node","combo"];target=[];shadow;shadowOrigin=[0,0];hiddenEdges=[];isDragging=!1;constructor(t,e){super(t,Object.assign({},Gp.defaultOptions,e)),this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDrop=this.onDrop.bind(this),this.bindEvents()}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}bindEvents(){const{graph:t,canvas:e}=this.context,n=e.getLayer().getContextService().$canvas;n&&(n.addEventListener("blur",this.onDragEnd),n.addEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach((e=>{t.on(`${e}:${Nc.DRAG_START}`,this.onDragStart),t.on(`${e}:${Nc.DRAG}`,this.onDrag),t.on(`${e}:${Nc.DRAG_END}`,this.onDragEnd),t.on(`${e}:${Nc.POINTER_ENTER}`,this.setCursor),t.on(`${e}:${Nc.POINTER_LEAVE}`,this.setCursor)})),["link"].includes(this.options.dropEffect)&&(t.on(Cc.DROP,this.onDrop),t.on(Mc.DROP,this.onDrop))}getSelectedNodeIDs(t){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map((t=>t.id)).concat(t)))}getDelta(t){const e=this.context.graph.getZoom();return Du([t.dx,t.dy],e)}onDragStart(t){if(this.enable=this.validate(t),!this.enable)return;const{batch:e,canvas:n}=this.context;n.setCursor(this.options.cursor?.grabbing||"grabbing"),this.isDragging=!0,e.startBatch(),this.target=this.getSelectedNodeIDs([t.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target),this.options.shadow&&this.createShadow(this.target)}onDrag(t){if(!this.enable)return;const e=this.getDelta(t);this.options.shadow?this.moveShadow(e):this.moveElement(this.target,e)}onDragEnd(){if(this.enable=!1,this.options.shadow){if(!this.shadow)return;this.shadow.style.visibility="hidden";const{x:t=0,y:e=0}=this.shadow.attributes,[n,r]=Lu([+t,+e],this.shadowOrigin);this.moveElement(this.target,[n,r])}this.showEdges(),this.options.onFinish?.(this.target);const{batch:t,canvas:e}=this.context;t.endBatch(),e.setCursor(this.options.cursor?.grab||"grab"),this.isDragging=!1,this.target=[]}onDrop=async t=>{if("link"!==this.options.dropEffect)return;const{model:e,element:n}=this.context,r=t.target.id;this.target.forEach((t=>{const n=e.getParentData(t,_c);n&&Qc(n)===r&&e.refreshComboData(r),e.setParent(t,r,_c)})),await(n?.draw({animation:!0})?.finished)};setCursor=t=>{if(this.isDragging)return;const{type:e}=t,{canvas:n}=this.context,{cursor:r}=this.options;e===Nc.POINTER_ENTER?n.setCursor(r?.grab||"grab"):n.setCursor(r?.default||"default")};validate(t){if(this.destroyed)return!1;const{enable:e}=this.options;return pu(e)?e(t):!!e}async moveElement(t,e){const{graph:n,model:r}=this.context,{dropEffect:i}=this.options;"move"===i&&t.forEach((t=>r.refreshComboData(t))),n.translateElementBy(Object.fromEntries(t.map((t=>[t,e]))),!1)}moveShadow(t){if(!this.shadow)return;const{x:e=0,y:n=0}=this.shadow.attributes,[r,i]=t;this.shadow.attr({x:+e+r,y:+n+i})}createShadow(t){const e=Pd(this.options,"shadow"),n=Cu(t.map((t=>this.context.element.getElement(t).getBounds()))),[r,i]=n.min;this.shadowOrigin=[r,i];const[o,a]=Eu(n),s={width:o,height:a,x:r,y:i};this.shadow?this.shadow.attr({...e,...s,visibility:"visible"}):(this.shadow=new js({style:{$layer:"transient",...e,...s,pointerEvents:"none"}}),this.context.canvas.appendChild(this.shadow))}showEdges(){this.options.shadow||0===this.hiddenEdges.length||(this.context.graph.showElement(this.hiddenEdges),this.hiddenEdges=[])}hideEdge(){const{hideEdge:t,shadow:e}=this.options;if("none"===t||e)return;const{graph:n}=this.context;this.hiddenEdges="all"===t?n.getEdgeData().map(Qc):Array.from(new Set(this.target.map((e=>n.getRelatedEdgesData(e,t).map(Qc))).flat())),n.hideElement(this.hiddenEdges)}unbindEvents(){const{graph:t,canvas:e}=this.context,n=e.getLayer().getContextService().$canvas;n&&(n.removeEventListener("blur",this.onDragEnd),n.removeEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach((e=>{t.off(`${e}:${Nc.DRAG_START}`,this.onDragStart),t.off(`${e}:${Nc.DRAG}`,this.onDrag),t.off(`${e}:${Nc.DRAG_END}`,this.onDragEnd),t.off(`${e}:${Nc.POINTER_ENTER}`,this.setCursor),t.off(`${e}:${Nc.POINTER_LEAVE}`,this.setCursor)})),t.off(`combo:${Nc.DROP}`,this.onDrop),t.off(`canvas:${Nc.DROP}`,this.onDrop)}destroy(){this.unbindEvents(),this.shadow?.destroy(),super.destroy()}}var Up=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),s.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();const qp=Up;function Yp(t,e,n,r){for(;t.length;){const i=t.shift();if(n(i))return!0;e.add(i.id),r(i.id).forEach((n=>{e.has(n.id)||(e.add(n.id),t.push(n))}))}return!1}function Xp(t,e,n,r){if(n(t))return!0;e.add(t.id);for(const i of r(t.id))if(!e.has(i.id)&&Xp(i,e,n,r))return!0;return!1}const Kp=()=>!0;class Zp{graph;nodeFilter;edgeFilter;cacheEnabled;inEdgesMap=(()=>new Map)();outEdgesMap=(()=>new Map)();bothEdgesMap=(()=>new Map)();allNodesMap=(()=>new Map)();allEdgesMap=(()=>new Map)();constructor(t){this.graph=t.graph;const e=t.nodeFilter||Kp,n=t.edgeFilter||Kp;this.nodeFilter=e,this.edgeFilter=t=>{const{source:r,target:i}=this.graph.getEdgeDetail(t.id);return!(!e(r)||!e(i))&&n(t,r,i)},"auto"===t.cache?(this.cacheEnabled=!0,this.startAutoCache()):"manual"===t.cache?this.cacheEnabled=!0:this.cacheEnabled=!1}clearCache=()=>{this.inEdgesMap.clear(),this.outEdgesMap.clear(),this.bothEdgesMap.clear(),this.allNodesMap.clear(),this.allEdgesMap.clear()};refreshCache=()=>{this.clearCache(),this.updateCache(this.graph.getAllNodes().map((t=>t.id)))};updateCache=t=>{const e=new Set;t.forEach((t=>{const n=this.bothEdgesMap.get(t);if(n&&n.forEach((t=>e.add(t.id))),this.hasNode(t)){const n=this.graph.getRelatedEdges(t,"in").filter(this.edgeFilter),r=this.graph.getRelatedEdges(t,"out").filter(this.edgeFilter),i=Array.from(new Set([...n,...r]));i.forEach((t=>e.add(t.id))),this.inEdgesMap.set(t,n),this.outEdgesMap.set(t,r),this.bothEdgesMap.set(t,i),this.allNodesMap.set(t,this.graph.getNode(t))}else this.inEdgesMap.delete(t),this.outEdgesMap.delete(t),this.bothEdgesMap.delete(t),this.allNodesMap.delete(t)})),e.forEach((t=>{this.hasEdge(t)?this.allEdgesMap.set(t,this.graph.getEdge(t)):this.allEdgesMap.delete(t)}))};startAutoCache(){this.refreshCache(),this.graph.on("changed",this.handleGraphChanged)}stopAutoCache(){this.graph.off("changed",this.handleGraphChanged)}handleGraphChanged=t=>{const e=new Set;t.changes.forEach((n=>{switch(n.type){case"NodeAdded":case"NodeRemoved":e.add(n.value.id);break;case"NodeDataUpdated":e.add(n.id);break;case"EdgeAdded":case"EdgeRemoved":e.add(n.value.source),e.add(n.value.target);break;case"EdgeUpdated":"source"!==n.propertyName&&"target"!==n.propertyName||(e.add(n.oldValue),e.add(n.newValue));break;case"EdgeDataUpdated":if(t.graph.hasEdge(n.id)){const r=t.graph.getEdge(n.id);e.add(r.source),e.add(r.target)}}})),this.updateCache(e)};checkNodeExistence(t){this.getNode(t)}hasNode(t){if(!this.graph.hasNode(t))return!1;const e=this.graph.getNode(t);return this.nodeFilter(e)}areNeighbors(t,e){return this.checkNodeExistence(t),this.getNeighbors(e).some((e=>e.id===t))}getNode(t){const e=this.graph.getNode(t);if(!this.nodeFilter(e))throw new Error("Node not found for id: "+t);return e}getRelatedEdges(t,e){if(this.checkNodeExistence(t),this.cacheEnabled)return"in"===e?this.inEdgesMap.get(t):"out"===e?this.outEdgesMap.get(t):this.bothEdgesMap.get(t);return this.graph.getRelatedEdges(t,e).filter(this.edgeFilter)}getDegree(t,e){return this.getRelatedEdges(t,e).length}getSuccessors(t){const e=this.getRelatedEdges(t,"out").map((t=>this.getNode(t.target)));return Array.from(new Set(e))}getPredecessors(t){const e=this.getRelatedEdges(t,"in").map((t=>this.getNode(t.source)));return Array.from(new Set(e))}getNeighbors(t){const e=this.getPredecessors(t),n=this.getSuccessors(t);return Array.from(new Set([...e,...n]))}hasEdge(t){if(!this.graph.hasEdge(t))return!1;const e=this.graph.getEdge(t);return this.edgeFilter(e)}getEdge(t){const e=this.graph.getEdge(t);if(!this.edgeFilter(e))throw new Error("Edge not found for id: "+t);return e}getEdgeDetail(t){const e=this.getEdge(t);return{edge:e,source:this.getNode(e.source),target:this.getNode(e.target)}}hasTreeStructure(t){return this.graph.hasTreeStructure(t)}getRoots(t){return this.graph.getRoots(t).filter(this.nodeFilter)}getChildren(t,e){return this.checkNodeExistence(t),this.graph.getChildren(t,e).filter(this.nodeFilter)}getParent(t,e){this.checkNodeExistence(t);const n=this.graph.getParent(t,e);return n&&this.nodeFilter(n)?n:null}getAllNodes(){return this.cacheEnabled?Array.from(this.allNodesMap.values()):this.graph.getAllNodes().filter(this.nodeFilter)}getAllEdges(){return this.cacheEnabled?Array.from(this.allEdgesMap.values()):this.graph.getAllEdges().filter(this.edgeFilter)}bfs(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"out";const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];Yp([this.getNode(t)],new Set,e,r)}dfs(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"out";const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];Xp(this.getNode(t),new Set,e,r)}}class Qp extends qp{nodeMap=(()=>new Map)();edgeMap=(()=>new Map)();inEdgesMap=(()=>new Map)();outEdgesMap=(()=>new Map)();bothEdgesMap=(()=>new Map)();treeIndices=(()=>new Map)();changes=[];batchCount=0;onChanged=()=>{};constructor(t){super(),t&&(t.nodes&&this.addNodes(t.nodes),t.edges&&this.addEdges(t.edges),t.tree&&this.addTree(t.tree),t.onChanged&&(this.onChanged=t.onChanged))}batch=t=>{this.batchCount+=1,t(),this.batchCount-=1,this.batchCount||this.commit()};commit(){const t=this.changes;this.changes=[];const e={graph:this,changes:t};this.emit("changed",e),this.onChanged(e)}reduceChanges(t){let e=[];return t.forEach((t=>{switch(t.type){case"NodeRemoved":{let n=!1;e=e.filter((e=>{if("NodeAdded"===e.type){const r=e.value.id===t.value.id;return r&&(n=!0),!r}return"NodeDataUpdated"===e.type?e.id!==t.value.id:"TreeStructureChanged"!==e.type||e.nodeId!==t.value.id})),n||e.push(t);break}case"EdgeRemoved":{let n=!1;e=e.filter((e=>{if("EdgeAdded"===e.type){const r=e.value.id===t.value.id;return r&&(n=!0),!r}return"EdgeDataUpdated"!==e.type&&"EdgeUpdated"!==e.type||e.id!==t.value.id})),n||e.push(t);break}case"NodeDataUpdated":case"EdgeDataUpdated":case"EdgeUpdated":{const n=e.findIndex((e=>e.type===t.type&&e.id===t.id&&(void 0===t.propertyName||e.propertyName===t.propertyName))),r=e[n];r?void 0!==t.propertyName?r.newValue=t.newValue:(e.splice(n,1),e.push(t)):e.push(t);break}case"TreeStructureDetached":e=e.filter((e=>"TreeStructureAttached"===e.type?e.treeKey!==t.treeKey:"TreeStructureChanged"!==e.type||e.treeKey!==t.treeKey)),e.push(t);break;case"TreeStructureChanged":{const n=e.find((e=>"TreeStructureChanged"===e.type&&e.treeKey===t.treeKey&&e.nodeId===t.nodeId));n?n.newParentId=t.newParentId:e.push(t);break}default:e.push(t)}})),e}checkNodeExistence(t){this.getNode(t)}hasNode(t){return this.nodeMap.has(t)}areNeighbors(t,e){return this.getNeighbors(e).some((e=>e.id===t))}getNode(t){const e=this.nodeMap.get(t);if(!e)throw new Error("Node not found for id: "+t);return e}getRelatedEdges(t,e){if(this.checkNodeExistence(t),"in"===e){const e=this.inEdgesMap.get(t);return Array.from(e)}if("out"===e){const e=this.outEdgesMap.get(t);return Array.from(e)}{const e=this.bothEdgesMap.get(t);return Array.from(e)}}getDegree(t,e){return this.getRelatedEdges(t,e).length}getSuccessors(t){const e=this.getRelatedEdges(t,"out").map((t=>this.getNode(t.target)));return Array.from(new Set(e))}getPredecessors(t){const e=this.getRelatedEdges(t,"in").map((t=>this.getNode(t.source)));return Array.from(new Set(e))}getNeighbors(t){const e=this.getPredecessors(t),n=this.getSuccessors(t);return Array.from(new Set([...e,...n]))}doAddNode(t){if(this.hasNode(t.id))throw new Error("Node already exists: "+t.id);this.nodeMap.set(t.id,t),this.inEdgesMap.set(t.id,new Set),this.outEdgesMap.set(t.id,new Set),this.bothEdgesMap.set(t.id,new Set),this.treeIndices.forEach((e=>{e.childrenMap.set(t.id,new Set)})),this.changes.push({type:"NodeAdded",value:t})}addNodes(t){this.batch((()=>{for(const e of t)this.doAddNode(e)}))}addNode(t){this.addNodes([t])}doRemoveNode(t){const e=this.getNode(t),n=this.bothEdgesMap.get(t);n?.forEach((t=>this.doRemoveEdge(t.id))),this.nodeMap.delete(t),this.treeIndices.forEach((n=>{n.childrenMap.get(t)?.forEach((t=>{n.parentMap.delete(t.id)}));const r=n.parentMap.get(t);r&&n.childrenMap.get(r.id)?.delete(e),n.parentMap.delete(t),n.childrenMap.delete(t)})),this.bothEdgesMap.delete(t),this.inEdgesMap.delete(t),this.outEdgesMap.delete(t),this.changes.push({type:"NodeRemoved",value:e})}removeNodes(t){this.batch((()=>{t.forEach((t=>this.doRemoveNode(t)))}))}removeNode(t){this.removeNodes([t])}updateNodeDataProperty(t,e,n){const r=this.getNode(t);this.batch((()=>{const i=r.data[e],o=n;r.data[e]=o,this.changes.push({type:"NodeDataUpdated",id:t,propertyName:e,oldValue:i,newValue:o})}))}mergeNodeData(t,e){this.batch((()=>{Object.entries(e).forEach((e=>{let[n,r]=e;this.updateNodeDataProperty(t,n,r)}))}))}updateNodeData(){const t=arguments.length<=0?void 0:arguments[0],e=this.getNode(t);if("string"===typeof(arguments.length<=1?void 0:arguments[1]))return void this.updateNodeDataProperty(t,arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]);let n;if("function"===typeof(arguments.length<=1?void 0:arguments[1])){n=(arguments.length<=1?void 0:arguments[1])(e.data)}else"object"===typeof(arguments.length<=1?void 0:arguments[1])&&(n=arguments.length<=1?void 0:arguments[1]);this.batch((()=>{const r=e.data,i=n;e.data=n,this.changes.push({type:"NodeDataUpdated",id:t,oldValue:r,newValue:i})}))}checkEdgeExistence(t){if(!this.hasEdge(t))throw new Error("Edge not found for id: "+t)}hasEdge(t){return this.edgeMap.has(t)}getEdge(t){return this.checkEdgeExistence(t),this.edgeMap.get(t)}getEdgeDetail(t){const e=this.getEdge(t);return{edge:e,source:this.getNode(e.source),target:this.getNode(e.target)}}doAddEdge(t){if(this.hasEdge(t.id))throw new Error("Edge already exists: "+t.id);this.checkNodeExistence(t.source),this.checkNodeExistence(t.target),this.edgeMap.set(t.id,t);const e=this.inEdgesMap.get(t.target),n=this.outEdgesMap.get(t.source),r=this.bothEdgesMap.get(t.source),i=this.bothEdgesMap.get(t.target);e.add(t),n.add(t),r.add(t),i.add(t),this.changes.push({type:"EdgeAdded",value:t})}addEdges(t){this.batch((()=>{for(const e of t)this.doAddEdge(e)}))}addEdge(t){this.addEdges([t])}doRemoveEdge(t){const e=this.getEdge(t),n=this.outEdgesMap.get(e.source),r=this.inEdgesMap.get(e.target),i=this.bothEdgesMap.get(e.source),o=this.bothEdgesMap.get(e.target);n.delete(e),r.delete(e),i.delete(e),o.delete(e),this.edgeMap.delete(t),this.changes.push({type:"EdgeRemoved",value:e})}removeEdges(t){this.batch((()=>{t.forEach((t=>this.doRemoveEdge(t)))}))}removeEdge(t){this.removeEdges([t])}updateEdgeSource(t,e){const n=this.getEdge(t);this.checkNodeExistence(e);const r=n.source,i=e;this.outEdgesMap.get(r).delete(n),this.bothEdgesMap.get(r).delete(n),this.outEdgesMap.get(i).add(n),this.bothEdgesMap.get(i).add(n),n.source=e,this.batch((()=>{this.changes.push({type:"EdgeUpdated",id:t,propertyName:"source",oldValue:r,newValue:i})}))}updateEdgeTarget(t,e){const n=this.getEdge(t);this.checkNodeExistence(e);const r=n.target,i=e;this.inEdgesMap.get(r).delete(n),this.bothEdgesMap.get(r).delete(n),this.inEdgesMap.get(i).add(n),this.bothEdgesMap.get(i).add(n),n.target=e,this.batch((()=>{this.changes.push({type:"EdgeUpdated",id:t,propertyName:"target",oldValue:r,newValue:i})}))}updateEdgeDataProperty(t,e,n){const r=this.getEdge(t);this.batch((()=>{const i=r.data[e],o=n;r.data[e]=o,this.changes.push({type:"EdgeDataUpdated",id:t,propertyName:e,oldValue:i,newValue:o})}))}updateEdgeData(){const t=arguments.length<=0?void 0:arguments[0],e=this.getEdge(t);if("string"===typeof(arguments.length<=1?void 0:arguments[1]))return void this.updateEdgeDataProperty(t,arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]);let n;if("function"===typeof(arguments.length<=1?void 0:arguments[1])){n=(arguments.length<=1?void 0:arguments[1])(e.data)}else"object"===typeof(arguments.length<=1?void 0:arguments[1])&&(n=arguments.length<=1?void 0:arguments[1]);this.batch((()=>{const r=e.data,i=n;e.data=n,this.changes.push({type:"EdgeDataUpdated",id:t,oldValue:r,newValue:i})}))}mergeEdgeData(t,e){this.batch((()=>{Object.entries(e).forEach((e=>{let[n,r]=e;this.updateEdgeDataProperty(t,n,r)}))}))}checkTreeExistence(t){if(!this.hasTreeStructure(t))throw new Error("Tree structure not found for treeKey: "+t)}hasTreeStructure(t){return this.treeIndices.has(t)}attachTreeStructure(t){this.treeIndices.has(t)||(this.treeIndices.set(t,{parentMap:new Map,childrenMap:new Map}),this.batch((()=>{this.changes.push({type:"TreeStructureAttached",treeKey:t})})))}detachTreeStructure(t){this.checkTreeExistence(t),this.treeIndices.delete(t),this.batch((()=>{this.changes.push({type:"TreeStructureDetached",treeKey:t})}))}addTree(t,e){this.batch((()=>{this.attachTreeStructure(e);const n=[],r=Array.isArray(t)?t:[t];for(;r.length;){const t=r.shift();n.push(t),t.children&&r.push(...t.children)}this.addNodes(n),n.forEach((t=>{t.children?.forEach((n=>{this.setParent(n.id,t.id,e)}))}))}))}getRoots(t){return this.checkTreeExistence(t),this.getAllNodes().filter((e=>!this.getParent(e.id,t)))}getChildren(t,e){this.checkNodeExistence(t),this.checkTreeExistence(e);const n=this.treeIndices.get(e).childrenMap.get(t);return Array.from(n||[])}getParent(t,e){this.checkNodeExistence(t),this.checkTreeExistence(e);return this.treeIndices.get(e).parentMap.get(t)||null}getAncestors(t,e){const n=[];let r,i=this.getNode(t);for(;r=this.getParent(i.id,e);)n.push(r),i=r;return n}setParent(t,e,n){this.checkTreeExistence(n);const r=this.treeIndices.get(n),i=this.getNode(t),o=r.parentMap.get(t);if(o?.id===e)return;if(void 0===e)return o&&r.childrenMap.get(o.id)?.delete(i),void r.parentMap.delete(t);const a=this.getNode(e);r.parentMap.set(t,a),o&&r.childrenMap.get(o.id)?.delete(i);let s=r.childrenMap.get(a.id);s||(s=new Set,r.childrenMap.set(a.id,s)),s.add(i),this.batch((()=>{this.changes.push({type:"TreeStructureChanged",treeKey:n,nodeId:t,oldParentId:o?.id,newParentId:a.id})}))}dfsTree(t,e,n){return Xp(this.getNode(t),new Set,e,(t=>this.getChildren(t,n)))}bfsTree(t,e,n){return Yp([this.getNode(t)],new Set,e,(t=>this.getChildren(t,n)))}getAllNodes(){return Array.from(this.nodeMap.values())}getAllEdges(){return Array.from(this.edgeMap.values())}bfs(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"out";const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];return Yp([this.getNode(t)],new Set,e,r)}dfs(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"out";const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];return Xp(this.getNode(t),new Set,e,r)}clone(){const t=this.getAllNodes().map((t=>({...t,data:{...t.data}}))),e=this.getAllEdges().map((t=>({...t,data:{...t.data}}))),n=new Qp({nodes:t,edges:e});return this.treeIndices.forEach(((t,e)=>{let{parentMap:r,childrenMap:i}=t;const o=new Map;r.forEach(((t,e)=>{o.set(e,n.getNode(t.id))}));const a=new Map;i.forEach(((t,e)=>{a.set(e,new Set(Array.from(t).map((t=>n.getNode(t.id)))))})),n.treeIndices.set(e,{parentMap:o,childrenMap:a})})),n}toJSON(){return JSON.stringify({nodes:this.getAllNodes(),edges:this.getAllEdges()})}createView(t){return new Zp({graph:this,...t})}}class Jp{options;context;constructor(t,e){this.context=t,this.options=e||{}}stop;tick}function tg(t){const{nodes:e,edges:n}=t,r={nodes:[],edges:[],combos:[]};return e.forEach((t=>{const e=t.data._isCombo?r.combos:r.nodes,{x:n,y:i,z:o=0}=t.data;e?.push({id:t.id,style:{x:n,y:i,z:o}})})),n.forEach((t=>{const{id:e,source:n,target:i,data:{points:o=[],controlPoints:a=o.slice(1,o.length-1)}}=t;r.edges.push({id:e,source:n,target:i,style:{...a?.length?{controlPoints:a.map(Ju)}:{}}})})),r}function eg(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e in t)return t[e](...r);if("instance"in t){const n=t.instance;if(e in n)return n[e](...r)}return null}function ng(t,e){if(e in t)return t[e];if("instance"in t){const n=t.instance;if(e in n)return n[e]}return null}const rg="cachedStyle",ig=t=>`__${t}__`;function og(t,e){const n=Array.isArray(e)?e:[e];Sd(t,rg)||kd(t,rg,{}),n.forEach((e=>{kd(Sd(t,rg),ig(e),t.attributes[e])}))}function ag(t,e){return Sd(t,[rg,ig(e)])}function sg(t,e){return ig(e)in(Sd(t,rg)||{})}class lg extends fu{static defaultOptions={enable:t=>t.data.scale<1,state:"selected",edge:[{shape:t=>t.find((t=>"key"===t.className)),fields:["lineWidth"]},{shape:t=>t.find((t=>"label"===t.parentElement?.className&&"text"===t.className)),fields:["fontSize","lineHeight"]}]};elementCache=(()=>new Map)();constructor(t,e){super(t,Object.assign({},lg.defaultOptions,e)),this.bindEvents()}isZoomEvent=t=>"scale"in t.data;fixElementSize=async t=>{if(!this.isZoomEvent(t)||!this.validate(t))return;const{graph:e,element:n}=this.context,{state:r}=this.options,i=r?[...e.getElementDataByState("node",r),...e.getElementDataByState("edge",r),...e.getElementDataByState("combo",r)]:Object.values(e.getData()).flat();if(!i.length)return;const o=t.data.scale||e.getZoom();i.forEach((t=>{const r=Qc(t),i=n?.getElement(r),a=e.getElementType(r),s=this.options[a];if(!s)return this.elementCache.set(r,i),"edge"===a&&(i.style.transformOrigin="center"),void i.setLocalScale(1/o);const l=function(t){const e=[],n=t=>{t?.children.length&&t.children.forEach((t=>{e.push(t),n(t)}))};return n(t),e}(i);(Array.isArray(s)?s:[s]).forEach((t=>{const{shape:e,fields:n}=t,r=e(l);n.forEach((t=>{sg(r,t)||og(r,t);const e=ag(r,t);Yt(e)&&(r.style[t]=e/o)}))}))}))};resetTransform=async()=>{this.elementCache&&(this.elementCache.forEach((t=>t.setLocalScale(1))),this.elementCache.clear())};bindEvents(){const{graph:t}=this.context;t.on(Tc.AFTER_TRANSFORM,this.fixElementSize),t.on(Tc.BEFORE_DRAW,this.resetTransform)}unbindEvents(){const{graph:t}=this.context;t.off(Tc.AFTER_TRANSFORM,this.fixElementSize),t.off(Tc.BEFORE_DRAW,this.resetTransform)}validate(t){if(this.destroyed)return!1;const{enable:e}=this.options;return pu(e)?e(t):!!e}destroy(){this.unbindEvents(),super.destroy()}}class cg extends fu{static defaultOptions={animation:{easing:"ease-in",duration:500},enable:!0};constructor(t,e){super(t,Object.assign({},cg.defaultOptions,e)),this.bindEvents()}bindEvents(){const{graph:t}=this.context;this.unbindEvents(),md.forEach((e=>{t.on(`${e}:${Nc.CLICK}`,this.focus)}))}focus=async t=>{if(!this.validate(t))return;const{graph:e}=this.context;await e.focusElement(t.target.id,this.options.animation)};validate(t){if(this.destroyed)return!1;const{enable:e}=this.options;return pu(e)?e(t):!!e}unbindEvents(){const{graph:t}=this.context;md.forEach((e=>{t.off(`${e}:${Nc.CLICK}`,this.focus)}))}destroy(){this.unbindEvents(),super.destroy()}}class ug extends fu{static defaultOptions={animation:!1,enable:!0,degree:0,direction:"both",state:"active",inactiveState:void 0};isFrozen=!1;constructor(t,e){super(t,Object.assign({},ug.defaultOptions,e)),this.bindEvents()}toggleFrozen=t=>{this.isFrozen="dragstart"===t.type};bindEvents(){const{graph:t}=this.context;this.unbindEvents(),md.forEach((e=>{t.on(`${e}:${Nc.POINTER_OVER}`,this.hoverElement),t.on(`${e}:${Nc.POINTER_OUT}`,this.hoverElement)}));const e=this.context.canvas.document;e.addEventListener(`${Nc.DRAG_START}`,this.toggleFrozen),e.addEventListener(`${Nc.DRAG_END}`,this.toggleFrozen)}hoverElement=t=>{if(!this.validate(t))return;const e=t.type===Nc.POINTER_OVER;this.updateElementsState(t,e);const{onHover:n,onHoverEnd:r}=this.options;e?n?.(t):r?.(t)};getActiveIds(t){const{graph:e}=this.context,{degree:n,direction:r}=this.options,{targetType:i,target:o}=t;return n?yd(e,i,o.id,"function"===typeof n?n(t):n,r):[o.id]}updateElementsState=(t,e)=>{if(!this.options.state&&!this.options.inactiveState)return;const{graph:n}=this.context,{state:r,animation:i,inactiveState:o}=this.options,a=this.getActiveIds(t),s={};if(r&&Object.assign(s,this.getElementsState(a,r,e)),o){const t=tu(n.getData(),!0).filter((t=>!a.includes(t)));Object.assign(s,this.getElementsState(t,o,e))}n.setElementState(s,i)};getElementsState=(t,e,n)=>{const{graph:r}=this.context,i={};return t.forEach((t=>{const o=r.getElementState(t);i[t]=n?o.includes(e)?o:[...o,e]:o.filter((t=>t!==e))})),i};validate(t){if(this.destroyed||this.isFrozen||this.context.graph.isCollapsingExpanding)return!1;const{enable:e}=this.options;return pu(e)?e(t):!!e}unbindEvents(){const{graph:t}=this.context;md.forEach((e=>{t.off(`${e}:${Nc.POINTER_OVER}`,this.hoverElement),t.off(`${e}:${Nc.POINTER_OUT}`,this.hoverElement)}));const e=this.context.canvas.document;e.removeEventListener(`${Nc.DRAG_START}`,this.toggleFrozen),e.removeEventListener(`${Nc.DRAG_END}`,this.toggleFrozen)}destroy(){this.unbindEvents(),super.destroy()}}class dg extends fu{static defaultOptions={enable:!0,debounce:200,shapes:{node:["key"]}};isVisible=!0;constructor(t,e){super(t,Object.assign({},dg.defaultOptions,e)),this.bindEvents()}setElementsVisibility=(t,e,n)=>{t.forEach((t=>{Gd(t,e,!1,(t=>!t.className||!n?.includes(t.className)))}))};hideShapes=t=>{if(!this.validate(t)||!this.isVisible)return;const{element:e}=this.context,{shapes:n={}}=this.options;this.setElementsVisibility(e.getNodes(),"hidden",n.node),this.setElementsVisibility(e.getEdges(),"hidden",n.edge),this.setElementsVisibility(e.getCombos(),"hidden",n.combo),this.isVisible=!1};showShapes=(()=>Hp((t=>{if(!this.validate(t)||this.isVisible)return;const{element:e}=this.context;this.setElementsVisibility(e.getNodes(),"visible"),this.setElementsVisibility(e.getEdges(),"visible"),this.setElementsVisibility(e.getCombos(),"visible"),this.isVisible=!0}),this.options.debounce))();bindEvents(){const{graph:t}=this.context;t.on(Tc.BEFORE_TRANSFORM,this.hideShapes),t.on(Tc.AFTER_TRANSFORM,this.showShapes)}unbindEvents(){const{graph:t}=this.context;t.off(Tc.BEFORE_TRANSFORM,this.hideShapes),t.off(Tc.AFTER_TRANSFORM,this.showShapes)}validate(t){if(this.destroyed)return!1;const{enable:e}=this.options;return pu(e)?e(t):!!e}destroy(){this.unbindEvents(),super.destroy()}}class hg extends fu{static defaultOptions={enable:!0,sensitivity:1,preventDefault:!0,range:.5};shortcut;constructor(t,e){super(t,Object.assign({},hg.defaultOptions,e)),this.shortcut=new hd(t.graph),this.bindEvents()}update(t){super.update(t),this.bindEvents()}bindEvents(){const{trigger:t}=this.options;if(this.shortcut.unbindAll(),He(t)){this.graphDom?.removeEventListener(Nc.WHEEL,this.onWheel);const{up:e=[],down:n=[],left:r=[],right:i=[]}=t;this.shortcut.bind(e,(t=>this.scroll([0,-10],t))),this.shortcut.bind(n,(t=>this.scroll([0,10],t))),this.shortcut.bind(r,(t=>this.scroll([-10,0],t))),this.shortcut.bind(i,(t=>this.scroll([10,0],t)))}else this.graphDom?.addEventListener(Nc.WHEEL,this.onWheel,{passive:!1})}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}onWheel=async t=>{this.options.preventDefault&&t.preventDefault();const e=t.deltaX,n=t.deltaY;await this.scroll([-e,-n],t)};formatDisplacement(t){const{sensitivity:e}=this.options;return t=Iu(t,e),t=this.clampByDirection(t),t=this.clampByRange(t)}clampByDirection(t){let[e,n]=t;const{direction:r}=this.options;return"x"===r?n=0:"y"===r&&(e=0),[e,n]}clampByRange(t){let[e,n]=t;const{viewport:r,canvas:i}=this.context,[o,a]=i.getSize(),[s,l,c,u]=bu(this.options.range),d=[a*s,o*l,a*c,o*u],h=Mu(ku(r.getCanvasCenter()),d),f=Lu(r.getViewportCenter(),[e,n,0]);if(!Nu(f,h)){const{min:[t,r],max:[i,o]}=h;(f[0]<t&&e>0||f[0]>i&&e<0)&&(e=0),(f[1]<r&&n>0||f[1]>o&&n<0)&&(n=0)}return[e,n]}async scroll(t,e){if(!this.validate(e))return;const{onFinish:n}=this.options,r=this.context.graph,i=this.formatDisplacement(t);await r.translateBy(i,!1),n?.()}validate(t){if(this.destroyed)return!1;const{enable:e}=this.options;return pu(e)?e(t):!!e}destroy(){this.shortcut.destroy(),this.graphDom?.removeEventListener(Nc.WHEEL,this.onWheel),super.destroy()}}class fg extends fu{static defaultOptions={animation:{duration:200},enable:!0,sensitivity:1,trigger:[],preventDefault:!0};shortcut;constructor(t,e){super(t,Object.assign({},fg.defaultOptions,e)),this.shortcut=new hd(t.graph),this.bindEvents()}update(t){super.update(t),this.bindEvents()}bindEvents(){const{trigger:t}=this.options;if(this.shortcut.unbindAll(),Array.isArray(t)&&(this.context.canvas.getContainer()?.addEventListener(Nc.WHEEL,this.preventDefault),this.shortcut.bind([...t,Nc.WHEEL],(t=>{const{deltaX:e,deltaY:n}=t;this.zoom(-(n??e),t,!1)}))),"object"===typeof t){const{zoomIn:e=[],zoomOut:n=[],reset:r=[]}=t;this.shortcut.bind(e,(t=>this.zoom(10,t,this.options.animation))),this.shortcut.bind(n,(t=>this.zoom(-10,t,this.options.animation))),this.shortcut.bind(r,this.onReset)}}zoom=async(t,e,n)=>{if(!this.validate(e))return;const{graph:r}=this.context;let i;"viewport"in e&&(i=Ju(e.viewport));const{sensitivity:o,onFinish:a}=this.options,s=1+Qt(t,-50,50)*o/100,l=r.getZoom();await r.zoomTo(l*s,n,i),a?.()};onReset=async()=>{await this.context.graph.zoomTo(1,this.options.animation)};validate(t){if(this.destroyed)return!1;const{enable:e}=this.options;return pu(e)?e(t):!!e}preventDefault=t=>{this.options.preventDefault&&t.preventDefault()};destroy(){this.shortcut.destroy(),this.context.canvas.getContainer()?.removeEventListener(Nc.WHEEL,this.preventDefault),super.destroy()}}var pg=n(5964);const gg=(t,e)=>{if("next"!==t&&"prev"!==t)return e},mg=t=>{t.prev.next=t.next,t.next.prev=t.prev,delete t.next,delete t.prev};class vg{constructor(){const t={};t.prev=t,t.next=t.prev,this.shortcut=t}dequeue(){const t=this.shortcut,e=t.prev;if(e&&e!==t)return mg(e),e}enqueue(t){const e=this.shortcut;t.prev&&t.next&&mg(t),t.next=e.next,e.next.prev=t,e.next=t,t.prev=e}toString(){const t=[],e=this.shortcut;let n=e.prev;for(;n!==e;)t.push(JSON.stringify(n,gg)),n=null===n||void 0===n?void 0:n.prev;return`[${t.join(", ")}]`}}class yg extends vg{}const bg=()=>1,xg=(t,e,n)=>{let r=[];const i=e[e.length-1],o=e[0];let a;for(;t.getAllNodes().length;){for(;a=o.dequeue();)wg(t,e,n,a);for(;a=i.dequeue();)wg(t,e,n,a);if(t.getAllNodes().length)for(let i=e.length-2;i>0;--i)if(a=e[i].dequeue(),a){r=r.concat(wg(t,e,n,a,!0));break}}return r},wg=(t,e,n,r,i)=>{var o,a;const s=[];return t.hasNode(r.v)&&(null===(o=t.getRelatedEdges(r.v,"in"))||void 0===o||o.forEach((r=>{const o=r.data.weight,a=t.getNode(r.source);i&&s.push({v:r.source,w:r.target,in:0,out:0}),void 0===a.data.out&&(a.data.out=0),a.data.out-=o,Sg(e,n,Object.assign({v:a.id},a.data))})),null===(a=t.getRelatedEdges(r.v,"out"))||void 0===a||a.forEach((r=>{const i=r.data.weight,o=r.target,a=t.getNode(o);void 0===a.data.in&&(a.data.in=0),a.data.in-=i,Sg(e,n,Object.assign({v:a.id},a.data))})),t.removeNode(r.v)),i?s:void 0},Eg=(t,e)=>{const n=new Qp;let r=0,i=0;t.getAllNodes().forEach((t=>{n.addNode({id:t.id,data:{v:t.id,in:0,out:0}})})),t.getAllEdges().forEach((t=>{const o=n.getRelatedEdges(t.source,"out").find((e=>e.target===t.target)),a=(null===e||void 0===e?void 0:e(t))||1;o?n.updateEdgeData(null===o||void 0===o?void 0:o.id,Object.assign(Object.assign({},o.data),{weight:o.data.weight+a})):n.addEdge({id:t.id,source:t.source,target:t.target,data:{weight:a}}),i=Math.max(i,n.getNode(t.source).data.out+=a),r=Math.max(r,n.getNode(t.target).data.in+=a)}));const o=[],a=i+r+3;for(let l=0;l<a;l++)o.push(new yg);const s=r+1;return n.getAllNodes().forEach((t=>{Sg(o,s,Object.assign({v:t.id},n.getNode(t.id).data))})),{buckets:o,zeroIdx:s,graph:n}},Sg=(t,e,n)=>{n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)},kg=(t,e)=>{const n="greedy"===e?((t,e)=>{var n;if(t.getAllNodes().length<=1)return[];const r=Eg(t,e||bg);return null===(n=xg(r.graph,r.buckets,r.zeroIdx).map((e=>t.getRelatedEdges(e.v,"out").filter((t=>{let{target:n}=t;return n===e.w})))))||void 0===n?void 0:n.flat()})(t,(t=>t.data.weight||1)):Mg(t);null===n||void 0===n||n.forEach((e=>{const n=e.data;t.removeEdge(e.id),n.forwardName=e.data.name,n.reversed=!0,t.addEdge({id:e.id,source:e.target,target:e.source,data:Object.assign({},n)})}))},Mg=t=>{const e=[],n={},r={},i=o=>{r[o]||(r[o]=!0,n[o]=!0,t.getRelatedEdges(o,"out").forEach((t=>{n[t.target]?e.push(t):i(t.target)})),delete n[o])};return t.getAllNodes().forEach((t=>i(t.id))),e},Cg=(t,e,n,r)=>{let i;do{i=`${r}${Math.random()}`}while(t.hasNode(i));return n.dummy=e,t.addNode({id:i,data:n}),i},Ng=t=>{const e=new Qp;return t.getAllNodes().forEach((n=>{t.getChildren(n.id).length||e.addNode(Object.assign({},n))})),t.getAllEdges().forEach((t=>{e.addEdge(t)})),e},Og=(t,e)=>null===t||void 0===t?void 0:t.reduce(((t,n,r)=>(t[n]=e[r],t)),{}),Pg=(t,e)=>{const n=Number(t.x),r=Number(t.y),i=Number(e.x)-n,o=Number(e.y)-r;let a,s,l=Number(t.width)/2,c=Number(t.height)/2;return i||o?(Math.abs(o)*l>Math.abs(i)*c?(o<0&&(c=-c),a=c*i/o,s=c):(i<0&&(l=-l),a=l,s=l*o/i),{x:n+a,y:r+s}):{x:0,y:0}},Tg=t=>{const e=[],n=Rg(t)+1;for(let r=0;r<n;r++)e.push([]);t.getAllNodes().forEach((t=>{const n=t.data.rank;void 0!==n&&e[n]&&e[n].push(t.id)}));for(let r=0;r<n;r++)e[r]=e[r].sort(((e,n)=>{return r=t.getNode(e).data.order,i=t.getNode(n).data.order,Number(r)-Number(i);var r,i}));return e},Ag=(t,e,n,r)=>{const i={width:0,height:0};return Yt(n)&&Yt(r)&&(i.rank=n,i.order=r),Cg(t,"border",i,e)},Rg=t=>{let e;return t.getAllNodes().forEach((t=>{const n=t.data.rank;void 0!==n&&(void 0===e||n>e)&&(e=n)})),e||(e=0),e},_g=(t,e)=>t.reduce(((t,n)=>e(t)>e(n)?n:t)),Lg=(t,e,n,r,i,o)=>{r.includes(e.id)||(r.push(e.id),n||o.push(e.id),i(e.id).forEach((e=>Lg(t,e,n,r,i,o))),n&&o.push(e.id))},Ig=(t,e,n,r)=>{const i=Array.isArray(e)?e:[e],o=e=>r?t.getSuccessors(e):t.getNeighbors(e),a=[],s=[];return i.forEach((e=>{if(!t.hasNode(e.id))throw new Error(`Graph does not have node: ${e}`);Lg(t,e,"post"===n,s,o,a)})),a},Dg=(t,e,n,r,i,o)=>{const a={rank:o,borderType:e,width:0,height:0},s=i.data[e][o-1],l=Cg(t,"border",a,n);i.data[e][o]=l,t.setParent(l,r),s&&t.addEdge({id:`e${Math.random()}`,source:s,target:l,data:{weight:1}})},jg=t=>{t.getAllNodes().forEach((t=>{zg(t)})),t.getAllEdges().forEach((t=>{zg(t)}))},zg=t=>{const e=t.data.width;t.data.width=t.data.height,t.data.height=e},Fg=t=>{t.getAllNodes().forEach((t=>{Bg(t.data)})),t.getAllEdges().forEach((t=>{var e;null===(e=t.data.points)||void 0===e||e.forEach((t=>Bg(t))),t.data.hasOwnProperty("y")&&Bg(t.data)}))},Bg=t=>{(null===t||void 0===t?void 0:t.y)&&(t.y=-t.y)},$g=t=>{t.getAllNodes().forEach((t=>{Vg(t.data)})),t.getAllEdges().forEach((t=>{var e;null===(e=t.data.points)||void 0===e||e.forEach((t=>Vg(t))),t.data.hasOwnProperty("x")&&Vg(t.data)}))},Vg=t=>{const e=t.x;t.x=t.y,t.y=e},Hg=(t,e,n,r,i,o,a)=>{const s=t.getChildren(a);if(!(null===s||void 0===s?void 0:s.length))return void(a!==e&&t.addEdge({id:`e${Math.random()}`,source:e,target:a,data:{weight:0,minlen:n}}));const l=Ag(t,"_bt"),c=Ag(t,"_bb"),u=t.getNode(a);t.setParent(l,a),u.data.borderTop=l,t.setParent(c,a),u.data.borderBottom=c,null===s||void 0===s||s.forEach((s=>{Hg(t,e,n,r,i,o,s.id);const u=s.data.borderTop?s.data.borderTop:s.id,d=s.data.borderBottom?s.data.borderBottom:s.id,h=s.data.borderTop?r:2*r,f=u!==d?1:i-o[a]+1;t.addEdge({id:`e${Math.random()}`,source:l,target:u,data:{minlen:f,weight:h,nestingEdge:!0}}),t.addEdge({id:`e${Math.random()}`,source:d,target:c,data:{minlen:f,weight:h,nestingEdge:!0}})})),t.getParent(a)||t.addEdge({id:`e${Math.random()}`,source:e,target:l,data:{weight:0,minlen:i+o[a]}})},Wg=t=>{const e={},n=(r,i)=>{const o=t.getChildren(r);null===o||void 0===o||o.forEach((t=>n(t.id,i+1))),e[r]=i};return t.getRoots().forEach((t=>n(t.id,1))),e},Gg=t=>{let e=0;return t.getAllEdges().forEach((t=>{e+=t.data.weight})),e},Ug="edge-label",qg=(t,e,n)=>{let r=e.source,i=t.getNode(r).data.rank;const o=e.target,a=t.getNode(o).data.rank,s=e.data.labelRank;if(a===i+1)return;let l,c,u;for(t.removeEdge(e.id),u=0,++i;i<a;++u,++i)e.data.points=[],c={originalEdge:e,width:0,height:0,rank:i},l=Cg(t,"edge",c,"_d"),i===s&&(c.width=e.data.width,c.height=e.data.height,c.dummy=Ug,c.labelpos=e.data.labelpos),t.addEdge({id:`e${Math.random()}`,source:r,target:l,data:{weight:e.data.weight}}),0===u&&n.push(l),r=l;t.addEdge({id:`e${Math.random()}`,source:r,target:o,data:{weight:e.data.weight}})},Yg=t=>{let e;for(;t.hasNode(e=`_root${Math.random()}`););return e},Xg=(t,e,n)=>{const r=Og(n,n.map(((t,e)=>e))),i=e.map((e=>{const n=t.getRelatedEdges(e,"out").map((t=>({pos:r[t.target]||0,weight:t.data.weight})));return null===n||void 0===n?void 0:n.sort(((t,e)=>t.pos-e.pos))})),o=i.flat().filter((t=>void 0!==t));let a=1;for(;a<n.length;)a<<=1;const s=2*a-1;a-=1;const l=Array(s).fill(0,0,s);let c=0;return null===o||void 0===o||o.forEach((t=>{if(t){let e=t.pos+a;l[e]+=t.weight;let n=0;for(;e>0;)e%2&&(n+=l[e+1]),e=e-1>>1,l[e]+=t.weight;c+=t.weight*n}})),c},Kg=(t,e)=>{let n=0;for(let r=1;r<(null===e||void 0===e?void 0:e.length);r+=1)n+=Xg(t,e[r-1],e[r]);return n},Zg=t=>{const e={},n=t.getAllNodes(),r=n.map((t=>{var e;return null!==(e=t.data.rank)&&void 0!==e?e:-1/0})),i=Math.max(...r),o=[];for(let l=0;l<i+1;l++)o.push([]);const a=n.sort(((e,n)=>t.getNode(e.id).data.rank-t.getNode(n.id).data.rank)),s=a.filter((e=>void 0!==t.getNode(e.id).data.fixorder)).sort(((e,n)=>t.getNode(e.id).data.fixorder-t.getNode(n.id).data.fixorder));return null===s||void 0===s||s.forEach((n=>{isNaN(t.getNode(n.id).data.rank)||o[t.getNode(n.id).data.rank].push(n.id),e[n.id]=!0})),null===a||void 0===a||a.forEach((n=>t.dfsTree(n.id,(t=>{if(e.hasOwnProperty(t.id))return!0;e[t.id]=!0,isNaN(t.data.rank)||o[t.data.rank].push(t.id)})))),o},Qg=t=>{var e,n;const r=[];for(;null===t||void 0===t?void 0:t.length;){const i=t.pop();r.push(i),null===(e=i.in.reverse())||void 0===e||e.forEach((t=>{return(e=i,t=>{t.merged||(void 0===t.barycenter||void 0===e.barycenter||t.barycenter>=e.barycenter)&&Jg(e,t)})(t);var e})),null===(n=i.out)||void 0===n||n.forEach((e=>{return(n=i,e=>{e.in.push(n),0===--e.indegree&&t.push(e)})(e);var n}))}const i=r.filter((t=>!t.merged)),o=["vs","i","barycenter","weight"];return i.map((t=>{const e={};return null===o||void 0===o||o.forEach((n=>{void 0!==t[n]&&(e[n]=t[n])})),e}))},Jg=(t,e)=>{var n;let r=0,i=0;t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.vs=null===(n=e.vs)||void 0===n?void 0:n.concat(t.vs),t.barycenter=r/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0},tm=(t,e)=>{var n,r,i;const o={};null===t||void 0===t||t.forEach(((t,e)=>{o[t.v]={i:e,indegree:0,in:[],out:[],vs:[t.v]};const n=o[t.v];void 0!==t.barycenter&&(n.barycenter=t.barycenter,n.weight=t.weight)})),null===(n=e.getAllEdges())||void 0===n||n.forEach((t=>{const e=o[t.source],n=o[t.target];void 0!==e&&void 0!==n&&(n.indegree++,e.out.push(o[t.target]))}));const a=null===(i=(r=Object.values(o)).filter)||void 0===i?void 0:i.call(r,(t=>!t.indegree));return Qg(a)},em=(t,e,n)=>{let r,i=n;for(;e.length&&(r=e[e.length-1]).i<=i;)e.pop(),null===t||void 0===t||t.push(r.vs),i++;return i},nm=(t,e)=>(n,r)=>{if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(e&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return t?r.i-n.i:n.i-r.i},rm=(t,e,n,r,i,o)=>{var a,s,l,c;let u=t.getChildren(e).map((t=>t.id));const d=t.getNode(e),h=d?d.data.borderLeft:void 0,f=d?d.data.borderRight:void 0,p={};h&&(u=null===u||void 0===u?void 0:u.filter((t=>t!==h&&t!==f)));const g=((t,e)=>e.map((e=>{const n=t.getRelatedEdges(e,"in");if(!(null===n||void 0===n?void 0:n.length))return{v:e};const r={sum:0,weight:0};return null===n||void 0===n||n.forEach((e=>{const n=t.getNode(e.source);r.sum+=e.data.weight*n.data.order,r.weight+=e.data.weight})),{v:e,barycenter:r.sum/r.weight,weight:r.weight}})))(t,u||[]);null===g||void 0===g||g.forEach((e=>{var i;if(null===(i=t.getChildren(e.v))||void 0===i?void 0:i.length){const i=rm(t,e.v,n,r,o);p[e.v]=i,i.hasOwnProperty("barycenter")&&om(e,i)}}));const m=tm(g,n);im(m,p),null===(a=m.filter((t=>t.vs.length>0)))||void 0===a||a.forEach((e=>{const n=t.getNode(e.vs[0]);n&&(e.fixorder=n.data.fixorder,e.order=n.data.order)}));const v=((t,e,n,r)=>{const i=((t,e)=>{const n={lhs:[],rhs:[]};return null===t||void 0===t||t.forEach((t=>{e(t)?n.lhs.push(t):n.rhs.push(t)})),n})(t,(t=>{const e=t.hasOwnProperty("fixorder")&&!isNaN(t.fixorder);return r?!e&&t.hasOwnProperty("barycenter"):e||t.hasOwnProperty("barycenter")})),o=i.lhs,a=i.rhs.sort(((t,e)=>-t.i- -e.i)),s=[];let l=0,c=0,u=0;null===o||void 0===o||o.sort(nm(!!e,!!n)),u=em(s,a,u),null===o||void 0===o||o.forEach((t=>{var e;u+=null===(e=t.vs)||void 0===e?void 0:e.length,s.push(t.vs),l+=t.barycenter*t.weight,c+=t.weight,u=em(s,a,u)}));const d={vs:s.flat()};return c&&(d.barycenter=l/c,d.weight=c),d})(m,r,i,o);if(h&&(v.vs=[h,v.vs,f].flat(),null===(s=t.getPredecessors(h))||void 0===s?void 0:s.length)){const e=t.getNode((null===(l=t.getPredecessors(h))||void 0===l?void 0:l[0].id)||""),n=t.getNode((null===(c=t.getPredecessors(f))||void 0===c?void 0:c[0].id)||"");v.hasOwnProperty("barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+e.data.order+n.data.order)/(v.weight+2),v.weight+=2}return v},im=(t,e)=>{null===t||void 0===t||t.forEach((t=>{var n;const r=null===(n=t.vs)||void 0===n?void 0:n.map((t=>e[t]?e[t].vs:t));t.vs=r.flat()}))},om=(t,e)=>{void 0!==t.barycenter?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)},am=(t,e,n)=>e.map((e=>((t,e,n)=>{const r=Yg(t),i=new Qp({tree:[{id:r,children:[],data:{}}]});return t.getAllNodes().forEach((o=>{const a=t.getParent(o.id);(o.data.rank===e||o.data.minRank<=e&&e<=o.data.maxRank)&&(i.hasNode(o.id)||i.addNode(Object.assign({},o)),(null===a||void 0===a?void 0:a.id)&&!i.hasNode(null===a||void 0===a?void 0:a.id)&&i.addNode(Object.assign({},a)),i.setParent(o.id,(null===a||void 0===a?void 0:a.id)||r),t.getRelatedEdges(o.id,n).forEach((e=>{const n=e.source===o.id?e.target:e.source;i.hasNode(n)||i.addNode(Object.assign({},t.getNode(n)));const r=i.getRelatedEdges(n,"out").find((t=>{let{target:e}=t;return e===o.id})),a=void 0!==r?r.data.weight:0;r?i.updateEdgeData(r.id,Object.assign(Object.assign({},r.data),{weight:e.data.weight+a})):i.addEdge({id:e.id,source:n,target:o.id,data:{weight:e.data.weight+a}})})),o.data.hasOwnProperty("minRank")&&i.updateNodeData(o.id,Object.assign(Object.assign({},o.data),{borderLeft:o.data.borderLeft[e],borderRight:o.data.borderRight[e]})))})),i})(t,e,n))),sm=(t,e,n,r)=>{const i=new Qp;null===t||void 0===t||t.forEach((t=>{var o;const a=t.getRoots()[0].id,s=rm(t,a,i,e,n,r);for(let e=0;e<(null===(o=s.vs)||void 0===o?void 0:o.length);e++){const n=t.getNode(s.vs[e]);n&&(n.data.order=e)}((t,e,n)=>{const r={};let i;null===n||void 0===n||n.forEach((n=>{let o,a,s=t.getParent(n);for(;s;){if(o=t.getParent(s.id),o?(a=r[o.id],r[o.id]=s.id):(a=i,i=s.id),a&&a!==s.id)return e.hasNode(a)||e.addNode({id:a,data:{}}),e.hasNode(s.id)||e.addNode({id:s.id,data:{}}),void(e.hasEdge(`e${a}-${s.id}`)||e.addEdge({id:`e${a}-${s.id}`,source:a,target:s.id,data:{}}));s=o}}))})(t,i,s.vs)}))},lm=(t,e)=>{null===e||void 0===e||e.forEach((e=>{null===e||void 0===e||e.forEach(((e,n)=>{t.getNode(e).data.order=n}))}))},cm=(t,e)=>{const n=(t=>{const e={};let n=0;const r=i=>{const o=n;t.getChildren(i).forEach((t=>r(t.id))),e[i]={low:o,lim:n++}};return t.getRoots().forEach((t=>r(t.id))),e})(t);e.forEach((e=>{var r,i;let o=e,a=t.getNode(o);const s=a.data.originalEdge;if(!s)return;const l=((t,e,n,r)=>{var i,o;const a=[],s=[],l=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);let u,d;u=n;do{u=null===(i=t.getParent(u))||void 0===i?void 0:i.id,a.push(u)}while(u&&(e[u].low>l||c>e[u].lim));for(d=u,u=r;u&&u!==d;)s.push(u),u=null===(o=t.getParent(u))||void 0===o?void 0:o.id;return{lca:d,path:a.concat(s.reverse())}})(t,n,s.source,s.target),c=l.path,u=l.lca;let d=0,h=c[d],f=!0;for(;o!==s.target;){if(a=t.getNode(o),f){for(;h!==u&&(null===(r=t.getNode(h))||void 0===r?void 0:r.data.maxRank)<a.data.rank;)d++,h=c[d];h===u&&(f=!1)}if(!f){for(;d<c.length-1&&(null===(i=t.getNode(c[d+1]))||void 0===i?void 0:i.data.minRank)<=a.data.rank;)d++;h=c[d]}t.hasNode(h)&&t.setParent(o,h),o=t.getSuccessors(o)[0].id}}))},um=(t,e)=>{const n={},r=(e,r)=>{let i=0,o=0;const a=e.length,s=null===r||void 0===r?void 0:r[(null===r||void 0===r?void 0:r.length)-1];return null===r||void 0===r||r.forEach(((e,l)=>{var c;const u=hm(t,e),d=u?t.getNode(u.id).data.order:a;(u||e===s)&&(null===(c=r.slice(o,l+1))||void 0===c||c.forEach((e=>{var r;null===(r=t.getPredecessors(e))||void 0===r||r.forEach((r=>{var o;const a=t.getNode(r.id),s=a.data.order;!(s<i||d<s)||a.data.dummy&&(null===(o=t.getNode(e))||void 0===o?void 0:o.data.dummy)||fm(n,r.id,e)}))})),o=l+1,i=d)})),r};return(null===e||void 0===e?void 0:e.length)&&e.reduce(r),n},dm=(t,e)=>{const n={};function r(e,r){const i=function(t){return JSON.stringify(t.slice(1))}(e);r.get(i)||(!function(e,r,i,o,a){var s,l;let c;for(let u=r;u<i;u++)c=e[u],(null===(s=t.getNode(c))||void 0===s?void 0:s.data.dummy)&&(null===(l=t.getPredecessors(c))||void 0===l||l.forEach((e=>{const r=t.getNode(e.id);r.data.dummy&&(r.data.order<o||r.data.order>a)&&fm(n,e.id,c)})))}(...e),r.set(i,!0))}const i=(e,n)=>{let i,o=-1,a=0;const s=new Map;return null===n||void 0===n||n.forEach(((l,c)=>{var u;if("border"===(null===(u=t.getNode(l))||void 0===u?void 0:u.data.dummy)){const e=t.getPredecessors(l)||[];e.length&&(i=t.getNode(e[0].id).data.order,r([n,a,c,o,i],s),a=c,o=i)}r([n,a,n.length,i,e.length],s)})),n};return(null===e||void 0===e?void 0:e.length)&&e.reduce(i),n},hm=(t,e)=>{var n,r;if(null===(n=t.getNode(e))||void 0===n?void 0:n.data.dummy)return null===(r=t.getPredecessors(e))||void 0===r?void 0:r.find((e=>t.getNode(e.id).data.dummy))},fm=(t,e,n)=>{let r=e,i=n;if(r>i){const t=r;r=i,i=t}let o=t[r];o||(t[r]=o={}),o[i]=!0},pm=(t,e,n)=>{let r=e,i=n;if(r>n){r=n,i=e}return!!t[r]},gm=(t,e,n,r)=>{const i={},o={},a={};return null===e||void 0===e||e.forEach((t=>{null===t||void 0===t||t.forEach(((t,e)=>{i[t]=t,o[t]=t,a[t]=e}))})),null===e||void 0===e||e.forEach((t=>{let e=-1;null===t||void 0===t||t.forEach((t=>{let s=r(t).map((t=>t.id));if(s.length){s=s.sort(((t,e)=>a[t]-a[e]));const r=(s.length-1)/2;for(let l=Math.floor(r),c=Math.ceil(r);l<=c;++l){const r=s[l];o[t]===t&&e<a[r]&&!pm(n,t,r)&&(o[r]=t,o[t]=i[t]=i[r],e=a[r])}}}))})),{root:i,align:o}},mm=(t,e,n,r,i,o,a)=>{var s;const l={},c=vm(t,e,n,i,o,a),u=a?"borderLeft":"borderRight",d=(t,e)=>{let n=c.getAllNodes(),r=n.pop();const i={};for(;r;)i[r.id]?t(r.id):(i[r.id]=!0,n.push(r),n=n.concat(e(r.id))),r=n.pop()};return d((t=>{l[t]=(c.getRelatedEdges(t,"in")||[]).reduce(((t,e)=>Math.max(t,(l[e.source]||0)+e.data.weight)),0)}),c.getPredecessors.bind(c)),d((e=>{const n=(c.getRelatedEdges(e,"out")||[]).reduce(((t,e)=>Math.min(t,(l[e.target]||0)-e.data.weight)),Number.POSITIVE_INFINITY),r=t.getNode(e);n!==Number.POSITIVE_INFINITY&&r.data.borderType!==u&&(l[e]=Math.max(l[e],n))}),c.getSuccessors.bind(c)),null===(s=Object.values(r))||void 0===s||s.forEach((t=>{l[t]=l[n[t]]})),l},vm=(t,e,n,r,i,o)=>{const a=new Qp,s=wm(r,i,o);return null===e||void 0===e||e.forEach((e=>{let r;null===e||void 0===e||e.forEach((e=>{const i=n[e];if(a.hasNode(i)||a.addNode({id:i,data:{}}),r){const o=n[r],l=a.getRelatedEdges(o,"out").find((t=>t.target===i));l?a.updateEdgeData(l.id,Object.assign(Object.assign({},l.data),{weight:Math.max(s(t,e,r),l.data.weight||0)})):a.addEdge({id:`e${Math.random()}`,source:o,target:i,data:{weight:Math.max(s(t,e,r),0)}})}r=e}))})),a},ym=(t,e)=>_g(Object.values(e),(e=>{var n;let r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return null===(n=Object.keys(e))||void 0===n||n.forEach((n=>{const o=e[n],a=Em(t,n)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)})),r-i}));function bm(t,e){const n=Object.values(e),r=Math.min(...n),i=Math.max(...n);["u","d"].forEach((n=>{["l","r"].forEach((o=>{const a=n+o,s=t[a];let l;if(s===e)return;const c=Object.values(s);l="l"===o?r-Math.min(...c):i-Math.max(...c),l&&(t[a]={},Object.keys(s).forEach((e=>{t[a][e]=s[e]+l})))}))}))}const xm=(t,e)=>{const n={};return Object.keys(t.ul).forEach((r=>{if(e)n[r]=t[e.toLowerCase()][r];else{const e=Object.values(t).map((t=>t[r]));n[r]=(e[0]+e[1])/2}})),n},wm=(t,e,n)=>(r,i,o)=>{const a=r.getNode(i),s=r.getNode(o);let l=0,c=0;if(l+=a.data.width/2,a.data.hasOwnProperty("labelpos"))switch((a.data.labelpos||"").toLowerCase()){case"l":c=-a.data.width/2;break;case"r":c=a.data.width/2}if(c&&(l+=n?c:-c),c=0,l+=(a.data.dummy?e:t)/2,l+=(s.data.dummy?e:t)/2,l+=s.data.width/2,s.data.labelpos)switch((s.data.labelpos||"").toLowerCase()){case"l":c=s.data.width/2;break;case"r":c=-s.data.width/2}return c&&(l+=n?c:-c),c=0,l},Em=(t,e)=>t.getNode(e).data.width||0,Sm=(t,e)=>{var n;const r=Ng(t);((t,e)=>{const{ranksep:n=0}=e||{},r=Tg(t);let i=0;null===r||void 0===r||r.forEach((e=>{const r=e.map((e=>t.getNode(e).data.height)),o=Math.max(...r,0);null===e||void 0===e||e.forEach((e=>{t.getNode(e).data.y=i+o/2})),i+=o+n}))})(r,e);const i=((t,e)=>{const{align:n,nodesep:r=0,edgesep:i=0}=e||{},o=Tg(t),a=Object.assign(um(t,o),dm(t,o)),s={};let l=[];["u","d"].forEach((e=>{l="u"===e?o:Object.values(o).reverse(),["l","r"].forEach((n=>{"r"===n&&(l=l.map((t=>Object.values(t).reverse())));const o=("u"===e?t.getPredecessors:t.getSuccessors).bind(t),c=gm(0,l,a,o),u=mm(t,l,c.root,c.align,r,i,"r"===n);"r"===n&&Object.keys(u).forEach((t=>u[t]=-u[t])),s[e+n]=u}))}));const c=ym(t,s);return c&&bm(s,c),xm(s,n)})(r,e);null===(n=Object.keys(i))||void 0===n||n.forEach((t=>{r.getNode(t).data.x=i[t]}))},km=t=>{const e={},n=r=>{var i;const o=t.getNode(r);if(!o)return 0;if(e[r])return o.data.rank;let a;return e[r]=!0,null===(i=t.getRelatedEdges(r,"out"))||void 0===i||i.forEach((t=>{const e=n(t.target)-t.data.minlen;e&&(void 0===a||e<a)&&(a=e)})),a||(a=0),o.data.rank=a,a};t.getAllNodes().filter((e=>0===t.getRelatedEdges(e.id,"in").length)).forEach((t=>n(t.id)))},Mm=(t,e)=>t.getNode(e.target).data.rank-t.getNode(e.source).data.rank-e.data.minlen,Cm=(t,e)=>{const n=r=>{e.getRelatedEdges(r,"both").forEach((i=>{const o=i.source,a=r===o?i.target:o;t.hasNode(a)||Mm(e,i)||(t.addNode({id:a,data:{}}),t.addEdge({id:i.id,source:r,target:a,data:{}}),n(a))}))};return t.getAllNodes().forEach((t=>n(t.id))),t.getAllNodes().length},Nm=(t,e)=>{const n=r=>{var i;null===(i=e.getRelatedEdges(r,"both"))||void 0===i||i.forEach((i=>{const o=i.source,a=r===o?i.target:o;t.hasNode(a)||void 0===e.getNode(a).data.layer&&Mm(e,i)||(t.addNode({id:a,data:{}}),t.addEdge({id:i.id,source:r,target:a,data:{}}),n(a))}))};return t.getAllNodes().forEach((t=>n(t.id))),t.getAllNodes().length},Om=(t,e)=>_g(e.getAllEdges(),(n=>t.hasNode(n.source)!==t.hasNode(n.target)?Mm(e,n):1/0)),Pm=(t,e,n)=>{t.getAllNodes().forEach((t=>{const r=e.getNode(t.id);r.data.rank||(r.data.rank=0),r.data.rank+=n}))},Tm=t=>{const e=(t=>{const e=new Qp;return t.getAllNodes().forEach((t=>{e.addNode(Object.assign({},t))})),t.getAllEdges().forEach((t=>{const n=e.getRelatedEdges(t.source,"out").find((e=>e.target===t.target));n?e.updateEdgeData(null===n||void 0===n?void 0:n.id,Object.assign(Object.assign({},n.data),{weight:n.data.weight+t.data.weight||0,minlen:Math.max(n.data.minlen,t.data.minlen||1)})):e.addEdge({id:t.id,source:t.source,target:t.target,data:{weight:t.data.weight||0,minlen:t.data.minlen||1}})})),e})(t);km(e);const n=(t=>{const e=new Qp({tree:[]}),n=t.getAllNodes()[0],r=t.getAllNodes().length;let i,o;for(e.addNode(n);Cm(e,t)<r;)i=Om(e,t),o=e.hasNode(i.source)?Mm(t,i):-Mm(t,i),Pm(e,t,o);return e})(e);let r,i;for(Lm(n),Am(n,e);r=Dm(n);)i=jm(n,e,r),zm(n,e,r,i)},Am=(t,e)=>{let n=Ig(t,t.getAllNodes(),"post",!1);n=n.slice(0,(null===n||void 0===n?void 0:n.length)-1),n.forEach((n=>{Rm(t,e,n)}))},Rm=(t,e,n)=>{const r=t.getNode(n).data.parent;t.getRelatedEdges(n,"both").find((t=>t.target===r||t.source===r)).data.cutvalue=_m(t,e,n)},_m=(t,e,n)=>{const r=t.getNode(n).data.parent;let i=!0,o=e.getRelatedEdges(n,"out").find((t=>t.target===r)),a=0;return o||(i=!1,o=e.getRelatedEdges(r,"out").find((t=>t.target===n))),a=o.data.weight,e.getRelatedEdges(n,"both").forEach((e=>{const o=e.source===n,s=o?e.target:e.source;if(s!==r){const r=o===i,l=e.data.weight;if(a+=r?l:-l,Bm(t,n,s)){const e=t.getRelatedEdges(n,"both").find((t=>t.source===s||t.target===s)).data.cutvalue;a+=r?-e:e}}})),a},Lm=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getAllNodes()[0].id;Im(t,{},1,e)},Im=(t,e,n,r,i)=>{var o;const a=n;let s=n;const l=t.getNode(r);return e[r]=!0,null===(o=t.getNeighbors(r))||void 0===o||o.forEach((n=>{e[n.id]||(s=Im(t,e,s,n.id,r))})),l.data.low=a,l.data.lim=s++,i?l.data.parent=i:delete l.data.parent,s},Dm=t=>t.getAllEdges().find((t=>t.data.cutvalue<0)),jm=(t,e,n)=>{let r=n.source,i=n.target;e.getRelatedEdges(r,"out").find((t=>t.target===i))||(r=n.target,i=n.source);const o=t.getNode(r),a=t.getNode(i);let s=o,l=!1;o.data.lim>a.data.lim&&(s=a,l=!0);const c=e.getAllEdges().filter((e=>l===$m(t.getNode(e.source),s)&&l!==$m(t.getNode(e.target),s)));return _g(c,(t=>Mm(e,t)))},zm=(t,e,n,r)=>{const i=t.getRelatedEdges(n.source,"both").find((t=>t.source===n.target||t.target===n.target));i&&t.removeEdge(i.id),t.addEdge({id:`e${Math.random()}`,source:r.source,target:r.target,data:{}}),Lm(t),Am(t,e),Fm(t,e)},Fm=(t,e)=>{const n=t.getAllNodes().find((t=>!t.data.parent));let r=Ig(t,n,"pre",!1);r=r.slice(1),r.forEach((n=>{const r=t.getNode(n).data.parent;let i=e.getRelatedEdges(n,"out").find((t=>t.target===r)),o=!1;!i&&e.hasNode(r)&&(i=e.getRelatedEdges(r,"out").find((t=>t.target===n)),o=!0),e.getNode(n).data.rank=(e.hasNode(r)&&e.getNode(r).data.rank||0)+(o?null===i||void 0===i?void 0:i.data.minlen:-(null===i||void 0===i?void 0:i.data.minlen))}))},Bm=(t,e,n)=>t.getRelatedEdges(e,"both").find((t=>t.source===n||t.target===n)),$m=(t,e)=>e.data.low<=t.data.lim&&t.data.lim<=e.data.lim,Vm=km,Hm=t=>{(t=>{const e={};let n;const r=i=>{var o;const a=t.getNode(i);if(!a)return 0;if(e[i])return a.data.rank;let s;return e[i]=!0,null===(o=t.getRelatedEdges(i,"out"))||void 0===o||o.forEach((t=>{const e=r(t.target)-t.data.minlen;e&&(void 0===s||e<s)&&(s=e)})),s||(s=0),(void 0===n||s<n)&&(n=s),a.data.rank=s,s};t.getAllNodes().filter((e=>0===t.getRelatedEdges(e.id,"in").length)).forEach((t=>{t&&r(t.id)})),void 0===n&&(n=0);const i={},o=(e,n)=>{var r;const a=t.getNode(e),s=isNaN(a.data.layer)?n:a.data.layer;(void 0===a.data.rank||a.data.rank<s)&&(a.data.rank=s),i[e]||(i[e]=!0,null===(r=t.getRelatedEdges(e,"out"))||void 0===r||r.forEach((t=>{o(t.target,s+t.data.minlen)})))};t.getAllNodes().forEach((t=>{const e=t.data;e&&(isNaN(e.layer)?e.rank-=n:o(t.id,e.layer))}))})(t),(t=>{const e=new Qp({tree:[]}),n=t.getAllNodes()[0],r=t.getAllNodes().length;let i,o;for(e.addNode(n);Nm(e,t)<r;)i=Om(e,t),o=e.hasNode(i.source)?Mm(t,i):-Mm(t,i),Pm(e,t,o)})(t)},Wm=t=>{Tm(t)},Gm=(t,e)=>{const{acyclicer:n,ranker:r,rankdir:i="tb",nodeOrder:o,keepNodeOrder:a,align:s,nodesep:l=50,edgesep:c=20,ranksep:u=50}=e;cv(t),kg(t,n);const{nestingRoot:d,nodeRankFactor:h}=(t=>{const e=Cg(t,"root",{},"_root"),n=Wg(t);let r=Math.max(...Object.values(n));Math.abs(r)===1/0&&(r=1);const i=r-1,o=2*i+1;t.getAllEdges().forEach((t=>{t.data.minlen*=o}));const a=Gg(t)+1;return t.getRoots().forEach((r=>{Hg(t,e,o,a,i,n,r.id)})),{nestingRoot:e,nodeRankFactor:o}})(t);((t,e)=>{switch(e){case"network-simplex":Wm(t);break;case"tight-tree":default:Hm(t);break;case"longest-path":Vm(t)}})(Ng(t),r),ev(t),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=t.getAllNodes(),r=n.filter((t=>void 0!==t.data.rank)).map((t=>t.data.rank)),i=Math.min(...r),o=[];n.forEach((t=>{const e=(t.data.rank||0)-i;o[e]||(o[e]=[]),o[e].push(t.id)}));let a=0;for(let s=0;s<o.length;s++){const n=o[s];void 0===n?s%e!==0&&(a-=1):a&&(null===n||void 0===n||n.forEach((e=>{const n=t.getNode(e);n&&(n.data.rank=n.data.rank||0,n.data.rank+=a)})))}}(t,h),((t,e)=>{e&&t.removeNode(e),t.getAllEdges().forEach((e=>{e.data.nestingEdge&&t.removeEdge(e.id)}))})(t,d),(t=>{const e=t.getAllNodes().filter((t=>void 0!==t.data.rank)).map((t=>t.data.rank)),n=Math.min(...e);t.getAllNodes().forEach((t=>{t.data.hasOwnProperty("rank")&&n!==1/0&&(t.data.rank-=n)}))})(t),nv(t),rv(t);const f=[];((t,e)=>{t.getAllEdges().forEach((n=>qg(t,n,e)))})(t,f),cm(t,f),(t=>{const e=n=>{const r=t.getChildren(n),i=t.getNode(n);if((null===r||void 0===r?void 0:r.length)&&r.forEach((t=>e(t.id))),i.data.hasOwnProperty("minRank")){i.data.borderLeft=[],i.data.borderRight=[];for(let e=i.data.minRank,r=i.data.maxRank+1;e<r;e+=1)Dg(t,"borderLeft","_bl",n,i,e),Dg(t,"borderRight","_br",n,i,e)}};t.getRoots().forEach((t=>e(t.id)))})(t),a&&((t,e)=>{const n=t.getAllNodes().filter((e=>{var n;return!(null===(n=t.getChildren(e.id))||void 0===n?void 0:n.length)})).map((t=>t.data.rank)),r=Math.max(...n),i=[];for(let o=0;o<r+1;o++)i[o]=[];null===e||void 0===e||e.forEach((e=>{const n=t.getNode(e);n&&!n.data.dummy&&(isNaN(n.data.rank)||(n.data.fixorder=i[n.data.rank].length,i[n.data.rank].push(e)))}))})(t,o),((t,e)=>{const n=Rg(t),r=[],i=[];for(let u=1;u<n+1;u++)r.push(u);for(let u=n-1;u>-1;u--)i.push(u);const o=am(t,r,"in"),a=am(t,i,"out");let s=Zg(t);lm(t,s);let l,c=Number.POSITIVE_INFINITY;for(let u=0,d=0;d<4;++u,++d){sm(u%2?o:a,u%4>=2,!1,e),s=Tg(t);const n=Kg(t,s);n<c&&(d=0,l=mu(s),c=n)}s=Zg(t),lm(t,s);for(let u=0,d=0;d<4;++u,++d){sm(u%2?o:a,u%4>=2,!0,e),s=Tg(t);const n=Kg(t,s);n<c&&(d=0,l=mu(s),c=n)}lm(t,l)})(t,a),uv(t),((t,e)=>{const n=e.toLowerCase();"lr"!==n&&"rl"!==n||jg(t)})(t,i),Sm(t,{align:s,nodesep:l,edgesep:c,ranksep:u}),dv(t),lv(t),((t,e)=>{e.forEach((e=>{let n=t.getNode(e);const{data:r}=n,i=r.originalEdge;let o;i&&t.addEdge(i);let a=e;for(;n.data.dummy;)o=t.getSuccessors(a)[0],t.removeNode(a),i.data.points.push({x:n.data.x,y:n.data.y}),n.data.dummy===Ug&&(i.data.x=n.data.x,i.data.y=n.data.y,i.data.width=n.data.width,i.data.height=n.data.height),a=o.id,n=t.getNode(a)}))})(t,f),av(t),((t,e)=>{const n=e.toLowerCase();"bt"!==n&&"rl"!==n||Fg(t),"lr"!==n&&"rl"!==n||($g(t),jg(t))})(t,i);const{width:p,height:g}=iv(t);return ov(t),sv(t),(t=>{t.getAllEdges().forEach((e=>{const n=e.data;if(n.reversed){t.removeEdge(e.id);const r=n.forwardName;delete n.reversed,delete n.forwardName,t.addEdge({id:e.id,source:e.target,target:e.source,data:Object.assign(Object.assign({},n),{forwardName:r})})}}))})(t),{width:p,height:g}},Um=(t,e)=>{t.getAllNodes().forEach((n=>{const r=t.getNode(n.id);if(e.hasNode(n.id)){const t=e.getNode(n.id);r.data.fixorder=t.data._order,delete t.data._order}else delete r.data.fixorder}))},qm=(t,e)=>{t.getAllNodes().forEach((n=>{var r;const i=t.getNode(n.id);if(i){const t=e.getNode(n.id);i.data.x=t.data.x,i.data.y=t.data.y,i.data._order=t.data.order,i.data._rank=t.data.rank,(null===(r=e.getChildren(n.id))||void 0===r?void 0:r.length)&&(i.data.width=t.data.width,i.data.height=t.data.height)}})),t.getAllEdges().forEach((n=>{const r=t.getEdge(n.id),i=e.getEdge(n.id);r.data.points=i?i.data.points:[],i&&i.data.hasOwnProperty("x")&&(r.data.x=i.data.x,r.data.y=i.data.y)}))},Ym=["width","height","layer","fixorder"],Xm={width:0,height:0},Km=["minlen","weight","width","height","labeloffset"],Zm={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Qm=["labelpos"],Jm=t=>{const e=new Qp({tree:[]});return t.getAllNodes().forEach((n=>{const r=fv(t.getNode(n.id).data),i=Object.assign(Object.assign({},Xm),r),o=hv(i,Ym);e.hasNode(n.id)||e.addNode({id:n.id,data:Object.assign({},o)});const a=t.hasTreeStructure("combo")?t.getParent(n.id,"combo"):t.getParent(n.id);Kt(a)||(e.hasNode(a.id)||e.addNode(Object.assign({},a)),e.setParent(n.id,a.id))})),t.getAllEdges().forEach((n=>{const r=fv(t.getEdge(n.id).data),i={};null===Qm||void 0===Qm||Qm.forEach((t=>{void 0!==r[t]&&(i[t]=r[t])})),e.addEdge({id:n.id,source:n.source,target:n.target,data:Object.assign({},Zm,hv(r,Km),i)})})),e},tv=(t,e)=>{const{ranksep:n=0,rankdir:r}=e;return t.getAllNodes().forEach((t=>{isNaN(t.data.layer)||t.data.layer||(t.data.layer=0)})),t.getAllEdges().forEach((t=>{var e;t.data.minlen*=2,"c"!==(null===(e=t.data.labelpos)||void 0===e?void 0:e.toLowerCase())&&("TB"===r||"BT"===r?t.data.width+=t.data.labeloffset:t.data.height+=t.data.labeloffset)})),n/2},ev=t=>{t.getAllEdges().forEach((e=>{if(e.data.width&&e.data.height){const n=t.getNode(e.source),r={e:e,rank:(t.getNode(e.target).data.rank-n.data.rank)/2+n.data.rank};Cg(t,"edge-proxy",r,"_ep")}}))},nv=t=>{let e=0;return t.getAllNodes().forEach((n=>{var r,i;n.data.borderTop&&(n.data.minRank=null===(r=t.getNode(n.data.borderTop))||void 0===r?void 0:r.data.rank,n.data.maxRank=null===(i=t.getNode(n.data.borderBottom))||void 0===i?void 0:i.data.rank,e=Math.max(e,n.data.maxRank||-1/0))})),e},rv=t=>{t.getAllNodes().forEach((e=>{"edge-proxy"===e.data.dummy&&(t.getEdge(e.data.e.id).data.labelRank=e.data.rank,t.removeNode(e.id))}))},iv=(t,e)=>{let n,r,i=0,o=0;const{marginx:a=0,marginy:s=0}=e||{},l=t=>{if(!t.data)return;const e=t.data.x,a=t.data.y,s=t.data.width,l=t.data.height;isNaN(e)||isNaN(s)||(void 0===n&&(n=e-s/2),n=Math.min(n,e-s/2),i=Math.max(i,e+s/2)),isNaN(a)||isNaN(l)||(void 0===r&&(r=a-l/2),r=Math.min(r,a-l/2),o=Math.max(o,a+l/2))};return t.getAllNodes().forEach((t=>{l(t)})),t.getAllEdges().forEach((t=>{(null===t||void 0===t?void 0:t.data.hasOwnProperty("x"))&&l(t)})),n-=a,r-=s,t.getAllNodes().forEach((t=>{t.data.x-=n,t.data.y-=r})),t.getAllEdges().forEach((t=>{var e;null===(e=t.data.points)||void 0===e||e.forEach((t=>{t.x-=n,t.y-=r})),t.data.hasOwnProperty("x")&&(t.data.x-=n),t.data.hasOwnProperty("y")&&(t.data.y-=r)})),{width:i-n+a,height:o-r+s}},ov=t=>{t.getAllEdges().forEach((e=>{const n=t.getNode(e.source),r=t.getNode(e.target);let i,o;e.data.points?(i=e.data.points[0],o=e.data.points[e.data.points.length-1]):(e.data.points=[],i={x:r.data.x,y:r.data.y},o={x:n.data.x,y:n.data.y}),e.data.points.unshift(Pg(n.data,i)),e.data.points.push(Pg(r.data,o))}))},av=t=>{t.getAllEdges().forEach((t=>{if(t.data.hasOwnProperty("x"))switch("l"!==t.data.labelpos&&"r"!==t.data.labelpos||(t.data.width-=t.data.labeloffset),t.data.labelpos){case"l":t.data.x-=t.data.width/2+t.data.labeloffset;break;case"r":t.data.x+=t.data.width/2+t.data.labeloffset}}))},sv=t=>{t.getAllEdges().forEach((t=>{var e;t.data.reversed&&(null===(e=t.data.points)||void 0===e||e.reverse())}))},lv=t=>{t.getAllNodes().forEach((e=>{var n,r,i;if(null===(n=t.getChildren(e.id))||void 0===n?void 0:n.length){const n=t.getNode(e.id),o=t.getNode(n.data.borderTop),a=t.getNode(n.data.borderBottom),s=t.getNode(n.data.borderLeft[(null===(r=n.data.borderLeft)||void 0===r?void 0:r.length)-1]),l=t.getNode(n.data.borderRight[(null===(i=n.data.borderRight)||void 0===i?void 0:i.length)-1]);n.data.width=Math.abs((null===l||void 0===l?void 0:l.data.x)-(null===s||void 0===s?void 0:s.data.x))||10,n.data.height=Math.abs((null===a||void 0===a?void 0:a.data.y)-(null===o||void 0===o?void 0:o.data.y))||10,n.data.x=((null===s||void 0===s?void 0:s.data.x)||0)+n.data.width/2,n.data.y=((null===o||void 0===o?void 0:o.data.y)||0)+n.data.height/2}})),t.getAllNodes().forEach((e=>{"border"===e.data.dummy&&t.removeNode(e.id)}))},cv=t=>{t.getAllEdges().forEach((e=>{if(e.source===e.target){const n=t.getNode(e.source);n.data.selfEdges||(n.data.selfEdges=[]),n.data.selfEdges.push(e),t.removeEdge(e.id)}}))},uv=t=>{const e=Tg(t);null===e||void 0===e||e.forEach((e=>{let n=0;null===e||void 0===e||e.forEach(((e,r)=>{var i;const o=t.getNode(e);o.data.order=r+n,null===(i=o.data.selfEdges)||void 0===i||i.forEach((e=>{Cg(t,"selfedge",{width:e.data.width,height:e.data.height,rank:o.data.rank,order:r+ ++n,e:e},"_se")})),delete o.data.selfEdges}))}))},dv=t=>{t.getAllNodes().forEach((e=>{const n=t.getNode(e.id);if("selfedge"===n.data.dummy){const r=t.getNode(n.data.e.source),i=r.data.x+r.data.width/2,o=r.data.y,a=n.data.x-i,s=r.data.height/2;t.hasEdge(n.data.e.id)?t.updateEdgeData(n.data.e.id,n.data.e.data):t.addEdge({id:n.data.e.id,source:n.data.e.source,target:n.data.e.target,data:n.data.e.data}),t.removeNode(e.id),n.data.e.data.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{y:o,x:i+a},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.data.e.data.x=n.data.x,n.data.e.data.y=n.data.y}}))},hv=(t,e)=>{const n={};return null===e||void 0===e||e.forEach((e=>{void 0!==t[e]&&(n[e]=+t[e])})),n},fv=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={};return Object.keys(t).forEach((n=>{e[n.toLowerCase()]=t[n]})),e};function pv(t,e){let n;return n=pu(e)?e:Yt(e)?()=>e:()=>t,n}function gv(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e||0===e?pu(e)?e:Yt(e)?()=>e:Array.isArray(e)?()=>{if(n){const n=Math.max(...e);return isNaN(n)?t:n}return e}:He(e)?()=>{if(n){const n=Math.max(e.width,e.height);return isNaN(n)?t:n}return[e.width,e.height]}:()=>t:e=>{const{size:n}=e.data||{};return n?Array.isArray(n)?n[0]>n[1]?n[0]:n[1]:He(n)?n.width>n.height?n.width:n.height:n:t}}const mv=(t,e)=>{let n,r;return r=Yt(e)?()=>e:pu(e)?e:()=>0,n=t?Array.isArray(t)?e=>(t[0]>t[1]?t[0]:t[1])+r(e):pu(t)?t:e=>t+r(e):t=>{var e,n;if(null===(e=t.data)||void 0===e?void 0:e.bboxSize)return Math.max(t.data.bboxSize[0],t.data.bboxSize[1])+r(t);if(null===(n=t.data)||void 0===n?void 0:n.size){if(Array.isArray(t.data.size))return Math.max(t.data.size[0],t.data.size[1])+r(t);const e=t.data.size;if(He(e)){return(e.width>e.height?e.width:e.height)+r(t)}return e+r(t)}return 10+r(t)},n},vv=t=>{if(null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){const e=[];return t.forEach((t=>{e.push(t)})),e.map((t=>vv(t)))}if("object"===typeof t){const e={};return Object.keys(t).forEach((n=>{e[n]=vv(t[n])})),e}return t},yv=(t,e)=>{const n=vv(t);return n.data=n.data||{},e&&(Yt(n.data.x)||(n.data.x=Math.random()*e[0]),Yt(n.data.y)||(n.data.y=Math.random()*e[1])),n},bv={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null};const xv=(t,e,n,r,i,o,a)=>{let s=(null===t||void 0===t?void 0:t.slice(1,t.length-1))||[];if(e&&n){let{x:t,y:l}=e.data,{x:c,y:u}=n.data;if(i&&(t=e.data.y,l=e.data.x,c=n.data.y,u=n.data.x),u!==l&&t!==c){const d=r.indexOf(l),h=r[d+1];if(h){const t=s[0],e=i?{x:(l+h)/2,y:(null===t||void 0===t?void 0:t.y)||c}:{x:(null===t||void 0===t?void 0:t.x)||c,y:(l+h)/2};t&&!o(t,e)||s.unshift(e)}const f=r.indexOf(u),p=Math.abs(f-d);if(1===p)s=a(s,e.data,n.data),s.length||s.push(i?{x:(l+u)/2,y:t}:{x:t,y:(l+u)/2});else if(p>1){const e=r[f-1];if(e){const n=s[s.length-1],r=i?{x:(u+e)/2,y:(null===n||void 0===n?void 0:n.y)||c}:{x:(null===n||void 0===n?void 0:n.x)||t,y:(u+e)/2};n&&!o(n,r)||s.push(r)}}}}return s},wv=(t,e,n)=>{const r=t.getAllNodes(),i=t.getAllEdges();if(!(null===r||void 0===r?void 0:r.length)){return{nodes:[],edges:i}}if(1===r.length){e&&t.mergeNodeData(r[0].id,{x:n[0],y:n[1]});return{nodes:[Object.assign(Object.assign({},r[0]),{data:Object.assign(Object.assign({},r[0].data),{x:n[0],y:n[1]})})],edges:i}}},Ev={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1};const Sv=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=[yv(e[0])],i={},o=e.length;i[e[0].id]=!0;let a=0;return e.forEach(((s,l)=>{if(0!==l)if(l!==o-1&&t.getDegree(s.id,"both")===t.getDegree(e[l+1].id,"both")&&!t.areNeighbors(r[a].id,s.id)||i[s.id]){const l=n?t.getSuccessors(r[a].id):t.getNeighbors(r[a].id);let c=!1;for(let e=0;e<l.length;e++){const n=l[e];if(t.getDegree(n.id)===t.getDegree(s.id)&&!i[n.id]){r.push(yv(n)),i[n.id]=!0,c=!0;break}}let u=0;for(;!c&&(i[e[u].id]||(r.push(yv(e[u])),i[e[u].id]=!0,c=!0),u++,u!==o););}else r.push(yv(s)),i[s.id]=!0,a++})),r};const kv=(t,e,n)=>{let r=t,i=e,o=n;return r||"undefined"===typeof window||(r=window.innerWidth),i||"undefined"===typeof window||(i=window.innerHeight),o||(o=[r/2,i/2]),[r,i,o]},Mv=Array.isArray,Cv={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class Nv{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.id="concentric",this.options=Object.assign(Object.assign({},Cv),t)}execute(t,e){return l(this,void 0,void 0,(function*(){return this.genericConcentricLayout(!1,t,e)}))}assign(t,e){return l(this,void 0,void 0,(function*(){yield this.genericConcentricLayout(!0,t,e)}))}genericConcentricLayout(t,e,n){return l(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{center:i,width:o,height:a,sortBy:s,maxLevelDiff:l,sweep:c,clockwise:u,equidistant:d,preventOverlap:h,startAngle:f=1.5*Math.PI,nodeSize:p,nodeSpacing:g}=r,m=e.getAllNodes(),v=e.getAllEdges(),y=o||"undefined"===typeof window?o:window.innerWidth,b=a||"undefined"===typeof window?a:window.innerHeight,x=i||[y/2,b/2];if(!(null===m||void 0===m?void 0:m.length)||1===m.length)return wv(e,t,x);const w=[];let E,S=0;Mv(p)?E=Math.max(p[0],p[1]):pu(p)?(E=-1/0,m.forEach((t=>{const e=p(t);e>E&&(E=e)}))):E=p,Mv(g)?S=Math.max(g[0],g[1]):Yt(g)&&(S=g),m.forEach((t=>{const e=yv(t);w.push(e);let n=E;const{data:r}=e;Mv(r.size)?n=Math.max(r.size[0],r.size[1]):Yt(r.size)?n=r.size:He(r.size)&&(n=Math.max(r.size.width,r.size.height)),E=Math.max(E,n),pu(g)&&(S=Math.max(g(t),S))}));const k={};w.forEach(((t,e)=>{k[t.id]=e}));let M=s;Zt(M)&&void 0!==w[0].data[M]||(M="degree"),"degree"===M?w.sort(((t,n)=>e.getDegree(n.id,"both")-e.getDegree(t.id,"both"))):w.sort(((t,e)=>e.data[M]-t.data[M]));const C=w[0],N=(l||("degree"===M?e.getDegree(C.id,"both"):C.data[M]))/4,O=[{nodes:[]}];let P=O[0];w.forEach((t=>{if(P.nodes.length>0){const n="degree"===M?Math.abs(e.getDegree(P.nodes[0].id,"both")-e.getDegree(t.id,"both")):Math.abs(P.nodes[0].data[M]-t.data[M]);N&&n>=N&&(P={nodes:[]},O.push(P))}P.nodes.push(t)}));let T=E+S;if(!h){const t=O.length>0&&O[0].nodes.length>1,e=(Math.min(y,b)/2-T)/(O.length+(t?1:0));T=Math.min(T,e)}let A=0;if(O.forEach((t=>{const e=void 0===c?2*Math.PI-2*Math.PI/t.nodes.length:c;if(t.dTheta=e/Math.max(1,t.nodes.length-1),t.nodes.length>1&&h){const e=Math.cos(t.dTheta)-Math.cos(0),n=Math.sin(t.dTheta)-Math.sin(0),r=Math.sqrt(T*T/(e*e+n*n));A=Math.max(r,A)}t.r=A,A+=T})),d){let t=0,e=0;for(let n=0;n<O.length;n++){const r=(O[n].r||0)-e;t=Math.max(t,r)}e=0,O.forEach(((n,r)=>{0===r&&(e=n.r||0),n.r=e,e+=t}))}O.forEach((t=>{const e=t.dTheta||0,n=t.r||0;t.nodes.forEach(((t,r)=>{const i=f+(u?1:-1)*e*r;t.data.x=x[0]+n*Math.cos(i),t.data.y=x[1]+n*Math.sin(i)}))})),t&&w.forEach((t=>e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})));return{nodes:w,edges:v}}))}}function Ov(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,l,c,u,d,h,f=t._root,p={data:r},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((c=e>=(o=(g+v)/2))?g=o:v=o,(u=n>=(a=(m+y)/2))?m=a:y=a,i=f,!(f=f[d=u<<1|c]))return i[d]=p,t;if(s=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===s&&n===l)return p.next=f,i?i[d]=p:t._root=p,t;do{i=i?i[d]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+v)/2))?g=o:v=o,(u=n>=(a=(m+y)/2))?m=a:y=a}while((d=u<<1|c)===(h=(l>=a)<<1|s>=o));return i[h]=f,i[d]=p,t}function Pv(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Tv(t){return t[0]}function Av(t){return t[1]}function Rv(t,e,n){var r=new _v(null==e?Tv:e,null==n?Av:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function _v(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Lv(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Iv=Rv.prototype=_v.prototype;function Dv(t,e,n,r,i){if(isNaN(e)||isNaN(n)||isNaN(r))return t;var o,a,s,l,c,u,d,h,f,p,g,m,v=t._root,y={data:i},b=t._x0,x=t._y0,w=t._z0,E=t._x1,S=t._y1,k=t._z1;if(!v)return t._root=y,t;for(;v.length;)if((h=e>=(a=(b+E)/2))?b=a:E=a,(f=n>=(s=(x+S)/2))?x=s:S=s,(p=r>=(l=(w+k)/2))?w=l:k=l,o=v,!(v=v[g=p<<2|f<<1|h]))return o[g]=y,t;if(c=+t._x.call(null,v.data),u=+t._y.call(null,v.data),d=+t._z.call(null,v.data),e===c&&n===u&&r===d)return y.next=v,o?o[g]=y:t._root=y,t;do{o=o?o[g]=new Array(8):t._root=new Array(8),(h=e>=(a=(b+E)/2))?b=a:E=a,(f=n>=(s=(x+S)/2))?x=s:S=s,(p=r>=(l=(w+k)/2))?w=l:k=l}while((g=p<<2|f<<1|h)===(m=(d>=l)<<2|(u>=s)<<1|c>=a));return o[m]=v,o[g]=y,t}function jv(t,e,n,r,i,o,a){this.node=t,this.x0=e,this.y0=n,this.z0=r,this.x1=i,this.y1=o,this.z1=a}function zv(t){return t[0]}function Fv(t){return t[1]}function Bv(t){return t[2]}function $v(t,e,n,r){var i=new Vv(null==e?zv:e,null==n?Fv:n,null==r?Bv:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Vv(t,e,n,r,i,o,a,s,l){this._x=t,this._y=e,this._z=n,this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this._root=void 0}function Hv(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}Iv.copy=function(){var t,e,n=new _v(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Lv(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Lv(e));return n},Iv.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Ov(this.cover(e,n),e,n,t)},Iv.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>d&&(d=i));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<o;++n)Ov(this,a[n],s[n],t[n]);return this},Iv.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,l=i-n||1,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Iv.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Iv.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Iv.find=function(t,e,n){var r,i,o,a,s,l,c,u=this._x0,d=this._y0,h=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new Pv(g,u,d,h,f)),null==n?n=1/0:(u=t-n,d=e-n,h=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(i=l.x0)>h||(o=l.y0)>f||(a=l.x1)<u||(s=l.y1)<d))if(g.length){var m=(i+a)/2,v=(o+s)/2;p.push(new Pv(g[3],m,v,a,s),new Pv(g[2],i,v,m,s),new Pv(g[1],m,o,a,v),new Pv(g[0],i,o,m,v)),(c=(e>=v)<<1|t>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var y=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);u=t-w,d=e-w,h=t+w,f=e+w,r=g.data}}return r},Iv.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u,d,h,f=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((c=o>=(s=(p+m)/2))?p=s:m=s,(u=a>=(l=(g+v)/2))?g=l:v=l,e=f,!(f=f[d=u<<1|c]))return this;if(!f.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(n=e,h=d)}for(;f.data!==t;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[d]=i:delete e[d],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=i,this)},Iv.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Iv.root=function(){return this._root},Iv.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Iv.visit=function(t){var e,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new Pv(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&l.length){var c=(r+o)/2,u=(i+a)/2;(n=l[3])&&s.push(new Pv(n,c,u,o,a)),(n=l[2])&&s.push(new Pv(n,r,u,c,a)),(n=l[1])&&s.push(new Pv(n,c,i,o,u)),(n=l[0])&&s.push(new Pv(n,r,i,c,u))}return this},Iv.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Pv(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,d=(s+c)/2;(o=i[0])&&n.push(new Pv(o,a,s,u,d)),(o=i[1])&&n.push(new Pv(o,u,s,l,d)),(o=i[2])&&n.push(new Pv(o,a,d,u,c)),(o=i[3])&&n.push(new Pv(o,u,d,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Iv.x=function(t){return arguments.length?(this._x=t,this):this._x},Iv.y=function(t){return arguments.length?(this._y=t,this):this._y};var Wv=$v.prototype=Vv.prototype;Wv.copy=function(){var t,e,n=new Vv(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=Hv(r),n;for(t=[{source:r,target:n._root=new Array(8)}];r=t.pop();)for(var i=0;i<8;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(8)}):r.target[i]=Hv(e));return n},Wv.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t),r=+this._z.call(null,t);return Dv(this.cover(e,n,r),e,n,r,t)},Wv.addAll=function(t){Array.isArray(t)||(t=Array.from(t));const e=t.length,n=new Float64Array(e),r=new Float64Array(e),i=new Float64Array(e);let o=1/0,a=1/0,s=1/0,l=-1/0,c=-1/0,u=-1/0;for(let d,h,f,p,g=0;g<e;++g)isNaN(h=+this._x.call(null,d=t[g]))||isNaN(f=+this._y.call(null,d))||isNaN(p=+this._z.call(null,d))||(n[g]=h,r[g]=f,i[g]=p,h<o&&(o=h),h>l&&(l=h),f<a&&(a=f),f>c&&(c=f),p<s&&(s=p),p>u&&(u=p));if(o>l||a>c||s>u)return this;this.cover(o,a,s).cover(l,c,u);for(let d=0;d<e;++d)Dv(this,n[d],r[d],i[d],t[d]);return this},Wv.cover=function(t,e,n){if(isNaN(t=+t)||isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._z0,a=this._x1,s=this._y1,l=this._z1;if(isNaN(r))a=(r=Math.floor(t))+1,s=(i=Math.floor(e))+1,l=(o=Math.floor(n))+1;else{for(var c,u,d=a-r||1,h=this._root;r>t||t>=a||i>e||e>=s||o>n||n>=l;)switch(u=(n<o)<<2|(e<i)<<1|t<r,(c=new Array(8))[u]=h,h=c,d*=2,u){case 0:a=r+d,s=i+d,l=o+d;break;case 1:r=a-d,s=i+d,l=o+d;break;case 2:a=r+d,i=s-d,l=o+d;break;case 3:r=a-d,i=s-d,l=o+d;break;case 4:a=r+d,s=i+d,o=l-d;break;case 5:r=a-d,s=i+d,o=l-d;break;case 6:a=r+d,i=s-d,o=l-d;break;case 7:r=a-d,i=s-d,o=l-d}this._root&&this._root.length&&(this._root=h)}return this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this},Wv.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Wv.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},Wv.find=function(t,e,n,r){var i,o,a,s,l,c,u,d,h,f=this._x0,p=this._y0,g=this._z0,m=this._x1,v=this._y1,y=this._z1,b=[],x=this._root;for(x&&b.push(new jv(x,f,p,g,m,v,y)),null==r?r=1/0:(f=t-r,p=e-r,g=n-r,m=t+r,v=e+r,y=n+r,r*=r);d=b.pop();)if(!(!(x=d.node)||(o=d.x0)>m||(a=d.y0)>v||(s=d.z0)>y||(l=d.x1)<f||(c=d.y1)<p||(u=d.z1)<g))if(x.length){var w=(o+l)/2,E=(a+c)/2,S=(s+u)/2;b.push(new jv(x[7],w,E,S,l,c,u),new jv(x[6],o,E,S,w,c,u),new jv(x[5],w,a,S,l,E,u),new jv(x[4],o,a,S,w,E,u),new jv(x[3],w,E,s,l,c,S),new jv(x[2],o,E,s,w,c,S),new jv(x[1],w,a,s,l,E,S),new jv(x[0],o,a,s,w,E,S)),(h=(n>=S)<<2|(e>=E)<<1|t>=w)&&(d=b[b.length-1],b[b.length-1]=b[b.length-1-h],b[b.length-1-h]=d)}else{var k=t-+this._x.call(null,x.data),M=e-+this._y.call(null,x.data),C=n-+this._z.call(null,x.data),N=k*k+M*M+C*C;if(N<r){var O=Math.sqrt(r=N);f=t-O,p=e-O,g=n-O,m=t+O,v=e+O,y=n+O,i=x.data}}return i},Wv.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t))||isNaN(s=+this._z.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u,d,h,f,p,g,m=this._root,v=this._x0,y=this._y0,b=this._z0,x=this._x1,w=this._y1,E=this._z1;if(!m)return this;if(m.length)for(;;){if((d=o>=(l=(v+x)/2))?v=l:x=l,(h=a>=(c=(y+w)/2))?y=c:w=c,(f=s>=(u=(b+E)/2))?b=u:E=u,e=m,!(m=m[p=f<<2|h<<1|d]))return this;if(!m.length)break;(e[p+1&7]||e[p+2&7]||e[p+3&7]||e[p+4&7]||e[p+5&7]||e[p+6&7]||e[p+7&7])&&(n=e,g=p)}for(;m.data!==t;)if(r=m,!(m=m.next))return this;return(i=m.next)&&delete m.next,r?(i?r.next=i:delete r.next,this):e?(i?e[p]=i:delete e[p],(m=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&m===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!m.length&&(n?n[g]=m:this._root=m),this):(this._root=i,this)},Wv.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Wv.root=function(){return this._root},Wv.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Wv.visit=function(t){var e,n,r,i,o,a,s,l,c=[],u=this._root;for(u&&c.push(new jv(u,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=c.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.z0,a=e.x1,s=e.y1,l=e.z1)&&u.length){var d=(r+a)/2,h=(i+s)/2,f=(o+l)/2;(n=u[7])&&c.push(new jv(n,d,h,f,a,s,l)),(n=u[6])&&c.push(new jv(n,r,h,f,d,s,l)),(n=u[5])&&c.push(new jv(n,d,i,f,a,h,l)),(n=u[4])&&c.push(new jv(n,r,i,f,d,h,l)),(n=u[3])&&c.push(new jv(n,d,h,o,a,s,f)),(n=u[2])&&c.push(new jv(n,r,h,o,d,s,f)),(n=u[1])&&c.push(new jv(n,d,i,o,a,h,f)),(n=u[0])&&c.push(new jv(n,r,i,o,d,h,f))}return this},Wv.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new jv(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.z0,c=e.x1,u=e.y1,d=e.z1,h=(a+c)/2,f=(s+u)/2,p=(l+d)/2;(o=i[0])&&n.push(new jv(o,a,s,l,h,f,p)),(o=i[1])&&n.push(new jv(o,h,s,l,c,f,p)),(o=i[2])&&n.push(new jv(o,a,f,l,h,u,p)),(o=i[3])&&n.push(new jv(o,h,f,l,c,u,p)),(o=i[4])&&n.push(new jv(o,a,s,p,h,f,d)),(o=i[5])&&n.push(new jv(o,h,s,p,c,f,d)),(o=i[6])&&n.push(new jv(o,a,f,p,h,u,d)),(o=i[7])&&n.push(new jv(o,h,f,p,c,u,d))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.z0,e.x1,e.y1,e.z1);return this},Wv.x=function(t){return arguments.length?(this._x=t,this):this._x},Wv.y=function(t){return arguments.length?(this._y=t,this):this._y},Wv.z=function(t){return arguments.length?(this._z=t,this):this._z};function Gv(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;const o=e/n,a=t.getAllNodes(),s=a.map(((t,e)=>{const{nodeStrength:n,x:r,y:i,z:a,size:s}=t.data;return{x:r,y:i,z:a,size:s,index:e,id:t.id,vx:0,vy:0,vz:0,weight:o*n}})),l=(2===i?Rv(s,(t=>t.x),(t=>t.y)):$v(s,(t=>t.x),(t=>t.y),(t=>t.z))).visitAfter(Uv),c=new Map;return s.forEach((t=>{c.set(t.id,t),function(t,e,n){e.visit(((e,r,i,o,a)=>qv(e,r,i,o,a,t,n)))}(t,l,i)})),s.map(((t,e)=>{const{id:n,data:i}=a[e],{mass:o=1}=i;r[n]={x:t.vx/o,y:t.vy/o,z:t.vz/o}})),r}function Uv(t){let e=0,n=0,r=0,i=0,o=0;const a=t.length;if(a){for(let s=0;s<a;s++){const a=t[s];a&&a.weight&&(e+=a.weight,n+=a.x*a.weight,r+=a.y*a.weight,i+=a.z*a.weight,o+=a.size*a.weight)}t.x=n/e,t.y=r/e,t.z=i/e,t.size=o/e,t.weight=e}else{const e=t;t.x=e.data.x,t.y=e.data.y,t.z=e.data.z,t.size=e.data.size,t.weight=e.data.weight}}const qv=(t,e,n,r,i,o,a)=>{var s;if((null===(s=t.data)||void 0===s?void 0:s.id)===o.id)return;const l=[n,r,i][a-1],c=o.x-t.x||.1,u=o.y-t.y||.1,d=o.z-t.z||.1,h=[c,u,d],f=l-e;let p=0;for(let m=0;m<a;m++)p+=h[m]*h[m];const g=Math.sqrt(p)*p;if(f*f*.81<p){const e=t.weight/g;return o.vx+=c*e,o.vy+=u*e,o.vz+=d*e,!0}if(t.length)return!1;if(t.data!==o){const e=t.data.weight/g;o.vx+=c*e,o.vy+=u*e,o.vz+=d*e}};const Yv={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class Xv{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},Yv),t)}execute(t,e){return l(this,void 0,void 0,(function*(){return this.genericForceLayout(!1,t,e)}))}assign(t,e){return l(this,void 0,void 0,(function*(){yield this.genericForceLayout(!0,t,e)}))}stop(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval),this.running=!1}tick(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.maxIteration||1;if(this.lastResult)return this.lastResult;for(let n=0;(this.judgingDistance>this.lastOptions.minMovement||n<1)&&n<t;n++)this.runOneStep(this.lastCalcGraph,this.lastGraph,n,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);const e={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&e.nodes.forEach((t=>this.lastGraph.mergeNodeData(t.id,{x:t.data.x,y:t.data.y,z:3===this.options.dimensions?t.data.z:void 0}))),e}genericForceLayout(t,e,n){return l(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),i=e.getAllNodes(),o=e.getAllEdges(),a=this.formatOptions(r,e),{dimensions:s,width:l,height:c,nodeSize:u,getMass:d,nodeStrength:h,edgeStrength:f,linkDistance:p}=a,g=i.map(((t,e)=>Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{x:Yt(t.data.x)?t.data.x:Math.random()*l,y:Yt(t.data.y)?t.data.y:Math.random()*c,z:Yt(t.data.z)?t.data.z:Math.random()*Math.sqrt(l*c),size:u(t)||30,mass:d(t),nodeStrength:h(t)})}))),m=o.map((t=>Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{edgeStrength:f(t),linkDistance:p(t,e.getNode(t.source),e.getNode(t.target))})})));if(!(null===i||void 0===i?void 0:i.length))return this.lastResult={nodes:[],edges:o},{nodes:[],edges:o};const v={};i.forEach(((t,e)=>{v[t.id]={x:0,y:0,z:0}}));const y=new Qp({nodes:g,edges:m});this.formatCentripetal(a,y);const{maxIteration:b,minMovement:x,onTick:w}=a;if(this.lastLayoutNodes=g,this.lastLayoutEdges=m,this.lastAssign=t,this.lastGraph=e,this.lastCalcGraph=y,this.lastOptions=a,this.lastVelMap=v,"undefined"===typeof window)return;let E=0;return new Promise((n=>{this.timeInterval=window.setInterval((()=>{i&&this.running||n({nodes:ty(e,g),edges:o}),this.runOneStep(y,e,E,v,a),this.updatePosition(e,y,v,a),t&&g.forEach((t=>e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y,z:3===s?t.data.z:void 0}))),null===w||void 0===w||w({nodes:ty(e,g),edges:o}),E++,(E>=b||this.judgingDistance<x)&&(window.clearInterval(this.timeInterval),n({nodes:ty(e,g),edges:o}))}),0),this.running=!0}))}))}formatOptions(t,e){const n=Object.assign({},t),{width:r,height:i,getMass:o,nodeSize:a}=t;n.width=r||"undefined"===typeof window?r:window.innerWidth,n.height=i||"undefined"===typeof window?i:window.innerHeight,t.center||(n.center=[n.width/2,n.height/2]),o||(n.getMass=t=>{let n=1;Yt(null===t||void 0===t?void 0:t.data.mass)&&(n=null===t||void 0===t?void 0:t.data.mass);const r=e.getDegree(t.id,"both");return!r||r<5?n:5*r*n});const s=pv(0,t.nodeSpacing);let l;l=a?pu(a)?t=>a(t)+s(t):Mv(a)?t=>{const e=a;return Math.max(e[0],e[1])+s(t)}:t=>a+s(t):t=>{const{size:e}=(null===t||void 0===t?void 0:t.data)||{};return e?Mv(e)?Math.max(e[0],e[1])+s(t):He(e)?Math.max(e.width,e.height)+s(t):e+s(t):10+s(t)},n.nodeSize=l;const c=t.linkDistance?pv(1,t.linkDistance):t=>1+n.nodeSize(e.getNode(t.source))+n.nodeSize(e.getNode(t.target));return n.linkDistance=c,n.nodeStrength=pv(1,t.nodeStrength),n.edgeStrength=pv(1,t.edgeStrength),n}formatCentripetal(t,e){const{dimensions:n,centripetalOptions:r,center:i,clusterNodeStrength:o,leafCluster:a,clustering:s,nodeClusterBy:l}=t,c=e.getAllNodes(),u=r||{leaf:2,single:2,others:1,center:t=>({x:i[0],y:i[1],z:3===n?i[2]:void 0})};let d,h;if("function"!==typeof o&&(t.clusterNodeStrength=t=>o),a&&l&&(d=Kv(e,l),h=Array.from(new Set(null===c||void 0===c?void 0:c.map((t=>t.data[l]))))||[],t.centripetalOptions=Object.assign(u,{single:100,leaf:e=>{const{siblingLeaves:n,sameTypeLeaves:r}=d[e.id]||{};return(null===r||void 0===r?void 0:r.length)===(null===n||void 0===n?void 0:n.length)||1===(null===h||void 0===h?void 0:h.length)?1:t.clusterNodeStrength(e)},others:1,center:t=>{const n=e.getDegree(t.id,"both");if(!n)return{x:100,y:100,z:0};let r;if(1===n){const{sameTypeLeaves:e=[]}=d[t.id]||{};1===e.length?r=void 0:e.length>1&&(r=Jv(e))}else r=void 0;return{x:null===r||void 0===r?void 0:r.x,y:null===r||void 0===r?void 0:r.y,z:null===r||void 0===r?void 0:r.z}}})),s&&l){d||(d=Kv(e,l)),h||(h=Array.from(new Set(c.map((t=>t.data[l]))))),h=h.filter((t=>void 0!==t));const n={};h.forEach((t=>{const r=c.filter((e=>e.data[l]===t)).map((t=>e.getNode(t.id)));n[t]=Jv(r)})),t.centripetalOptions=Object.assign(u,{single:e=>t.clusterNodeStrength(e),leaf:e=>t.clusterNodeStrength(e),others:e=>t.clusterNodeStrength(e),center:t=>{const e=n[t.data[l]];return{x:null===e||void 0===e?void 0:e.x,y:null===e||void 0===e?void 0:e.y,z:null===e||void 0===e?void 0:e.z}}})}const{leaf:f,single:p,others:g}=t.centripetalOptions||{};f&&"function"!==typeof f&&(t.centripetalOptions.leaf=()=>f),p&&"function"!==typeof p&&(t.centripetalOptions.single=()=>p),g&&"function"!==typeof g&&(t.centripetalOptions.others=()=>g)}runOneStep(t,e,n,r,i){const o={},a=t.getAllNodes(),s=t.getAllEdges();if(!(null===a||void 0===a?void 0:a.length))return;const{monitor:l}=i;if(this.calRepulsive(t,o,i),s&&this.calAttractive(t,o,i),this.calGravity(t,e,o,i),this.updateVelocity(t,o,r,i),l){l({energy:this.calTotalEnergy(o,a),nodes:e.getAllNodes(),edges:e.getAllEdges(),iterations:n})}}calTotalEnergy(t,e){if(!(null===e||void 0===e?void 0:e.length))return 0;let n=0;return e.forEach(((e,r)=>{const i=t[e.id].x,o=t[e.id].y,a=3===this.options.dimensions?t[e.id].z:0,s=i*i+o*o+a*a,{mass:l=1}=e.data;n+=l*s*.5})),n}calRepulsive(t,e,n){const{dimensions:r,factor:i,coulombDisScale:o}=n;Gv(t,i,o*o,e,r)}calAttractive(t,e,n){const{dimensions:r,nodeSize:i}=n;t.getAllEdges().forEach(((n,o)=>{const{source:a,target:s}=n,l=t.getNode(a),c=t.getNode(s);if(!l||!c)return;let u=c.data.x-l.data.x,d=c.data.y-l.data.y,h=3===r?c.data.z-l.data.z:0;u||d||(u=.01*Math.random(),d=.01*Math.random(),3!==r||h||(h=.01*Math.random()));const f=Math.sqrt(u*u+d*d+h*h);if(f<i(l)+i(c))return;const p=u/f,g=d/f,m=h/f,{linkDistance:v=200,edgeStrength:y=200}=n.data||{},b=(v-f)*y,x=1/(l.data.mass||1),w=1/(c.data.mass||1),E=p*b,S=g*b,k=m*b;e[a].x-=E*x,e[a].y-=S*x,e[a].z-=k*x,e[s].x+=E*w,e[s].y+=S*w,e[s].z+=k*w}))}calGravity(t,e,n,r){const{getCenter:i}=r,o=t.getAllNodes(),a=e.getAllNodes(),s=e.getAllEdges(),{width:l,height:c,center:u,gravity:d,centripetalOptions:h}=r;o&&o.forEach((r=>{const{id:o,data:f}=r,{mass:p,x:g,y:m,z:v}=f,y=e.getNode(o);let b=0,x=0,w=0,E=d;const S=t.getDegree(o,"in"),k=t.getDegree(o,"out"),M=t.getDegree(o,"both"),C=null===i||void 0===i?void 0:i(y,M);if(C){const[t,e,n]=C;b=g-t,x=m-e,E=n}else b=g-u[0],x=m-u[1],w=v-u[2];if(E&&(n[o].x-=E*b/p,n[o].y-=E*x/p,n[o].z-=E*w/p),h){const{leaf:t,single:e,others:r,center:i}=h,{x:u,y:d,z:f,centerStrength:b}=(null===i||void 0===i?void 0:i(y,a,s,l,c))||{x:0,y:0,z:0,centerStrength:0};if(!Yt(u)||!Yt(d))return;const x=(g-u)/p,w=(m-d)/p,E=(v-f)/p;if(b&&(n[o].x-=b*x,n[o].y-=b*w,n[o].z-=b*E),0===M){const t=e(y);if(!t)return;return n[o].x-=t*x,n[o].y-=t*w,void(n[o].z-=t*E)}if(0===S||0===k){const e=t(y,a,s);if(!e)return;return n[o].x-=e*x,n[o].y-=e*w,void(n[o].z-=e*E)}const C=r(y);if(!C)return;n[o].x-=C*x,n[o].y-=C*w,n[o].z-=C*E}}))}updateVelocity(t,e,n,r){const{damping:i,maxSpeed:o,interval:a,dimensions:s}=r,l=t.getAllNodes();(null===l||void 0===l?void 0:l.length)&&l.forEach((t=>{const{id:r}=t;let l=(n[r].x+e[r].x*a)*i||.01,c=(n[r].y+e[r].y*a)*i||.01,u=3===s?(n[r].z+e[r].z*a)*i||.01:0;const d=Math.sqrt(l*l+c*c+u*u);if(d>o){const t=o/d;l*=t,c*=t,u*=t}n[r]={x:l,y:c,z:u}}))}updatePosition(t,e,n,r){const{distanceThresholdMode:i,interval:o,dimensions:a}=r,s=e.getAllNodes();if(!(null===s||void 0===s?void 0:s.length))return void(this.judgingDistance=0);let l=0;"max"===i?this.judgingDistance=-1/0:"min"===i&&(this.judgingDistance=1/0),s.forEach((r=>{const{id:s}=r,c=t.getNode(s);if(Yt(c.data.fx)&&Yt(c.data.fy))return void e.mergeNodeData(s,{x:c.data.fx,y:c.data.fy,z:3===a?c.data.fz:void 0});const u=n[s].x*o,d=n[s].y*o,h=3===a?n[s].z*o:0;e.mergeNodeData(s,{x:r.data.x+u,y:r.data.y+d,z:r.data.z+h});const f=Math.sqrt(u*u+d*d+h*h);switch(i){case"max":this.judgingDistance<f&&(this.judgingDistance=f);break;case"min":this.judgingDistance>f&&(this.judgingDistance=f);break;default:l+=f}})),i&&"mean"!==i||(this.judgingDistance=l/s.length)}}const Kv=(t,e)=>{const n=t.getAllNodes();if(!(null===n||void 0===n?void 0:n.length))return{};const r={};return n.forEach(((n,i)=>{1===t.getDegree(n.id,"both")&&(r[n.id]=Zv(t,"leaf",n,e))})),r},Zv=(t,e,n,r)=>{const i=t.getDegree(n.id,"in"),o=t.getDegree(n.id,"out");let a=n,s=[];0===i?(a=t.getSuccessors(n.id)[0],s=t.getNeighbors(a.id)):0===o&&(a=t.getPredecessors(n.id)[0],s=t.getNeighbors(a.id)),s=s.filter((e=>0===t.getDegree(e.id,"in")||0===t.getDegree(e.id,"out")));return{coreNode:a,siblingLeaves:s,sameTypeLeaves:Qv(t,e,r,n,s)}},Qv=(t,e,n,r,i)=>{const o=r.data[n]||"";let a=(null===i||void 0===i?void 0:i.filter((t=>t.data[n]===o)))||[];return"leaf"===e&&(a=a.filter((e=>0===t.getDegree(e.id,"in")||0===t.getDegree(e.id,"out")))),a},Jv=t=>{const e={x:0,y:0};t.forEach((t=>{const{x:n,y:r}=t.data;e.x+=n||0,e.y+=r||0}));const n=t.length||1;return{x:e.x/n,y:e.y/n}},ty=(t,e)=>e.map((e=>{const{id:n,data:r}=e,i=t.getNode(n);return Object.assign(Object.assign({},i),{data:Object.assign(Object.assign({},i.data),{x:r.x,y:r.y,z:r.z})})}));var ey=n(8691);ey.y3,ey.jy,ey.oN,ey.Hc,ey.cg,ey.hj,ey.LU,ey.Tb;const ny=ey.uq,ry=(ey.Zm,ey.Dq,ey.__,ey.q0,ey.lh,ey.pI,ey.zC,ey.zg,ey.g6,ey.OL,ey.ks,ey.QR,ey.jp,ey.mk,ey.W2),iy=(ey.l,ey.KY,ey.dv,ey.BR,ey.Wu,ey.uq,ey.uq,ey.a4,ey.DI,ey.Jo,ey.Zi,ey.kH,ey.LV,t=>{const e=[],n=t.length;for(let r=0;r<n;r+=1){e[r]=[];for(let i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(let r=0;r<n;r+=1)for(let t=0;t<n;t+=1)for(let i=0;i<n;i+=1)e[t][i]>e[t][r]+e[r][i]&&(e[t][i]=e[t][r]+e[r][i]);return e}),oy=(t,e)=>{const{nodes:n,edges:r}=t,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(((t,e)=>{o[t.id]=e;i.push([])})),null===r||void 0===r||r.forEach((t=>{const{source:n,target:r}=t,a=o[n],s=o[r];void 0!==a&&void 0!==s&&(i[a][s]=1,e||(i[s][a]=1))})),i},ay=(t,e)=>Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),sy=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"TB",i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!(null===e||void 0===e?void 0:e.length))return;const{stopBranchFn:a,stopAllFn:s}=o;for(let l=0;l<e.length;l++){const c=e[l];if(t.hasNode(c.id)&&!(null===a||void 0===a?void 0:a(c))){if(null===s||void 0===s?void 0:s(c))return;"TB"===r&&n(c),sy(t,t.getChildren(c.id,i),n,r,i,o),"TB"!==r&&n(c)}}},ly={center:[0,0],linkDistance:50};class cy{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.id="mds",this.options=Object.assign(Object.assign({},ly),t)}execute(t,e){return l(this,void 0,void 0,(function*(){return this.genericMDSLayout(!1,t,e)}))}assign(t,e){return l(this,void 0,void 0,(function*(){yield this.genericMDSLayout(!0,t,e)}))}genericMDSLayout(t,e,n){return l(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{center:i=[0,0],linkDistance:o=50}=r,a=e.getAllNodes(),s=e.getAllEdges();if(!(null===a||void 0===a?void 0:a.length)||1===a.length)return wv(e,t,i);const l=oy({nodes:a,edges:s},!1),c=iy(l);uy(c);const u=((t,e)=>{const n=[];return t.forEach((t=>{const r=[];t.forEach((t=>{r.push(t*e)})),n.push(r)})),n})(c,o),d=dy(u),h=[];d.forEach(((t,e)=>{const n=yv(a[e]);n.data.x=t[0]+i[0],n.data.y=t[1]+i[1],h.push(n)})),t&&h.forEach((t=>e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})));return{nodes:h,edges:s}}))}}const uy=t=>{let e=-999999;t.forEach((t=>{t.forEach((t=>{t!==1/0&&e<t&&(e=t)}))})),t.forEach(((n,r)=>{n.forEach(((n,i)=>{n===1/0&&(t[r][i]=e)}))}))},dy=t=>{const e=ny.mul(ny.pow(t,2),-.5),n=e.mean("row"),r=e.mean("column"),i=e.mean();e.add(i).subRowVector(n).subColumnVector(r);const o=new ry(e),a=ny.sqrt(o.diagonalMatrix).diagonal();return o.leftSingularVectors.toJSON().map((t=>ny.mul([t],[a]).toJSON()[0].splice(0,2)))};function hy(t){return!!t.tick&&!!t.stop}const fy={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},py={center:[0,0],comboPadding:10,treeKey:"combo"};function gy(t,e,n,r){var i;return l(this,void 0,void 0,(function*(){return hy(t)?(t.execute(e,n),t.stop(),t.tick(null!==(i=n.iterations)&&void 0!==i?i:300)):r?yield t.assign(e,n):yield t.execute(e,n)}))}function my(t){return function(){return t}}function vy(t){return 1e-6*(t()-.5)}function yy(t){return t.index}function by(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function xy(t){var e,n,r,i,o,a,s=yy,l=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=my(30),u=1;function d(r){for(var i=0,s=t.length;i<u;++i)for(var l,c,d,h,f,p,g,m=0;m<s;++m)c=(l=t[m]).source,h=(d=l.target).x+d.vx-c.x-c.vx||vy(a),f=d.y+d.vy-c.y-c.vy||vy(a),h*=p=((p=Math.sqrt(h*h+f*f))-n[m])/p*r*e[m],f*=p,d.vx-=h*(g=o[m]),d.vy-=f*g,c.vx+=h*(g=1-g),c.vy+=f*g}function h(){if(r){var a,l,c=r.length,u=t.length,d=new Map(r.map(((t,e)=>[s(t,e,r),t])));for(a=0,i=new Array(c);a<u;++a)(l=t[a]).index=a,"object"!==typeof l.source&&(l.source=by(d,l.source)),"object"!==typeof l.target&&(l.target=by(d,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(a=0,o=new Array(u);a<u;++a)l=t[a],o[a]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);e=new Array(u),f(),n=new Array(u),p()}}function f(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+l(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),d.initialize=function(t,e){r=t,a=e,h()},d.links=function(e){return arguments.length?(t=e,h(),d):t},d.id=function(t){return arguments.length?(s=t,d):s},d.iterations=function(t){return arguments.length?(u=+t,d):u},d.strength=function(t){return arguments.length?(l="function"===typeof t?t:my(+t),f(),d):l},d.distance=function(t){return arguments.length?(c="function"===typeof t?t:my(+t),p(),d):c},d}var wy={value:()=>{}};function Ey(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Sy(r)}function Sy(t){this._=t}function ky(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function My(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=wy,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Sy.prototype=Ey.prototype={constructor:Sy,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=My(r[n],t.name,e);else if(null==e)for(n in r)r[n]=My(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=ky(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Sy(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const Cy=Ey;var Ny,Oy,Py=0,Ty=0,Ay=0,Ry=1e3,_y=0,Ly=0,Iy=0,Dy="object"===typeof performance&&performance.now?performance:Date,jy="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function zy(){return Ly||(jy(Fy),Ly=Dy.now()+Iy)}function Fy(){Ly=0}function By(){this._call=this._time=this._next=null}function $y(t,e,n){var r=new By;return r.restart(t,e,n),r}function Vy(){Ly=(_y=Dy.now())+Iy,Py=Ty=0;try{!function(){zy(),++Py;for(var t,e=Ny;e;)(t=Ly-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Py}()}finally{Py=0,function(){var t,e,n=Ny,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ny=e);Oy=t,Wy(r)}(),Ly=0}}function Hy(){var t=Dy.now(),e=t-_y;e>Ry&&(Iy-=e,_y=t)}function Wy(t){Py||(Ty&&(Ty=clearTimeout(Ty)),t-Ly>24?(t<1/0&&(Ty=setTimeout(Vy,t-Dy.now()-Iy)),Ay&&(Ay=clearInterval(Ay))):(Ay||(_y=Dy.now(),Ay=setInterval(Hy,Ry)),Py=1,jy(Vy)))}By.prototype=$y.prototype={constructor:By,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?zy():+n)+(null==e?0:+e),this._next||Oy===this||(Oy?Oy._next=this:Ny=this,Oy=this),this._call=t,this._time=n,Wy()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wy())}};const Gy=1664525,Uy=1013904223,qy=4294967296;function Yy(t){return t.x}function Xy(t){return t.y}var Ky=Math.PI*(3-Math.sqrt(5));function Zy(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=$y(d),c=Cy("tick","end"),u=function(){let t=1;return()=>(t=(Gy*t+Uy)%qy)/qy}();function d(){h(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function h(r){var l,c,u=t.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function f(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*Ky;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),f(),e={tick:h,restart:function(){return l.restart(d),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(u=t,s.forEach(p),e):u},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(l=s,r=a);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function Qy(){var t,e,n,r,i,o=my(-30),a=1,s=1/0,l=.81;function c(n){var i,o=t.length,a=Rv(t,Yy,Xy).visitAfter(d);for(r=n,i=0;i<o;++i)e=t[i],a.visit(h)}function u(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function d(t){var e,n,r,o,a,s=0,l=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,r+=n*e.x,o+=n*e.y);t.x=r/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function h(t,o,c,u){if(!t.value)return!0;var d=t.x-e.x,h=t.y-e.y,f=u-o,p=d*d+h*h;if(f*f/l<p)return p<s&&(0===d&&(p+=(d=vy(n))*d),0===h&&(p+=(h=vy(n))*h),p<a&&(p=Math.sqrt(a*p)),e.vx+=d*t.value*r/p,e.vy+=h*t.value*r/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===d&&(p+=(d=vy(n))*d),0===h&&(p+=(h=vy(n))*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(f=i[t.data.index]*r/p,e.vx+=d*f,e.vy+=h*f)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,u()},c.strength=function(t){return arguments.length?(o="function"===typeof t?t:my(+t),u(),c):o},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}function Jy(t,e){var n,r=1;function i(){var i,o,a=n.length,s=0,l=0;for(i=0;i<a;++i)s+=(o=n[i]).x,l+=o.y;for(s=(s/a-t)*r,l=(l/a-e)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=l}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function tb(t){return t.x+t.vx}function eb(t){return t.y+t.vy}function nb(t){var e,n,r,i=1,o=1;function a(){for(var t,a,l,c,u,d,h,f=e.length,p=0;p<o;++p)for(a=Rv(e,tb,eb).visitAfter(s),t=0;t<f;++t)l=e[t],d=n[l.index],h=d*d,c=l.x+l.vx,u=l.y+l.vy,a.visit(g);function g(t,e,n,o,a){var s=t.data,f=t.r,p=d+f;if(!s)return e>c+p||o<c-p||n>u+p||a<u-p;if(s.index>l.index){var g=c-s.x-s.vx,m=u-s.y-s.vy,v=g*g+m*m;v<p*p&&(0===g&&(v+=(g=vy(r))*g),0===m&&(v+=(m=vy(r))*m),v=(p-(v=Math.sqrt(v)))/v*i,l.vx+=(g*=v)*(p=(f*=f)/(h+f)),l.vy+=(m*=v)*p,s.vx-=g*(p=1-p),s.vy-=m*p)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!==typeof t&&(t=my(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,l()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"===typeof e?e:my(+e),l(),a):t},a}function rb(t,e,n){var r,i,o,a=my(.1);function s(t){for(var a=0,s=r.length;a<s;++a){var l=r[a],c=l.x-e||1e-6,u=l.y-n||1e-6,d=Math.sqrt(c*c+u*u),h=(o[a]-d)*i[a]*t/d;l.vx+=c*h,l.vy+=u*h}}function l(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!==typeof t&&(t=my(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,l()},s.strength=function(t){return arguments.length?(a="function"===typeof t?t:my(+t),l(),s):a},s.radius=function(e){return arguments.length?(t="function"===typeof e?e:my(+e),l(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s}function ib(t){var e,n,r,i=my(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=my(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:my(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"===typeof e?e:my(+e),a(),o):t},o}function ob(t){var e,n,r,i=my(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=my(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:my(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"===typeof e?e:my(+e),a(),o):t},o}const ab=(t,e)=>e.reduce(((e,n)=>{let[r,i]=n;return e[r]&&void 0!==i?e[r].call(t,i):e}),t);var sb=n(9312),lb=n.n(sb);class cb{constructor(t){this.id="dagre",this.options={},Object.assign(this.options,cb.defaultOptions,t)}execute(t,e){return l(this,void 0,void 0,(function*(){return this.genericDagreLayout(!1,t,Object.assign(Object.assign({},this.options),e))}))}assign(t,e){return l(this,void 0,void 0,(function*(){yield this.genericDagreLayout(!0,t,Object.assign(Object.assign({},this.options),e))}))}genericDagreLayout(t,e,n){return l(this,void 0,void 0,(function*(){const{nodeSize:r}=n,i=new sb.graphlib.Graph;i.setGraph(n),i.setDefaultEdgeLabel((()=>({})));[...e.getAllNodes(),...e.getAllEdges()].some((t=>{let{id:e}=t;return Yt(e)}))&&console.error("Dagre layout only support string id, it will convert number to string."),e.getAllNodes().forEach((t=>{const{id:e}=t,n=Object.assign({},t.data);if(void 0!==r){const[e,i]=function(t){if(!t)return[0,0,0];if(Yt(t))return[t,t,t];if(0===t.length)return[0,0,0];const[e,n=e,r=e]=t;return[e,n,r]}(pu(r)?r(t):r);Object.assign(n,{width:e,height:i})}i.setNode(e.toString(),n)})),e.getAllEdges().forEach((t=>{let{id:e,source:n,target:r}=t;i.setEdge(n.toString(),r.toString(),{id:e})})),lb().layout(i);const o={nodes:[],edges:[]};return i.nodes().forEach((n=>{const r=i.node(n);o.nodes.push({id:n,data:r}),t&&e.mergeNodeData(n,r)})),i.edges().forEach((n=>{const r=i.edge(n),{id:a}=r,l=s(r,["id"]),{v:c,w:u}=n;o.edges.push({id:a,source:c,target:u,data:l}),t&&e.mergeEdgeData(a,l)})),o}))}}cb.defaultOptions={};class ub{constructor(t){this.id=t.id||0,this.rx=t.rx,this.ry=t.ry,this.fx=0,this.fy=0,this.mass=t.mass,this.degree=t.degree,this.g=t.g||0}distanceTo(t){const e=this.rx-t.rx,n=this.ry-t.ry;return Math.hypot(e,n)}setPos(t,e){this.rx=t,this.ry=e}resetForce(){this.fx=0,this.fy=0}addForce(t){const e=t.rx-this.rx,n=t.ry-this.ry;let r=Math.hypot(e,n);r=r<1e-4?1e-4:r;const i=this.g*(this.degree+1)*(t.degree+1)/r;this.fx+=i*e/r,this.fy+=i*n/r}in(t){return t.contains(this.rx,this.ry)}add(t){const e=this.mass+t.mass,n=(this.rx*this.mass+t.rx*t.mass)/e,r=(this.ry*this.mass+t.ry*t.mass)/e,i=this.degree+t.degree;return new ub({rx:n,ry:r,mass:e,degree:i})}}class db{constructor(t){this.xmid=t.xmid,this.ymid=t.ymid,this.length=t.length,this.massCenter=t.massCenter||[0,0],this.mass=t.mass||1}getLength(){return this.length}contains(t,e){const n=this.length/2;return t<=this.xmid+n&&t>=this.xmid-n&&e<=this.ymid+n&&e>=this.ymid-n}NW(){const t=this.xmid-this.length/4,e=this.ymid+this.length/4,n=this.length/2;return new db({xmid:t,ymid:e,length:n})}NE(){const t=this.xmid+this.length/4,e=this.ymid+this.length/4,n=this.length/2;return new db({xmid:t,ymid:e,length:n})}SW(){const t=this.xmid-this.length/4,e=this.ymid-this.length/4,n=this.length/2;return new db({xmid:t,ymid:e,length:n})}SE(){const t=this.xmid+this.length/4,e=this.ymid-this.length/4,n=this.length/2;return new db({xmid:t,ymid:e,length:n})}}class hb{constructor(t){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=t&&(this.quad=t)}insert(t){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new hb(this.quad.NW()),this.NE=new hb(this.quad.NE()),this.SW=new hb(this.quad.SW()),this.SE=new hb(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t)):this.body=t}_putBody(t){this.quad&&(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))}_isExternal(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE}updateForce(t){if(null!=this.body&&t!==this.body)if(this._isExternal())t.addForce(this.body);else{(this.quad?this.quad.getLength():0)/this.body.distanceTo(t)<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t))}}}const fb={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1};const pb={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"};const gb={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300};const mb=(t,e)=>{let n;const r=t.rows||5,i=t.cols||5;if(null==e)n=Math.min(r,i);else{Math.min(r,i)===t.rows?t.rows=e:t.cols=e}return n},vb=(t,e)=>{let n;const r=t.rows||5,i=t.cols||5;if(null==e)n=Math.max(r,i);else{Math.max(r,i)===t.rows?t.rows=e:t.cols=e}return n},yb=(t,e)=>t[`c-${e.row}-${e.col}`]||!1,bb=(t,e)=>t[`c-${e.row}-${e.col}`]=!0,xb=(t,e)=>{const n=t.cols||5;e.col++,e.col>=n&&(e.col=0,e.row++)},wb=(t,e,n,r,i,o,a,s)=>{let l,c;const u=i[t.id];if(u)l=u.col*n+n/2+e[0],c=u.row*r+r/2+e[1];else{for(;yb(s,a);)xb(o,a);l=a.col*n+n/2+e[0],c=a.row*r+r/2+e[1],bb(s,a),xb(o,a)}t.data.x=l,t.data.y=c},Eb={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},Sb=(t,e,n,r,i,o)=>{e.forEach(((a,s)=>{n[s]={x:0,y:0},e.forEach(((e,l)=>{if(s===l)return;if(i[s]!==i[l])return;let c=a.x-e.x,u=a.y-e.y,d=Math.sqrt(c*c+u*u);if(0===d){d=1;const t=s>l?1:-1;c=.01*t,u=.01*t}if(d<o(t[s])/2+o(t[l])/2){const t=r*r/d;n[s].x+=c/d*t,n[s].y+=u/d*t}}))}))},kb=(t,e,n,r,i,o,a,s)=>{const l=o||a/10;return r&&e.forEach(((e,n)=>{const r=t[n].x-t[i].x,o=t[n].y-t[i].y,a=Math.sqrt(r*r+o*o);let s=o/a,l=-r/a;const c=Math.sqrt(e.x*e.x+e.y*e.y);let u=Math.acos((s*e.x+l*e.y)/c);u>Math.PI/2&&(u-=Math.PI/2,s*=-1,l*=-1);const d=Math.cos(u)*c;e.x=s*d,e.y=l*d})),t.forEach(((o,a)=>{if(a===i)return;const c=Math.sqrt(e[a].x*e[a].x+e[a].y*e[a].y);if(c>0&&a!==i){const u=Math.min(l*(n/800),c);if(o.x+=e[a].x/c*u,o.y+=e[a].y/c*u,r){let e=o.x-t[i].x,n=o.y-t[i].y;const r=Math.sqrt(e*e+n*n);e=e/r*s[a],n=n/r*s[a],o.x=t[i].x+e,o.y=t[i].y+n}}})),t},Mb={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10};const Cb=(t,e,n,r,i,o,a)=>{if(!t)return[];const s=[];if(e){const l={};e.forEach(((e,c)=>{const u=[];e.forEach(((e,s)=>{var d,h;if(c===s)u.push(0);else if(r[c]===r[s])if("data"===o)u.push(e*(Math.abs(c-s)*a)/(r[c]/i));else if(o){let n,f;if(l[t[c].id])n=l[t[c].id];else{const e=("id"===o?t[c].id:null===(d=t[c].data)||void 0===d?void 0:d[o])||0;n=Zt(e)?e.charCodeAt(0):e,l[t[c].id]=n}if(l[t[s].id])f=l[t[s].id];else{const e=("id"===o?t[s].id:null===(h=t[s].data)||void 0===h?void 0:h[o])||0;f=Zt(e)?e.charCodeAt(0):e,l[t[s].id]=f}u.push(e*(Math.abs(n-f)*a)/(r[c]/i))}else u.push(e*n/(r[c]/i));else{const t=(n+i)/2;u.push(e*t)}})),s.push(u)}))}return s},Nb=t=>{const e=t.length,n=t[0].length,r=[];for(let i=0;i<e;i++){const e=[];for(let r=0;r<n;r++)0!==t[i][r]?e.push(1/(t[i][r]*t[i][r])):e.push(0);r.push(e)}return r},Ob=(t,e)=>{let n=-1;return t.forEach(((t,r)=>{t.id===e&&(n=r)})),Math.max(n,0)},Pb=(t,e,n)=>{const r=t.length;for(let i=0;i<r;i++)if(t[e][i]===1/0){t[e][i]=n,t[i][e]=n;for(let o=0;o<r;o++)t[i][o]!==1/0&&t[e][o]===1/0&&(t[e][o]=n+t[i][o],t[o][e]=n+t[i][o])}for(let i=0;i<r;i++)if(i!==e)for(let n=0;n<r;n++)if(t[i][n]===1/0){let r=Math.abs(t[e][i]-t[e][n]);r=0===r?1:r,t[i][n]=r}},Tb=(t,e)=>{let n=0;for(let r=0;r<t[e].length;r++)t[e][r]!==1/0&&(n=t[e][r]>n?t[e][r]:n);return n},Ab={center:[0,0],width:300,height:300};const Rb=function(t,e,n){if(!Me(t)&&!Yc(t))return t;var r=n;return bf(t,(function(t,n){r=e(r,t,n)})),r},_b=function(t,e){return Rb(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})},Lb=t=>t?parseInt(t):0;function Ib(t){let e=640,n=480;const[r,i]=function(t){const e=getComputedStyle(t),n=t.clientWidth||Lb(e.width),r=t.clientHeight||Lb(e.height);return[n-(Lb(e.paddingLeft)+Lb(e.paddingRight)),r-(Lb(e.paddingTop)+Lb(e.paddingBottom))]}(t);e=r||e,n=i||n;return[Math.max(Yt(e)?e:1,1),Math.max(Yt(n)?n:1,1)]}function Db(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=document.createElement("div");return r.setAttribute("class",`g6-${t}`),Object.assign(r.style,{position:"absolute",display:"block"}),e&&Object.assign(r.style,{inset:"0px",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"}),n&&Object.assign(r.style,n),r}function jb(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document.body;const o=document.getElementById(t);o&&o.remove();const a=document.createElement(e);return a.innerHTML=r,a.id=t,Object.assign(a.style,n),i.appendChild(a),a}class zb extends hu{}class Fb extends zb{static defaultOptions={transition:"background 0.5s",backgroundSize:"cover"};$element=(()=>Db("background"))();constructor(t,e){super(t,Object.assign({},Fb.defaultOptions,e));this.context.canvas.getContainer().prepend(this.$element),this.update(e)}async update(t){super.update(t),Object.assign(this.$element.style,_b(this.options,["key","type"]))}destroy(){super.destroy(),this.$element.remove()}}function Bb(t,e,n,r,i,o){const a=n-t,s=r-e;let l=i-t,c=o-e,u=l*a+c*s,d=0;u<=0?d=0:(l=a-l,c=s-c,u=l*a+c*s,d=u<=0?0:u*u/(a*a+s*s));const h=l*l+c*c-d;return h<0?0:h}function $b(t,e,n,r){return(t-n)*(t-n)+(e-r)*(e-r)}function Vb(t,e,n,r,i){return $b(t,e,n,r)<i*i}function Hb(t){const e=Math.min(t.x1,t.x2),n=Math.max(t.x1,t.x2),r=Math.min(t.y1,t.y2),i=Math.max(t.y1,t.y2);return{x:e,y:r,x2:n,y2:i,width:n-e,height:i-r}}class Wb{constructor(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r}equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2}draw(t){t.moveTo(this.x1,this.y1),t.lineTo(this.x2,this.y2)}toString(){return`Line(from=(${this.x1},${this.y1}),to=(${this.x2},${this.y2}))`}static from(t){return new Wb(t.x1,t.y1,t.x2,t.y2)}cuts(t,e){if(this.y1===this.y2)return!1;if(e<this.y1&&e<=this.y2||e>this.y1&&e>=this.y2)return!1;if(t>this.x1&&t>=this.x2)return!1;if(t<this.x1&&t<=this.x2)return!0;return t<=this.x1+(e-this.y1)*(this.x2-this.x1)/(this.y2-this.y1)}distSquare(t,e){return Bb(this.x1,this.y1,this.x2,this.y2,t,e)}ptClose(t,e,n){if(this.x1<this.x2){if(t<this.x1-n||t>this.x2+n)return!1}else if(t<this.x2-n||t>this.x1+n)return!1;if(this.y1<this.y2){if(e<this.y1-n||e>this.y2+n)return!1}else if(e<this.y2-n||e>this.y1+n)return!1;return!0}}var Gb,Ub;!function(t){t[t.POINT=1]="POINT",t[t.PARALLEL=2]="PARALLEL",t[t.COINCIDENT=3]="COINCIDENT",t[t.NONE=4]="NONE"}(Gb||(Gb={}));class qb{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.state=t,this.x=e,this.y=n}}function Yb(t,e){const n=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),r=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),i=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(i){const e=n/i,o=r/i;return 0<=e&&e<=1&&0<=o&&o<=1?new qb(Gb.POINT,t.x1+e*(t.x2-t.x1),t.y1+e*(t.y2-t.y1)):new qb(Gb.NONE)}return new qb(0===n||0===r?Gb.COINCIDENT:Gb.PARALLEL)}function Xb(t,e){const n=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),r=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),i=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(i){const t=n/i,e=r/i;if(0<=t&&t<=1&&0<=e&&e<=1)return t}return Number.POSITIVE_INFINITY}function Kb(t,e,n){const r=new Set;return t.width<=0?(r.add(Ub.LEFT),r.add(Ub.RIGHT)):e<t.x?r.add(Ub.LEFT):e>t.x+t.width&&r.add(Ub.RIGHT),t.height<=0?(r.add(Ub.TOP),r.add(Ub.BOTTOM)):n<t.y?r.add(Ub.TOP):n>t.y+t.height&&r.add(Ub.BOTTOM),r}function Zb(t,e){let n=e.x1,r=e.y1;const i=e.x2,o=e.y2,a=Array.from(Kb(t,i,o));if(0===a.length)return!0;let s=Kb(t,n,r);for(;0!==s.size;){for(const t of a)if(s.has(t))return!1;if(s.has(Ub.RIGHT)||s.has(Ub.LEFT)){let e=t.x;s.has(Ub.RIGHT)&&(e+=t.width),r+=(e-n)*(o-r)/(i-n),n=e}else{let e=t.y;s.has(Ub.BOTTOM)&&(e+=t.height),n+=(e-r)*(i-n)/(o-r),r=e}s=Kb(t,n,r)}return!0}function Qb(t,e){let n=Number.POSITIVE_INFINITY,r=0;function i(t,i,o,a){let s=Xb(e,new Wb(t,i,o,a));s=Math.abs(s-.5),s>=0&&s<=1&&(r++,s<n&&(n=s))}return i(t.x,t.y,t.x2,t.y),i(t.x,t.y,t.x,t.y2),r>1?n:(i(t.x,t.y2,t.x2,t.y2),r>1?n:(i(t.x2,t.y,t.x2,t.y2),0===r?-1:n))}function Jb(t,e){let n=0;const r=Yb(t,new Wb(e.x,e.y,e.x2,e.y));n+=r.state===Gb.POINT?1:0;const i=Yb(t,new Wb(e.x,e.y,e.x,e.y2));n+=i.state===Gb.POINT?1:0;const o=Yb(t,new Wb(e.x,e.y2,e.x2,e.y2));n+=o.state===Gb.POINT?1:0;const a=Yb(t,new Wb(e.x2,e.y,e.x2,e.y2));return n+=a.state===Gb.POINT?1:0,{top:r,left:i,bottom:o,right:a,count:n}}!function(t){t[t.LEFT=0]="LEFT",t[t.TOP=1]="TOP",t[t.RIGHT=2]="RIGHT",t[t.BOTTOM=3]="BOTTOM"}(Ub||(Ub={}));class tx{constructor(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get cx(){return this.x+this.width/2}get cy(){return this.y+this.height/2}get radius(){return Math.max(this.width,this.height)/2}static from(t){return new tx(t.x,t.y,t.width,t.height)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}clone(){return new tx(this.x,this.y,this.width,this.height)}add(t){const e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x2,t.x+t.width),i=Math.max(this.y2,t.y+t.height);this.x=e,this.y=n,this.width=r-e,this.height=i-n}addPoint(t){const e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x2,t.x),i=Math.max(this.y2,t.y);this.x=e,this.y=n,this.width=r-e,this.height=i-n}toString(){return`Rectangle[x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}]`}draw(t){t.rect(this.x,this.y,this.width,this.height)}containsPt(t,e){return t>=this.x&&t<=this.x2&&e>=this.y&&e<=this.y2}get area(){return this.width*this.height}intersects(t){return!(this.area<=0||t.width<=0||t.height<=0)&&(t.x+t.width>this.x&&t.y+t.height>this.y&&t.x<this.x2&&t.y<this.y2)}distSquare(t,e){if(this.containsPt(t,e))return 0;const n=Kb(this,t,e);return n.has(Ub.TOP)?n.has(Ub.LEFT)?$b(t,e,this.x,this.y):n.has(Ub.RIGHT)?$b(t,e,this.x2,this.y):(this.y-e)*(this.y-e):n.has(Ub.BOTTOM)?n.has(Ub.LEFT)?$b(t,e,this.x,this.y2):n.has(Ub.RIGHT)?$b(t,e,this.x2,this.y2):(e-this.y2)*(e-this.y2):n.has(Ub.LEFT)?(this.x-t)*(this.x-t):n.has(Ub.RIGHT)?(t-this.x2)*(t-this.x2):0}}class ex{constructor(t,e,n){this.cx=t,this.cy=e,this.radius=n}get x(){return this.cx-this.radius}get x2(){return this.cx+this.radius}get width(){return 2*this.radius}get y(){return this.cy-this.radius}get y2(){return this.cy+this.radius}get height(){return 2*this.radius}static from(t){return new ex(t.cx,t.cy,t.radius)}containsPt(t,e){return $b(this.cx,this.cy,t,e)<this.radius*this.radius}distSquare(t,e){const n=$b(this.cx,this.cy,t,e);if(n<this.radius*this.radius)return 0;const r=Math.sqrt(n)-this.radius;return r*r}draw(t){t.ellipse(this.cx,this.cy,this.radius,this.radius,0,0,2*Math.PI)}}class nx{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:10,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new Float32Array(Math.max(0,o*a)).fill(0);this.pixelGroup=t,this.i=e,this.j=n,this.pixelX=r,this.pixelY=i,this.width=o,this.height=a,this.area=s}createSub(t,e){return new nx(this.pixelGroup,t.x,t.y,e.x,e.y,t.width,t.height)}static fromPixelRegion(t,e){return new nx(e,0,0,t.x,t.y,Math.ceil(t.width/e),Math.ceil(t.height/e))}copy(t,e){return new nx(this.pixelGroup,this.scaleX(e.x),this.scaleY(e.y),e.x,e.y,t.width,t.height,t.area)}boundX(t){return t<this.i?this.i:t>=this.width?this.width-1:t}boundY(t){return t<this.j?this.j:t>=this.height?this.height-1:t}scaleX(t){return this.boundX(Math.floor((t-this.pixelX)/this.pixelGroup))}scaleY(t){return this.boundY(Math.floor((t-this.pixelY)/this.pixelGroup))}scale(t){const e=this.scaleX(t.x),n=this.scaleY(t.y),r=this.boundX(Math.ceil((t.x+t.width-this.pixelX)/this.pixelGroup)),i=this.boundY(Math.ceil((t.y+t.height-this.pixelY)/this.pixelGroup));return new tx(e,n,r-e,i-n)}invertScaleX(t){return Math.round(t*this.pixelGroup+this.pixelX)}invertScaleY(t){return Math.round(t*this.pixelGroup+this.pixelY)}addPadding(t,e){const n=Math.ceil(e/this.pixelGroup),r=this.boundX(t.x-n),i=this.boundY(t.y-n),o=this.boundX(t.x2+n),a=this.boundY(t.y2+n);return new tx(r,i,o-r,a-i)}get(t,e){return t<0||e<0||t>=this.width||e>=this.height?Number.NaN:this.area[t+e*this.width]}inc(t,e,n){t<0||e<0||t>=this.width||e>=this.height||(this.area[t+e*this.width]+=n)}set(t,e,n){t<0||e<0||t>=this.width||e>=this.height||(this.area[t+e*this.width]=n)}incArea(t,e){if(t.width<=0||t.height<=0||0===e)return;const n=this.width,r=t.width,i=Math.max(0,t.i),o=Math.max(0,t.j),a=Math.min(t.i+t.width,n),s=Math.min(t.j+t.height,this.height);if(!(s<=0||a<=0||i>=n||s>=this.height))for(let l=o;l<s;l++){const o=(l-t.j)*r,s=l*n;for(let n=i;n<a;n++){const r=t.area[n-t.i+o];0!==r&&(this.area[n+s]+=e*r)}}}fill(t){this.area.fill(t)}fillArea(t,e){const n=t.x+t.y*this.width;for(let r=0;r<t.height;r++){const i=n+r*this.width;this.area.fill(e,i,i+t.width)}}fillHorizontalLine(t,e,n,r){const i=t+e*this.width;this.area.fill(r,i,i+n)}fillVerticalLine(t,e,n,r){const i=t+e*this.width;for(let o=0;o<n;o++)this.area[i+o*this.width]=r}clear(){this.area.fill(0)}toString(){let t="";for(let e=0;e<this.height;e++){const n=e*this.width;for(let e=0;e<this.width;e++){t+=this.area[n+e].toFixed(1).padStart(6),t+=" "}t+="\n"}return t}draw(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.width<=0||this.height<=0)return;t.save(),e&&t.translate(this.pixelX,this.pixelY);const n=this.area.reduce(((t,e)=>Math.min(t,e)),Number.POSITIVE_INFINITY),r=this.area.reduce(((t,e)=>Math.max(t,e)),Number.NEGATIVE_INFINITY),i=t=>(t-n)/(r-n);t.scale(this.pixelGroup,this.pixelGroup);for(let o=0;o<this.width;o++)for(let e=0;e<this.height;e++){const n=this.area[o+e*this.width];t.fillStyle=`rgba(0, 0, 0, ${i(n)})`,t.fillRect(o,e,1,1)}t.restore()}drawThreshold(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(this.width<=0||this.height<=0)){t.save(),n&&t.translate(this.pixelX,this.pixelY),t.scale(this.pixelGroup,this.pixelGroup);for(let n=0;n<this.width;n++)for(let r=0;r<this.height;r++){const i=this.area[n+r*this.width];t.fillStyle=i>e?"black":"white",t.fillRect(n,r,1,1)}t.restore()}}}function rx(t,e){const n=t=>({x:t.x-e,y:t.y-e,width:t.width+2*e,height:t.height+2*e});return Array.isArray(t)?t.map(n):n(t)}function ix(t,e,n){return ox(Object.assign(Hb(t),{distSquare:(e,n)=>Bb(t.x1,t.y1,t.x2,t.y2,e,n)}),e,n)}function ox(t,e,n){const r=rx(t,n),i=e.scale(r),o=e.createSub(i,r);return function(t,e,n,r){const i=n*n;for(let o=0;o<t.height;o++)for(let a=0;a<t.width;a++){const s=r(e.invertScaleX(t.i+a),e.invertScaleY(t.j+o));if(0!==s){if(s<i){const e=n-Math.sqrt(s);t.set(a,o,e*e)}}else t.set(a,o,i)}}(o,e,n,((e,n)=>t.distSquare(e,n))),o}function ax(t,e){return{x:t,y:e}}function sx(t,e,n,r){if(0===t.length)return[];const i=function(t){if(t.length<2)return t;let e=0,n=0;return t.forEach((t=>{e+=t.cx,n+=t.cy})),e/=t.length,n/=t.length,t.map((t=>{const r=e-t.cx,i=n-t.cy;return[t,r*r+i*i]})).sort(((t,e)=>t[1]-e[1])).map((t=>t[0]))}(t);return i.map(((t,o)=>{const a=i.slice(0,o);return function(t,e,n,r,i){const o=ax(e.cx,e.cy),a=function(t,e,n){let r=Number.POSITIVE_INFINITY;return e.reduce(((e,i)=>{const o=$b(t.x,t.y,i.cx,i.cy);if(o>r)return e;const a=new Wb(t.x,t.y,i.cx,i.cy),s=function(t,e){return t.reduce(((t,n)=>Zb(n,e)&&function(t,e){function n(t,n,r,i){let o=Xb(e,new Wb(t,n,r,i));return o=Math.abs(o-.5),o>=0&&o<=1?1:0}let r=n(t.x,t.y,t.x2,t.y);return r+=n(t.x,t.y,t.x,t.y2),r>1||(r+=n(t.x,t.y2,t.x2,t.y2),r>1||(r+=n(t.x2,t.y,t.x2,t.y2),r>0))}(n,e)?t+1:t),0)}(n,a);return o*(s+1)*(s+1)<r&&(e=i,r=o*(s+1)*(s+1)),e}),null)}(o,n,t);if(null==a)return[];const s=function(t,e,n,r){const i=[],o=[];o.push(t);let a=!0;for(let s=0;s<n&&a;s++)for(a=!1;!a&&o.length>0;){const t=o.pop(),n=ux(e,t),s=n?Jb(t,n):null;if(!n||!s||2!==s.count){a||i.push(t);continue}let l=r,c=dx(n,l,s,!0),u=cx(c,o)||cx(c,i),d=lx(c,e);for(;!u&&d&&l>=1;)l/=1.5,c=dx(n,l,s,!0),u=cx(c,o)||cx(c,i),d=lx(c,e);if(!c||u||d||(o.push(new Wb(t.x1,t.y1,c.x,c.y)),o.push(new Wb(c.x,c.y,t.x2,t.y2)),a=!0),a)continue;l=r,c=dx(n,l,s,!1);let h=cx(c,o)||cx(c,i);for(d=lx(c,e);!h&&d&&l>=1;)l/=1.5,c=dx(n,l,s,!1),h=cx(c,o)||cx(c,i),d=lx(c,e);c&&!h&&(o.push(new Wb(t.x1,t.y1,c.x,c.y)),o.push(new Wb(c.x,c.y,t.x2,t.y2)),a=!0),a||i.push(t)}for(;o.length>0;)i.push(o.pop());return i}(new Wb(o.x,o.y,a.cx,a.cy),t,r,i);return function(t,e){const n=[];for(;t.length>0;){const r=t.pop();if(0===t.length){n.push(r);break}const i=t.pop(),o=new Wb(r.x1,r.y1,i.x2,i.y2);ux(e,o)?(n.push(r),t.push(i)):t.push(o)}return n}(s,t)}(e,t,a,n,r)})).flat()}function lx(t,e){return e.some((e=>e.containsPt(t.x,t.y)))}function cx(t,e){return e.some((e=>!!Vb(e.x1,e.y1,t.x,t.y,.001)||!!Vb(e.x2,e.y2,t.x,t.y,.001)))}function ux(t,e){let n=Number.POSITIVE_INFINITY,r=null;for(const i of t){if(!Zb(i,e))continue;const t=Qb(i,e);t>=0&&t<n&&(r=i,n=t)}return r}function dx(t,e,n,r){const i=n.top,o=n.left,a=n.bottom,s=n.right;if(r){if(o.state===Gb.POINT){if(i.state===Gb.POINT)return ax(t.x-e,t.y-e);if(a.state===Gb.POINT)return ax(t.x-e,t.y2+e);const n=t.width*t.height;return t.width*(.5*(o.y-t.y+(s.y-t.y)))<.5*n?o.y>s.y?ax(t.x-e,t.y-e):ax(t.x2+e,t.y-e):o.y<s.y?ax(t.x-e,t.y2+e):ax(t.x2+e,t.y2+e)}if(s.state===Gb.POINT){if(i.state===Gb.POINT)return ax(t.x2+e,t.y-e);if(a.state===Gb.POINT)return ax(t.x2+e,t.y2+e)}const n=t.height*t.width;return t.height*(.5*(i.x-t.x+(s.x-t.x)))<.5*n?i.x>a.x?ax(t.x-e,t.y-e):ax(t.x-e,t.y2+e):i.x<a.x?ax(t.x2+e,t.y-e):ax(t.x2+e,t.y2+e)}if(o.state===Gb.POINT){if(i.state===Gb.POINT)return ax(t.x2+e,t.y2+e);if(a.state===Gb.POINT)return ax(t.x2+e,t.y-e);const n=t.height*t.width;return t.width*(.5*(o.y-t.y+(s.y-t.y)))<.5*n?o.y>s.y?ax(t.x2+e,t.y2+e):ax(t.x-e,t.y2+e):o.y<s.y?ax(t.x2+e,t.y-e):ax(t.x-e,t.y-e)}if(s.state===Gb.POINT){if(i.state===Gb.POINT)return ax(t.x-e,t.y2+e);if(a.state===Gb.POINT)return ax(t.x-e,t.y-e)}const l=t.height*t.width;return t.height*(.5*(i.x-t.x+(s.x-t.x)))<.5*l?i.x>a.x?ax(t.x2+e,t.y2+e):ax(t.x2+e,t.y-e):i.x<a.x?ax(t.x-e,t.y2+e):ax(t.x-e,t.y-e)}function hx(t,e,n,r){if(!(t.closed?n<t.length:n<t.length-1))return!1;const i=t.get(e),o=t.get(n+1);for(let a=e+1;a<=n;a++){const e=t.get(a);if(Bb(i.x,i.y,o.x,o.y,e.x,e.y)>r)return!1}return!0}function fx(t,e){switch(t){case-2:return(((3-e)*e-3)*e+1)/6;case-1:return((3*e-6)*e*e+4)/6;case 0:return(((-3*e+3)*e+3)*e+1)/6;case 1:return e*e*e/6;default:throw new Error("unknown error")}}class px{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.points=t,this.closed=e}get(t){const e=t,n=this.points.length;return t<0?this.closed?this.get(t+n):this.points[0]:t>=n?this.closed?this.get(t-n):this.points[n-1]:this.points[e]}get length(){return this.points.length}toString(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;const e=this.points;if(0===e.length)return"";const n="function"===typeof t?t:function(t){if(!Number.isFinite(t))return t=>t;if(0===t)return Math.round;const e=Math.pow(10,t);return t=>Math.round(t*e)/e}(t);let r="M";for(const i of e)r+=`${n(i.x)},${n(i.y)} L`;return r=r.slice(0,-1),this.closed&&(r+=" Z"),r}draw(t){const e=this.points;if(0!==e.length){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(const n of e)t.lineTo(n.x,n.y);this.closed&&t.closePath()}}sample(t){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return e=>{let n=t,r=e.length;if(n>1)for(r=Math.floor(e.length/n);r<3&&n>1;)n-=1,r=Math.floor(e.length/n);const i=[];for(let t=0,o=0;o<r;o++,t+=n)i.push(e.get(t));return new px(i)}}(t)(this)}simplify(t){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e=>{if(t<0||e.length<3)return e;const n=[];let r=0;const i=t*t;for(;r<e.length;){let t=r+1;for(;hx(e,r,t,i);)t++;n.push(e.get(r)),r=t}return new px(n)}}(t)(this)}bSplines(t){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;function e(t,e,n){let r=0,i=0;for(let o=-2;o<=1;o++){const a=t.get(e+o),s=fx(o,n);r+=s*a.x,i+=s*a.y}return{x:r,y:i}}return n=>{if(n.length<3)return n;const r=[],i=n.closed,o=n.length+3-1+(i?0:2);r.push(e(n,2-(i?0:2),0));for(let a=2-(i?0:2);a<o;a++)for(let i=1;i<=t;i++)r.push(e(n,a,i/t));return new px(r)}}(t)(this)}apply(t){return t(this)}containsElements(t){const e=function(t){if(0===t.length)return null;const e=t[0],n=new tx(e.x,e.y,0,0);for(const r of t)n.addPoint(r);return n}(this.points);return!!e&&t.every((t=>e.containsPt(t.cx,t.cy)&&this.withinArea(t.cx,t.cy)))}withinArea(t,e){if(0===this.length)return!1;let n=0;const r=this.points[0],i=new Wb(r.x,r.y,r.x,r.y);for(let o=1;o<this.points.length;o++){const r=this.points[o];i.x1=i.x2,i.y1=i.y2,i.x2=r.x,i.y2=r.y,i.cuts(t,e)&&n++}return i.x1=i.x2,i.y1=i.y2,i.x2=r.x,i.y2=r.y,i.cuts(t,e)&&n++,n%2===1}}class gx{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.count=0,this.arr=[],this.set=new Set,this.arr.length=t}add(t){this.set.add(`${t.x}x${t.y}`),this.arr[this.count++]=t}contains(t){return this.set.has(`${t.x}x${t.y}`)}isFirst(t){if(0===this.count)return!1;const e=this.arr[0];return null!=e&&e.x===t.x&&e.y===t.y}path(){return new px(this.arr.slice(0,this.count))}clear(){this.set.clear(),this.count=0}get(t){return this.arr[t]}get length(){return this.count}}const mx=0,vx=1,yx=2,bx=3;function xx(t,e){const n=2*(Math.floor(t.width)+Math.floor(t.height)),r=new gx(n);function i(n,r,i,o){const a=t.get(n,r);return Number.isNaN(a)?Number.NaN:a>e?i+o:i}function o(t,e){let n=mx;return n=i(t,e,n,1),n=i(t+1,e,n,2),n=i(t,e+1,n,4),n=i(t+1,e+1,n,8),Number.isNaN(n)?-1:n}let a=vx;function s(e,n){let i=e,s=n,l=t.invertScaleX(i),c=t.invertScaleY(s);for(let u=0;u<t.width*t.height;u++){const e={x:l,y:c};if(r.contains(e)){if(r.isFirst(e))return!0}else r.add(e);const n=o(i,s);switch(n){case-1:return!0;case 0:case 3:case 2:case 7:a=yx;break;case 12:case 14:case 4:a=bx;break;case 6:a=a===mx?bx:yx;break;case 1:case 13:case 5:a=mx;break;case 9:a=a===yx?mx:vx;break;case 10:case 8:case 11:a=vx;break;default:return console.warn("Marching squares invalid state: "+n),!0}switch(a){case mx:s--,c-=t.pixelGroup;break;case vx:s++,c+=t.pixelGroup;break;case bx:i--,l-=t.pixelGroup;break;case yx:i++,l+=t.pixelGroup;break;default:return console.warn("Marching squares invalid state: "+n),!0}}return!0}for(let l=0;l<t.width;l++)for(let n=0;n<t.height;n++){if(t.get(l,n)<=e)continue;const i=o(l,n);if(!(i<0||15===i)&&s(l,n))return r.path()}return null}const wx={maxRoutingIterations:100,maxMarchingIterations:20,pixelGroup:4,edgeR0:10,edgeR1:20,nodeR0:15,nodeR1:50,morphBuffer:10,threshold:1,memberInfluenceFactor:1,edgeInfluenceFactor:1,nonMemberInfluenceFactor:-.8,virtualEdges:!0};function Ex(t){return null!=t&&"number"===typeof t.radius}function Sx(t,e){if(Ex(t)!==Ex(e))return!1;if(Ex(t)){const n=e;return t.cx===n.cx&&t.cy===n.cy&&t.radius===n.radius}const n=e;return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height}var kx;!function(t){t[t.MEMBERS=0]="MEMBERS",t[t.NON_MEMBERS=1]="NON_MEMBERS",t[t.EDGES=2]="EDGES"}(kx||(kx={}));class Mx{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dirty=new Set,this.members=[],this.nonMembers=[],this.virtualEdges=[],this.edges=[],this.activeRegion=new tx(0,0,0,0),this.potentialArea=new nx(1,0,0,0,0,0,0),this.o=Object.assign({},wx,t)}pushMember(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0!==e.length){this.dirty.add(kx.MEMBERS);for(const t of e)this.members.push({raw:t,obj:Ex(t)?ex.from(t):tx.from(t),area:null})}}removeMember(t){const e=this.members.findIndex((e=>Sx(e.raw,t)));return!(e<0)&&(this.members.splice(e,1),this.dirty.add(kx.MEMBERS),!0)}removeNonMember(t){const e=this.nonMembers.findIndex((e=>Sx(e.raw,t)));return!(e<0)&&(this.nonMembers.splice(e,1),this.dirty.add(kx.NON_MEMBERS),!0)}removeEdge(t){const e=this.edges.findIndex((e=>e.obj.equals(t)));return!(e<0)&&(this.edges.splice(e,1),this.dirty.add(kx.NON_MEMBERS),!0)}pushNonMember(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0!==e.length){this.dirty.add(kx.NON_MEMBERS);for(const t of e)this.nonMembers.push({raw:t,obj:Ex(t)?ex.from(t):tx.from(t),area:null})}}pushEdge(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0!==e.length){this.dirty.add(kx.EDGES);for(const t of e)this.edges.push({raw:t,obj:Wb.from(t),area:null})}}update(){const t=this.dirty.has(kx.MEMBERS),e=this.dirty.has(kx.NON_MEMBERS);let n=this.dirty.has(kx.EDGES);this.dirty.clear();const r=this.members.map((t=>t.obj));if(this.o.virtualEdges&&(t||e)){const t=sx(r,this.nonMembers.map((t=>t.obj)),this.o.maxRoutingIterations,this.o.morphBuffer),e=new Map(this.virtualEdges.map((t=>[t.obj.toString(),t.area])));this.virtualEdges=t.map((t=>{var n;return{raw:t,obj:t,area:null!==(n=e.get(t.toString()))&&void 0!==n?n:null}})),n=!0}let i=!1;if(t||n){const t=function(t,e){if(0===t.length)return new tx(0,0,0,0);const n=tx.from(t[0]);for(const r of t)n.add(r);for(const r of e)n.add(Hb(r));return n}(r,this.virtualEdges.concat(this.edges).map((t=>t.obj))),e=Math.max(this.o.edgeR1,this.o.nodeR1)+this.o.morphBuffer,n=tx.from(rx(t,e));n.equals(this.activeRegion)||(i=!0,this.activeRegion=n)}if(i){const t=Math.ceil(this.activeRegion.width/this.o.pixelGroup),e=Math.ceil(this.activeRegion.height/this.o.pixelGroup);this.activeRegion.x!==this.potentialArea.pixelX||this.activeRegion.y!==this.potentialArea.pixelY?(this.potentialArea=nx.fromPixelRegion(this.activeRegion,this.o.pixelGroup),this.members.forEach((t=>t.area=null)),this.nonMembers.forEach((t=>t.area=null)),this.edges.forEach((t=>t.area=null)),this.virtualEdges.forEach((t=>t.area=null))):t===this.potentialArea.width&&e===this.potentialArea.height||(this.potentialArea=nx.fromPixelRegion(this.activeRegion,this.o.pixelGroup))}const o=new Map,a=t=>{if(t.area){const e=`${t.obj.width}x${t.obj.height}x${t.obj instanceof tx?"R":"C"}`;o.set(e,t.area)}},s=t=>{if(t.area)return;const e=`${t.obj.width}x${t.obj.height}x${t.obj instanceof tx?"R":"C"}`;if(o.has(e)){const n=o.get(e);return void(t.area=this.potentialArea.copy(n,{x:t.obj.x-this.o.nodeR1,y:t.obj.y-this.o.nodeR1}))}const n=t.obj instanceof tx?function(t,e,n){const r=e.scale(t),i=e.addPadding(r,n),o=e.createSub(i,{x:t.x-n,y:t.y-n}),a=r.x-i.x,s=r.y-i.y,l=i.x2-r.x2,c=i.y2-r.y2,u=i.width-a-l,d=i.height-s-c,h=n*n;o.fillArea({x:a,y:s,width:u+1,height:d+1},h);const f=[0],p=Math.max(s,a,l,c);{const i=e.invertScaleX(r.x+r.width/2);for(let o=1;o<p;o++){const a=e.invertScaleY(r.y-o),s=t.distSquare(i,a);if(!(s<h))break;{const t=n-Math.sqrt(s);f.push(t*t)}}}const g=[],m=Math.max(a,l),v=Math.max(s,l);for(let y=1;y<m;y++){const i=e.invertScaleX(r.x-y),o=[];for(let a=1;a<v;a++){const s=e.invertScaleY(r.y-a),l=t.distSquare(i,s);if(l<h){const t=n-Math.sqrt(l);o.push(t*t)}else o.push(0)}g.push(o)}for(let y=1;y<Math.min(s,f.length);y++){const t=f[y];o.fillHorizontalLine(a,s-y,u+1,t)}for(let y=1;y<Math.min(c,f.length);y++){const t=f[y];o.fillHorizontalLine(a,s+d+y,u+1,t)}for(let y=1;y<Math.min(a,f.length);y++){const t=f[y];o.fillVerticalLine(a-y,s,d+1,t)}for(let y=1;y<Math.min(c,f.length);y++){const t=f[y];o.fillVerticalLine(a+u+y,s,d+1,t)}for(let y=1;y<a;y++){const t=g[y-1],e=a-y;for(let n=1;n<s;n++)o.set(e,s-n,t[n-1]);for(let n=1;n<c;n++)o.set(e,s+d+n,t[n-1])}for(let y=1;y<l;y++){const t=g[y-1],e=a+u+y;for(let n=1;n<s;n++)o.set(e,s-n,t[n-1]);for(let n=1;n<c;n++)o.set(e,s+d+n,t[n-1])}return o}(t.obj,this.potentialArea,this.o.nodeR1):ox(t.obj,this.potentialArea,this.o.nodeR1);t.area=n,o.set(e,n)};this.members.forEach(a),this.nonMembers.forEach(a),this.members.forEach(s),this.nonMembers.forEach((t=>{this.activeRegion.intersects(t.obj)?s(t):t.area=null})),this.edges.forEach((t=>{t.area||(t.area=ix(t.obj,this.potentialArea,this.o.edgeR1))})),this.virtualEdges.forEach((t=>{t.area||(t.area=ix(t.obj,this.potentialArea,this.o.edgeR1))}))}drawMembers(t){for(const e of this.members)e.obj.draw(t)}drawNonMembers(t){for(const e of this.nonMembers)e.obj.draw(t)}drawEdges(t){for(const e of this.edges)e.obj.draw(t)}drawPotentialArea(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.potentialArea.draw(t,e)}compute(){if(0===this.members.length)return new px([]);this.dirty.size>0&&this.update();const{o:t,potentialArea:e}=this,n=this.members.map((t=>t.area)),r=this.virtualEdges.concat(this.edges).map((t=>t.area)),i=this.nonMembers.filter((t=>null!=t.area)).map((t=>t.area)),o=this.members.map((t=>t.obj));return function(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=Object.assign({},wx,o);let s=a.threshold,l=a.memberInfluenceFactor,c=a.edgeInfluenceFactor,u=a.nonMemberInfluenceFactor;const d=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),h=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1);for(let f=0;f<a.maxMarchingIterations;f++){if(t.clear(),0!==l){const n=l/d;for(const r of e)t.incArea(r,n)}if(0!==c){const e=c/h;for(const r of n)t.incArea(r,e)}if(0!==u){const e=u/d;for(const n of r)t.incArea(n,e)}const o=xx(t,s);if(o&&i(o))return o;if(s*=.95,f<=.5*a.maxMarchingIterations)l*=1.2,c*=1.2;else{if(!(0!==u&&r.length>0))break;u*=.8}}return new px([])}(e,n,r,i,(t=>t.containsElements(o)),t)}}class Cx extends zb{shape;bubbleSets;path;members=(()=>new Map)();avoidMembers=(()=>new Map)();bubbleSetOptions={};static defaultOptions={members:[],avoidMembers:[],fill:"lightblue",fillOpacity:.2,stroke:"blue",strokeOpacity:.2,...wx};constructor(t,e){super(t,Zc({},Cx.defaultOptions,e)),this.bindEvents(),this.bubbleSets=new Mx(this.options)}bindEvents(){this.context.graph.on(Tc.AFTER_RENDER,this.drawBubbleSets),this.context.graph.on(Tc.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath)}init(){this.bubbleSets=new Mx(this.options),this.members=new Map,this.avoidMembers=new Map}parseOptions(){const{type:t,key:e,members:n,avoidMembers:r,...i}=this.options,o=Object.keys(i).reduce(((t,e)=>(e in wx?t.bubbleSetOptions[e]=i[e]:t.style[e]=i[e],t)),{style:{},bubbleSetOptions:{}});return{type:t,key:e,members:n,avoidMembers:r,...o}}drawBubbleSets=()=>{const{style:t,bubbleSetOptions:e}=this.parseOptions();xc(this.bubbleSetOptions,e)||this.init(),this.bubbleSetOptions={...e};const n={...t,d:this.getPath()};this.shape?this.shape.update(n):(this.shape=new oh({style:n}),this.context.canvas.appendChild(this.shape))};updateBubbleSetsPath=t=>{if(!this.shape)return;const e=Qc(t.data);[...this.options.members,...this.options.avoidMembers].includes(e)&&this.shape.update({...this.parseOptions().style,d:this.getPath(e)})};getPath=t=>{const{graph:e}=this.context,n=this.options.members,r=[...this.members.keys()],i=this.options.avoidMembers,o=[...this.avoidMembers.keys()];if(!t&&xc(n,r)&&xc(i,o))return this.path;const{enter:a=[],exit:s=[]}=uu(r,n,(t=>t)),{enter:l=[],exit:c=[]}=uu(o,i,(t=>t));t&&(s.push(t),a.push(t));const u=(t,n,r)=>{t.forEach((t=>{const i=r?this.members:this.avoidMembers,o=r?"pushMember":"pushNonMember",a=r?"removeMember":"removeNonMember";if(n){let n;"edge"===e.getElementType(t)?([n]=Ox(e,t),this.bubbleSets.pushEdge(n)):([n]=Nx(e,t),this.bubbleSets[o](n)),i.set(t,n)}else{const n=i.get(t);n&&("edge"===e.getElementType(t)?this.bubbleSets.removeEdge(n):this.bubbleSets[a](n),i.delete(t))}}))};u(s,!1,!0),u(a,!0,!0),u(c,!1,!1),u(l,!0,!1);const d=this.bubbleSets.compute().sample(8).simplify(0).bSplines().simplify(0);return this.path=ih(d.points.map(Ju)),this.path};addMember(t){const e=Array.isArray(t)?t:[t];e.some((t=>this.options.avoidMembers.includes(t)))&&(this.options.avoidMembers=this.options.avoidMembers.filter((t=>!e.includes(t)))),this.options.members=[...new Set([...this.options.members,...e])],this.drawBubbleSets()}removeMember(t){const e=Array.isArray(t)?t:[t];this.options.members=this.options.members.filter((t=>!e.includes(t))),this.drawBubbleSets()}updateMember(t){this.options.members=pu(t)?t(this.options.members):t,this.drawBubbleSets()}getMember(){return this.options.members}addAvoidMember(t){const e=Array.isArray(t)?t:[t];e.some((t=>this.options.members.includes(t)))&&(this.options.members=this.options.members.filter((t=>!e.includes(t)))),this.options.avoidMembers=[...new Set([...this.options.avoidMembers,...e])],this.drawBubbleSets()}removeAvoidMember(t){const e=Array.isArray(t)?t:[t];this.options.avoidMembers.some((t=>e.includes(t)))&&(this.options.avoidMembers=this.options.avoidMembers.filter((t=>!e.includes(t))),this.drawBubbleSets())}updateAvoidMember(t){this.options.avoidMembers=Array.isArray(t)?t:[t],this.drawBubbleSets()}getAvoidMember(){return this.options.avoidMembers}destroy(){this.context.graph.off(Tc.AFTER_RENDER,this.drawBubbleSets),this.context.graph.off(Tc.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath),this.shape.destroy(),super.destroy()}}const Nx=(t,e)=>(Array.isArray(e)?e:[e]).map((e=>{const n=t.getElementRenderBounds(e);return new tx(n.min[0],n.min[1],xu(n),wu(n))})),Ox=(t,e)=>(Array.isArray(e)?e:[e]).map((e=>{const n=t.getEdgeData(e),r=t.getElementPosition(n.source),i=t.getElementPosition(n.target);return Wb.from({x1:r[0],y1:r[1],x2:i[0],y2:i[1]})}));class Px extends zb{static defaultOptions={trigger:"contextmenu",offset:[4,4],loadingContent:'<div class="g6-contextmenu-loading">Loading...</div>',getContent:()=>"It is a empty context menu.",enable:()=>!0};$element;targetElement=null;constructor(t,e){super(t,Object.assign({},Px.defaultOptions,e)),this.initElement(),this.update(e)}initElement(){this.$element=Db("contextmenu",!1,{zIndex:"99"});const{className:t}=this.options;t&&this.$element.classList.add(t);this.context.canvas.getContainer().appendChild(this.$element),jb("g6-contextmenu-css","style",{},"\n  .g6-contextmenu {\n    font-size: 12px;\n    background-color: rgba(255, 255, 255, 0.96);\n    border-radius: 4px;\n    overflow: hidden;\n    box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 12px 0px;\n    transition: visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s;\n  }\n\n  .g6-contextmenu-ul {\n    max-width: 256px;\n    min-width: 96px;\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  .g6-contextmenu-li {\n    padding: 8px 12px;\n    cursor: pointer;\n    user-select: none;\n  }\n\n  .g6-contextmenu-li:hover {\n    background-color: #f5f5f5;\n    cursor: pointer;\n  }\n",document.head)}async show(t){const{enable:e,offset:n}=this.options;if("function"===typeof e&&!e(t)||!e)return void this.hide();const r=await this.getDOMContent(t);r instanceof HTMLElement?(this.$element.innerHTML="",this.$element.appendChild(r)):this.$element.innerHTML=r;const i=this.context.graph.getCanvas().getContainer().getBoundingClientRect();this.$element.style.left=`${t.client.x-i.left+n[0]}px`,this.$element.style.top=`${t.client.y-i.top+n[1]}px`,this.$element.style.display="block",this.targetElement=t.target}hide(){this.$element.style.display="none",this.targetElement=null}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.$element.remove()}async getDOMContent(t){const{getContent:e,getItems:n}=this.options;return n?`\n    <ul class="g6-contextmenu-ul">\n      ${(await n(t)).map((t=>`<li  class="g6-contextmenu-li" value="${t.value}">${t.name}</li>`)).join("")}\n    </ul>\n  `:await e(t)}bindEvents(){const{graph:t}=this.context,{trigger:e}=this.options;t.on(`canvas:${e}`,this.onTriggerEvent),t.on(`node:${e}`,this.onTriggerEvent),t.on(`edge:${e}`,this.onTriggerEvent),t.on(`combo:${e}`,this.onTriggerEvent),document.addEventListener("click",this.onMenuItemClick)}unbindEvents(){const{graph:t}=this.context,{trigger:e}=this.options;t.off(`canvas:${e}`,this.onTriggerEvent),t.off(`node:${e}`,this.onTriggerEvent),t.off(`edge:${e}`,this.onTriggerEvent),t.off(`combo:${e}`,this.onTriggerEvent),document.removeEventListener("click",this.onMenuItemClick)}onTriggerEvent=t=>{t.preventDefault?.(),this.show(t)};onMenuItemClick=t=>{const{onClick:e,trigger:n}=this.options;if(t.target instanceof HTMLElement&&t.target.className.includes("g6-contextmenu-li")){const n=t.target.getAttribute("value");e?.(n,t.target,this.targetElement),this.hide()}"click"!==n&&this.hide()}}const Tx={fill:"#fff",fillOpacity:1,lineWidth:1,stroke:"#000",strokeOpacity:.8};class Ax extends zb{static defaultOptions={trigger:"pointermove",r:60,nodeType:"both",filter:()=>!0,style:{lineWidth:2},nodeStyle:{label:!1},edgeStyle:{label:!0},scaleRBy:"wheel",preventDefault:!0};constructor(t,e){super(t,Object.assign({},Ax.defaultOptions,e)),this.bindEvents()}lens;shapes=(()=>new Map)();r=this.options.r;get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}onEdgeFilter=t=>{if("drag"===this.options.trigger&&this.isLensOn)return;const e=Ju(t.canvas);this.renderLens(e),this.renderFocusElements()};renderLens=t=>{const e=Object.assign({},Tx,this.options.style);this.isLensOn||(this.lens=new ph({style:e}),this.canvas.appendChild(this.lens)),Object.assign(e,td(t),{size:2*this.r}),this.lens.update(e)};getFilterData=()=>{const{filter:t}=this.options,{model:e}=this.context,n=e.getData();if(!t)return n;const{nodes:r,edges:i,combos:o}=n;return{nodes:r.filter((e=>t(Qc(e),"node"))),edges:i.filter((e=>t(Qc(e),"edge"))),combos:o.filter((e=>t(Qc(e),"combo")))}};getFocusElements=t=>{const{nodes:e,edges:n}=this.getFilterData(),r=e.filter((e=>zu(Xu(e),t)<this.r)),i=r.map((t=>Qc(t)));return{nodes:r,edges:n.filter((t=>{const{source:e,target:n}=t,r=i.includes(e),o=i.includes(n);switch(this.options.nodeType){case"both":return r&&o;case"either":return r!==o;case"source":return r&&!o;case"target":return!r&&o;default:return!1}}))}};renderFocusElements=()=>{const{element:t,graph:e}=this.context;if(!this.isLensOn)return;const n=this.lens.getCenter(),{nodes:r,edges:i}=this.getFocusElements(n),o=new Set,a=n=>{const r=Qc(n);o.add(r);const i=t.getElement(r);if(!i)return;const a=this.shapes.get(r)||i.cloneNode();a.setPosition(i.getPosition()),a.id=i.id,this.shapes.has(r)?Object.entries(i.attributes).forEach((t=>{let[e,n]=t;a.style[e]!==n&&(a.style[e]=n)})):(this.canvas.appendChild(a),this.shapes.set(r,a));const s=e.getElementType(r),l=this.getElementStyle(s,n);a.update(l)};r.forEach(a),i.forEach(a),this.shapes.forEach(((t,e)=>{o.has(e)||(t.destroy(),this.shapes.delete(e))}))};getElementStyle(t,e){const n="node"===t?this.options.nodeStyle:this.options.edgeStyle;return"function"===typeof n?n(e):n}scaleRByWheel=t=>{this.options.preventDefault&&t.preventDefault();const{clientX:e,clientY:n,deltaX:r,deltaY:i}=t,{graph:o,canvas:a}=this.context,s=o.getCanvasByClient([e,n]),l=this.lens?.getCenter();if(!this.isLensOn||zu(s,l)>this.r)return;const{maxR:c,minR:u}=this.options,d=r+i>0?1/.95:.95,h=Math.min(...a.getSize())/2;this.r=Math.max(u||0,Math.min(c||h,this.r*d)),this.renderLens(l),this.renderFocusElements()};get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}isLensDragging=!1;onDragStart=t=>{const e=Ju(t.canvas),n=this.lens?.getCenter();!this.isLensOn||zu(e,n)>this.r||(this.isLensDragging=!0)};onDrag=t=>{if(!this.isLensDragging)return;const e=Ju(t.canvas);this.renderLens(e),this.renderFocusElements()};onDragEnd=()=>{this.isLensDragging=!1};bindEvents(){const{graph:t}=this.context,{trigger:e,scaleRBy:n}=this.options,r=t.getCanvas().getLayer();["click","drag"].includes(e)&&r.addEventListener(Nc.CLICK,this.onEdgeFilter),"pointermove"===e?r.addEventListener(Nc.POINTER_MOVE,this.onEdgeFilter):"drag"===e&&(r.addEventListener(Nc.DRAG_START,this.onDragStart),r.addEventListener(Nc.DRAG,this.onDrag),r.addEventListener(Nc.DRAG_END,this.onDragEnd)),"wheel"===n&&this.graphDom?.addEventListener(Nc.WHEEL,this.scaleRByWheel,{passive:!1})}unbindEvents(){const{graph:t}=this.context,{trigger:e,scaleRBy:n}=this.options,r=t.getCanvas().getLayer();["click","drag"].includes(e)&&r.removeEventListener(Nc.CLICK,this.onEdgeFilter),"pointermove"===e?r.removeEventListener(Nc.POINTER_MOVE,this.onEdgeFilter):"drag"===e&&(r.removeEventListener(Nc.DRAG_START,this.onDragStart),r.removeEventListener(Nc.DRAG,this.onDrag),r.removeEventListener(Nc.DRAG_END,this.onDragEnd)),"wheel"===n&&this.graphDom?.removeEventListener(Nc.WHEEL,this.scaleRByWheel)}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.unbindEvents(),this.isLensOn&&this.lens.destroy(),this.shapes.forEach(((t,e)=>{t.destroy(),this.shapes.delete(e)})),super.destroy()}}const Rx={fill:"#ccc",fillOpacity:.1,lineWidth:2,stroke:"#000",strokeOpacity:.8,labelFontSize:12};class _x extends zb{static defaultOptions={trigger:"pointermove",r:120,d:1.5,maxD:5,minD:0,showDPercent:!0,style:{},nodeStyle:{label:!0},preventDefault:!0};constructor(t,e){super(t,Object.assign({},_x.defaultOptions,e)),this.bindEvents()}lens;r=this.options.r;d=this.options.d;get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}onCreateFisheye=t=>{if("drag"===this.options.trigger&&this.isLensOn)return;const e=Ju(t.canvas);this.onMagnify(e)};onMagnify=t=>{t.some(isNaN)||(this.renderLens(t),this.renderFocusElements())};renderLens=t=>{const e=Object.assign({},Rx,this.options.style);this.isLensOn||(this.lens=new ph({style:e}),this.canvas.appendChild(this.lens)),Object.assign(e,td(t),{size:2*this.r,label:this.options.showDPercent,labelText:this.getDPercent()}),this.lens.update(e)};getDPercent=()=>{const{minD:t,maxD:e}=this.options;return`${Math.round((this.d-t)/(e-t)*100)}%`};prevMagnifiedStyleMap=(()=>new Map)();prevOriginStyleMap=(()=>new Map)();renderFocusElements=()=>{if(!this.isLensOn)return;const{graph:t}=this.context,e=this.lens.getCenter(),n=(this.d+1)*this.r,r=new Map,i=new Map;t.getNodeData().forEach((o=>{const a=Xu(o),s=zu(a,e);if(s>this.r)return;const l=n*s/(this.d*s+this.r),[c,u]=a,[d,h]=e,f=[d+l*((c-d)/s),h+l*((u-h)/s)],p=Qc(o),g=this.getNodeStyle(o),m=wf(t.getElementRenderStyle(p),Object.keys(g));r.set(p,{...td(f),...g}),i.set(p,{...td(a),...m})})),this.updateStyle(r,i)};getNodeStyle=t=>{const{nodeStyle:e}=this.options;return"function"===typeof e?e(t):e};updateStyle=(t,e)=>{const{graph:n,element:r}=this.context,{enter:i,exit:o,keep:a}=uu(Array.from(this.prevMagnifiedStyleMap.keys()),Array.from(t.keys()),(t=>t)),s=new Set,l=(t,e)=>{r.getElement(t).update(e),n.getRelatedEdgesData(t).forEach((t=>{s.add(Qc(t))}))};[...i,...a].forEach((e=>{l(e,t.get(e))})),o.forEach((t=>{l(t,this.prevOriginStyleMap.get(t)),this.prevOriginStyleMap.delete(t)})),s.forEach((t=>{const e=r.getElement(t);e?.update({})})),this.prevMagnifiedStyleMap=t,e.forEach(((t,e)=>{this.prevOriginStyleMap.has(e)||this.prevOriginStyleMap.set(e,t)}))};isWheelValid=t=>{if(this.options.preventDefault&&t.preventDefault(),!this.isLensOn)return!1;const{clientX:e,clientY:n}=t;return!(zu(this.context.graph.getCanvasByClient([e,n]),this.lens.getCenter())>this.r)};scaleR=t=>{const{maxR:e,minR:n}=this.options,r=t?1/.95:.95,i=Math.min(...this.context.canvas.getSize())/2;this.r=Math.max(n||0,Math.min(e||i,this.r*r))};scaleD=t=>{const{maxD:e,minD:n}=this.options,r=t?this.d+.1:this.d-.1;this.d=Math.max(n,Math.min(e,r))};scaleRByWheel=t=>{if(!this.isWheelValid(t))return;const{deltaX:e,deltaY:n}=t;this.scaleR(e+n>0);const r=this.lens.getCenter();this.onMagnify(r)};scaleDByWheel=t=>{if(!this.isWheelValid(t))return;const{deltaX:e,deltaY:n}=t;this.scaleD(e+n>0);const r=this.lens.getCenter();this.onMagnify(r)};isDragValid=t=>{if(this.options.preventDefault&&t.preventDefault(),!this.isLensOn)return!1;return!(zu(Ju(t.canvas),this.lens.getCenter())>this.r)};isLensDragging=!1;onDragStart=t=>{this.isDragValid(t)&&(this.isLensDragging=!0)};onDrag=t=>{if(!this.isLensDragging)return;const e=Ju(t.canvas);this.onMagnify(e)};onDragEnd=()=>{this.isLensDragging=!1};scaleRByDrag=t=>{if(!this.isLensDragging)return;const{dx:e,dy:n}=t;this.scaleR(e-n>0);const r=this.lens.getCenter();this.onMagnify(r)};scaleDByDrag=t=>{if(!this.isLensDragging)return;const{dx:e,dy:n}=t;this.scaleD(e-n>0);const r=this.lens.getCenter();this.onMagnify(r)};get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){const{graph:t}=this.context,{trigger:e,scaleRBy:n,scaleDBy:r}=this.options,i=t.getCanvas().getLayer();if(["click","drag"].includes(e)&&i.addEventListener(Nc.CLICK,this.onCreateFisheye),"pointermove"===e&&i.addEventListener(Nc.POINTER_MOVE,this.onCreateFisheye),"drag"===e||"drag"===n||"drag"===r){i.addEventListener(Nc.DRAG_START,this.onDragStart),i.addEventListener(Nc.DRAG_END,this.onDragEnd);const t="drag"===e?this.onDrag:"drag"===n?this.scaleRByDrag:this.scaleDByDrag;i.addEventListener(Nc.DRAG,t)}if("wheel"===n||"wheel"===r){const t="wheel"===n?this.scaleRByWheel:this.scaleDByWheel;this.graphDom?.addEventListener(Nc.WHEEL,t,{passive:!1})}}unbindEvents(){const{graph:t}=this.context,{trigger:e,scaleRBy:n,scaleDBy:r}=this.options,i=t.getCanvas().getLayer();if(["click","drag"].includes(e)&&i.removeEventListener(Nc.CLICK,this.onCreateFisheye),"pointermove"===e&&i.removeEventListener(Nc.POINTER_MOVE,this.onCreateFisheye),"drag"===e||"drag"===n||"drag"===r){i.removeEventListener(Nc.DRAG_START,this.onDragStart),i.removeEventListener(Nc.DRAG_END,this.onDragEnd);const t="drag"===e?this.onDrag:"drag"===n?this.scaleRByDrag:this.scaleDByDrag;i.removeEventListener(Nc.DRAG,t)}if("wheel"===n||"wheel"===r){const t="wheel"===n?this.scaleRByWheel:this.scaleDByWheel;this.graphDom?.removeEventListener(Nc.WHEEL,t)}}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.unbindEvents(),this.isLensOn&&this.lens?.destroy(),this.prevMagnifiedStyleMap.clear(),this.prevOriginStyleMap.clear(),super.destroy()}}class Lx extends zb{static defaultOptions={trigger:{},autoFit:!0};shortcut;style;$el=this.context.canvas.getContainer();graphSize=[0,0];constructor(t,e){super(t,Object.assign({},Lx.defaultOptions,e)),this.shortcut=new hd(t.graph),this.bindEvents(),this.style=document.createElement("style"),document.head.appendChild(this.style),this.style.innerHTML="\n      :not(:root):fullscreen::backdrop {\n        background: transparent;\n      }\n    "}bindEvents(){this.unbindEvents(),this.shortcut.unbindAll();const{request:t=[],exit:e=[]}=this.options.trigger;this.shortcut.bind(t,this.request),this.shortcut.bind(e,this.exit);["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach((t=>{document.addEventListener(t,this.onFullscreenChange,!1)}))}unbindEvents(){this.shortcut.unbindAll();["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach((t=>{document.removeEventListener(t,this.onFullscreenChange,!1)}))}setGraphSize(){let t,e;!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?(t=window.screen.width,e=window.screen.height,this.graphSize=this.context.graph.getSize()):[t,e]=this.graphSize,this.context.graph.setSize(t,e),this.context.graph.render()}onFullscreenChange=()=>{const t=!!document.fullscreenElement;this.options.autoFit&&this.setGraphSize(t),t?this.options.onEnter?.():this.options.onExit?.()};request(){!document.fullscreenElement&&(document.fullscreenEnabled||Reflect.get(document,"webkitFullscreenEnabled")||Reflect.get(document,"mozFullscreenEnabled")||Reflect.get(document,"msFullscreenEnabled"))&&this.$el.requestFullscreen().catch((t=>{$c.warn(`Error attempting to enable full-screen: ${t.message} (${t.name})`)}))}exit(){document.fullscreenElement&&document.exitFullscreen()}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.exit(),this.style.remove(),super.destroy()}}class Ix extends zb{static defaultOptions={border:!0,borderLineWidth:1,borderStroke:"#eee",borderStyle:"solid",lineWidth:1,size:20,stroke:"#eee"};$element=(()=>Db("grid-line"))();offset=[0,0];constructor(t,e){super(t,Object.assign({},Ix.defaultOptions,e));!function(t,e){const n=t.firstChild;n?t.insertBefore(e,n):t.appendChild(e)}(this.context.canvas.getContainer(),this.$element),this.updateStyle(),this.bindEvents()}update(t){super.update(t),this.updateStyle()}bindEvents(){const{graph:t}=this.context;t.on(Tc.AFTER_TRANSFORM,this.onTransform)}updateStyle(){const{size:t,stroke:e,lineWidth:n,border:r,borderLineWidth:i,borderStroke:o,borderStyle:a}=this.options;Object.assign(this.$element.style,{border:r?`${i}px ${a} ${o}`:"none",backgroundImage:`linear-gradient(${e} ${n}px, transparent ${n}px), linear-gradient(90deg, ${e} ${n}px, transparent ${n}px)`,backgroundSize:`${t}px ${t}px`})}updateOffset(t){this.offset=function(t,e){return t.map((t=>t%e))}(_u(this.offset,t),this.options.size),this.$element.style.backgroundPosition=`${this.offset[0]}px ${this.offset[1]}px`}onTransform=t=>{if(!this.options.follow)return;const{data:{translate:e}}=t;e&&this.updateOffset(e)};destroy(){this.context.graph.off(Tc.AFTER_TRANSFORM,this.onTransform),this.$element.remove(),super.destroy()}}function Dx(t){const e={Added:new Map,Updated:new Map,Removed:new Map};return t.forEach((t=>{const{type:n,value:r}=t,i=Qc(r);if("NodeAdded"===n||"EdgeAdded"===n||"ComboAdded"===n)e.Added.set(i,t);else if("NodeUpdated"===n||"EdgeUpdated"===n||"ComboUpdated"===n)if(e.Added.has(i))e.Added.set(i,{type:n.replace("Updated","Added"),value:r});else if(e.Updated.has(i)){const{original:t}=e.Updated.get(i);e.Updated.set(i,{type:n,value:r,original:t})}else e.Removed.has(i)||e.Updated.set(i,t);else"NodeRemoved"!==n&&"EdgeRemoved"!==n&&"ComboRemoved"!==n||(e.Added.has(i)?e.Added.delete(i):e.Updated.has(i)?(e.Updated.delete(i),e.Removed.set(i,t)):e.Removed.set(i,t))})),[...Array.from(e.Added.values()),...Array.from(e.Updated.values()),...Array.from(e.Removed.values())]}function jx(t){const{NodeAdded:e=[],NodeUpdated:n=[],NodeRemoved:r=[],EdgeAdded:i=[],EdgeUpdated:o=[],EdgeRemoved:a=[],ComboAdded:s=[],ComboUpdated:l=[],ComboRemoved:c=[]}=Fd(t,(t=>t.type));return{add:{nodes:e,edges:i,combos:s},update:{nodes:n,edges:o,combos:l},remove:{nodes:r,edges:a,combos:c}}}function zx(t,e){for(const n in t)He(t[n])&&!Array.isArray(t[n])&&null!==t[n]?(e[n]||(e[n]={}),zx(t[n],e[n])):void 0===e[n]&&(e[n]=Gc(n))}function Fx(t){let e=arguments.length>2?arguments[2]:void 0;const n={animation:arguments.length>1&&void 0!==arguments[1]&&arguments[1],current:{add:{},update:{},remove:{}},original:{add:{},update:{},remove:{}}},{add:r,update:i,remove:o}=jx(Dx(t));return["nodes","edges","combos"].forEach((t=>{i[t]&&i[t].forEach((r=>{const i={...r.value};let o={...r.original};if(e){const t=e.graph.getElementType(Qc(r.original)),n="edge"===t?"stroke":"fill",i=e.element.getElementComputedStyle(t,r.original);o={...r.original,style:{[n]:i[n],...r.original.style}}}zx(i,o),n.current.update[t]||=[],n.current.update[t].push(i),n.original.update[t]||=[],n.original.update[t].push(o)})),r[t]&&r[t].forEach((e=>{const r={...e.value};n.current.add[t]||=[],n.current.add[t].push(r),n.original.remove[t]||=[],n.original.remove[t].push(r)})),o[t]&&o[t].forEach((e=>{const r={...e.value};n.current.remove[t]||=[],n.current.remove[t].push(r),n.original.add[t]||=[],n.original.add[t].push(r)}))})),n}class Bx extends zb{static defaultOptions={stackSize:0};emitter;batchChanges=null;batchAnimation=!1;undoStack=[];redoStack=[];freezed=!1;constructor(t,e){super(t,Object.assign({},Bx.defaultOptions,e)),this.emitter=new qp;const{graph:n}=this.context;n.on(Tc.AFTER_DRAW,this.addCommand),n.on(Tc.BATCH_START,this.initBatchCommand),n.on(Tc.BATCH_END,this.addCommand)}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}undo(){const t=this.undoStack.pop();if(t){this.executeCommand(t);const e=this.options.beforeAddCommand?.(t,!1);if(!1===e)return;this.redoStack.push(t),this.options.afterAddCommand?.(t,!1),this.notify(Ac.UNDO,t)}return this}redo(){const t=this.redoStack.pop();return t&&(this.executeCommand(t,!1),this.undoStackPush(t),this.notify(Ac.REDO,t)),this}undoAndCancel(){const t=this.undoStack.pop();return t&&(this.executeCommand(t,!1),this.redoStack=[],this.notify(Ac.CANCEL,t)),this}executeCommand=(()=>{var t=this;return function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.freezed=!0,t.options.executeCommand?.(e);const r=n?e.original:e.current;t.context.graph.addData(r.add),t.context.graph.updateData(r.update),t.context.graph.removeData(tu(r.remove,!1)),t.context.element?.draw({silence:!0,animation:e.animation}),t.freezed=!1}})();addCommand=t=>{if(!this.freezed){if(t.type===Tc.AFTER_DRAW){const{dataChanges:e=[],animation:n=!0}=t.data;if(this.context.batch?.isBatching){if(!this.batchChanges)return;return this.batchChanges.push(e),void(this.batchAnimation&&=n)}this.batchChanges=[e],this.batchAnimation=n}this.undoStackPush(Fx(this.batchChanges.flat(),this.batchAnimation,this.context)),this.notify(Ac.ADD,this.undoStack[this.undoStack.length-1])}};initBatchCommand=t=>{const{initiate:e}=t.data;if(this.batchAnimation=!1,e)this.batchChanges=[];else{this.undoStack.pop()||(this.batchChanges=null)}};undoStackPush(t){const{stackSize:e}=this.options;0!==e&&this.undoStack.length>=e&&this.undoStack.shift();const n=this.options.beforeAddCommand?.(t,!0);!1!==n&&(this.undoStack.push(t),this.options.afterAddCommand?.(t,!0))}clear(){this.undoStack=[],this.redoStack=[],this.batchChanges=null,this.batchAnimation=!1,this.notify(Ac.CLEAR,null)}notify(t,e){this.emitter.emit(t,{cmd:e}),this.emitter.emit(Ac.CHANGE,{cmd:e})}on(t,e){this.emitter.on(t,e)}destroy(){const{graph:t}=this.context;t.off(Tc.AFTER_DRAW,this.addCommand),t.off(Tc.BATCH_START,this.initBatchCommand),t.off(Tc.BATCH_END,this.addCommand),this.emitter.off(),super.destroy(),this.undoStack=[],this.redoStack=[]}}var $x=n(1425),Vx=n.n($x);const Hx=(t,e,n)=>{if("sharp"===n)return[["M",t[0]-e,t[1]-e],["L",t[0]+e,t[1]-e],["L",t[0]+e,t[1]+e],["L",t[0]-e,t[1]+e],["Z"]];const r=[e,e,0,0,0];return[["M",t[0],t[1]-e],["A",...r,t[0],t[1]+e],["A",...r,t[0],t[1]-e]]},Wx=(t,e,n)=>{const r=[e,e,0,0,0],i="sharp"===n?_u(t[0],ju(Bu(Lu(t[0],t[1])),e)):t[0],o="sharp"===n?_u(t[1],ju(Bu(Lu(t[1],t[0])),e)):t[1],a=ju(Bu(Vu(Lu(i,o),!1)),e),s=ju(a,-1),l=_u(i,a),c=_u(o,a),u=_u(o,s),d=_u(i,s);return"sharp"===n?[["M",l[0],l[1]],["L",c[0],c[1]],["L",u[0],u[1]],["L",d[0],d[1]],["Z"]]:[["M",l[0],l[1]],["L",c[0],c[1]],["A",...r,u[0],u[1]],["L",d[0],d[1]],["A",...r,l[0],l[1]]]},Gx=(t,e)=>{const n=cd(t).map(((n,r)=>{const i=(r-2+t.length)%t.length,o=(r-1+t.length)%t.length,a=(r+1)%t.length,s=t[i],l=t[o],c=t[a],u=Lu(s,l),d=Lu(l,n),h=Lu(n,c),f=(t,e)=>$u(t,e,!0)<Math.PI,p=f(u,d),g=f(d,h),m=t=>ju(Bu(Vu(t,!1)),e),v=m(d);return[{p:Hu(_u(l,p?m(u):v)),concave:p&&l},{p:Hu(_u(n,g?m(h):v)),concave:g&&n}]})),r=[e,e,0,0,0],i=n.findIndex(((t,e)=>!n[(e-1+n.length)%n.length][0].concave&&!n[(e-1+n.length)%n.length][1].concave&&!t[0].concave&&!t[0].concave&&!t[1].concave)),o=n.slice(i).concat(n.slice(0,i));let a=[];return o.flatMap(((t,e)=>{const i=[],s=o[n.length-1];return 0===e&&i.push(["M",...s[1].p]),t[0].concave?a.push(t[0].p,t[1].p):i.push(["A",...r,...t[0].p]),t[1].concave?a.unshift(t[1].p):i.push(["L",...t[1].p]),3===a.length&&(i.pop(),i.push(["C",...a.flat()]),a=[]),i}))},Ux=(t,e)=>{const n=cd(t).map(((e,n)=>({p:e,v:Bu(Lu(t[(n+1)%t.length],e))})));return n.forEach(((r,i)=>{const o=i>0?i-1:t.length-1,a=n[o].v,s=Bu(_u(a,ju(r.v,$u(a,r.v,!0)<Math.PI?1:-1)));r.p=_u(r.p,ju(s,e))})),ih(n.map((t=>t.p)))},qx=(t,e)=>{const n=t.map(((n,r)=>{const i=t[0===r?t.length-1:r-1],o=Wu(ju(Bu(Vu(Lu(i,n),!1)),e));return[_u(i,o),_u(n,o)]})),r=n.flat();return r.map(((t,e)=>{if(e%2===0)return null;return qu([r[(e-1)%r.length],r[e%r.length]],[r[(e+1)%r.length],r[(e+2)%r.length]],!0)})).filter(Boolean).map(((t,e)=>[0===e?"M":"L",t[0],t[1]])).concat([["Z"]])};class Yx extends zb{shape;hullMemberIds=[];path;optionsCache;static defaultOptions={members:[],padding:10,corner:"rounded",concavity:1/0,fill:"lightblue",fillOpacity:.2,labelOpacity:1,stroke:"blue",strokeOpacity:.2};constructor(t,e){super(t,Object.assign({},Yx.defaultOptions,e)),this.bindEvents()}bindEvents(){this.context.graph.on(Tc.AFTER_RENDER,this.drawHull),this.context.graph.on(Tc.AFTER_ELEMENT_UPDATE,this.updateHullPath)}getHullStyle(t){const{members:e,padding:n,corner:r,...i}=this.options;return{...i,d:this.getHullPath(t)}}drawHull=()=>{if(this.shape){const t=!xc(this.optionsCache,this.options);this.shape.update(this.getHullStyle(t))}else this.shape=new oh({style:this.getHullStyle()}),this.context.canvas.appendChild(this.shape);this.optionsCache={...this.options}};updateHullPath=t=>{this.shape&&this.options.members.includes(Qc(t.data))&&this.shape.update({d:this.getHullPath(!0)})};getHullPath=(()=>{var t=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{graph:n}=t.context,r=t.getMember();if(0===r.length)return"";const i=r.map((t=>n.getNodeData(t))),o=Vx()(i.map(Xu),t.options.concavity).slice(1).reverse(),a=o.flatMap((t=>i.filter((e=>xc(Xu(e),t))).map(Qc)));return xc(a,t.hullMemberIds)&&!e||(t.hullMemberIds=a,t.path=function(t,e,n){if(1===t.length)return Hx(t[0],e,n);if(2===t.length)return Wx(t,e,n);switch(n){case"smooth":return Ux(t,e);case"sharp":return qx(t,e);default:return Gx(t,e)}}(o,t.getPadding(),t.options.corner)),t.path}})();getPadding(){const{graph:t}=this.context,e=this.hullMemberIds.reduce(((e,n)=>{const{halfExtents:r}=t.getElementRenderBounds(n),i=Math.max(r[0],r[1]);return Math.max(e,i)}),0);return e+this.options.padding}addMember(t){const e=Array.isArray(t)?t:[t];this.options.members=[...new Set([...this.options.members,...e])],this.shape.update({d:this.getHullPath()})}removeMember(t){const e=Array.isArray(t)?t:[t];this.options.members=this.options.members.filter((t=>!e.includes(t))),e.some((t=>this.hullMemberIds.includes(t)))&&this.shape.update({d:this.getHullPath()})}updateMember(t){this.options.members=pu(t)?t(this.options.members):t,this.shape.update(this.getHullStyle(!0))}getMember(){return this.options.members}destroy(){this.context.graph.off(Tc.AFTER_DRAW,this.drawHull),this.shape.destroy(),this.hullMemberIds=[],super.destroy()}}var Xx=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=e,this.width=n,this.height=r}return Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},t.prototype.isPointIn=function(t,e){return t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom},t}();function Kx(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<t.length;o++){var a=t[o],s=a.x,l=a.y,c=d([s+a.width,l+a.height],2),u=c[0],h=c[1];s<e&&(e=s),l<n&&(n=l),u>r&&(r=u),h>i&&(i=h)}return new Xx(e,n,r-e,i-n)}var Zx=function(t,e,n){var r=t.width,i=t.height,o=n.flexDirection,a=void 0===o?"row":o,s=(n.flexWrap,n.justifyContent),l=void 0===s?"flex-start":s,c=(n.alignContent,n.alignItems),u=void 0===c?"flex-start":c,h="row"===a,f="row"===a||"column"===a,p=h?f?[1,0]:[-1,0]:f?[0,1]:[0,-1],g=d([0,0],2),m=g[0],v=g[1],y=e.map((function(t){var e,n=t.width,r=t.height,i=d([m,v],2),o=i[0],a=i[1];return e=d([m+n*p[0],v+r*p[1]],2),m=e[0],v=e[1],new Xx(o,a,n,r)})),b=Kx(y),x={"flex-start":0,"flex-end":h?r-b.width:i-b.height,center:h?(r-b.width)/2:(i-b.height)/2},w=y.map((function(t){var e=t.x,n=t.y,r=Xx.fromRect(t);return r.x=h?e+x[l]:e,r.y=h?n:n+x[l],r})),E=(Kx(w),function(t){var e=d(h?["height",i]:["width",r],2),n=e[0],o=e[1];switch(u){case"flex-start":default:return 0;case"flex-end":return o-t[n];case"center":return o/2-t[n]/2}}),S=w.map((function(t){var e=t.x,n=t.y,r=Xx.fromRect(t);return r.x=h?e:e+E(r),r.y=h?n+E(r):n,r})),k=S.map((function(e){var n,r,i=Xx.fromRect(e);return i.x+=null!==(n=t.x)&&void 0!==n?n:0,i.y+=null!==(r=t.y)&&void 0!==r?r:0,i}));return k},Qx=function(t,e,n){return[]};function Jx(t){if(Yt(t))return[t,t,t,t];if(Me(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}var tw=function(t){function e(e){var n=t.call(this,e)||this;n.layoutEvents=[Za.BOUNDS_CHANGED,Za.INSERTED,Za.REMOVED],n.$margin=Jx(0),n.$padding=Jx(0);var r=e.style||{},i=r.margin,o=void 0===i?0:i,a=r.padding,s=void 0===a?0:a;return n.margin=o,n.padding=s,n.isMutationObserved=!0,n.bindEvents(),n}return o(e,t),Object.defineProperty(e.prototype,"margin",{get:function(){return this.$margin},set:function(t){this.$margin=Jx(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.$padding},set:function(t){this.$padding=Jx(t)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var t=this.attributes,e=t.x,n=void 0===e?0:e,r=t.y,i=void 0===r?0:r,o=t.width,a=t.height,s=d(this.$margin,4),l=s[0],c=s[1],u=s[2],h=s[3];return new Xx(n-h,i-l,o+h+c,a+l+u)},e.prototype.appendChild=function(e,n){return e.isMutationObserved=!0,t.prototype.appendChild.call(this,e,n),e},e.prototype.getAvailableSpace=function(){var t=this.attributes,e=t.width,n=t.height,r=d(this.$padding,4),i=r[0],o=r[1],a=r[2],s=r[3],l=d(this.$margin,4),c=l[0],u=l[3];return new Xx(s+u,i+c,e-s-o,n-i-a)},e.prototype.layout=function(){if(this.attributes.display&&this.isConnected&&!this.children.some((function(t){return!t.isConnected})))try{var t=this.attributes,e=t.x,n=t.y;this.style.transform="translate(".concat(e,", ").concat(n,")");var r=function(t,e,n){if(0===e.length)return[];var r={flex:Zx,grid:Qx},i=n.display in r?r[n.display]:null;return(null===i||void 0===i?void 0:i.call(null,t,e,n))||[]}(this.getAvailableSpace(),this.children.map((function(t){return t.getBBox()})),this.attributes);this.children.forEach((function(t,e){var n=r[e],i=n.x,o=n.y;t.style.transform="translate(".concat(i,", ").concat(o,")")}))}catch(i){}},e.prototype.bindEvents=function(){var t=this;this.layoutEvents.forEach((function(e){t.addEventListener(e,(function(e){e.target.isMutationObserved=!0,t.layout()}))}))},e.prototype.attributeChangedCallback=function(t,e,n){"margin"===t?this.margin=n:"padding"===t&&(this.padding=n),this.layout()},e}(Ts);function ew(t,e){e(t),t.children&&t.children.forEach((function(t){t&&ew(t,e)}))}function nw(t){iw(t,!0)}function rw(t){iw(t,!1)}function iw(t,e){var n=e?"visible":"hidden";ew(t,(function(t){t.attr("visibility",n)}))}var ow=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=5),Object.entries(e).forEach((function(i){var o=d(i,2),a=o[0],s=o[1],l=t;Object.prototype.hasOwnProperty.call(e,a)&&(s?Yc(s)?(Yc(t[a])||(l[a]={}),n<r?ow(t[a],s,n+1,r):l[a]=e[a]):Me(s)?(l[a]=[],l[a]=l[a].concat(s)):l[a]=s:l[a]=s)}))},aw=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)ow(t,e[r]);return t},sw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,h([],d(e),!1))||this;return r.isMutationObserved=!0,r.addEventListener(Za.INSERTED,(function(){rw(r)})),r}return o(e,t),e}(Ts);function lw(t){var e=t.appendChild(new sw({class:"offscreen"}));return rw(e),e}function cw(){iw(this,"hidden"!==this.attributes.visibility)}var uw=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this,aw({},{style:n},e))||this;return r.initialized=!1,r._defaultOptions=n,r}return o(e,t),Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=lw(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},e.prototype.disconnectedCallback=function(){var t;null===(t=this._offscreen)||void 0===t||t.destroy()},e.prototype.attributeChangedCallback=function(t){"visibility"===t&&cw.call(this)},e.prototype.update=function(t,e){var n;return this.attr(aw({},this.attributes,t||{})),null===(n=this.render)||void 0===n?void 0:n.call(this,this.attributes,this,e)},e.prototype.clear=function(){this.removeChildren()},e.prototype.bindEvents=function(t,e){},e.prototype.getSubShapeStyle=function(t){t.x,t.y,t.transform,t.transformOrigin,t.class,t.className,t.zIndex;return s(t,["x","y","transform","transformOrigin","class","className","zIndex"])},e}(Os);function dw(t){return t.toString().charAt(0).toUpperCase()+t.toString().slice(1)}function hw(t,e,n){var r;void 0===n&&(n=!0);var i=e||(null===(r=t.match(/^([a-z][a-z0-9]+)/))||void 0===r?void 0:r[0])||"",o=t.replace(new RegExp("^(".concat(i,")")),"");return n?function(t){return t.toString().charAt(0).toLowerCase()+t.toString().slice(1)}(o):o}var fw=function(t,e){if(!(null===t||void 0===t?void 0:t.startsWith(e)))return!1;var n=t[e.length];return n>="A"&&n<="Z"};function pw(t,e,n){void 0===n&&(n=!1);var r={};return Object.entries(t).forEach((function(t){var i=d(t,2),o=i[0],a=i[1];if("className"===o||"class"===o);else if(fw(o,"show")&&fw(hw(o,"show"),e)!==n)o===function(t,e){return"".concat(e).concat(dw(t))}(e,"show")?r[o]=a:r[o.replace(new RegExp(dw(e)),"")]=a;else if(!fw(o,"show")&&fw(o,e)!==n){var s=hw(o,e);"filter"===s&&"function"===typeof a||(r[s]=a)}})),r}function gw(t,e){return Object.entries(t).reduce((function(t,n){var r=d(n,2),i=r[0],o=r[1];return i.startsWith("show")?t["show".concat(e).concat(i.slice(4))]=o:t["".concat(e).concat(dw(i))]=o,t}),{})}function mw(t,e){void 0===e&&(e=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},i={};return Object.entries(t).forEach((function(t){var o=d(t,2),a=o[0],s=o[1];e.includes(a)||(-1!==n.indexOf(a)?i[a]=s:r[a]=s)})),[r,i]}var vw=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=s(e,["style"]);return t.call(this,a({style:a({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},n)},r))||this}return o(e,t),Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=lw(this)),this._offscreen},enumerable:!1,configurable:!0}),e.prototype.disconnectedCallback=function(){var t;null===(t=this._offscreen)||void 0===t||t.destroy()},e}(zs);var yw=function(){function t(t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=[null,null,null,null,null]),void 0===a&&(a=[]),void 0===s&&(s=[]),e.add(this),this._elements=Array.from(t),this._data=n,this._parent=r,this._document=i,this._enter=o[0],this._update=o[1],this._exit=o[2],this._merge=o[3],this._split=o[4],this._transitions=a,this._facetElements=s}var e,n,r;return t.prototype.selectAll=function(t){var e="string"===typeof t?this._parent.querySelectorAll(t):t;return new n(e,null,this._elements[0],this._document)},t.prototype.selectFacetAll=function(t){var e="string"===typeof t?this._parent.querySelectorAll(t):t;return new n(this._elements,null,this._parent,this._document,void 0,void 0,e)},t.prototype.select=function(t){var e="string"===typeof t?this._parent.querySelectorAll(t)[0]||null:t;return new n([e],null,e,this._document)},t.prototype.append=function(t){var e=this,r="function"===typeof t?t:function(){return e.createElement(t)},i=[];if(null!==this._data){for(var o=0;o<this._data.length;o++){var a=this._data[o],s=d(Array.isArray(a)?a:[a,null],2),l=s[0],c=s[1];(h=r(l,o)).__data__=l,null!==c&&(h.__fromElements__=c),this._parent.appendChild(h),i.push(h)}return new n(i,null,this._parent,this._document)}for(o=0;o<this._elements.length;o++){var u=this._elements[o],h=r(l=u.__data__,o);u.appendChild(h),i.push(h)}return new n(i,null,i[0],this._document)},t.prototype.maybeAppend=function(t,n){var i=f(this,e,"m",r).call(this,"#"===t[0]?t:"#".concat(t),n);return i.attr("id",t),i},t.prototype.maybeAppendByClassName=function(t,n){var i=t.toString(),o=f(this,e,"m",r).call(this,"."===i[0]?i:".".concat(i),n);return o.attr("className",i),o},t.prototype.maybeAppendByName=function(t,n){var i=f(this,e,"m",r).call(this,'[name="'.concat(t,'"]'),n);return i.attr("name",t),i},t.prototype.data=function(t,e,r){var i,o;void 0===e&&(e=function(t){return t}),void 0===r&&(r=function(){return null});for(var a=[],s=[],l=new Set(this._elements),c=[],d=new Set,h=new Map(this._elements.map((function(t,n){return[e(t.__data__,n),t]}))),f=new Map(this._facetElements.map((function(t,n){return[e(t.__data__,n),t]}))),p=function(t,e){var n=new Map;return t.forEach((function(t){var r=e(t);n.has(r)||n.set(r,[]),n.get(r).push(t)})),n}(this._elements,(function(t){return r(t.__data__)})),g=0;g<t.length;g++){var m=t[g],v=e(m,g),y=r(m,g);if(h.has(v))(E=h.get(v)).__data__=m,E.__facet__=!1,s.push(E),l.delete(E),h.delete(v);else if(f.has(v)){(E=f.get(v)).__data__=m,E.__facet__=!0,s.push(E),f.delete(v)}else if(p.has(v)){var b=p.get(v);c.push([m,b]);try{for(var x=(i=void 0,u(b)),w=x.next();!w.done;w=x.next()){var E=w.value;l.delete(E)}}catch(k){i={error:k}}finally{try{w&&!w.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}p.delete(v)}else if(h.has(y)){(E=h.get(y)).__toData__?E.__toData__.push(m):E.__toData__=[m],d.add(E),l.delete(E)}else a.push(m)}var S=[new n([],a,this._parent,this._document),new n(s,null,this._parent,this._document),new n(l,null,this._parent,this._document),new n([],c,this._parent,this._document),new n(d,null,this._parent,this._document)];return new n(this._elements,null,this._parent,this._document,S)},t.prototype.merge=function(t){var e=h(h([],d(this._elements),!1),d(t._elements),!1),r=h(h([],d(this._transitions),!1),d(t._transitions),!1);return new n(e,null,this._parent,this._document,void 0,r)},t.prototype.createElement=function(t){if(this._document)return this._document.createElement(t,{});var e=n.registry[t];return e?new e:function(t){throw new Error(t)}("Unknown node type: ".concat(t))},t.prototype.join=function(t,e,n,r,i){void 0===t&&(t=function(t){return t}),void 0===e&&(e=function(t){return t}),void 0===n&&(n=function(t){return t.remove()}),void 0===r&&(r=function(t){return t}),void 0===i&&(i=function(t){return t.remove()});var o=t(this._enter),a=e(this._update),s=n(this._exit),l=r(this._merge),c=i(this._split);return a.merge(o).merge(s).merge(l).merge(c)},t.prototype.remove=function(){for(var t=function(t){var n=e._elements[t],r=e._transitions[t];r?r.then((function(){return n.remove()})):n.remove()},e=this,r=0;r<this._elements.length;r++)t(r);return new n([],null,this._parent,this._document,void 0,this._transitions)},t.prototype.each=function(t){for(var e=0;e<this._elements.length;e++){var n=this._elements[e],r=n.__data__;t.call(n,r,e)}return this},t.prototype.attr=function(t,e){var n="function"!==typeof e?function(){return e}:e;return this.each((function(r,i){void 0!==e&&(this[t]=n.call(this,r,i))}))},t.prototype.style=function(t,e,n){void 0===n&&(n=!0);var r="function"===typeof e&&n?e:function(){return e};return this.each((function(n,i){void 0!==e&&(this.style[t]=r.call(this,n,i))}))},t.prototype.styles=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=!0),this.each((function(n,r){var i=this;Object.entries(t).forEach((function(t){var o=d(t,2),a=o[0],s=o[1],l="function"===typeof s&&e?s:function(){return s};void 0!==s&&i.attr(a,l.call(i,n,r))}))}))},t.prototype.update=function(t,e){void 0===e&&(e=!0);var n="function"===typeof t&&e?t:function(){return t};return this.each((function(e,r){t&&this.update&&this.update(n.call(this,e,r))}))},t.prototype.maybeUpdate=function(t,e){void 0===e&&(e=!0);var n="function"===typeof t&&e?t:function(){return t};return this.each((function(e,r){t&&this.update&&this.update(n.call(this,e,r))}))},t.prototype.transition=function(t){var e=this._transitions;return this.each((function(n,r){e[r]=t.call(this,n,r)}))},t.prototype.on=function(t,e){return this.each((function(){this.addEventListener(t,e)})),this},t.prototype.call=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.call.apply(t,h([this._parent,this],d(e),!1)),this},t.prototype.node=function(){return this._elements[0]},t.prototype.nodes=function(){return this._elements},t.prototype.transitions=function(){return this._transitions.filter((function(t){return!!t}))},t.prototype.parent=function(){return this._parent},n=t,e=new WeakSet,r=function(t,e){var r=this._elements[0],i=r.querySelector(t);if(i)return new n([i],null,this._parent,this._document);var o="string"===typeof e?this.createElement(e):e();return r.appendChild(o),new n([o],null,this._parent,this._document)},t.registry={g:Ts,rect:js,circle:Ns,path:Ls,text:vw,ellipse:Ps,image:Rs,line:_s,polygon:Is,polyline:Ds,html:As},t}();function bw(t){return new yw([t],null,t,t.ownerDocument)}var xw=function(t,e){var n=function(t){return"".concat(e,"-").concat(t)},r=Object.fromEntries(Object.entries(t).map((function(t){var e=d(t,2),r=e[0],i=e[1],o=n(i);return[r,{name:o,class:".".concat(o),id:"#".concat(o),toString:function(){return o}}]})));return Object.assign(r,{prefix:n}),r};function ww(t,e,n,r,i){return void 0===r&&(r=!0),void 0===i&&(i=function(t){t.node().removeChildren()}),t?n(e):(r&&i(e),null)}var Ew=xw({text:"text"},"title");function Sw(t){return/\S+-\S+/g.test(t)?t.split("-").map((function(t){return t[0]})):t.length>2?[t[0]]:t.split("")}function kw(t,e){var n=Object.entries(e).reduce((function(e,n){var r=d(n,2),i=r[0],o=r[1];return t.node().attr(i)||(e[i]=o),e}),{});t.styles(n)}var Mw=function(t){function e(e){return t.call(this,e,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return o(e,t),e.prototype.getAvailableSpace=function(){var t=this.attributes,e=t.width,n=t.height,r=t.position,i=t.spacing,o=t.inset,a=this.querySelector(Ew.text.class);if(!a)return new Xx(0,0,+e,+n);var s=a.getBBox(),l=s.width,c=s.height,u=d(Jx(i),4),h=u[0],f=u[1],p=u[2],g=u[3],m=d([0,0,+e,+n],4),v=m[0],y=m[1],b=m[2],x=m[3],w=Sw(r);if(w.includes("i"))return new Xx(v,y,b,x);w.forEach((function(t,r){var i,o,a,s;"t"===t&&(i=d(0===r?[c+p,+n-c-p]:[0,+n],2),y=i[0],x=i[1]),"r"===t&&(o=d([+e-l-g],1),b=o[0]),"b"===t&&(a=d([+n-c-h],1),x=a[0]),"l"===t&&(s=d(0===r?[l+f,+e-l-f]:[0,+e],2),v=s[0],b=s[1])}));var E=d(Jx(o),4),S=E[0],k=E[1],M=E[2],C=E[3],N=d([C+k,S+M],2),O=N[0],P=N[1];return new Xx(v+C,y+S,b-O,x-P)},e.prototype.getBBox=function(){return this.title?this.title.getBBox():new Xx(0,0,0,0)},e.prototype.render=function(t,e){var n=this,r=(t.width,t.height,t.position,t.spacing,s(t,["width","height","position","spacing"])),i=d(mw(r),1)[0],o=function(t){var e,n,r,i,o=t,a=o.width,s=o.height,l=o.position,c=d([+a/2,+s/2],2),u=d([+c[0],+c[1],"center","middle"],4),h=u[0],f=u[1],p=u[2],g=u[3],m=Sw(l);return m.includes("l")&&(h=(e=d([0,"start"],2))[0],p=e[1]),m.includes("r")&&(h=(n=d([+a,"end"],2))[0],p=n[1]),m.includes("t")&&(f=(r=d([0,"top"],2))[0],g=r[1]),m.includes("b")&&(f=(i=d([+s,"bottom"],2))[0],g=i[1]),{x:h,y:f,textAlign:p,textBaseline:g}}(t),a=o.x,l=o.y,c=o.textAlign,u=o.textBaseline;ww(!!r.text,bw(e),(function(t){n.title=t.maybeAppendByClassName(Ew.text,"text").styles(i).call(kw,{x:a,y:l,textAlign:c,textBaseline:u}).node()}))},e}(uw);const Cw=function(){};function Nw(t,e){return pu(t)?t.apply(void 0,h([],d(e),!1)):t}function Ow(t){if(!t)return{enter:!1,update:!1,exit:!1};var e=["enter","update","exit"],n=Object.fromEntries(Object.entries(t).filter((function(t){var n=d(t,1)[0];return!e.includes(n)})));return Object.fromEntries(e.map((function(e){return function(t){return"boolean"!==typeof t&&"enter"in t&&"update"in t&&"exit"in t}(t)?!1===t[e]?[e,!1]:[e,a(a({},t[e]),n)]:[e,n]})))}function Pw(t,e){t?t.finished.then(e):e()}function Tw(t,e){"update"in t?t.update(e):t.attr(e)}function Aw(t,e,n){return 0===e.length?null:n?t.animate(e,n):(Tw(t,{style:e.slice(-1)[0]}),null)}function Rw(t,e,n){var r={},i={};return Object.entries(e).forEach((function(e){var n=d(e,2),o=n[0],a=n[1];if(!Kt(a)){var s=t.style[o]||t.parsedStyle[o]||0;s!==a&&(r[o]=s,i[o]=a)}})),n?Aw(t,[r,i],a({fill:"both"},n)):(Tw(t,i),null)}function _w(t,e,n){void 0===n&&(n=!1);var r=t.getBBox(),i=r.width,o=r.height,a=e/Math.max(i,o);return n&&(t.style.transform="scale(".concat(a,")")),a}var Lw=function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e],["Z"]]},Iw=Lw,Dw=function(t,e,n){return[["M",t,e+n],["L",t,e-n]]},jw=function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},zw=jw;var Fw=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e],["L",t-n,e+n],["Z"]]},Bw=xw({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),$w=function(t){function e(e){var n=t.call(this,e,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:Fw(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(t,e){return"".concat(t,"/").concat(e)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return n.playState="idle",n.contentGroup=n.appendChild(new Ts({class:Bw.contentGroup.name})),n.playWindow=n.contentGroup.appendChild(new Ts({class:Bw.playWindow.name})),n.innerCurrPage=n.defaultPage,n}return o(e,t),Object.defineProperty(e.prototype,"defaultPage",{get:function(){var t=this.attributes.defaultPage;return Qt(t,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageShape",{get:function(){var t=d(function(t){var e;return(null===(e=t[0])||void 0===e?void 0:e.map((function(e,n){return t.map((function(t){return t[n]}))})))||[]}(this.pageViews.map((function(t){var e=t.getBBox();return[e.width,e.height]}))).map((function(t){return Math.max.apply(Math,h([],d(t),!1))})),2),e=t[0],n=t[1],r=this.attributes,i=r.pageWidth,o=void 0===i?e:i,a=r.pageHeight;return{pageWidth:o,pageHeight:void 0===a?n:a}},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(e.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var e=t.prototype.getBBox.call(this),n=e.x,r=e.y,i=this.controllerShape,o=this.pageShape,a=o.pageWidth,s=o.pageHeight;return new Xx(n,r,a+i.width,s)},e.prototype.goTo=function(t){var e=this,n=this.attributes.animate,r=this,i=r.currPage,o=r.playState,a=r.playWindow,s=r.pageViews;if("idle"!==o||t<0||s.length<=0||t>=s.length)return null;s[i].setLocalPosition(0,0),this.prepareFollowingPage(t);var l=d(this.getFollowingPageDiff(t),2),c=l[0],u=l[1];this.playState="running";var h=Aw(a,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-c,", ").concat(-u,")")}],n);return Pw(h,(function(){e.innerCurrPage=t,e.playState="idle",e.setVisiblePages([t]),e.updatePageInfo()})),h},e.prototype.prev=function(){var t=this.attributes.loop,e=this.pageViews.length,n=this.currPage;if(!t&&n<=0)return null;var r=t?(n-1+e)%e:Qt(n-1,0,e);return this.goTo(r)},e.prototype.next=function(){var t=this.attributes.loop,e=this.pageViews.length,n=this.currPage;if(!t&&n>=e-1)return null;var r=t?(n+1)%e:Qt(n+1,0,e);return this.goTo(r)},e.prototype.renderClipPath=function(t){var e=this.pageShape,n=e.pageWidth,r=e.pageHeight;n&&r?(this.clipPath=t.maybeAppendByClassName(Bw.clipPath,"rect").styles({width:n,height:r}),this.contentGroup.attr("clipPath",this.clipPath.node())):this.contentGroup.style.clipPath=void 0},e.prototype.setVisiblePages=function(t){this.playWindow.children.forEach((function(e,n){t.includes(n)?nw(e):rw(e)}))},e.prototype.adjustControllerLayout=function(){var t=this,e=t.prevBtnGroup,n=t.nextBtnGroup,r=t.pageInfoGroup,i=this.attributes,o=i.orientation,a=i.controllerPadding,s=r.getBBox(),l=s.width,c=(s.height,d("horizontal"===o?[-180,0]:[-90,90],2)),u=c[0],h=c[1];e.setLocalEulerAngles(u),n.setLocalEulerAngles(h);var f=e.getBBox(),p=f.width,g=f.height,m=n.getBBox(),v=m.width,y=m.height,b=Math.max(p,l,v),x="horizontal"===o?{offset:[[0,0],[p/2+a,0],[p+l+2*a,0]],textAlign:"start"}:{offset:[[b/2,-g-a],[b/2,0],[b/2,y+a]],textAlign:"center"},w=d(x.offset,3),E=d(w[0],2),S=E[0],k=E[1],M=d(w[1],2),C=M[0],N=M[1],O=d(w[2],2),P=O[0],T=O[1],A=x.textAlign,R=r.querySelector("text");R&&(R.style.textAlign=A),e.setLocalPosition(S,k),r.setLocalPosition(C,N),n.setLocalPosition(P,T)},e.prototype.updatePageInfo=function(){var t,e=this,n=e.currPage,r=e.pageViews,i=e.attributes.formatter;r.length<2||(null===(t=this.pageInfoGroup.querySelector(Bw.pageInfo.class))||void 0===t||t.attr("text",i(n+1,r.length)),this.adjustControllerLayout())},e.prototype.getFollowingPageDiff=function(t){var e=this.currPage;if(e===t)return[0,0];var n=this.attributes.orientation,r=this.pageShape,i=r.pageWidth,o=r.pageHeight,a=t<e?-1:1;return"horizontal"===n?[a*i,0]:[0,a*o]},e.prototype.prepareFollowingPage=function(t){var e=this.currPage,n=this.pageViews;if(this.setVisiblePages([t,e]),t!==e){var r=d(this.getFollowingPageDiff(t),2),i=r[0],o=r[1];n[t].setLocalPosition(i,o)}},e.prototype.renderController=function(t){var e=this,n=this.attributes.controllerSpacing,r=this.pageShape,i=r.pageWidth,o=r.pageHeight,l=this.pageViews.length>=2,c=t.maybeAppendByClassName(Bw.controller,"g");if(iw(c.node(),l),l){var u=pw(this.attributes,"button"),h=pw(this.attributes,"pageNum"),f=d(mw(u),2),p=f[0],g=f[1],m=p.size,v=s(p,["size"]),y=!c.select(Bw.prevBtnGroup.class).node(),b=c.maybeAppendByClassName(Bw.prevBtnGroup,"g").styles(g);this.prevBtnGroup=b.node();var x=b.maybeAppendByClassName(Bw.prevBtn,"path"),w=c.maybeAppendByClassName(Bw.nextBtnGroup,"g").styles(g);this.nextBtnGroup=w.node(),[x,w.maybeAppendByClassName(Bw.nextBtn,"path")].forEach((function(t){t.styles(a(a({},v),{transformOrigin:"center"})),_w(t.node(),m,!0)}));var E=c.maybeAppendByClassName(Bw.pageInfoGroup,"g");this.pageInfoGroup=E.node(),E.maybeAppendByClassName(Bw.pageInfo,"text").styles(h),this.updatePageInfo(),c.node().setLocalPosition(i+n,o/2),y&&(this.prevBtnGroup.addEventListener("click",(function(){e.prev()})),this.nextBtnGroup.addEventListener("click",(function(){e.next()})))}},e.prototype.render=function(t,e){var n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i;this.attr("transform","translate(".concat(r,", ").concat(o,")"));var a=bw(e);this.renderClipPath(a),this.renderController(a),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},e.prototype.bindEvents=function(){var t=this,e=Hp((function(){return t.render(t.attributes,t)}),50);this.playWindow.addEventListener(Za.INSERTED,e),this.playWindow.addEventListener(Za.REMOVED,e)},e}(uw);function Vw(t){var e=function(t){var e="default";if(He(t)&&t instanceof Image)e="image";else if(pu(t))e="symbol";else if(Zt(t)){var n=new RegExp("data:(image|text)");e=t.match(n)?"base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(t)?"url":"symbol"}return e}(t);return["base64","url","image"].includes(e)?"image":t&&"symbol"===e?"path":null}var Hw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.render=function(t,n){var r=t.x,i=void 0===r?0:r,o=t.y,l=void 0===o?0:o,c=this.getSubShapeStyle(t),u=c.symbol,d=c.size,h=void 0===d?16:d,f=s(c,["symbol","size"]),p=Vw(u);ww(!!p,bw(n),(function(t){t.maybeAppendByClassName("marker",p).attr("className","marker ".concat(p,"-marker")).call((function(t){if("image"===p){var n=2*h;t.styles({img:u,width:n,height:n,x:i-h,y:l-h})}else{n=h/2;var r=pu(u)?u:e.getSymbol(u);t.styles(a({d:null===r||void 0===r?void 0:r(i,l,n)},f))}}))}))},e.MARKER_SYMBOL_MAP=new Map,e.registerSymbol=function(t,n){e.MARKER_SYMBOL_MAP.set(t,n)},e.getSymbol=function(t){return e.MARKER_SYMBOL_MAP.get(t)},e.getSymbols=function(){return Array.from(e.MARKER_SYMBOL_MAP.keys())},e}(uw);Hw.registerSymbol("cross",(function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]})),Hw.registerSymbol("hyphen",(function(t,e,n){return[["M",t-n,e],["L",t+n,e]]})),Hw.registerSymbol("line",Dw),Hw.registerSymbol("plus",(function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]})),Hw.registerSymbol("tick",(function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]})),Hw.registerSymbol("circle",Lw),Hw.registerSymbol("point",Iw),Hw.registerSymbol("bowtie",(function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]})),Hw.registerSymbol("hexagon",(function(t,e,n){var r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]})),Hw.registerSymbol("square",(function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]})),Hw.registerSymbol("diamond",(function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]})),Hw.registerSymbol("triangle",(function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]})),Hw.registerSymbol("triangle-down",(function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]})),Hw.registerSymbol("line",Dw),Hw.registerSymbol("dot",jw),Hw.registerSymbol("dash",zw),Hw.registerSymbol("smooth",(function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]})),Hw.registerSymbol("hv",(function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]})),Hw.registerSymbol("vh",(function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]})),Hw.registerSymbol("hvh",(function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]})),Hw.registerSymbol("vhv",(function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}));Hw.registerSymbol("hiddenHandle",(function(t,e,n){var r=1.4*n;return[["M",t-n,e-r],["L",t+n,e-r],["L",t+n,e+r],["L",t-n,e+r],["Z"]]})),Hw.registerSymbol("verticalHandle",(function(t,e,n){var r=1.4*n,i=n/2,o=n/6,a=t+.4*r;return[["M",t,e],["L",a,e+i],["L",t+r,e+i],["L",t+r,e-i],["L",a,e-i],["Z"],["M",a,e+o],["L",t+r-2,e+o],["M",a,e-o],["L",t+r-2,e-o]]})),Hw.registerSymbol("horizontalHandle",(function(t,e,n){var r=1.4*n,i=n/2,o=n/6,a=e+.4*r;return[["M",t,e],["L",t-i,a],["L",t-i,e+r],["L",t+i,e+r],["L",t+i,a],["Z"],["M",t-o,a],["L",t-o,e+r-2],["M",t+o,a],["L",t+o,e+r-2]]}));function Ww(t,e,n){return void 0===t&&(t="horizontal"),"horizontal"===t?e:n}function Gw(t){var e=t.getLocalBounds(),n=d([e.min,e.max],2),r=d(n[0],2),i=r[0],o=r[1],a=d(n[1],2),s=a[0],l=a[1];return{x:i,y:o,width:s-i,height:l-o,left:i,bottom:l,top:o,right:s}}function Uw(t,e){var n=d(t,2),r=n[0],i=n[1],o=d(e,2),a=o[0],s=o[1];return r!==a&&i===s}function qw(t){return"function"===typeof t?t():Zt(t)||Yt(t)?new vw({style:{text:String(t)}}):t}var Yw,Xw;var Kw=function(t,e,n){if(void 0===n&&(n=128),!pu(t))throw new TypeError("Expected a function");var r=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var s=t.apply(this,n);return a.set(o,s),s};return r.cache=function(t){var e,n,r,i=t||1;function o(t,o){++e>i&&(r=n,a(1),++e),n[t]=o}function a(t){e=0,n=Object.create(null),t||(r=Object.create(null))}return a(),{clear:a,has:function(t){return void 0!==n[t]||void 0!==r[t]},get:function(t){var e=n[t];return void 0!==e?e:void 0!==(e=r[t])?(o(t,e),e):void 0},set:function(t,e){void 0!==n[t]?n[t]=e:o(t,e)}}}(n),r}((function(t,e){var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return Xw?Xw(t,n):(Yw||(Yw=us.offscreenCanvasCreator.getOrCreateContext(void 0)),Yw.font=[o,a,i,"".concat(n,"px"),r].join(" "),Yw.measureText(t).width)}),(function(t,e){return[t,Object.values(e||Zw(t)).join()].join("")}),4096),Zw=function(t){var e=t.style.fontFamily||"sans-serif",n=t.style.fontWeight||"normal",r=t.style.fontStyle||"normal",i=t.style.fontVariant,o=t.style.fontSize;return{fontSize:o="object"===typeof o?o.value:o,fontFamily:e,fontWeight:n,fontStyle:r,fontVariant:i}};function Qw(t){return"text"===t.nodeName?t:"g"===t.nodeName&&1===t.children.length&&"text"===t.children[0].nodeName?t.children[0]:null}function Jw(t,e){var n=Qw(t);n&&n.attr(e)}function tE(t,e,n){void 0===n&&(n="..."),Jw(t,{wordWrap:!0,wordWrapWidth:e,maxLines:1,textOverflow:n})}var eE=xw({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item");var nE=function(t){function e(e){return t.call(this,e,{span:[1,1],marker:function(){return new Ns({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return o(e,t),Object.defineProperty(e.prototype,"showValue",{get:function(){var t=this.attributes.valueText;return!!t&&("string"===typeof t||"number"===typeof t?""!==t:"function"===typeof t||""!==t.attr("text"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualSpace",{get:function(){var t=this.labelGroup,e=this.valueGroup,n=this.attributes.markerSize,r=t.node().getBBox(),i=r.width,o=r.height,a=e.node().getBBox(),s=a.width,l=a.height;return{markerWidth:n,labelWidth:i,valueWidth:s,height:Math.max(n,o,l)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"span",{get:function(){var t=this.attributes.span;if(!t)return[1,1];var e=d(Jx(t),2),n=e[0],r=e[1],i=this.showValue?r:0,o=n+i;return[n/o,i/o]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var t,e=this.attributes,n=e.markerSize,r=e.width,i=this.actualSpace,o=i.markerWidth,a=i.height,s=this.actualSpace,l=s.labelWidth,c=s.valueWidth,u=d(this.spacing,2),h=u[0],f=u[1];if(r){var p=r-n-h-f,g=d(this.span,2);l=(t=d([g[0]*p,g[1]*p],2))[0],c=t[1]}return{width:o+l+c+h+f,height:a,markerWidth:o,labelWidth:l,valueWidth:c}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){var t=this.attributes.spacing;if(!t)return[0,0];var e=d(Jx(t),2),n=e[0],r=e[1];return this.showValue?[n,r]:[n,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){var t=this.shape,e=t.markerWidth,n=t.labelWidth,r=t.valueWidth,i=t.width,o=t.height,a=d(this.spacing,2),s=a[0];return{height:o,width:i,markerWidth:e,labelWidth:n,valueWidth:r,position:[e/2,e+s,e+n+s+a[1]]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleSize",{get:function(){var t=function(t){var e=t.querySelector(eE.marker.class);return e?e.style:{}}(this.markerGroup.node()),e=this.attributes,n=e.markerSize,r=e.markerStrokeWidth,i=void 0===r?t.strokeWidth:r,o=e.markerLineWidth,a=void 0===o?t.lineWidth:o,s=e.markerStroke,l=void 0===s?t.stroke:s,c=+(i||a||(l?1:0))*Math.sqrt(2),u=this.markerGroup.node().getBBox(),d=u.width,h=u.height;return(1-c/Math.max(d,h))*n},enumerable:!1,configurable:!0}),e.prototype.renderMarker=function(t){var e=this,n=this.attributes.marker,r=pw(this.attributes,"marker");this.markerGroup=t.maybeAppendByClassName(eE.markerGroup,"g").style("zIndex",0),ww(!!n,this.markerGroup,(function(){var t,i=e.markerGroup.node(),o=null===(t=i.childNodes)||void 0===t?void 0:t[0],s="string"===typeof n?new Hw({style:{symbol:n},className:eE.marker.name}):n();o?s.nodeName===o.nodeName?o instanceof Hw?o.update(a(a({},r),{symbol:n})):(!function(t,e){var n,r,i=e.attributes;try{for(var o=u(Object.entries(i)),a=o.next();!a.done;a=o.next()){var s=d(a.value,2),l=s[0],c=s[1];"id"!==l&&"className"!==l&&t.attr(l,c)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}(o,s),bw(o).styles(r)):(o.remove(),bw(s).attr("className",eE.marker.name).styles(r),i.appendChild(s)):(s instanceof Hw||bw(s).attr("className",eE.marker.name).styles(r),i.appendChild(s)),e.markerGroup.node().scale(1/e.markerGroup.node().getScale()[0]);var l=_w(e.markerGroup.node(),e.scaleSize,!0);e.markerGroup.node().style._transform="scale(".concat(l,")")}))},e.prototype.renderLabel=function(t){var e=pw(this.attributes,"label"),n=e.text,r=s(e,["text"]);this.labelGroup=t.maybeAppendByClassName(eE.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(eE.label,(function(){return qw(n)})).styles(r)},e.prototype.renderValue=function(t){var e=this,n=pw(this.attributes,"value"),r=n.text,i=s(n,["text"]);this.valueGroup=t.maybeAppendByClassName(eE.valueGroup,"g").style("zIndex",0),ww(this.showValue,this.valueGroup,(function(){e.valueGroup.maybeAppendByClassName(eE.value,(function(){return qw(r)})).styles(i)}))},e.prototype.renderBackground=function(t){var e=this.shape,n=e.width,r=e.height,i=pw(this.attributes,"background");this.background=t.maybeAppendByClassName(eE.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(eE.background,"rect").styles(a({width:n,height:r},i))},e.prototype.adjustLayout=function(){var t=this.layout,e=t.labelWidth,n=t.valueWidth,r=t.height,i=d(t.position,3),o=i[0],a=i[1],s=i[2],l=r/2;this.markerGroup.styles({transform:"translate(".concat(o,", ").concat(l,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(a,", ").concat(l,")")}),tE(this.labelGroup.select(eE.label.class).node(),Math.ceil(e)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(s,", ").concat(l,")")}),tE(this.valueGroup.select(eE.value.class).node(),Math.ceil(n)))},e.prototype.render=function(t,e){var n=bw(e),r=t.x,i=void 0===r?0:r,o=t.y,a=void 0===o?0:o;n.styles({transform:"translate(".concat(i,", ").concat(a,")")}),this.renderMarker(n),this.renderLabel(n),this.renderValue(n),this.renderBackground(n),this.adjustLayout()},e}(uw),rE=xw({page:"item-page",navigator:"navigator",item:"item"},"items"),iE=function(t,e,n){return void 0===n&&(n=!0),t?e(t):n},oE=function(t){function e(e){var n=t.call(this,e,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:Cw,mouseenter:Cw,mouseleave:Cw})||this;return n.navigatorShape=[0,0],n}return o(e,t),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){var t=this.attributes,e=t.gridRow,n=t.gridCol,r=t.data;if(!e&&!n)throw new Error("gridRow and gridCol can not be set null at the same time");return e&&n?[e,n]:e?[e,r.length]:[r.length,n]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderData",{get:function(){var t=this.attributes,e=t.data,n=t.layout,r=pw(this.attributes,"item"),i=e.map((function(t,i){var o=t.id,s=void 0===o?i:o,l=t.label,c=t.value;return{id:"".concat(s),index:i,style:a({layout:n,labelText:l,valueText:c},Object.fromEntries(Object.entries(r).map((function(n){var r=d(n,2);return[r[0],Nw(r[1],[t,i,e])]}))))}}));return i},enumerable:!1,configurable:!0}),e.prototype.getGridLayout=function(){var t=this,e=this.attributes,n=e.orientation,r=e.width,i=e.rowPadding,o=e.colPadding,a=d(this.navigatorShape,1)[0],s=d(this.grid,2),l=s[0],c=s[1],u=c*l,h=0;return this.pageViews.children.map((function(e,s){var f,p,g=Math.floor(s/u),m=s%u,v=t.ifHorizontal(c,l),y=[Math.floor(m/v),m%v];"vertical"===n&&y.reverse();var b=d(y,2),x=b[0],w=b[1],E=(r-a-(c-1)*o)/c,S=e.getBBox().height,k=d([0,0],2),M=k[0],C=k[1];return"horizontal"===n?(M=(f=d([h,x*(S+i)],2))[0],C=f[1],h=w===c-1?0:h+E+o):(M=(p=d([w*(E+o),h],2))[0],C=p[1],h=x===l-1?0:h+S+i),{page:g,index:s,row:x,col:w,pageIndex:m,width:E,height:S,x:M,y:C}}))},e.prototype.getFlexLayout=function(){var t=this.attributes,e=t.width,n=t.height,r=t.rowPadding,i=t.colPadding,o=d(this.navigatorShape,1)[0],a=d(this.grid,2),s=a[0],l=a[1],c=d([e-o,n],2),u=c[0],h=c[1],f=d([0,0,0,0,0,0,0,0],8),p=f[0],g=f[1],m=f[2],v=f[3],y=f[4],b=f[5],x=f[6],w=f[7];return this.pageViews.children.map((function(t,e){var n,o,a,c,f=t.getBBox(),E=f.width,S=f.height,k=0===x?0:i,M=x+k+E;return M<=u&&iE(y,(function(t){return t<l}))?(n=d([x+k,w,M],3),p=n[0],g=n[1],x=n[2],{width:E,height:S,x:p,y:g,page:m,index:e,pageIndex:v++,row:b,col:y++}):(o=d([b+1,0,0,w+S+r],4),b=o[0],y=o[1],x=o[2],(w=o[3])+S<=h&&iE(b,(function(t){return t<s}))?(a=d([x,w,E],3),p=a[0],g=a[1],x=a[2],{width:E,height:S,x:p,y:g,page:m,index:e,pageIndex:v++,row:b,col:y++}):(c=d([0,0,E,0,m+1,0,0,0],8),p=c[0],g=c[1],x=c[2],w=c[3],m=c[4],v=c[5],b=c[6],y=c[7],{width:E,height:S,x:p,y:g,page:m,index:e,pageIndex:v++,row:b,col:y++}))}))},Object.defineProperty(e.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var t="grid"===this.attributes.layout?this.getGridLayout:this.getFlexLayout,e=t.call(this);return e.slice(-1)[0].page>0?(this.navigatorShape=[55,0],t.call(this)):e},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(t,e){return Ww(this.attributes.orientation,t,e)},e.prototype.flattenPage=function(t){t.querySelectorAll(rE.item.class).forEach((function(e){t.appendChild(e)})),t.querySelectorAll(rE.page.class).forEach((function(e){t.removeChild(e).destroy()}))},e.prototype.renderItems=function(t){var e=this.attributes,n=e.click,r=e.mouseenter,i=e.mouseleave;this.flattenPage(t);var o=this.dispatchCustomEvent.bind(this);bw(t).selectAll(rE.item.class).data(this.renderData,(function(t){return t.id})).join((function(t){return t.append((function(t){var e=t.style;return new nE({style:e})})).attr("className",rE.item.name).on("click",(function(){null===n||void 0===n||n(this),o("itemClick",{item:this})})).on("pointerenter",(function(){null===r||void 0===r||r(this),o("itemMouseenter",{item:this})})).on("pointerleave",(function(){null===i||void 0===i||i(this),o("itemMouseleave",{item:this})}))}),(function(t){return t.each((function(t){var e=t.style;this.update(e)}))}),(function(t){return t.remove()}))},e.prototype.relayoutNavigator=function(){var t,e=this.attributes,n=e.layout,r=e.width,i=(null===(t=this.pageViews.children[0])||void 0===t?void 0:t.getBBox().height)||0,o=d(this.navigatorShape,2),a=o[0],s=o[1];this.navigator.update("grid"===n?{pageWidth:r-a,pageHeight:i-s}:{})},e.prototype.adjustLayout=function(){var t,e,n=this,r=Object.entries((t=this.itemsLayout,e="page",t.reduce((function(t,n){return(t[n[e]]=t[n[e]]||[]).push(n),t}),{}))).map((function(t){var e=d(t,2);return{page:e[0],layouts:e[1]}})),i=h([],d(this.navigator.getContainer().children),!1);r.forEach((function(t){var e=t.layouts,r=n.pageViews.appendChild(new Ts({className:rE.page.name}));e.forEach((function(t){var e=t.x,n=t.y,o=t.index,a=t.width,s=t.height,l=i[o];r.appendChild(l),kd(l,"__layout__",t),l.update({x:e,y:n,width:a,height:s})}))})),this.relayoutNavigator()},e.prototype.renderNavigator=function(t){var e=this.attributes.orientation,n=pw(this.attributes,"nav"),r=aw({orientation:e},n),i=this;return t.selectAll(rE.navigator.class).data(["nav"]).join((function(t){return t.append((function(){return new $w({style:r})})).attr("className",rE.navigator.name).each((function(){i.navigator=this}))}),(function(t){return t.each((function(){this.update(r)}))}),(function(t){return t.remove()})),this.navigator},e.prototype.getBBox=function(){return this.navigator.getBBox()},e.prototype.render=function(t,e){var n=this.attributes.data;if(n&&0!==n.length){var r=this.renderNavigator(bw(e));this.renderItems(r.getContainer()),this.adjustLayout()}},e.prototype.dispatchCustomEvent=function(t,e){var n=new Ua(t,{detail:e});this.dispatchEvent(n)},e}(uw),aE=xw({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),sE={showLabel:!0,formatter:function(t){return t.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},lE=(function(t){function e(e){return t.call(this,e,sE)||this}o(e,t),e.prototype.render=function(t,e){var n=bw(e).maybeAppendByClassName(aE.markerGroup,"g");this.renderMarker(n);var r=bw(e).maybeAppendByClassName(aE.labelGroup,"g");this.renderLabel(r)},e.prototype.renderMarker=function(t){var e=this,n=this.attributes,r=n.orientation,i=n.markerSymbol,o=void 0===i?Ww(r,"horizontalHandle","verticalHandle"):i;ww(!!o,t,(function(t){var n=pw(e.attributes,"marker"),r=a({symbol:o},n);e.marker=t.maybeAppendByClassName(aE.marker,(function(){return new Hw({style:r})})).update(r)}))},e.prototype.renderLabel=function(t){var e=this,n=this.attributes,r=n.showLabel,i=n.orientation,o=n.spacing,l=void 0===o?0:o,c=n.formatter;ww(r,t,(function(t){var n,r=pw(e.attributes,"label"),o=r.text,u=s(r,["text"]),h=(null===(n=t.select(aE.marker.class))||void 0===n?void 0:n.node().getBBox())||{},f=h.width,p=void 0===f?0:f,g=h.height,m=d(Ww(i,[0,(void 0===g?0:g)+l,"center","top"],[p+l,0,"start","middle"]),4),v=m[0],y=m[1],b=m[2],x=m[3];t.maybeAppendByClassName(aE.label,"text").styles(a(a({},u),{x:v,y:y,text:c(o).toString(),textAlign:b,textBaseline:x}))}))}}(uw),{showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12}),cE=aw({},lE,{}),uE=(aw({},lE,gw(sE,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),xw({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend")),dE=function(t){function e(e){return t.call(this,e,cE)||this}return o(e,t),e.prototype.renderTitle=function(t,e,n){var r=this.attributes,i=r.showTitle,o=r.titleText,s=d(mw(pw(this.attributes,"title")),2),l=s[0],c=s[1];this.titleGroup=t.maybeAppendByClassName(uE.titleGroup,"g").styles(c);var u=a(a({width:e,height:n},l),{text:i?o:""});this.title=this.titleGroup.maybeAppendByClassName(uE.title,(function(){return new Mw({style:u})})).update(u)},e.prototype.renderItems=function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height,s=d(mw(pw(this.attributes,"title",!0)),2),l=s[0],c=s[1],u=a(a({},l),{width:i,height:o,x:0,y:0});this.itemsGroup=t.maybeAppendByClassName(uE.itemsGroup,"g").styles(a(a({},c),{transform:"translate(".concat(n,", ").concat(r,")")}));var h=this;this.itemsGroup.selectAll(uE.items.class).data(["items"]).join((function(t){return t.append((function(){return new oE({style:u})})).attr("className",uE.items.name).each((function(){h.items=bw(this)}))}),(function(t){return t.update(u)}),(function(t){return t.remove()}))},e.prototype.adjustLayout=function(){if(this.attributes.showTitle){var t=this.title.node().getAvailableSpace(),e=t.x,n=t.y;this.itemsGroup.node().style.transform="translate(".concat(e,", ").concat(n,")")}},Object.defineProperty(e.prototype,"availableSpace",{get:function(){var t=this.attributes,e=t.showTitle,n=t.width,r=t.height;return e?this.title.node().getAvailableSpace():new Xx(0,0,n,r)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var e,n,r=null===(e=this.title)||void 0===e?void 0:e.node(),i=null===(n=this.items)||void 0===n?void 0:n.node();return r&&i?function(t,e){var n=t.attributes,r=n.position,i=n.spacing,o=n.inset,a=n.text,s=t.getBBox(),l=e.getBBox(),c=Sw(r),u=d(Jx(a?i:0),4),h=u[0],f=u[1],p=u[2],g=u[3],m=d(Jx(o),4),v=m[0],y=m[1],b=m[2],x=m[3],w=d([g+f,h+p],2),E=w[0],S=w[1],k=d([x+y,v+b],2),M=k[0],C=k[1];if("l"===c[0])return new Xx(s.x,s.y,l.width+s.width+E+M,Math.max(l.height+C,s.height));if("t"===c[0])return new Xx(s.x,s.y,Math.max(l.width+M,s.width),l.height+s.height+S+C);var N=d([e.attributes.width||l.width,e.attributes.height||l.height],2),O=N[0],P=N[1];return new Xx(l.x,l.y,O+s.width+E+M,P+s.height+S+C)}(r,i):t.prototype.getBBox.call(this)},e.prototype.render=function(t,e){var n=this.attributes,r=n.width,i=n.height,o=n.x,a=void 0===o?0:o,s=n.y,l=void 0===s?0:s,c=bw(e);e.style.transform="translate(".concat(a,", ").concat(l,")"),this.renderTitle(c,r,i),this.renderItems(c,this.availableSpace),this.adjustLayout()},e}(uw);class hE extends zb{static defaultOptions={position:"bottom",trigger:"hover",orientation:"horizontal",layout:"flex",itemSpacing:4,rowPadding:10,colPadding:10,itemMarkerSize:16,itemLabelFontSize:16};typePrefix="__data__";element=null;draw=!1;fieldMap=(()=>({node:new Map,edge:new Map,combo:new Map}))();selectedItems=[];constructor(t,e){super(t,Object.assign({},hE.defaultOptions,e)),this.bindEvents()}update(t){super.update(t),this.clear(),this.createElement()}clear(){this.element?.destroy(),this.element=null,this.draw=!1}bindEvents=()=>{const{graph:t}=this.context;t.on(Tc.AFTER_DRAW,this.createElement)};changeState=(t,e)=>{const{graph:n}=this.context,{typePrefix:r}=this,i=Sd(t,[r,"id"]),o=Sd(t,[r,"style","labelText"]),[a]=i.split("__"),s=this.fieldMap[a].get(o)||[];n.setElementState(Object.fromEntries(s?.map((t=>[t,e]))))};click=t=>{if("hover"===this.options.trigger)return;const e=Sd(t,[this.typePrefix,"id"]);this.selectedItems.includes(e)?(this.selectedItems=this.selectedItems.filter((t=>t!==e)),this.changeState(t,[])):(this.selectedItems.push(e),this.changeState(t,"selected"))};mouseleave=t=>{"click"!==this.options.trigger&&(this.selectedItems=[],this.changeState(t,[]))};mouseenter=t=>{if("click"===this.options.trigger)return;const e=Sd(t,[this.typePrefix,"id"]);this.selectedItems.includes(e)?this.selectedItems=this.selectedItems.filter((t=>t!==e)):(this.selectedItems.push(e),this.changeState(t,"active"))};updateElement(){if(!this.element)return;this.element.getChildByIndex(0).update({itemMarkerOpacity:t=>{let{id:e}=t;return!this.selectedItems.length||this.selectedItems.includes(e)?1:.5},itemLabelOpacity:t=>{let{id:e}=t;return!this.selectedItems.length||this.selectedItems.includes(e)?1:.5}})}setFieldMap=(t,e,n)=>{if(!t)return;const r=this.fieldMap[n];if(r)if(r.has(t)){const n=r.get(t);n&&(n.push(e),r.set(t,n))}else r.set(t,[e])};getEvents=()=>({mouseenter:this.mouseenter,mouseleave:this.mouseleave,click:this.click});getMarkerData=(t,e)=>{if(!t)return[];const{model:n,element:r,graph:i}=this.context,{nodes:o,edges:a,combos:s}=n.getData(),l={},c=e=>pu(t)?t(e):t,u={node:"circle",edge:"line",combo:"rect"},d={circle:"circle",ellipse:"circle",image:"bowtie",rect:"square",star:"cross",triangle:"triangle",diamond:"diamond",cubic:"dot",line:"hyphen",polyline:"hyphen",quadratic:"hv","cubic-horizontal":"hyphen","cubic-vertical":"line"},h=(t,e)=>{t.forEach((t=>{const{id:n}=t,i=Sd(t,["data",c(t)]),o=r?.getElementType(e,t)||"circle",a=((t,e)=>{const n=r?.getElementComputedStyle(t,e);return n})(e,t),s=("edge"===e?a?.stroke:a?.fill)||"#1783ff";n&&i&&i.replace(/\s+/g,"")&&(this.setFieldMap(i,n,e),l[i]||(l[i]={id:`${e}__${n}`,label:i,marker:d[o]||u[e],elementType:e,lineWidth:1,stroke:s,fill:s}))}))};switch(e){case"node":h(o,"node");break;case"edge":h(a,"edge");break;case"combo":h(s,"combo");break;default:return[]}return Object.values(l)};layout=t=>{let{flexDirection:e,alignItems:n,justifyContent:r}={flexDirection:"row",alignItems:"flex-end",justifyContent:"center"};const i={top:["row","flex-start","center"],bottom:["row","flex-end","center"],left:["column","flex-start","center"],right:["column","flex-end","center"]};return t in i&&([e,n,r]=i[t]),{display:"flex",flexDirection:e,justifyContent:r,alignItems:n}};createElement=()=>{if(this.draw)return void this.updateElement();const{canvas:t}=this.context,[e,n]=t.getSize(),{width:r=e,height:i=n,nodeField:o,edgeField:a,comboField:s,trigger:l,position:c,...u}=this.options,d=this.getMarkerData(o,"node"),h=this.getMarkerData(a,"edge"),f=this.getMarkerData(s,"combo"),p=[...d,...f,...h],g=this.layout(c),m=new tw({style:{width:r,height:i,...g}}),v=Object.assign({width:r,height:i,data:p,itemMarkerLineWidth:t=>{let{lineWidth:e}=t;return e},itemMarker:t=>{let{marker:e}=t;return e},itemMarkerStroke:t=>{let{stroke:e}=t;return e},itemMarkerFill:t=>{let{fill:e}=t;return e},gridCol:d.length},u,this.getEvents()),y=new dE({className:"legend",style:v});m.appendChild(y),t.appendChild(m),this.element=m,this.draw=!0};destroy(){this.clear(),this.context.graph.off(Tc.AFTER_DRAW,this.createElement),super.destroy()}}const fE=function(t,e,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var u=e-(c-s);return i=this,o=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),s=c,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c};class pE extends zb{static defaultOptions={size:[240,160],shape:"key",padding:10,position:"right-bottom",maskStyle:{border:"1px solid #ddd",background:"rgba(0, 0, 0, 0.1)"},containerStyle:{border:"1px solid #ddd",background:"#fff"}};canvas;constructor(t,e){super(t,Object.assign({},pE.defaultOptions,e)),this.bindEvents()}bindEvents(){const{graph:t}=this.context;t.on(Tc.AFTER_DRAW,this.onDraw),t.on(Tc.AFTER_RENDER,this.onRender),t.on(Tc.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:t}=this.context;t.off(Tc.AFTER_DRAW,this.onDraw),t.off(Tc.AFTER_RENDER,this.onRender),t.off(Tc.AFTER_TRANSFORM,this.onTransform)}onDraw=t=>{t?.data?.render||this.onRender()};onRender=(()=>fE((()=>{this.renderMinimap(),this.renderMask()}),32,{leading:!0}))();shapes=(()=>new Map)();renderMinimap(){const t=this.getElements(),e=this.initCanvas();this.setShapes(e,t)}getElements(){const{filter:t}=this.options,{model:e}=this.context,n=e.getData();if(!t)return n;const{nodes:r,edges:i,combos:o}=n;return{nodes:r.filter((e=>t(Qc(e),"node"))),edges:i.filter((e=>t(Qc(e),"edge"))),combos:o.filter((e=>t(Qc(e),"combo")))}}setShapes(t,e){const{nodes:n,edges:r,combos:i}=e,{shape:o}=this.options,{element:a}=this.context;if("key"===o){const e=new Set,o=n=>{const r=Qc(n);e.add(r);const i=a.getElement(r);if(!i)return;const o=i.getShape("key"),s=this.shapes.get(r)||o.cloneNode();s.setPosition(o.getPosition()),i.style.zIndex&&(s.style.zIndex=i.style.zIndex),s.id=i.id,this.shapes.has(r)?Object.entries(o.attributes).forEach((t=>{let[e,n]=t;s.style[e]!==n&&(s.style[e]=n)})):(t.appendChild(s),this.shapes.set(r,s))};return r.forEach(o),i.forEach(o),n.forEach(o),void this.shapes.forEach(((n,r)=>{e.has(r)||(t.removeChild(n),this.shapes.delete(r))}))}const s=(t,e)=>{const n=a.getElement(t).getPosition();return e.setPosition(n),e};t.removeChildren(),r.forEach((e=>t.appendChild(o(Qc(e),"edge")))),i.forEach((e=>{t.appendChild(s(Qc(e),o(Qc(e),"combo")))})),n.forEach((e=>{t.appendChild(s(Qc(e),o(Qc(e),"node")))}))}container;calculatePosition(){const{position:t,size:[e,n]}=this.options,{canvas:r}=this.context,[i,o]=r.getSize(),[a,s]=Yu(t);return[a*(i-e),s*(o-n)]}createContainer(){const{container:t,className:e,size:[n,r],containerStyle:i}=this.options;if(t)return"string"===typeof t?document.querySelector(t):t;const o=document.createElement("div");o.classList.add("g6-minimap"),e&&o.classList.add(e);const[a,s]=this.calculatePosition();return Object.assign(o.style,{position:"absolute",left:a+"px",top:s+"px",width:n+"px",height:r+"px",...i}),this.context.canvas.getContainer().appendChild(o)}initCanvas(){const{renderer:t,size:[e,n]}=this.options;if(this.canvas)this.canvas.resize(e,n),t&&this.canvas.setRenderer(t);else{const r=document.createElement("div"),i=this.createContainer();this.container=i,i.appendChild(r),this.canvas=new Zs({width:e,height:n,container:r,renderer:t||new yf})}return this.setCamera(),this.canvas}landmarkMap=(()=>new Map)();createLandmark(t,e,n){const r=`${t.join(",")}-${e.join(",")}-${n}`;if(this.landmarkMap.has(r))return this.landmarkMap.get(r);const i=this.canvas.getCamera().createLandmark(r,{position:t,focalPoint:e,zoom:n});return this.landmarkMap.set(r,i),i}setCamera(){const{canvas:t}=this.context,e=this.canvas?.getCamera();if(!e)return;const{size:[n,r],padding:i}=this.options,[o,a,s,l]=bu(i),{min:c,max:u,center:d}=t.getBounds("elements"),h=(n-l-a)/(u[0]-c[0]),f=(r-o-s)/(u[1]-c[1]),p=Math.min(h,f),g=this.createLandmark(d,d,p);e.gotoLandmark(g,0)}mask=null;get maskBBox(){const{canvas:t}=this.context,e=t.getSize(),n=t.getCanvasByViewport([0,0]),r=t.getCanvasByViewport(e),i=this.canvas.canvas2Viewport(td(n)),o=this.canvas.canvas2Viewport(td(r)),a=o.x-i.x,s=o.y-i.y;return[i.x,i.y,a,s]}calculateMaskBBox(){const{size:[t,e]}=this.options;let[n,r,i,o]=this.maskBBox;return n<0&&(i=gE(i+n,t),n=0),r<0&&(o=gE(o+r,e),r=0),n+i>t&&(i=mE(t-n,0)),r+o>e&&(o=mE(e-r,0)),[gE(n,t),gE(r,e),mE(i,0),mE(o,0)]}renderMask(){const{maskStyle:t}=this.options;this.mask||(this.mask=document.createElement("div"),this.mask.addEventListener("pointerdown",this.onMaskDragStart)),this.container.appendChild(this.mask),Object.assign(this.mask.style,{...t,cursor:"move",position:"absolute",pointerEvents:"auto"}),this.updateMask()}isMaskDragging=!1;onMaskDragStart=t=>{this.mask&&(this.isMaskDragging=!0,this.mask.setPointerCapture(t.pointerId),this.mask.addEventListener("pointermove",this.onMaskDrag),this.mask.addEventListener("pointerup",this.onMaskDragEnd),this.mask.addEventListener("pointercancel",this.onMaskDragEnd))};onMaskDrag=t=>{if(!this.mask||!this.isMaskDragging)return;const{size:[e,n]}=this.options,{movementX:r,movementY:i}=t,{left:o,top:a,width:s,height:l}=this.mask.style,[,,c,u]=this.maskBBox;let d=parseInt(o)+r,h=parseInt(a)+i,f=parseInt(s),p=parseInt(l);d<0&&(d=0),h<0&&(h=0),d+f>e&&(d=mE(e-f,0)),h+p>n&&(h=mE(n-p,0)),f<c&&(r>0?(d=mE(d-r,0),f=gE(f+r,e)):r<0&&(f=gE(f-r,e))),p<u&&(i>0?(h=mE(h-i,0),p=gE(p+i,n)):i<0&&(p=gE(p-i,n))),Object.assign(this.mask.style,{left:d+"px",top:h+"px",width:f+"px",height:p+"px"});const g=parseInt(o)-d,m=parseInt(a)-h;if(0===g&&0===m)return;const v=this.context.canvas.getCamera().getZoom()/this.canvas.getCamera().getZoom();this.context.graph.translateBy([g*v,m*v],!1)};onMaskDragEnd=t=>{this.mask&&(this.isMaskDragging=!1,this.mask.releasePointerCapture(t.pointerId),this.mask.removeEventListener("pointermove",this.onMaskDrag),this.mask.removeEventListener("pointerup",this.onMaskDragEnd),this.mask.removeEventListener("pointercancel",this.onMaskDragEnd))};onTransform=(()=>fE((()=>{this.isMaskDragging||(this.updateMask(),this.setCamera())}),32,{leading:!0}))();updateMask(){if(!this.mask)return;const[t,e,n,r]=this.calculateMaskBBox();Object.assign(this.mask.style,{top:e+"px",left:t+"px",width:n+"px",height:r+"px"})}destroy(){this.unbindEvents(),this.canvas.destroy(),this.mask?.remove(),super.destroy()}}const gE=(t,e)=>Math.min(t,e),mE=(t,e)=>Math.max(t,e),vE={x1:0,y1:0,x2:0,y2:0,visibility:"hidden"};class yE extends zb{static defaultOptions={tolerance:5,offset:20,autoSnap:!0,shape:"key",verticalLineStyle:{stroke:"#1783FF"},horizontalLineStyle:{stroke:"#1783FF"},filter:()=>!0};horizontalLine;verticalLine;constructor(t,e){super(t,Object.assign({},yE.defaultOptions,e)),this.bindEvents()}initSnapline=()=>{const t=this.context.canvas.getLayer("transient");this.horizontalLine||(this.horizontalLine=t.appendChild(new _s({style:{...vE,...this.options.horizontalLineStyle}}))),this.verticalLine||(this.verticalLine=t.appendChild(new _s({style:{...vE,...this.options.verticalLineStyle}})))};getNodes(){const{filter:t}=this.options,e=(this.context.element?.getNodes()||[]).filter((t=>"hidden"!==Sd(t,["style","visibility"])&&this.context.viewport?.isInViewport(t.getRenderBounds())));return t?e.filter((e=>t(e))):e}hideSnapline(){this.horizontalLine.style.visibility="hidden",this.verticalLine.style.visibility="hidden"}getLineWidth(t){const{lineWidth:e}=this.options[`${t}LineStyle`];return+(e||vE.lineWidth||1)/this.context.graph.getZoom()}updateSnapline(t){const{verticalX:e,verticalMinY:n,verticalMaxY:r,horizontalY:i,horizontalMinX:o,horizontalMaxX:a}=t,[s,l]=this.context.canvas.getSize(),{offset:c}=this.options;null!==i?Object.assign(this.horizontalLine.style,{x1:c===1/0?0:o-c,y1:i,x2:c===1/0?s:a+c,y2:i,visibility:"visible",lineWidth:this.getLineWidth("horizontal")}):this.horizontalLine.style.visibility="hidden",null!==e?Object.assign(this.verticalLine.style,{x1:e,y1:c===1/0?0:n-c,x2:e,y2:c===1/0?l:r+c,visibility:"visible",lineWidth:this.getLineWidth("vertical")}):this.verticalLine.style.visibility="hidden"}isHorizontalSticking=!1;isVerticalSticking=!1;enableStick=!0;autoSnapToLine=async(t,e,n)=>{const{verticalX:r,horizontalY:i}=n,{tolerance:o}=this.options,{min:[a,s],max:[l,c],center:[u,d]}=e;let h=0,f=0;null!==r&&(bE(l,r)<o&&(h=r-l),bE(a,r)<o&&(h=r-a),bE(u,r)<o&&(h=r-u),0!==h&&(this.isVerticalSticking=!0)),null!==i&&(bE(c,i)<o&&(f=i-c),bE(s,i)<o&&(f=i-s),bE(d,i)<o&&(f=i-d),0!==f&&(this.isHorizontalSticking=!0)),0===h&&0===f||await this.context.graph.translateElementBy({[t]:[h,f]},!1)};getDelta(t){const e=this.context.graph.getZoom();return Du([t.dx,t.dy],e)}enableSnap=t=>{const{target:e}=t,n=.5;if(this.isHorizontalSticking||this.isVerticalSticking){const[r,i]=this.getDelta(t);if(this.isHorizontalSticking&&this.isVerticalSticking&&Math.abs(r)<=n&&Math.abs(i)<=n)return this.context.graph.translateElementBy({[e.id]:[-r,-i]},!1),!1;if(this.isHorizontalSticking&&Math.abs(i)<=n)return this.context.graph.translateElementBy({[e.id]:[0,-i]},!1),!1;if(this.isVerticalSticking&&Math.abs(r)<=n)return this.context.graph.translateElementBy({[e.id]:[-r,0]},!1),!1;this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!1,setTimeout((()=>{this.enableStick=!0}),200)}return this.enableStick};calcSnaplineMetadata=(t,e)=>{const{tolerance:n,shape:r}=this.options,{min:[i,o],max:[a,s],center:[l,c]}=e;let u=null,d=null,h=null,f=null,p=null,g=null;return this.getNodes().some((e=>{if(xc(t.id,e.id))return!1;const m=xE(e,r).getRenderBounds(),{min:[v,y],max:[b,x],center:[w,E]}=m;return null===u&&(bE(w,l)<n?u=w:bE(v,i)<n||bE(v,a)<n?u=v:(bE(b,a)<n||bE(b,i)<n)&&(u=b),null!==u&&(d=Math.min(y,o),h=Math.max(x,s))),null===f&&(bE(E,c)<n?f=E:bE(y,o)<n||bE(y,s)<n?f=y:(bE(x,s)<n||bE(x,o)<n)&&(f=x),null!==f&&(p=Math.min(v,i),g=Math.max(b,a))),null!==u&&null!==f})),{verticalX:u,verticalMinY:d,verticalMaxY:h,horizontalY:f,horizontalMinX:p,horizontalMaxX:g}};onDragStart=()=>{this.initSnapline()};onDrag=async t=>{const{target:e}=t;if(this.options.autoSnap){if(!this.enableSnap(t))return}const n=xE(e,this.options.shape).getRenderBounds(),r=this.calcSnaplineMetadata(e,n);this.hideSnapline(),null===r.verticalX&&null===r.horizontalY||this.updateSnapline(r),this.options.autoSnap&&await this.autoSnapToLine(e.id,n,r)};onDragEnd=()=>{this.hideSnapline()};async bindEvents(){const{graph:t}=this.context;t.on(Rc.DRAG_START,this.onDragStart),t.on(Rc.DRAG,this.onDrag),t.on(Rc.DRAG_END,this.onDragEnd)}unbindEvents(){const{graph:t}=this.context;t.off(Rc.DRAG_START,this.onDragStart),t.off(Rc.DRAG,this.onDrag),t.off(Rc.DRAG_END,this.onDragEnd)}destroyElements(){this.horizontalLine?.destroy(),this.verticalLine?.destroy()}destroy(){this.destroyElements(),this.unbindEvents(),super.destroy()}}const bE=(t,e)=>Math.abs(t-e),xE=(t,e)=>"function"===typeof e?e(t):t.getShape(e);function wE(t,e){var n={YYYY:t.getFullYear(),MM:t.getMonth()+1,DD:t.getDate(),HH:t.getHours(),mm:t.getMinutes(),ss:t.getSeconds()},r=e;return Object.keys(n).forEach((function(t){var e=n[t];r=r.replace(t,"YYYY"===t?"".concat(e):"".concat(e).padStart(2,"0"))})),r}var EE={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new Ls({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]},SE=(Zc({},EE,{style:{type:"arc"}}),Zc({},EE,{style:{}}),xw({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"));function kE(t,e){return[t[0]*e,t[1]*e]}function ME(t,e){return[t[0]+e[0],t[1]+e[1]]}function CE(t,e){return[t[0]-e[0],t[1]-e[1]]}function NE(t,e){return[Math.min(t[0],e[0]),Math.min(t[1],e[1])]}function OE(t,e){return[Math.max(t[0],e[0]),Math.max(t[1],e[1])]}function PE(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function TE(t){if(0===t[0]&&0===t[1])return[0,0];var e=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return[t[0]/e,t[1]/e]}function AE(t){return t*Math.PI/180}function RE(t){return Number((180*t/Math.PI).toPrecision(5))}function _E(t,e){return t.style.opacity||(t.style.opacity=1),Rw(t,{opacity:0},e)}var LE=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function IE(t){return LE.includes(t)}function DE(t){var e={};for(var n in t)IE(n)&&(e[n]=t[n]);return e}var jE=xw({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function zE(t){return t.reduce((function(t,e,n){return t.push(h([0===n?"M":"L"],d(e),!1)),t}),[])}function FE(t,e,n){return"surround"===e.type?function(t,e,n){var r=e.connect,i=void 0===r?"line":r,o=e.center;if("line"===i)return zE(t);if(!o)return[];var a=PE(t[0],o),s=n?0:1;return t.reduce((function(t,e,n){return 0===n?t.push(h(["M"],d(e),!1)):t.push(h(["A",a,a,0,0,s],d(e),!1)),t}),[])}(t,e,n):zE(t)}function BE(t,e,n){var r=n.type,i=n.connect,o=n.center,a=n.closed?[["Z"]]:[],s=d([FE(t,n),FE(e.slice().reverse(),n,!0)],2),l=s[0],c=s[1],u=d([t[0],e.slice(-1)[0]],2),f=u[0],p=u[1],g=function(t,e){return[l,t,c,e,a].flat()};if("line"===i||"surround"===r)return g([h(["L"],d(p),!1)],[h(["L"],d(f),!1)]);if(!o)throw new Error("Arc grid need to specified center");var m=d([PE(p,o),PE(f,o)],2),v=m[0],y=m[1];return g([h(["A",v,v,0,0,1],d(p),!1),h(["L"],d(p),!1)],[h(["A",y,y,0,0,0],d(f),!1),h(["L"],d(f),!1)])}var $E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.render=function(t,e){t.type,t.center,t.areaFill,t.closed;var n=s(t,["type","center","areaFill","closed"]),r=function(t){var e=t.data,n=void 0===e?[]:e;return t.closed?n.map((function(t){var e=t.points,n=d(e,1)[0];return a(a({},t),{points:h(h([],d(e),!1),[n],!1)})})):n}(t),i=bw(e).maybeAppendByClassName(jE.lineGroup,"g"),o=bw(e).maybeAppendByClassName(jE.regionGroup,"g"),l=function(t,e,n,r){var i=n.animate,o=n.isBillboard,s=e.map((function(t,e){return{id:t.id||"grid-line-".concat(e),d:FE(t.points,n)}}));return t.selectAll(jE.line.class).data(s,(function(t){return t.id})).join((function(t){return t.append("path").each((function(t,e){var n=Nw(DE(a({d:t.d},r)),[t,e,s]);this.attr(a({class:jE.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:o},n))}))}),(function(t){return t.transition((function(t,e){return Rw(this,Nw(DE(a({d:t.d},r)),[t,e,s]),i.update)}))}),(function(t){return t.transition((function(){var t=this,e=_E(this,i.exit);return Pw(e,(function(){return t.remove()})),e}))})).transitions()}(i,r,t,n),c=function(t,e,n){var r=n.animate,i=n.connect,o=n.areaFill;if(e.length<2||!o||!i)return[];for(var a=Array.isArray(o)?o:[o,"transparent"],s=function(t){return a[t%a.length]},l=[],c=0;c<e.length-1;c++){var u=d([e[c].points,e[c+1].points],2),h=BE(u[0],u[1],n);l.push({d:h,fill:s(c)})}return t.selectAll(jE.region.class).data(l,(function(t,e){return e})).join((function(t){return t.append("path").each((function(t,e){var n=Nw(t,[t,e,l]);this.attr(n)})).attr("className",jE.region.name)}),(function(t){return t.transition((function(t,e){return Rw(this,Nw(t,[t,e,l]),r.update)}))}),(function(t){return t.transition((function(){var t=this,e=_E(this,r.exit);return Pw(e,(function(){return t.remove()})),e}))})).transitions()}(o,r,t);return h(h([],d(l),!1),d(c),!1)},e}(uw),VE=function(t,e){return function(n){return t*(1-n)+e*n}};function HE(t,e){return"number"===typeof t&&"number"===typeof e?VE(t,e):Array.isArray(t)&&Array.isArray(e)?function(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0;return function(i){var o=new Array(r),a=new Array(n),s=0;for(s=0;s<r;++s)o[s]=HE(t[s],e[s]);for(;s<n;++s)a[s]=e[s];for(s=0;s<r;++s)a[s]=o[s](i);return a}}(t,e):"object"===typeof t&&"object"===typeof e?function(t,e){void 0===t&&(t={}),void 0===e&&(e={});var n={},r={};return Object.entries(e).forEach((function(e){var i=d(e,2),o=i[0],a=i[1];o in t?n[o]=HE(t[o],a):r[o]=a})),function(t){return Object.entries(n).forEach((function(e){var n=d(e,2),i=n[0],o=n[1];return r[i]=o(t)})),r}}(t,e):function(e){return t}}function WE(t,e){var n={},r=Array.isArray(e)?e:[e];for(var i in t)r.includes(i)||(n[i]=t[i]);return n}function GE(t,e){return Object.fromEntries(Object.entries(t).map((function(t){var n=d(t,2);return[n[0],Nw(n[1],e)]})))}function UE(t,e){return e&&pu(e)?t.filter(e):t}function qE(t,e){var n=e.startAngle;return(e.endAngle-n)*t+n}function YE(t,e){if("linear"===e.type){var n=d(e.startPos,2),r=n[0],i=n[1],o=d(e.endPos,2),a=d([o[0]-r,o[1]-i],2);return TE([a[0],a[1]])}var s=AE(qE(t,e));return[-Math.sin(s),Math.cos(s)]}function XE(t,e,n){var r,i=YE(t,n);return r=i,"positive"!==e?[r[1],-r[0]]:[-r[1],r[0]]}function KE(t,e){return XE(t,e.labelDirection,e)}function ZE(t,e){return"linear"===e.type?function(t,e){var n=d(e.startPos,2),r=n[0],i=n[1],o=d(e.endPos,2),a=d([o[0]-r,o[1]-i],2);return[r+a[0]*t,i+a[1]*t]}(t,e):function(t,e){var n=e.radius,r=d(e.center,2),i=r[0],o=r[1],a=AE(qE(t,e));return[i+n*Math.cos(a),o+n*Math.sin(a)]}(t,e)}function QE(t){return 0===YE(0,t)[1]}function JE(t){return 0===YE(0,t)[0]}function tS(t,e){return e-t===360}function eS(t,e,n,r,i){var o=e-t,a=d([i,i],2),s=a[0],l=a[1],c=d([AE(t),AE(e)],2),u=c[0],h=c[1],f=function(t){return[n+i*Math.cos(t),r+i*Math.sin(t)]},p=d(f(u),2),g=p[0],m=p[1],v=d(f(h),2),y=v[0],b=v[1];if(tS(t,e)){var x=d(f((h+u)/2),2);return[["M",g,m],["A",s,l,0,1,0,x[0],x[1]],["A",s,l,0,1,0,y,b]]}var w=o>180?1:0,E=t>e?0:1;return"M".concat(g,",").concat(m,",A").concat(s,",").concat(l,",0,").concat(w,",").concat(E,",").concat(y,",").concat(b)}function nS(t,e,n,r){var i=e.startAngle,o=e.endAngle,s=e.center,l=e.radius;return t.selectAll(SE.line.class).data([{d:eS.apply(void 0,h(h([i,o],d(s),!1),[l],!1))}],(function(t,e){return e})).join((function(t){return t.append("path").attr("className",SE.line.name).styles(e).styles({d:function(t){return t.d}})}),(function(t){return t.transition((function(){var t=this,e=function(t,e,n,r){if(!r)return t.attr("__keyframe_data__",n),null;var i=r.duration,o=void 0===i?0:i,s=HE(e,n),l=Math.ceil(+o/16),c=new Array(l).fill(0).map((function(t,e,n){return{__keyframe_data__:s(e/(n.length-1))}}));return t.animate(c,a({fill:"both"},r))}(this,function(t){var e=t.attributes,n=e.startAngle,r=e.endAngle,i=e.center,o=e.radius;return h(h([n,r],d(i),!1),[o],!1)}(this),h(h([i,o],d(s),!1),[l],!1),r.update);if(e){var n=function(){var e=Sd(t.attributes,"__keyframe_data__");t.style.d=eS.apply(void 0,h([],d(e),!1))};e.onframe=n,e.onfinish=n}return e})).styles(e)}),(function(t){return t.remove()})).styles(n).transitions()}function rS(t){var e=d(t,2),n=d(e[0],2),r=n[0],i=n[1],o=d(e[1],2);return{x1:r,y1:i,x2:o[0],y2:o[1]}}function iS(t,e,n,r){var i=e.showTrunc,o=e.startPos,a=e.endPos,s=e.truncRange,l=e.lineExtension,c=d([o,a],2),u=d(c[0],2),h=u[0],f=u[1],p=d(c[1],2),g=p[0],m=p[1],v=d(l?function(t,e,n){void 0===n&&(n=[0,0]);var r=d([t,e,n],3),i=d(r[0],2),o=i[0],a=i[1],s=d(r[1],2),l=s[0],c=s[1],u=d(r[2],2),h=u[0],f=u[1],p=d([l-o,c-a],2),g=p[0],m=p[1],v=Math.sqrt(Math.pow(g,2)+Math.pow(m,2)),y=d([-h/v,f/v],2),b=y[0],x=y[1];return[b*g,b*m,x*g,x*m]}(o,a,l):new Array(4).fill(0),4),y=v[0],b=v[1],x=v[2],w=v[3],E=function(e){return t.selectAll(SE.line.class).data(e,(function(t,e){return e})).join((function(t){return t.append("line").attr("className",(function(t){return"".concat(SE.line.name," ").concat(t.className)})).styles(n).transition((function(t){return Rw(this,rS(t.line),!1)}))}),(function(t){return t.styles(n).transition((function(t){return Rw(this,rS(t.line),r.update)}))}),(function(t){return t.remove()})).transitions()};if(!i||!s)return E([{line:[[h+y,f+b],[g+x,m+w]],className:SE.line.name}]);var S=d(s,2),k=S[0],M=S[1],C=g-h,N=m-f,O=d([h+C*k,f+N*k],2),P=O[0],T=O[1],A=d([h+C*M,f+N*M],2),R=A[0],_=A[1],L=E([{line:[[h+y,f+b],[P,T]],className:SE.lineFirst.name},{line:[[R,_],[g+x,m+w]],className:SE.lineSecond.name}]);return function(t,e){e.truncRange,e.truncShape,e.lineExtension}(0,e),L}function oS(t,e,n){var r,i=e.type,o=pw(e,"line");return r="linear"===i?iS(t,e,WE(o,"arrow"),n):nS(t,e,WE(o,"arrow"),n),function(t,e,n,r){var i,o=n.showArrow,a=n.showTrunc,s=n.lineArrow,l=n.lineArrowOffset,c=n.lineArrowSize;if(i="arc"===e?t.select(SE.line.class):a?t.select(SE.lineSecond.class):t.select(SE.line.class),!o||!s||"arc"===n.type&&tS(n.startAngle,n.endAngle)){var u=i.node();u&&(u.style.markerEnd=void 0)}else{var d=qw(s);d.attr(r),_w(d,c,!0),i.style("markerEnd",d).style("markerEndOffset",-l)}}(t,i,e,o),r}function aS(t){var e=t.type,n=t.gridCenter;return"linear"===e?n:n||t.center}function sS(t,e){var n=e.gridLength;return t.map((function(t,r){var i=t.value,o=d(ZE(i,e),2),a=o[0],s=o[1],l=d(kE(function(t,e){return XE(t,e.gridDirection,e)}(i,e),n),2);return{id:r,points:[[a,s],[a+l[0],s+l[1]]]}}))}function lS(t,e,n,r){var i=pw(n,"grid"),o=i.type,s=i.areaFill,l=aS(n),c=UE(e,n.gridFilter),u="segment"===o?sS(c,n):function(t,e){var n=e.gridControlAngles,r=aS(e);if(!r)throw new Error("grid center is not provide");if(t.length<2)throw new Error("Invalid grid data");if(!n||0===n.length)throw new Error("Invalid gridControlAngles");var i=d(r,2),o=i[0],a=i[1];return t.map((function(t,r){var i=d(ZE(t.value,e),2),s=i[0],l=i[1],c=d([s-o,l-a],2),u=c[0],h=c[1],f=[];return n.forEach((function(t){var e=AE(t),n=d([Math.cos(e),Math.sin(e)],2),r=n[0],i=n[1],s=u*r-h*i+o,l=u*i+h*r+a;f.push([s,l])})),{points:f,id:r}}))}(c,n),h=a(a({},i),{center:l,areaFill:pu(s)?c.map((function(t,e){return Nw(s,[t,e,c])})):s,animate:r,data:u});return t.selectAll(SE.grid.class).data([1]).join((function(t){return t.append((function(){return new $E({style:h})})).attr("className",SE.grid.name)}),(function(t){return t.transition((function(){return this.update(h)}))}),(function(t){return t.remove()})).transitions()}function cS(t,e,n,r,i){return void 0===r&&(r=!0),void 0===i&&(i=!1),!!(r&&t===e||i&&t===n)||t>e&&t<n}function uS(t,e){if(e)try{var n=e.replace(/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,(function(e,n,r){return"translate(".concat(function(t,e,n){var r=t.getBBox(),i=r.width,o=r.height,a=d([e,n].map((function(t,e){var n;return t.includes("%")?parseFloat((null===(n=t.match(/[+-]?([0-9]*[.])?[0-9]+/))||void 0===n?void 0:n[0])||"0")/100*(0===e?i:o):t})),2);return[a[0],a[1]]}(t,n,r),")")}));t.attr("transform",n)}catch(r){}}var dS=function(t){return void 0!==t&&null!=t&&!Number.isNaN(t)},hS=function(){function t(t,e,n,r){this.set(t,e,n,r)}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),t.prototype.rotatedPoints=function(t,e,n){var r=this,i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=Math.cos(t),c=Math.sin(t),u=e-e*l+n*c,d=n-e*c-n*l;return[[l*i-c*s+u,c*i+l*s+d],[l*a-c*s+u,c*a+l*s+d],[l*i-c*o+u,c*i+l*o+d],[l*a-c*o+u,c*a+l*o+d]]},t.prototype.set=function(t,e,n,r){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),r<e?(this.y2=e,this.y1=r):(this.y1=e,this.y2=r),this},t.prototype.defined=function(t){return this[t]!==Number.MAX_VALUE&&this[t]!==-Number.MAX_VALUE},t}();function fS(t,e){var n=t.getEulerAngles()||0;t.setEulerAngles(0);var r=t.getBounds(),i=d(r.min,2),o=i[0],a=i[1],s=d(r.max,2),l=s[0],c=s[1],u=t.getBBox(),h=u.width,f=u.height,p=0,g=0,m=o,v=a,y=Qw(t);if(y){f-=1.5;var b=y.style.textAlign,x=y.style.textBaseline;"center"===b?m=(o+l)/2:"right"!==b&&"end"!==b||(m=l),"middle"===x?v=(a+c)/2:"bottom"===x&&(v=c)}var w=d(Jx(e),4),E=w[0],S=void 0===E?0:E,k=w[1],M=void 0===k?0:k,C=w[2],N=void 0===C?S:C,O=w[3],P=new hS((p+=o)-(void 0===O?M:O),(g+=a)-S,p+h+M,g+f+N);return t.setEulerAngles(n),P.rotatedPoints(AE(n),m,v)}function pS(t,e){return e[0]<=Math.max(t[0][0],t[1][0])&&e[0]<=Math.min(t[0][0],t[1][0])&&e[1]<=Math.max(t[0][1],t[1][1])&&e[1]<=Math.min(t[0][1],t[1][1])}function gS(t,e,n){var r=(e[1]-t[1])*(n[0]-e[0])-(e[0]-t[0])*(n[1]-e[1]);return 0===r?0:r<0?2:1}function mS(t,e){var n=gS(t[0],t[1],e[0]),r=gS(t[0],t[1],e[1]),i=gS(e[0],e[1],t[0]),o=gS(e[0],e[1],t[1]);return n!==r&&i!==o||(!(0!==n||!pS(t,e[0]))||(!(0!==r||!pS(t,e[1]))||(!(0!==i||!pS(e,t[0]))||!(0!==o||!pS(e,t[1])))))}function vS(t,e){return e.every((function(e){return function(t,e){var n=t.length;if(n<3)return!1;var r=[e,[9999,e[1]]],i=0,o=0;do{var a=[t[o],t[(o+1)%n]];if(mS(a,r)){if(0===gS(a[0],e,a[1]))return pS(a,e);i++}o=(o+1)%n}while(0!==o);return!!(1&i)}(t,e)}))}function yS(t,e){var n=d(t,4),r=n[0],i=n[1],o=n[2],a=n[3],s=d(e,4),l=s[0],c=s[1],u=o-r,h=a-i,f=s[2]-l,p=s[3]-c,g=u*p-f*h;if(0===g)return!1;var m=g>0,v=r-l,y=i-c,b=u*y-h*v;if(b<0===m)return!1;var x=f*y-p*v;return x<0!==m&&(b>g!==m&&x>g!==m)}function bS(t,e){return[[t[0],t[1],t[2],t[3]],[t[2],t[3],t[4],t[5]],[t[4],t[5],t[6],t[7]],[t[6],t[7],t[0],t[1]]].some((function(t){return yS(e,t)}))}function xS(t,e,n){var r,i,o=e.crossPadding,a=new Set,s=null,l=function(t,e){var n=t.type,r=t.labelDirection,i=t.crossSize;if(!i)return!1;if("arc"===n){var o=t.center,a=t.radius,s=d(o,2),l=s[0],c=s[1],u="negative"===r?0:i,h=-a-u,f=a+u,p=d(Jx(e),4),g=p[0],m=p[1],v=p[2],y=p[3];return new hS(l+h-y,c+h-g,l+f+m,c+f+v)}var b=d(t.startPos,2),x=b[0],w=b[1],E=d(t.endPos,2),S=E[0],k=E[1],M=d(JE(t)?[-e,0,e,0]:[0,e,0,-e],4),C=M[0],N=M[1],O=M[2],P=M[3],T=kE(KE(0,t),i),A=new hS(x,w,S,k);return A.x1+=P,A.y1+=C,A.x2+=N+T[0],A.y2+=O+T[1],A}(e,o),c=function(t){return!l||function(t,e,n){var r=t.x1,i=t.x2,o=t.y1,a=t.y2;return vS([[r,o],[i,o],[i,a],[r,a]],fS(e,n))}(l,t)},h=function(t,e){return!t||!t.firstChild||!function(t,e,n){var r,i,o=fS(t,n).flat(1),a=fS(e,n).flat(1),s=[[o[0],o[1],o[2],o[3]],[o[0],o[1],o[4],o[5]],[o[4],o[5],o[6],o[7]],[o[2],o[3],o[6],o[7]]];try{for(var l=u(s),c=l.next();!c.done;c=l.next())if(bS(a,c.value))return!0}catch(d){r={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!1}(t.firstChild,e.firstChild,Jx(n))};try{for(var f=u(t),p=f.next();!p.done;p=f.next()){var g=p.value;c(g)?!s||h(s,g)?s=g:(a.add(s),a.add(g)):a.add(g)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return Array.from(a)}function wS(t,e){return void 0===e&&(e={}),Kt(t)?0:"number"===typeof t?t:Math.floor(Kw(t,e))}var ES=function(t,e){var n=e.seq,r=void 0===n?2:n;return t.filter((function(t,e){return!(e%r)||(rw(t),!1)}))};var SS=new Map([["hide",function(t,e,n,r){var i=t.length,o=e.keepHeader,a=e.keepTail;if(!(i<=1||2===i&&o&&a)){var s,l,c,u=ES,f=function(t){return t.forEach(r.show),t},p=2,g=t.slice(),m=t.slice(),v=Math.min.apply(Math,h([1],d(t.map((function(t){return t.getBBox().width}))),!1));if("linear"===n.type&&(QE(n)||JE(n))){var y=Gw(t[0]).left,b=Gw(t[i-1]).right,x=Math.abs(b-y)||1;p=Math.max(Math.floor(i*v/x),p)}for(o&&(s=g.splice(0,1)[0]),a&&(l=g.splice(-1,1)[0],g.reverse()),f(g);p<t.length&&xS((c=l?h(h([l],d(m),!1),[s],!1):h([s],d(m),!1),c.filter(dS)),n,null===e||void 0===e?void 0:e.margin).length;){if(l&&!s&&p%2===0)g.splice(0,1).forEach(r.hide);else if(l&&s){g.splice(0,1).forEach(r.hide)}m=u(f(g),{seq:p}),p++}}}],["rotate",function(t,e,n,r){var i,o,a=e.optionalAngles,s=void 0===a?[0,45,90]:a,l=e.margin,c=e.recoverWhenFailed,d=void 0===c||c,h=t.map((function(t){return t.getLocalEulerAngles()})),f=function(e){return t.forEach((function(t,n){var i=Array.isArray(e)?e[n]:e;r.rotate(t,+i)}))};try{for(var p=u(s),g=p.next();!g.done;g=p.next()){if(f(g.value),xS(t,n,l).length<1)return}}catch(m){i={error:m}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}d&&f(h)}],["ellipsis",function(t,e,n,r){if(!(t.length<=1)){var i=e.suffix,o=void 0===i?"...":i,a=e.minLength,s=e.maxLength,l=void 0===s?1/0:s,c=e.step,u=void 0===c?" ":c,h=e.margin,f=void 0===h?[0,0,0,0]:h,p=Zw(r.getTextShape(t[0])),g=wS(u,p),m=a?wS(a,p):g,v=wS(l,p);(Kt(v)||v===1/0)&&(v=Math.max.apply(null,t.map((function(t){return t.getBBox().width}))));for(var y=t.slice(),b=d(f,4),x=(b[0],b[1],b[2],b[3],function(e){if(y.forEach((function(t){r.ellipsis(r.getTextShape(t),e,o)})),(y=xS(t,n,f)).length<1)return{value:void 0}}),w=v;w>m+g;w-=g){var E=x(w);if("object"===typeof E)return E.value}}}],["wrap",function(t,e,n,r){var i=e.wordWrapWidth,o=void 0===i?50:i,a=e.maxLines,s=void 0===a?3:a,l=e.recoverWhenFailed,c=void 0===l||l,u=e.margin,f=void 0===u?[0,0,0,0]:u,p=t.map((function(t){return t.attr("maxLines")||1})),g=Math.min.apply(Math,h([],d(p),!1)),m=function(t){var e=t.type,n=t.labelDirection;return"linear"===e&&QE(t)?"negative"===n?"bottom":"top":"middle"}(n),v=function(e){return t.forEach((function(t,n){var i=Array.isArray(e)?e[n]:e;r.wrap(t,o,i,m)}))};if(!(g>s)){for(var y=g;y<=s;y++)if(v(y),xS(t,n,f).length<1)return;c&&v(p)}}]]);function kS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce((function(t,e){return t*function(t){return"positive"===t?-1:1}(e)}),1)}function MS(t){for(var e=t;e<0;)e+=360;return Math.round(e%360)}function CS(t,e){var n=d(t,2),r=n[0],i=n[1],o=d(e,2),a=o[0],s=o[1],l=d([r*a+i*s,r*s-i*a],2),c=l[0],u=l[1];return Math.atan2(u,c)}function NS(t,e,n){var r,i=n.labelAlign;if(null===(r=e.style.transform)||void 0===r?void 0:r.includes("rotate"))return e.getLocalEulerAngles();var o=KE(t.value,n),a=YE(t.value,n);return"horizontal"===i?0:function(t){var e=(t+360)%180;return cS(e,-90,90)||(e+=180),e}(RE("perpendicular"===i?CS([1,0],o):CS([a[0]<0?-1:1,0],a)))}function OS(t,e,n){var r=n.type,i=n.labelAlign,o=KE(t,n),a=MS(e),s=MS(RE(CS([1,0],o))),l="center",c="middle";return"linear"===r?[90,270].includes(s)&&0===a?(l="center",c=1===o[1]?"top":"bottom"):s%180||![90,270].includes(a)?0===s?(cS(a,0,90,!1,!0)||cS(a,0,90)||cS(a,270,360))&&(l="start"):90===s?cS(a,0,90,!1,!0)?l="start":(cS(a,90,180)||cS(a,270,360))&&(l="end"):270===s?cS(a,0,90,!1,!0)?l="end":(cS(a,90,180)||cS(a,270,360))&&(l="start"):180===s&&(90===a?l="start":(cS(a,0,90)||cS(a,270,360))&&(l="end")):l="center":"parallel"===i?c=cS(s,0,180,!0)?"top":"bottom":"horizontal"===i?cS(s,90,270,!1)?l="end":(cS(s,270,360,!1)||cS(s,0,90))&&(l="start"):"perpendicular"===i&&(l=cS(s,90,270)?"end":"start"),{textAlign:l,textBaseline:c}}function PS(t,e,n){var r=n.showTick,i=n.tickLength,o=n.tickDirection,a=n.labelDirection,s=n.labelSpacing,l=e.indexOf(t),c=Nw(s,[t,l,e]),u=d([KE(t.value,n),kS(a,o)],2),h=d(ME(kE(u[0],c+(1===u[1]?Nw(r?i:0,[t,l,e]):0)),ZE(t.value,n)),2);return{x:h[0],y:h[1]}}function TS(t,e){"text"===t.nodeName&&t.attr(e)}function AS(t){!function(t,e,n){var r=e.labelOverlap,i=void 0===r?[]:r;i.length&&i.forEach((function(r){var i=r.type,o=SS.get(i);(function(t,e,n){return!(e.labelOverlap.length<1)&&("hide"===n?!function(t){for(var e=t;e;){if("offscreen"===e.className)return!0;e=e.parent}return!1}(t[0]):"rotate"===n?!t.some((function(t){var e;return!!(null===(e=t.attr("transform"))||void 0===e?void 0:e.includes("rotate"))})):"ellipsis"!==n&&"wrap"!==n||t.filter((function(t){return t.querySelector("text")})).length>1)})(t,e,i)&&(null===o||void 0===o||o(t,r,e,n))}))}(this.node().childNodes,t,{hide:rw,show:nw,rotate:function(e,n){!function(t,e,n){e.setLocalEulerAngles(t);var r=OS(e.__data__.value,t,n),i=e.querySelector(SE.labelItem.class);i&&TS(i,r)}(+n,e,t)},ellipsis:function(t,e,n){t&&tE(t,e||1/0,n)},wrap:function(t,e,n){t&&function(t,e,n,r){void 0===n&&(n=2),void 0===r&&(r="top"),Jw(t,{wordWrap:!0,wordWrapWidth:e,maxLines:n,textBaseline:r})}(t,e,n)},getTextShape:function(t){return t.querySelector("text")}})}function RS(t,e,n,r,i){var o=n.indexOf(e),l=bw(t).append(function(t,e,n,r){var i=r.labelFormatter;return pu(i)?function(){return qw(Nw(i,[t,e,n,KE(t.value,r)]))}:function(){return qw(t.label||"")}}(e,o,n,i)).attr("className",SE.labelItem.name).node(),c=d(mw(GE(r,[e,o,n])),2),u=c[0],h=c[1],f=h.transform,p=s(h,["transform"]);uS(l,f);var g=NS(e,l,i);return l.getLocalEulerAngles()||l.setLocalEulerAngles(g),TS(l,a(a({},OS(e.value,g,i)),u)),t.attr(p),l}function _S(t,e,n,r){var i=UE(e,n.labelFilter),o=pw(n,"label");return t.selectAll(SE.label.class).data(i,(function(t,e){return e})).join((function(r){return r.append("g").attr("className",SE.label.name).transition((function(t){RS(this,t,e,o,n);var r=PS(t,e,n),i=r.x,a=r.y;return this.style.transform="translate(".concat(i,", ").concat(a,")"),null})).call((function(){AS.call(t,n)}))}),(function(i){return i.transition((function(t){var i=function(t,e,n,r){if(void 0===r&&(r="destroy"),function(t,e){return"text"===t.nodeName&&"text"===e.nodeName&&t.attributes.text===e.attributes.text}(t,e))return t.remove(),[null];var i=function(){"destroy"===r?t.destroy():"hide"===r&&rw(t),e.isVisible()&&nw(e)};if(!n)return i(),[null];var o=n.duration,s=void 0===o?0:o,l=n.delay,c=void 0===l?0:l,u=Math.ceil(+s/2),h=+s/4,f=d(t.getGeometryBounds().center,2),p=f[0],g=f[1],m=d(e.getGeometryBounds().center,2),v=d([(p+m[0])/2-p,(g+m[1])/2-g],2),y=v[0],b=v[1],x=t.style.opacity,w=void 0===x?1:x,E=e.style.opacity,S=void 0===E?1:E,k=t.style.transform||"",M=e.style.transform||"",C=t.animate([{opacity:w,transform:"translate(0, 0) ".concat(k)},{opacity:0,transform:"translate(".concat(y,", ").concat(b,") ").concat(k)}],a(a({fill:"both"},n),{duration:c+u+h})),N=e.animate([{opacity:0,transform:"translate(".concat(-y,", ").concat(-b,") ").concat(M),offset:.01},{opacity:S,transform:"translate(0, 0) ".concat(M)}],a(a({fill:"both"},n),{duration:u+h,delay:c+u-h}));return Pw(N,i),[C,N]}(this.querySelector(SE.labelItem.class),RS(this,t,e,o,n),r.update),s=PS(t,e,n),l=s.x,c=s.y,u=Rw(this,{transform:"translate(".concat(l,", ").concat(c,")")},r.update);return h(h([],d(i),!1),[u],!1)})).call((function(e){var r,i,o=Sd(e,"_transitions").flat().filter(dS);i=function(){AS.call(t,n)},0===(r=o).length?i():Promise.all(r.map((function(t){return null===t||void 0===t?void 0:t.finished}))).then(i)}))}),(function(t){return t.transition((function(){var t=this,e=_E(this.childNodes[0],r.exit);return Pw(e,(function(){return bw(t).remove()})),e}))})).transitions()}function LS(t,e){return XE(t,e.tickDirection,e)}function IS(t,e,n,r,i){var o=d(function(t,e){var n=d(t,2);return[[0,0],[n[0]*e,n[1]*e]]}(r,Nw(i.tickLength,[t,e,n])),2),a=d(o[0],2),s=a[0],l=a[1],c=d(o[1],2);return{x1:s,x2:c[0],y1:l,y2:c[1]}}function DS(t,e,n,r,i,o){var s=function(t,e,n,r,i){var o=i.tickFormatter,a=LS(e.value,i),s="line";return pu(o)&&(s=function(){return Nw(o,[e,n,r,a])}),t.append(s).attr("className",SE.tickItem.name)}(bw(this),t,e,n,r);!function(t,e,n,r,i,o,s){var l=LS(t.value,o),c=IS(t,e,n,l,o),u=c.x1,h=c.x2,f=c.y1,p=c.y2,g=d(mw(GE(s,[t,e,n,l])),2),m=g[0],v=g[1];"line"===r.node().nodeName&&r.styles(a({x1:u,x2:h,y1:f,y2:p},m)),i.attr(v),r.styles(m)}(t,e,n,s,this,r,i);var l=d(ZE(t.value,r),2),c=l[0],u=l[1];return Rw(this,{transform:"translate(".concat(c,", ").concat(u,")")},o)}function jS(t,e,n,r,i){var o=d(mw(pw(r,"title")),2),l=o[0],c=o[1],u=c.transform,h=c.transformOrigin,f=s(c,["transform","transformOrigin"]);e.styles(f);var p=u||function(t,e,n){var r=2*t.getGeometryBounds().halfExtents[1];if("vertical"===e){if("left"===n)return"rotate(-90) translate(0, ".concat(r/2,")");if("right"===n)return"rotate(-90) translate(0, -".concat(r/2,")")}return""}(t.node(),l.direction,l.position);t.styles(a(a({},l),{transformOrigin:h})),uS(t.node(),p);var g=function(t,e,n){var r=n.titlePosition,i=void 0===r?"lb":r,o=n.titleSpacing,a=Sw(i),s=t.node().getLocalBounds(),l=d(s.min,2),c=l[0],u=l[1],h=d(s.halfExtents,2),f=h[0],p=h[1],g=d(e.node().getLocalBounds().halfExtents,2),m=g[0],v=g[1],y=d([c+f,u+p],2),b=y[0],x=y[1],w=d(Jx(o),4),E=w[0],S=w[1],k=w[2],M=w[3];if(["start","end"].includes(i)&&"linear"===n.type){var C=n.startPos,N=n.endPos,O=d("start"===i?[C,N]:[N,C],2),P=O[0],T=O[1],A=d(kE(TE([-T[0]+P[0],-T[1]+P[1]]),E),2),R=A[0],_=A[1];return{x:P[0]+R,y:P[1]+_}}return a.includes("t")&&(x-=p+v+E),a.includes("r")&&(b+=f+m+S),a.includes("l")&&(b-=f+m+M),a.includes("b")&&(x+=p+v+k),{x:b,y:x}}(bw(n._offscreen||n.querySelector(SE.mainGroup.class)),e,r),m=g.x,v=g.y;return Rw(e.node(),{transform:"translate(".concat(m,", ").concat(v,")")},i)}function zS(t,e,n,r){var i=t.showLine,o=t.showTick,a=t.showLabel,s=ww(i,e.maybeAppendByClassName(SE.lineGroup,"g"),(function(e){return oS(e,t,r)}))||[],l=ww(o,e.maybeAppendByClassName(SE.tickGroup,"g"),(function(e){return function(t,e,n,r){var i=UE(e,n.tickFilter),o=pw(n,"tick");return t.selectAll(SE.tick.class).data(i,(function(t){return t.id||t.label})).join((function(t){return t.append("g").attr("className",SE.tick.name).transition((function(t,e){return DS.call(this,t,e,i,n,o,!1)}))}),(function(t){return t.transition((function(t,e){return this.removeChildren(),DS.call(this,t,e,i,n,o,r.update)}))}),(function(t){return t.transition((function(){var t=this,e=_E(this.childNodes[0],r.exit);return Pw(e,(function(){return t.remove()})),e}))})).transitions()}(e,n,t,r)}))||[],c=ww(a,e.maybeAppendByClassName(SE.labelGroup,"g"),(function(e){return _S(e,n,t,r)}))||[];return h(h(h([],d(s),!1),d(l),!1),d(c),!1).filter((function(t){return!!t}))}var FS=function(t){function e(e){return t.call(this,e,EE)||this}return o(e,t),e.prototype.render=function(t,e,n){var r=this,i=t.titleText,o=t.data,a=t.animate,s=t.showTitle,l=t.showGrid,c=t.dataThreshold,u=t.truncRange,f=function(t,e){if(t.length<=e)return t;for(var n=Math.floor(t.length/e),r=[],i=0;i<t.length;i+=n)r.push(t[i]);return r}(o,c).filter((function(t){var e=t.value;return!(u&&e>u[0]&&e<u[1])})),p=Ow(void 0===n?a:n),g=ww(l,bw(e).maybeAppendByClassName(SE.gridGroup,"g"),(function(e){return lS(e,f,t,p)}))||[],m=bw(e).maybeAppendByClassName(SE.mainGroup,"g");i&&(!this.initialized&&p.enter||this.initialized&&p.update)&&zS(t,bw(this.offscreenGroup),f,Ow(!1));var v=zS(t,bw(m.node()),f,p),y=ww(s,bw(e).maybeAppendByClassName(SE.titleGroup,"g"),(function(e){return function(t,e,n,r){var i=n.titleText;return t.selectAll(SE.title.class).data([{title:i}].filter((function(t){return!!t.title})),(function(t,e){return t.title})).join((function(o){return o.append((function(){return qw(i)})).attr("className",SE.title.name).transition((function(){return jS(bw(this),t,e,n,r.enter)}))}),(function(i){return i.transition((function(){return jS(bw(this),t,e,n,r.update)}))}),(function(t){return t.remove()})).transitions()}(e,r,t,p)}))||[];return h(h(h([],d(g),!1),d(v),!1),d(y),!1).flat().filter((function(t){return!!t}))},e}(uw);function BS(t){var e=t.canvas,n=t.touches,r=t.offsetX,i=t.offsetY;if(e)return[e.x,e.y];if(n){var o=n[0];return[o.clientX,o.clientY]}return r&&i?[r,i]:[0,0]}function $S(t,e){return+t.toPrecision(e)}const VS=function(t){return t};class HS{constructor(t){this.options=Zc({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=Zc({},this.options,t),this.rescale(t)}rescale(t){}}function WS(t,e){return e-t?n=>(n-t)/(e-t):t=>.5}function GS(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce(((t,e)=>n=>t(e(n))),t)}var US=n(6340),qS=n.n(US);function YS(t,e,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function XS(t){const e=qS().get(t);if(!e)return null;const{model:n,value:r}=e;return"rgb"===n?r:"hsl"===n?function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100,i=t[3];if(0===n)return[255*r,255*r,255*r,i];const o=r<.5?r*(1+n):r+n-r*n,a=2*r-o;return[255*YS(a,o,e+1/3),255*YS(a,o,e),255*YS(a,o,e-1/3),i]}(r):null}const KS=(t,e)=>n=>t*(1-n)+e*n,ZS=(t,e)=>"number"===typeof t&&"number"===typeof e?KS(t,e):"string"===typeof t&&"string"===typeof e?((t,e)=>{const n=XS(t),r=XS(e);return null===n||null===r?n?()=>t:()=>e:t=>{const e=new Array(4);for(let l=0;l<4;l+=1){const i=n[l],o=r[l];e[l]=i*(1-t)+o*t}const[i,o,a,s]=e;return`rgba(${Math.round(i)}, ${Math.round(o)}, ${Math.round(a)}, ${s})`}})(t,e):()=>t,QS=(t,e)=>{const n=KS(t,e);return t=>Math.round(n(t))};const JS=function(t){return null===t};function tk(t){return!$e(t)&&!JS(t)&&!Number.isNaN(t)}const ek=Math.sqrt(50),nk=Math.sqrt(10),rk=Math.sqrt(2);function ik(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/10**i;return i>=0?(o>=ek?10:o>=nk?5:o>=rk?2:1)*10**i:-(10**-i)/(o>=ek?10:o>=nk?5:o>=rk?2:1)}const ok=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const r=[t,e];let i,o=0,a=r.length-1,s=r[o],l=r[a];return l<s&&([s,l]=[l,s],[o,a]=[a,o]),i=ik(s,l,n),i>0?(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,i=ik(s,l,n)):i<0&&(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,i=ik(s,l,n)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i),r};const ak=(t,e,n)=>{const[r,i]=t,[o,a]=e;let s,l;return r<i?(s=WS(r,i),l=n(o,a)):(s=WS(i,r),l=n(a,o)),GS(l,s)},sk=(t,e,n)=>{const r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=t[0]>t[r],s=a?[...t].reverse():t,l=a?[...e].reverse():e;for(let c=0;c<r;c+=1)i[c]=WS(s[c],s[c+1]),o[c]=n(l[c],l[c+1]);return e=>{const n=function(t,e,n,r,i){let o=n||0,a=r||t.length;const s=i||(t=>t);for(;o<a;){const n=Math.floor((o+a)/2);s(t[n])>e?a=n:o=n+1}return o}(t,e,1,r)-1,a=i[n];return GS(o[n],a)(e)}},lk=(t,e,n,r)=>(Math.min(t.length,e.length)>2?sk:ak)(t,e,r?QS:n);class ck extends HS{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:KS,tickCount:5}}map(t){return tk(t)?this.output(t):this.options.unknown}invert(t){return tk(t)?this.input(t):this.options.unknown}nice(){if(!this.options.nice)return;const[t,e,n,...r]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(t,e,n,...r)}getTicks(){const{tickMethod:t}=this.options,[e,n,r,...i]=this.getTickMethodOptions();return t(e,n,r,...i)}getTickMethodOptions(){const{domain:t,tickCount:e}=this.options;return[t[0],t[t.length-1],e]}chooseNice(){return ok}rescale(){this.nice();const[t,e]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,e,this.chooseClamp(e))}chooseClamp(t){const{clamp:e,range:n}=this.options,r=this.options.domain.map(t),i=Math.min(r.length,n.length);return e?function(t,e){const n=e<t?e:t,r=t>e?t:e;return t=>Math.min(Math.max(n,t),r)}(r[0],r[i-1]):VS}composeOutput(t,e){const{domain:n,range:r,round:i,interpolate:o}=this.options,a=lk(n.map(t),r,o,i);this.output=GS(a,e,t)}composeInput(t,e,n){const{domain:r,range:i}=this.options,o=lk(i,r.map(t),KS);this.input=GS(e,n,o)}}const uk=(t,e,n)=>{let r,i,o=t,a=e;if(o===a&&n>0)return[o];let s=ik(o,a,n);if(0===s||!Number.isFinite(s))return[];if(s>0){o=Math.ceil(o/s),a=Math.floor(a/s),i=new Array(r=Math.ceil(a-o+1));for(let t=0;t<r;t+=1)i[t]=(o+t)*s}else{s=-s,o=Math.ceil(o*s),a=Math.floor(a*s),i=new Array(r=Math.ceil(a-o+1));for(let t=0;t<r;t+=1)i[t]=(o+t)/s}return i};class dk extends ck{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:ZS,tickMethod:uk,tickCount:5}}chooseTransforms(){return[VS,VS]}clone(){return new dk(this.options)}}function hk(t,e){let{map:n,initKey:r}=t;const i=r(e);return n.has(i)?n.get(i):e}function fk(t){return"object"===typeof t?t.valueOf():t}class pk extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=fk,null!==t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(hk({map:this.map,initKey:this.initKey},t))}has(t){return super.has(hk({map:this.map,initKey:this.initKey},t))}set(t,e){return super.set(function(t,e){let{map:n,initKey:r}=t;const i=r(e);return n.has(i)?n.get(i):(n.set(i,e),e)}({map:this.map,initKey:this.initKey},t),e)}delete(t){return super.delete(function(t,e){let{map:n,initKey:r}=t;const i=r(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}({map:this.map,initKey:this.initKey},t))}}const gk=Symbol("defaultUnknown");function mk(t,e,n){for(let r=0;r<e.length;r+=1)t.has(e[r])||t.set(n(e[r]),r)}function vk(t){const{value:e,from:n,to:r,mapper:i,notFoundReturn:o}=t;let a=i.get(e);if(void 0===a){if(o!==gk)return o;a=n.push(e)-1,i.set(e,a)}return r[a%r.length]}function yk(t){return t instanceof Date?t=>`${t}`:"object"===typeof t?t=>JSON.stringify(t):t=>t}class bk extends HS{getDefaultOptions(){return{domain:[],range:[],unknown:gk}}constructor(t){super(t)}map(t){return 0===this.domainIndexMap.size&&mk(this.domainIndexMap,this.getDomain(),this.domainKey),vk({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return 0===this.rangeIndexMap.size&&mk(this.rangeIndexMap,this.getRange(),this.rangeKey),vk({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){const[e]=this.options.domain,[n]=this.options.range;if(this.domainKey=yk(e),this.rangeKey=yk(n),!this.rangeIndexMap)return this.rangeIndexMap=new Map,void(this.domainIndexMap=new Map);t&&!t.range||this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new bk(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:t,compare:e}=this.options;return this.sortedDomain=e?[...t].sort(e):t,this.sortedDomain}}function xk(t){return Math.round(1e12*t)/1e12}function wk(t){const{domain:e,range:n,paddingOuter:r,paddingInner:i,flex:o,round:a,align:s}=t,l=e.length,c=function(t,e){const n=e-t.length;return n>0?[...t,...new Array(n).fill(1)]:n<0?t.slice(0,e):t}(o,l),[u,d]=n,h=d-u,f=h/(2/l*r+1-1/l*i),p=f*i/l,g=f-l*p,m=function(t){const e=Math.min(...t);return t.map((t=>t/e))}(c),v=g/m.reduce(((t,e)=>t+e)),y=new pk(e.map(((t,e)=>{const n=m[e]*v;return[t,a?Math.floor(n):n]}))),b=new pk(e.map(((t,e)=>{const n=m[e]*v+p;return[t,a?Math.floor(n):n]}))),x=Array.from(b.values()).reduce(((t,e)=>t+e)),w=u+(h-(x-x/l*i))*s;let E=a?Math.round(w):w;const S=new Array(l);for(let k=0;k<l;k+=1){S[k]=xk(E);const t=e[k];E+=b.get(t)}return{valueBandWidth:y,valueStep:b,adjustedRange:S}}class Ek extends bk{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:gk,flex:[]}}constructor(t){super(t)}clone(){return new Ek(this.options)}getStep(t){return void 0===this.valueStep?1:"number"===typeof this.valueStep?this.valueStep:void 0===t?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return void 0===this.valueBandWidth?1:"number"===typeof this.valueBandWidth?this.valueBandWidth:void 0===t?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:t,paddingInner:e}=this.options;return t>0?t:e}getPaddingOuter(){const{padding:t,paddingOuter:e}=this.options;return t>0?t:e}rescale(){super.rescale();const{align:t,domain:e,range:n,round:r,flex:i}=this.options,{adjustedRange:o,valueBandWidth:a,valueStep:s}=function(t){var e;const{domain:n}=t,r=n.length;if(0===r)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(null===(e=t.flex)||void 0===e?void 0:e.length)return wk(t);const{range:i,paddingOuter:o,paddingInner:a,round:s,align:l}=t;let c,u,d=i[0];const h=i[1]-d,f=2*o,p=r-a;c=h/Math.max(1,f+p),s&&(c=Math.floor(c)),d+=(h-c*(r-a))*l,u=c*(1-a),s&&(d=Math.round(d),u=Math.round(u));const g=new Array(r).fill(0).map(((t,e)=>d+e*c));return{valueStep:c,valueBandWidth:u,adjustedRange:g}}({align:t,range:n,round:r,flex:i,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:e});this.valueStep=s,this.valueBandWidth=a,this.adjustedRange=o}}var Sk=function(t){function e(e){var n=this,r=e.style,i=s(e,["style"]);return(n=t.call(this,Zc({},{type:"column"},a({style:r},i)))||this).columnsGroup=new Ts({name:"columns"}),n.appendChild(n.columnsGroup),n.render(),n}return o(e,t),e.prototype.render=function(){var t=this.attributes,e=t.columns,n=t.x,r=t.y;this.columnsGroup.style.transform="translate(".concat(n,", ").concat(r,")"),bw(this.columnsGroup).selectAll(".column").data(e.flat()).join((function(t){return t.append("rect").attr("className","column").each((function(t){this.attr(t)}))}),(function(t){return t.each((function(t){this.attr(t)}))}),(function(t){return t.remove()}))},e.prototype.update=function(t){this.attr(aw({},this.attributes,t)),this.render()},e.prototype.clear=function(){this.removeChildren()},e}(Cs),kk=function(t){function e(e){var n=this,r=e.style,i=s(e,["style"]);return(n=t.call(this,Zc({},{type:"lines"},a({style:r},i)))||this).linesGroup=n.appendChild(new Ts),n.areasGroup=n.appendChild(new Ts),n.render(),n}return o(e,t),e.prototype.render=function(){var t=this.attributes,e=t.lines,n=t.areas,r=t.x,i=t.y;this.style.transform="translate(".concat(r,", ").concat(i,")"),e&&this.renderLines(e),n&&this.renderAreas(n)},e.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},e.prototype.update=function(t){this.attr(aw({},this.attributes,t)),this.render()},e.prototype.renderLines=function(t){bw(this.linesGroup).selectAll(".line").data(t).join((function(t){return t.append("path").attr("className","line").each((function(t){this.attr(t)}))}),(function(t){return t.each((function(t){this.attr(t)}))}),(function(t){return t.remove()}))},e.prototype.renderAreas=function(t){bw(this.linesGroup).selectAll(".area").data(t).join((function(t){return t.append("path").attr("className","area").each((function(t){this.attr(t)}))}),(function(t){return t.each((function(t){this.style(t)}))}),(function(t){return t.remove()}))},e}(Cs);function Mk(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!e,i=[],o=0,a=t.length;o<a;o+=2)i.push([t[o],t[o+1]]);var s,l,c,u=function(t,e,n,r){var i,o,a,s,l,c,u=[],h=!!r,f=[1/0,1/0],p=[-1/0,-1/0];if(h){f=(i=d(r,2))[0],p=i[1];for(var g=0,m=t.length;g<m;g+=1)f=NE(f,y=t[g]),p=OE(p,y)}g=0;for(var v=t.length;g<v;g+=1){var y=t[g];if(0!==g||n)if(g!==v-1||n){o=t[[g?g-1:v-1,g-1][n?0:1]];var b=[0,0];b=kE(b=CE(a=t[n?(g+1)%v:g+1],o),e);var x=PE(y,o),w=PE(y,a),E=x+w;0!==E&&(x/=E,w/=E);var S=kE(b,-x),k=kE(b,w);l=ME(y,S),s=NE(s=ME(y,k),OE(a,y)),s=OE(s,NE(a,y)),l=NE(l=ME(y,S=kE(S=CE(s,y),-x/w)),OE(o,y)),s=ME(y,k=kE(k=CE(y,l=OE(l,NE(o,y))),w/x)),h&&(l=NE(l=OE(l,f),p),s=NE(s=OE(s,f),p)),u.push(c),u.push(l),c=s}else l=y,u.push(c),u.push(l);else c=y}return n&&u.push(u.shift()),u}(i,.4,r,n),h=i.length,f=[];for(o=0;o<h-1;o+=1)s=u[2*o],l=u[2*o+1],c=i[o+1],f.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]]);return r&&(s=u[h],l=u[h+1],c=d(i,1)[0],f.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]])),f}function Ck(t,e){void 0===e&&(e=!1);var n=e?t.length-1:0,r=t.map((function(t,e){return h([e===n?"M":"L"],d(t),!1)}));return e?r.reverse():r}function Nk(t,e){if(void 0===e&&(e=!1),t.length<=2)return Ck(t);for(var n=[],r=t.length,i=0;i<r;i+=1){var o=e?t[r-i-1]:t[i];xc(o,n.slice(-2))||n.push.apply(n,h([],d(o),!1))}var a=Mk(n,!1);return e?a.unshift(h(["M"],d(t[r-1]),!1)):a.unshift(h(["M"],d(t[0]),!1)),a}function Ok(t,e,n){var r=mu(t);return r.push(["L",e,n],["L",0,n],["Z"]),r}const Pk=function(t,e){if(Me(t)){for(var n,r=1/0,i=0;i<t.length;i++){var o=t[i],a=pu(e)?e(o):o[e];a<r&&(n=o,r=a)}return n}},Tk=function(t,e){if(Me(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var o=t[i],a=pu(e)?e(o):o[e];a>r&&(n=o,r=a)}return n}};function Ak(t){return 0===t.length?[0,0]:[Ce(Pk(t,(function(t){return Ce(t)||0}))),Ne(Tk(t,(function(t){return Ne(t)||0})))]}function Rk(t){for(var e=mu(t),n=e[0].length,r=d([Array(n).fill(0),Array(n).fill(0)],2),i=r[0],o=r[1],a=0;a<e.length;a+=1)for(var s=e[a],l=0;l<n;l+=1)s[l]>=0?(s[l]+=i[l],i[l]=s[l]):(s[l]+=o[l],o[l]=s[l]);return e}var _k=function(t){function e(e){return t.call(this,e,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return o(e,t),Object.defineProperty(e.prototype,"rawData",{get:function(){var t=this.attributes.data;if(!t||0===(null===t||void 0===t?void 0:t.length))return[[]];var e=mu(t);return Yt(e[0])?[e]:e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.isStack?Rk(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){var t=this.scales.y,e=d(t.getOptions().domain||[0,0],2),n=e[0],r=e[1];return r<0?t.map(r):t.map(n<0?0:n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerShape",{get:function(){var t=this.attributes;return{width:t.width,height:t.height}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linesStyle",{get:function(){var t=this,e=this.attributes,n=e.type,r=e.isStack,i=e.smooth;if("line"!==n)throw new Error("linesStyle can only be used in line type");var o=pw(this.attributes,"area"),s=pw(this.attributes,"line"),l=this.containerShape.width,c=this.data;if(0===c[0].length)return{lines:[],areas:[]};var u=this.scales,f=function(t,e){var n,r=e.x,i=e.y,o=d(i.getOptions().range||[0,0],2),a=o[0],s=o[1];return s>a&&(n=d([a,s],2),s=n[0],a=n[1]),t.map((function(t){return t.map((function(t,e){return[r.map(e),Qt(i.map(t),s,a)]}))}))}(c,{type:"line",x:u.x,y:u.y}),p=[];if(o){var g=this.baseline;p=r?i?function(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var o=t[i],a=Nk(o),s=void 0;if(0===i)s=Ok(a,e,n);else{var l=Nk(t[i-1],!0),c=o[0];l[0][0]="L",s=h(h(h([],d(a),!1),d(l),!1),[h(["M"],d(c),!1),["Z"]],!1)}r.push(s)}return r}(f,l,g):function(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var o=Ck(t[i]),a=void 0;if(0===i)a=Ok(o,e,n);else{var s=Ck(t[i-1],!0);s[0][0]="L",a=h(h(h([],d(o),!1),d(s),!1),[["Z"]],!1)}r.push(a)}return r}(f,l,g):function(t,e,n,r){return t.map((function(t){return Ok(e?Nk(t):Ck(t),n,r)}))}(f,i,l,g)}return{lines:f.map((function(e,n){return a({stroke:t.getColor(n),d:i?Nk(e):Ck(e)},s)})),areas:p.map((function(e,n){return a({d:e,fill:t.getColor(n)},o)}))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnsStyle",{get:function(){var t=this,e=pw(this.attributes,"column"),n=this.attributes,r=n.isStack,i=n.type,o=n.scale;if("column"!==i)throw new Error("columnsStyle can only be used in column type");var s=this.containerShape.height,l=this.rawData;if(!l)return{columns:[]};r&&(l=Rk(l));var c=this.createScales(l),u=c.x,h=c.y,f=d(Ak(l),2),p=f[0],g=f[1],m=new dk({domain:[0,g-(p>0?0:p)],range:[0,s*o]}),v=u.getBandWidth(),y=this.rawData;return{columns:l.map((function(n,i){return n.map((function(n,o){var s=v/l.length;return a(a({fill:t.getColor(i)},e),r?{x:u.map(o),y:h.map(n),width:v,height:m.map(y[i][o])}:{x:u.map(o)+s*i,y:n>=0?h.map(n):h.map(0),width:s,height:m.map(Math.abs(n))})}))}))}},enumerable:!1,configurable:!0}),e.prototype.render=function(t,e){(function(t,e,n){return t.querySelector(e)?bw(t).select(e):bw(t).append(n)})(e,".container","rect").attr("className","container").node();var n=t.type,r=t.x,i=t.y,o="spark".concat(n),s=a({x:r,y:i},"line"===n?this.linesStyle:this.columnsStyle);bw(e).selectAll(".spark").data([n]).join((function(t){return t.append((function(t){return"line"===t?new kk({className:o,style:s}):new Sk({className:o,style:s})})).attr("className","spark ".concat(o))}),(function(t){return t.update(s)}),(function(t){return t.remove()}))},e.prototype.getColor=function(t){var e=this.attributes.color;return Me(e)?e[t%e.length]:pu(e)?e.call(null,t):e},e.prototype.createScales=function(t){var e,n,r=this.attributes,i=r.type,o=r.scale,a=r.range,s=void 0===a?[]:a,l=r.spacing,c=this.containerShape,u=c.width,h=c.height,f=d(Ak(t),2),p=f[0],g=f[1],m=new dk({domain:[null!==(e=s[0])&&void 0!==e?e:p,null!==(n=s[1])&&void 0!==n?n:g],range:[h,h*(1-o)]});return"line"===i?{type:i,x:new dk({domain:[0,t[0].length-1],range:[0,u]}),y:m}:{type:i,x:new Ek({domain:t[0].map((function(t,e){return e})),range:[0,u],paddingInner:l,paddingOuter:l/2,align:.5}),y:m}},e.tag="sparkline",e}(uw),Lk={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},Ik={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},Dk={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},jk=xw({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),zk=xw({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),Fk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.render=function(t,e){var n=t.x,r=t.y,i=t.size,o=void 0===i?10:i,l=t.radius,c=void 0===l?o/4:l,u=t.orientation,d=s(t,["x","y","size","radius","orientation"]),h=o,f=2.4*h,p=bw(e).maybeAppendByClassName(zk.iconRect,"rect").styles(a(a({},d),{width:h,height:f,radius:c,x:n-h/2,y:r-f/2,transformOrigin:"center"})),g=n+1/3*h-h/2,m=n+2/3*h-h/2,v=r+1/4*f-f/2,y=r+3/4*f-f/2;p.maybeAppendByClassName("".concat(zk.iconLine,"-1"),"line").styles(a({x1:g,x2:g,y1:v,y2:y},d)),p.maybeAppendByClassName("".concat(zk.iconLine,"-2"),"line").styles(a({x1:m,x2:m,y1:v,y2:y},d)),"vertical"===u&&(p.node().style.transform="rotate(90)")},e}(uw),Bk=function(t){function e(e){return t.call(this,e,Dk)||this}return o(e,t),e.prototype.renderLabel=function(t){var e=this,n=this.attributes,r=n.x,i=n.y,o=n.showLabel,l=pw(this.attributes,"label"),c=l.x,u=void 0===c?0:c,h=l.y,f=void 0===h?0:h,p=l.transform,g=l.transformOrigin,m=d(mw(s(l,["x","y","transform","transformOrigin"]),[]),2),v=m[0],y=m[1],b=bw(t).maybeAppendByClassName(zk.labelGroup,"g").styles(y),x=a(a({},Ik),v),w=x.text,E=s(x,["text"]);ww(!!o,b,(function(t){e.label=t.maybeAppendByClassName(zk.label,"text").styles(a(a({},E),{x:r+u,y:i+f,transform:p,transformOrigin:g,text:"".concat(w)})),e.label.on("mousedown",(function(t){t.stopPropagation()})),e.label.on("touchstart",(function(t){t.stopPropagation()}))}))},e.prototype.renderIcon=function(t){var e=this.attributes,n=e.x,r=e.y,i=e.orientation,o=e.type,s=a(a({x:n,y:r,orientation:i},Lk),pw(this.attributes,"icon")),l=this.attributes.iconShape,c=void 0===l?function(){return new Fk({style:s})}:l;bw(t).maybeAppendByClassName(zk.iconGroup,"g").selectAll(zk.icon.class).data([c]).join((function(t){return t.append("string"===typeof c?c:function(){return c(o)}).attr("className",zk.icon.name)}),(function(t){return t.update(s)}),(function(t){return t.remove()}))},e.prototype.render=function(t,e){this.renderIcon(e),this.renderLabel(e)},e}(uw),$k=function(t){function e(e){var n=t.call(this,e,a(a(a({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(t){return t.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},gw(Dk,"handle")),gw(Lk,"handleIcon")),gw(Ik,"handleLabel")))||this;return n.range=[0,1],n.onDragStart=function(t){return function(e){e.stopPropagation(),n.target=t,n.prevPos=n.getOrientVal(BS(e));var r=n.availableSpace,i=r.x,o=r.y,a=n.getBBox(),s=a.x,l=a.y;n.selectionStartPos=n.getRatio(n.prevPos-n.getOrientVal([i,o])-n.getOrientVal([+s,+l])),n.selectionWidth=0,document.addEventListener("pointermove",n.onDragging),document.addEventListener("pointerup",n.onDragEnd)}},n.onDragging=function(t){var e=n.attributes,r=e.slidable,i=e.brushable,o=e.type;t.stopPropagation();var a=n.getOrientVal(BS(t)),s=a-n.prevPos;if(s){var l=n.getRatio(s);switch(n.target){case"start":r&&n.setValuesOffset(l);break;case"end":r&&n.setValuesOffset(0,l);break;case"selection":r&&n.setValuesOffset(l,l);break;case"track":if(!i)return;n.selectionWidth+=l,"range"===o?n.innerSetValues([n.selectionStartPos,n.selectionStartPos+n.selectionWidth].sort(),!0):n.innerSetValues([0,n.selectionStartPos+n.selectionWidth],!0)}n.prevPos=a}},n.onDragEnd=function(){document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointerup",n.onDragEnd),n.target="",n.updateHandlesPosition(!1)},n.onValueChange=function(t){var e=n.attributes,r=e.onChange,i=e.type,o="range"===i?t:t[1],a="range"===i?n.getValues():n.getValues()[1],s=new Ua("valuechange",{detail:{oldValue:o,value:a}});n.dispatchEvent(s),null===r||void 0===r||r(a)},n.selectionStartPos=0,n.selectionWidth=0,n.prevPos=0,n.target="",n}return o(e,t),Object.defineProperty(e.prototype,"values",{get:function(){return this.attributes.values},set:function(t){this.attributes.values=this.clampValues(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sparklineStyle",{get:function(){if("horizontal"!==this.attributes.orientation)return null;var t=pw(this.attributes,"sparkline");return a(a({zIndex:0},this.availableSpace),t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var t=this.attributes,e=t.trackLength,n=t.trackSize,r=d(this.getOrientVal([[e,n],[n,e]]),2);return{width:r[0],height:r[1]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var t=this.attributes,e=(t.x,t.y,d(Jx(t.padding),4)),n=e[0],r=e[1],i=e[2],o=e[3],a=this.shape;return{x:o,y:n,width:a.width-(o+r),height:a.height-(n+i)}},enumerable:!1,configurable:!0}),e.prototype.getValues=function(){return this.values},e.prototype.setValues=function(t,e){void 0===t&&(t=[0,0]),void 0===e&&(e=!1),this.attributes.values=t;var n=!1!==e&&this.attributes.animate;this.updateSelectionArea(n),this.updateHandlesPosition(n)},e.prototype.updateSelectionArea=function(t){var e=this.calcSelectionArea();this.foregroundGroup.selectAll(jk.selection.class).each((function(n,r){Rw(this,e[r],t)}))},e.prototype.updateHandlesPosition=function(t){this.attributes.showHandle&&(this.startHandle&&Rw(this.startHandle,this.getHandleStyle("start"),t),this.endHandle&&Rw(this.endHandle,this.getHandleStyle("end"),t))},e.prototype.innerSetValues=function(t,e){void 0===t&&(t=[0,0]),void 0===e&&(e=!1);var n=this.values,r=this.clampValues(t);this.attributes.values=r,this.setValues(r),e&&this.onValueChange(n)},e.prototype.renderTrack=function(t){var e=this.attributes,n=e.x,r=e.y,i=pw(this.attributes,"track");this.trackShape=bw(t).maybeAppendByClassName(jk.track,"rect").styles(a(a({x:n,y:r},this.shape),i))},e.prototype.renderBrushArea=function(t){var e=this.attributes,n=e.x,r=e.y,i=e.brushable;this.brushArea=bw(t).maybeAppendByClassName(jk.brushArea,"rect").styles(a({x:n,y:r,fill:"transparent",cursor:i?"crosshair":"default"},this.shape))},e.prototype.renderSparkline=function(t){var e=this,n=this.attributes,r=n.x,i=n.y;ww("horizontal"===n.orientation,bw(t).maybeAppendByClassName(jk.sparklineGroup,"g"),(function(t){var n=a(a({},e.sparklineStyle),{x:r,y:i});t.maybeAppendByClassName(jk.sparkline,(function(){return new _k({style:n})})).update(n)}))},e.prototype.renderHandles=function(){var t,e=this,n=this.attributes,r=n.showHandle,i=n.type,o=r?"range"===i?["start","end"]:["end"]:[],a=this;null===(t=this.foregroundGroup)||void 0===t||t.selectAll(jk.handle.class).data(o.map((function(t){return{type:t}})),(function(t){return t.type})).join((function(t){return t.append((function(t){var n=t.type;return new Bk({style:e.getHandleStyle(n)})})).each((function(t){var e=t.type;this.attr("class","".concat(jk.handle.name," ").concat(e,"-handle"));var n="".concat(e,"Handle");a[n]=this,this.addEventListener("pointerdown",a.onDragStart(e))}))}),(function(t){return t.each((function(t){var e=t.type;this.update(a.getHandleStyle(e))}))}),(function(t){return t.each((function(t){var e=t.type,n="".concat(e,"Handle");a[n]=void 0})).remove()}))},e.prototype.renderSelection=function(t){var e=this.attributes,n=e.x,r=e.y,i=e.type,o=e.selectionType;this.foregroundGroup=bw(t).maybeAppendByClassName(jk.foreground,"g");var s=pw(this.attributes,"selection"),l=function(t){return t.style("visibility",(function(t){return t.show?"visible":"hidden"})).style("cursor",(function(t){return"select"===o?"grab":"invert"===o?"crosshair":"default"})).styles(a(a({},s),{transform:"translate(".concat(n,", ").concat(r,")")}))},c=this;this.foregroundGroup.selectAll(jk.selection.class).data("value"===i?[]:this.calcSelectionArea().map((function(t,e){return{style:a({},t),index:e,show:"select"===o?1===e:1!==e}})),(function(t){return t.index})).join((function(t){return t.append("rect").attr("className",jk.selection.name).call(l).each((function(t,e){var n=this;1===e?(c.selectionShape=bw(this),this.on("pointerdown",(function(t){n.attr("cursor","grabbing"),c.onDragStart("selection")(t)})),c.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),c.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),c.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",(function(){n.attr("cursor","grabbing")})),this.addEventListener("pointerup",(function(){n.attr("cursor","pointer")})),this.addEventListener("pointerover",(function(){n.attr("cursor","pointer")}))):this.on("pointerdown",c.onDragStart("track"))}))}),(function(t){return t.call(l)}),(function(t){return t.remove()})),this.updateSelectionArea(!1),this.renderHandles()},e.prototype.render=function(t,e){this.renderTrack(e),this.renderSparkline(e),this.renderBrushArea(e),this.renderSelection(e)},e.prototype.clampValues=function(t,e){var n;void 0===e&&(e=4);var r=d(this.range,2),i=r[0],o=r[1],a=d(this.getValues().map((function(t){return $S(t,e)})),2),s=a[0],l=a[1],c=d(((Array.isArray(t)?t:[s,null!==t&&void 0!==t?t:l])||[s,l]).map((function(t){return $S(t,e)})),2),u=c[0],h=c[1];if("value"===this.attributes.type)return[0,Qt(h,i,o)];u>h&&(u=(n=d([h,u],2))[0],h=n[1]);var f=h-u;return f>o-i?[i,o]:u<i?s===i&&l===h?[i,h]:[i,f+i]:h>o?l===o&&s===u?[u,o]:[o-f,o]:[u,h]},e.prototype.calcSelectionArea=function(t){var e=d(this.clampValues(t),2),n=e[0],r=e[1],i=this.availableSpace,o=i.x,a=i.y,s=i.width,l=i.height;return this.getOrientVal([[{y:a,height:l,x:o,width:n*s},{y:a,height:l,x:n*s+o,width:(r-n)*s},{y:a,height:l,x:r*s,width:(1-r)*s}],[{x:o,width:s,y:a,height:n*l},{x:o,width:s,y:n*l+a,height:(r-n)*l},{x:o,width:s,y:r*l,height:(1-r)*l}]])},e.prototype.calcHandlePosition=function(t){var e=this.attributes.handleIconOffset,n=this.availableSpace,r=n.x,i=n.y,o=n.width,a=n.height,s=d(this.clampValues(),2),l=s[0],c=s[1],u="start"===t?-e:e,h=("start"===t?l:c)*this.getOrientVal([o,a])+u;return{x:r+this.getOrientVal([h,o/2]),y:i+this.getOrientVal([a/2,h])}},e.prototype.inferTextStyle=function(t){return"horizontal"===this.attributes.orientation?{}:"start"===t?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:"end"===t?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},e.prototype.calcHandleText=function(t){var e,n=this.attributes,r=n.type,i=n.orientation,o=n.formatter,s=n.autoFitLabel,l=pw(this.attributes,"handle"),c=pw(l,"label"),u=l.spacing,d=this.getHandleSize(),h=this.clampValues(),f=o("start"===t?h[0]:h[1]),p=new vw({style:a(a(a({},c),this.inferTextStyle(t)),{text:f})}),g=p.getBBox(),m=g.width,v=g.height;if(p.destroy(),!s){if("value"===r)return{text:f,x:0,y:-v-u};var y=u+d+("horizontal"===i?m/2:0);return(e={text:f})["horizontal"===i?"x":"y"]="start"===t?-y:y,e}var b=0,x=0,w=this.availableSpace,E=w.width,S=w.height,k=this.calcSelectionArea()[1],M=k.x,C=k.y,N=k.width,O=k.height,P=u+d;if("horizontal"===i){var T=P+m/2;if("start"===t)b=M-P-m>0?-T:T;else b=E-M-N-P>m?T:-T}else{var A=v+P;x="start"===t?C-d>v?-A:P:S-(C+O)-d>v?A:-P}return{x:b,y:x,text:f}},e.prototype.getHandleLabelStyle=function(t){var e=pw(this.attributes,"handleLabel");return a(a(a({},e),this.calcHandleText(t)),this.inferTextStyle(t))},e.prototype.getHandleIconStyle=function(){var t=this.attributes.handleIconShape,e=pw(this.attributes,"handleIcon"),n=this.getOrientVal(["ew-resize","ns-resize"]),r=this.getHandleSize();return a({cursor:n,shape:t,size:r},e)},e.prototype.getHandleStyle=function(t){var e=this.attributes,n=e.x,r=e.y,i=e.showLabel,o=e.showLabelOnInteraction,s=e.orientation,l=this.calcHandlePosition(t),c=l.x,u=l.y,d=this.calcHandleText(t),h=i;return!i&&o&&(h=!!this.target),a(a(a({},gw(this.getHandleIconStyle(),"icon")),gw(a(a({},this.getHandleLabelStyle(t)),d),"label")),{transform:"translate(".concat(c+n,", ").concat(u+r,")"),orientation:s,showLabel:h,type:t,zIndex:3})},e.prototype.getHandleSize=function(){var t=this.attributes,e=t.handleIconSize,n=t.width,r=t.height;return e||Math.floor((this.getOrientVal([+r,+n])+4)/2.4)},e.prototype.getOrientVal=function(t){var e=d(t,2),n=e[0],r=e[1];return"horizontal"===this.attributes.orientation?n:r},e.prototype.setValuesOffset=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1);var r=this.attributes.type,i=d(this.getValues(),2),o=[i[0]+("range"===r?t:0),i[1]+e].sort();n?this.setValues(o):this.innerSetValues(o,!0)},e.prototype.getRatio=function(t){var e=this.availableSpace,n=e.width,r=e.height;return t/this.getOrientVal([n,r])},e.prototype.dispatchCustomEvent=function(t,e,n){var r=this;t.on(e,(function(t){t.stopPropagation(),r.dispatchEvent(new Ua(n,{detail:t}))}))},e.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var t=this.brushArea;this.dispatchCustomEvent(t,"click","trackClick"),this.dispatchCustomEvent(t,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(t,"pointerleave","trackMouseleave"),t.on("pointerdown",this.onDragStart("track"))},e.prototype.onScroll=function(t){if(this.attributes.scrollable){var e=t.deltaX,n=t.deltaY||e,r=this.getRatio(n);this.setValuesOffset(r,r,!0)}},e.tag="slider",e}(uw),Vk={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(t){return t.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},Hk=xw({background:"background",labelGroup:"label-group",label:"label"},"indicator"),Wk=function(t){function e(e){var n=t.call(this,e,Vk)||this;return n.point=[0,0],n.group=n.appendChild(new Ts({})),n.isMutationObserved=!0,n}return o(e,t),e.prototype.renderBackground=function(){if(this.label){var t=this.attributes,e=t.position,n=d(Jx(t.padding),4),r=n[0],i=n[1],o=n[2],s=n[3],l=this.label.node().getLocalBounds(),c=l.min,u=l.max,h=new Xx(c[0]-s,c[1]-r,u[0]+i-c[0]+s,u[1]+o-c[1]+r),f=this.getPath(e,h),p=pw(this.attributes,"background");this.background=bw(this.group).maybeAppendByClassName(Hk.background,"path").styles(a(a({},p),{d:f})),this.group.appendChild(this.label.node())}},e.prototype.renderLabel=function(){var t=this.attributes,e=t.formatter,n=t.labelText,r=d(mw(pw(this.attributes,"label")),2),i=r[0],o=r[1],a=(i.text,s(i,["text"]));(this.label=bw(this.group).maybeAppendByClassName(Hk.labelGroup,"g").styles(o),n)&&this.label.maybeAppendByClassName(Hk.label,(function(){return qw(e(n))})).style("text",e(n).toString()).selectAll("text").styles(a)},e.prototype.adjustLayout=function(){var t=d(this.point,2),e=t[0],n=t[1],r=this.attributes,i=r.x,o=r.y;this.group.attr("transform","translate(".concat(i-e,", ").concat(o-n,")"))},e.prototype.getPath=function(t,e){var n=this.attributes.radius,r=e.x,i=e.y,o=e.width,a=e.height,s=[["M",r+n,i],["L",r+o-n,i],["A",n,n,0,0,1,r+o,i+n],["L",r+o,i+a-n],["A",n,n,0,0,1,r+o-n,i+a],["L",r+n,i+a],["A",n,n,0,0,1,r,i+a-n],["L",r,i+n],["A",n,n,0,0,1,r+n,i],["Z"]],l={top:4,right:6,bottom:0,left:2}[t],c=this.createCorner([s[l].slice(-2),s[l+1].slice(-2)]);return s.splice.apply(s,h([l+1,1],d(c),!1)),s[0][0]="M",s},e.prototype.createCorner=function(t,e){void 0===e&&(e=10);var n=Uw.apply(void 0,h([],d(t),!1)),r=d(t,2),i=d(r[0],2),o=i[0],a=i[1],s=d(r[1],2),l=s[0],c=s[1],u=d(n?[l-o,[o,l]]:[c-a,[a,c]],2),f=u[0],p=d(u[1],2),g=p[0],m=p[1],v=f/2,y=e*(f/Math.abs(f)),b=y/2,x=y*Math.sqrt(3)/2*.8,w=d([g,g+v-b,g+v,g+v+b,m],5),E=w[0],S=w[1],k=w[2],M=w[3],C=w[4];return n?(this.point=[k,a-x],[["L",E,a],["L",S,a],["L",k,a-x],["L",M,a],["L",C,a]]):(this.point=[o+x,k],[["L",o,E],["L",o,S],["L",o+x,k],["L",o,M],["L",o,C]])},e.prototype.applyVisibility=function(){"hidden"===this.attributes.visibility?rw(this):nw(this)},e.prototype.bindEvents=function(){this.label.on(Za.BOUNDS_CHANGED,this.renderBackground)},e.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},e}(uw),Gk=function(t){function e(n){var r=t.call(this,aw({},e.defaultOptions,n))||this;return r.hoverColor="#f5f5f5",r.selectedColor="#e6f7ff",r.background=r.appendChild(new js({})),r.label=r.background.appendChild(new Ts({})),r}return o(e,t),Object.defineProperty(e.prototype,"padding",{get:function(){return Jx(this.style.padding)},enumerable:!1,configurable:!0}),e.prototype.renderLabel=function(){var t=this.style,e=t.label,n=t.value,r=pw(this.attributes,"label");bw(this.label).maybeAppend(".label",(function(){return qw(e)})).attr("className","label").styles(r),this.label.attr("__data__",n)},e.prototype.renderBackground=function(){var t=this.label.getBBox(),e=d(this.padding,4),n=e[0],r=e[1],i=e[2],o=e[3],s=t.width,l=t.height,c=s+o+r,u=l+n+i,h=pw(this.attributes,"background"),f=this.style,p=f.width,g=void 0===p?0:p,m=f.height,v=void 0===m?0:m,y=f.selected;this.background.attr(a(a({},h),{width:Math.max(c,g),height:Math.max(u,v),fill:y?this.selectedColor:"#fff"})),this.label.attr({transform:"translate(".concat(o,", ").concat((u-l)/2,")")})},e.prototype.render=function(){this.renderLabel(),this.renderBackground()},e.prototype.bindEvents=function(){var t=this;this.addEventListener("pointerenter",(function(){t.style.selected||t.background.attr("fill",t.hoverColor)})),this.addEventListener("pointerleave",(function(){t.style.selected||t.background.attr("fill",t.style.backgroundFill)}));var e=this;this.addEventListener("click",(function(){var n=t.style,r=n.label,i=n.value,o=n.onClick;null===o||void 0===o||o(i,{label:r,value:i},e)}))},e.defaultOptions={style:{value:"",label:"",cursor:"pointer"}},e}(uw),Uk=function(t){function e(n){var r,i,o=t.call(this,aw({},e.defaultOptions,n))||this;o.currentValue=null===(r=e.defaultOptions.style)||void 0===r?void 0:r.defaultValue,o.isPointerInSelect=!1,o.select=o.appendChild(new js({className:"select",style:{cursor:"pointer",width:0,height:0}})),o.dropdown=o.appendChild(new js({className:"dropdown"}));var a=o.style.defaultValue;return a&&(null===(i=o.style.options)||void 0===i?void 0:i.some((function(t){return t.value===a})))&&(o.currentValue=a),o}return o(e,t),e.prototype.setValue=function(t){this.currentValue=t,this.render()},e.prototype.getValue=function(){return this.currentValue},Object.defineProperty(e.prototype,"dropdownPadding",{get:function(){return Jx(this.style.dropdownPadding)},enumerable:!1,configurable:!0}),e.prototype.renderSelect=function(){var t,e=this,n=this.style,r=n.x,i=n.y,o=n.width,s=n.height,l=n.bordered,c=n.showDropdownIcon,u=pw(this.attributes,"select"),d=pw(this.attributes,"placeholder");this.select.attr(a(a({x:r,y:i,width:o,height:s},u),{fill:"#fff",strokeWidth:l?1:0}));var h=this.dropdownPadding;c&&bw(this.select).maybeAppend(".dropdown-icon","path").style("d","M-5,-3.5 L0,3.5 L5,-3.5").style("transform","translate(".concat(r+o-10-h[1]-h[3],", ").concat(i+s/2,")")).style("lineWidth",1).style("stroke",this.select.style.stroke);var f=null===(t=this.style.options)||void 0===t?void 0:t.find((function(t){return t.value===e.currentValue})),p=a({x:r+h[3]},d);bw(this.select).selectAll(".placeholder").data(f?[]:[1]).join((function(t){return t.append("text").attr("className","placeholder").styles(p).style("y",(function(){var t=this.getBBox();return i+(s-t.height)/2}))}),(function(t){return t.styles(p)}),(function(t){return t.remove()}));var g=pw(this.attributes,"optionLabel"),m=a({x:r+h[3]},g);bw(this.select).selectAll(".value").data(f?[f]:[]).join((function(t){return t.append((function(t){return qw(t.label)})).attr("className","value").styles(m).style("y",(function(){var t=this.getBBox();return i+(s-t.height)/2}))}),(function(t){return t.styles(m)}),(function(t){return t.remove()}))},e.prototype.renderDropdown=function(){var t,e,n=this,r=this.style,i=r.x,o=r.y,s=r.width,l=r.height,c=r.options,u=r.onSelect,d=r.open,h=pw(this.attributes,"dropdown"),f=pw(this.attributes,"option"),p=this.dropdownPadding;bw(this.dropdown).maybeAppend(".dropdown-container","g").attr("className","dropdown-container").selectAll(".dropdown-item").data(c,(function(t){return t.value})).join((function(t){return t.append((function(t){return new Gk({className:"dropdown-item",style:a(a(a({},t),f),{width:s-p[1]-p[3],selected:t.value===n.currentValue,onClick:function(t,e,r){n.setValue(t),null===u||void 0===u||u(t,e,r),n.dispatchEvent(new Ua("change",{detail:{value:t,option:e,item:r}})),rw(n.dropdown)}})})})).each((function(t,e){var n,r=(null===(n=this.parentNode)||void 0===n?void 0:n.children).reduce((function(t,n,r){return r<e&&(t+=n.getBBox().height),t}),0);this.attr("transform","translate(".concat(p[3],", ").concat(p[0]+r,")"))}))}),(function(t){return t.update((function(t){return{selected:t.value===n.currentValue}}))}),(function(t){return t.remove()}));var g=null===(e=null===(t=this.dropdown.getElementsByClassName("dropdown-container"))||void 0===t?void 0:t[0])||void 0===e?void 0:e.getBBox(),m=h.spacing;this.dropdown.attr(a({transform:"translate(".concat(i,", ").concat(o+l+m,")"),width:g.width+p[1]+p[3],height:g.height+p[0]+p[2]},h)),!d&&rw(this.dropdown)},e.prototype.render=function(){this.renderSelect(),this.renderDropdown()},e.prototype.bindEvents=function(){var t=this;this.addEventListener("click",(function(t){t.stopPropagation()})),this.select.addEventListener("click",(function(){"visible"===t.dropdown.style.visibility?rw(t.dropdown):nw(t.dropdown)})),this.addEventListener("pointerenter",(function(){t.isPointerInSelect=!0})),this.addEventListener("pointerleave",(function(){t.isPointerInSelect=!1})),null===document||void 0===document||document.addEventListener("click",(function(){t.isPointerInSelect||rw(t.dropdown)}))},e.defaultOptions={style:{x:0,y:0,width:140,height:32,options:[],bordered:!0,defaultValue:"",selectRadius:8,selectStroke:"#d9d9d9",showDropdownIcon:!0,placeholderText:"\u8bf7\u9009\u62e9",placeholderFontSize:12,placeholderTextBaseline:"top",placeholderFill:"#c2c2c2",dropdownFill:"#fff",dropdownStroke:"#d9d9d9",dropdownRadius:8,dropdownShadowBlur:4,dropdownShadowColor:"rgba(0, 0, 0, 0.08)",dropdownPadding:8,dropdownSpacing:10,optionPadding:[8,12],optionFontSize:12,optionTextBaseline:"top",optionBackgroundFill:"#fff",optionBackgroundRadius:4,optionLabelFontSize:12,optionLabelTextBaseline:"top"}},e}(uw),qk=function(t){function e(n){var r=t.call(this,aw({},{style:{backgroundOpacity:e.backgroundOpacities.default}},e.defaultOptions,n))||this;return r.showBackground=!0,r.background=r.appendChild(new js({})),r.icon=r.appendChild(new Ts({})),r}return o(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"BaseIcon"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return Math.log10(this.attributes.size)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return Jx(this.attributes.size/5)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"iconSize",{get:function(){var t=this.attributes.size,e=d(this.padding,4),n=e[0],r=e[1],i=e[2],o=e[3];return Math.max(t-Math.max(o+r,n+i),2*this.lineWidth+1)},enumerable:!1,configurable:!0}),e.prototype.renderBackground=function(){var t=this.attributes,e=t.x,n=t.y,r=t.size,i=r/2,o=pw(this.attributes,"background");this.background.attr(a({x:e-i,y:n-i,width:r,height:r},o))},e.prototype.showIndicator=function(){if(this.label){var t=this.attributes.size,e=this.background.getBBox(),n=e.x,r=e.y;this.indicator.update({x:n+t/2,y:r-5,labelText:this.label,visibility:"visible"})}},e.prototype.hideIndicator=function(){this.indicator.update({visibility:"hidden"})},e.prototype.connectedCallback=function(){var e;t.prototype.connectedCallback.call(this);var n=this.attributes.size,r=this.background.getBBox(),i=r.x,o=r.y,a=null===(e=this.ownerDocument)||void 0===e?void 0:e.defaultView;a&&(this.indicator=a.appendChild(new Wk({style:{x:i+n/2,y:o-n/2,visibility:"hidden",position:"top",radius:3,zIndex:100}})))},e.prototype.disconnectedCallback=function(){this.indicator.destroy()},e.prototype.render=function(){this.renderIcon(),this.showBackground&&this.renderBackground()},e.prototype.bindEvents=function(){var t=this,n=this.attributes.onClick;if(this.addEventListener("click",(function(){null===n||void 0===n||n(t)})),this.showBackground){var r=function(){return t.background.attr({opacity:e.backgroundOpacities.default})};this.addEventListener("pointerenter",(function(){t.background.attr({opacity:e.backgroundOpacities.hover}),t.showIndicator()})),this.addEventListener("pointerleave",(function(){r(),t.hideIndicator()})),this.addEventListener("pointerdown",(function(){t.background.attr({opacity:e.backgroundOpacities.active})})),this.addEventListener("pointerup",(function(){r()}))}},e.tag="IconBase",e.defaultOptions={style:{x:0,y:0,size:10,color:"#565758",backgroundRadius:4,backgroundFill:"#e2e2e2"}},e.backgroundOpacities={default:0,hover:.8,active:1},e}(uw),Yk=function(t,e){return void 0===e&&(e="#565758"),new Ls({style:{fill:e,d:"M ".concat(t,",").concat(t," L -").concat(t,",0 L ").concat(t,",-").concat(t," Z"),transformOrigin:"center"}})},Xk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.arcPath=function(t,e,n){var r=d([n,n],2),i=r[0],o=r[1],a=function(r){return[t+n*Math.cos(r),e+n*Math.sin(r)]},s=d(a(-5/4*Math.PI),2),l=s[0],c=s[1],u=d(a(1/4*Math.PI),2),h=u[0],f=u[1];return"M".concat(l,",").concat(c,",A").concat(i,",").concat(o,",0,1,1,").concat(h,",").concat(f)},Object.defineProperty(e.prototype,"label",{get:function(){return"\u91cd\u7f6e"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=this.lineWidth,a=o+.5;bw(this.icon).maybeAppend(".reset","path").styles({stroke:r,lineWidth:o,d:this.arcPath(e,n,i/2-o),markerStart:Yk(a,r)})},e}(qk),Kk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"\u5feb\u9000"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=i/2,a=i/2/Math.pow(3,.5),s=[[e,n],[e,n-a],[e-o,n],[e,n+a],[e,n],[e+o,n-a],[e+o,n+a],[e,n]];bw(this.icon).maybeAppend(".backward","polygon").styles({points:s,fill:r})},e}(qk),Zk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"\u5feb\u8fdb"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=i/2,a=i/2/Math.pow(3,.5),s=[[e,n],[e,n-a],[e+o,n],[e,n+a],[e,n],[e-o,n-a],[e-o,n+a],[e,n]];bw(this.icon).maybeAppend(".forward","polygon").styles({points:s,fill:r})},e}(qk),Qk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"\u64ad\u653e"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=i/3*Math.pow(3,.5)*.8,a=[[e+o,n],[e-o/2,n-i/2*.8],[e-o/2,n+i/2*.8],[e+o,n]];bw(this.icon).maybeAppend(".play","polygon").styles({points:a,fill:r})},e}(qk),Jk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"\u6682\u505c"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=i/3,a=[[e-o,n-i/2],[e-o,n+i/2],[e-o/2,n+i/2],[e-o/2,n-i/2],[e-o,n-i/2],[e+o/2,n-i/2],[e+o/2,n+i/2],[e+o,n+i/2],[e+o,n-i/2]];bw(this.icon).maybeAppend(".pause","polygon").styles({points:a,fill:r})},e}(qk),tM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"\u8303\u56f4\u65f6\u95f4"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=this.lineWidth,a=o;bw(this.icon).maybeAppend(".left-line","line").styles({x1:e-i/2,y1:n-i/2,x2:e-i/2,y2:n+i/2,stroke:r,lineWidth:o}),bw(this.icon).maybeAppend(".right-line","line").styles({x1:e+i/2,y1:n-i/2,x2:e+i/2,y2:n+i/2,stroke:r,lineWidth:o}),bw(this.icon).maybeAppend(".left-arrow","line").styles({x1:e,y1:n,x2:e-i/2+2*a,y2:n,stroke:r,lineWidth:o,markerEnd:Yk(2*o,r)}),bw(this.icon).maybeAppend(".right-arrow","line").styles({x1:e,y1:n,x2:e+i/2-2*a,y2:n,stroke:r,lineWidth:o,markerEnd:Yk(2*o,r)})},e}(qk),eM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"\u5355\u4e00\u65f6\u95f4"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=this.lineWidth;bw(this.icon).maybeAppend(".line","line").styles({x1:e,y1:n-i/2,x2:e,y2:n+i/2,stroke:r,lineWidth:o});var a=o;bw(this.icon).maybeAppend(".left-arrow","line").styles({x1:e-i/2-2*a,y1:n,x2:e-2*a,y2:n,stroke:r,lineWidth:o,markerEnd:Yk(2*o,r)}),bw(this.icon).maybeAppend(".right-arrow","line").styles({x1:e+i/2+2*a,y1:n,x2:e+2*a,y2:n,stroke:r,lineWidth:o,markerEnd:Yk(2*o,r)})},e}(qk),nM=function(t){return[[-t/2,-t/2],[-t/2,t/2],[t/2,t/2]]},rM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"\u6298\u7ebf\u56fe"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=this.lineWidth,a=(i-2*o-o)/4,s=(i-2*o-o)/2,l=d([e-i/2+o,n+i/2-2*o],2),c=l[0],u=l[1];bw(this.icon).maybeAppend(".coordinate","polyline").styles({points:nM(i).map((function(t){var r=d(t,2),i=r[0],o=r[1];return[i+e,o+n]})),stroke:r,lineWidth:o}),bw(this.icon).maybeAppend(".line","polyline").styles({points:[[c,u],[c+a,u-s],[c+2*a,u],[c+4*a,u-2*s]],stroke:r,lineWidth:o})},e}(qk),iM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"\u6761\u5f62\u56fe"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return[1,4,2,4,3]},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.data,e=this.attributes,n=e.x,r=e.y,i=e.color,o=this.iconSize,a=this.lineWidth,s=a,l=(o-s)/t.length,c=(o-2*s)/4,u=d([n-o/2+2*s,r+o/2-s],2),h=u[0],f=u[1];bw(this.icon).maybeAppend(".coordinate","polyline").styles({points:nM(o).map((function(t){var e=d(t,2),i=e[0],o=e[1];return[i+n,o+r]})),stroke:i,lineWidth:a}),bw(this.icon).maybeAppend(".bars","g").selectAll(".column").data(this.data.map((function(t,e){return{value:t,index:e}}))).join((function(t){return t.append("line").attr("className","column").style("x1",(function(t){var e=t.index;return h+l*e})).style("y1",f).style("x2",(function(t){var e=t.index;return h+l*e})).style("y2",(function(t){var e=t.value;return f-c*e})).styles({y1:f,stroke:i,lineWidth:a})}))},e}(qk),oM=function(t){function e(e){var n=t.call(this,aw({},{style:{color:"#d8d9d9"}},e))||this;return n.showBackground=!1,n}return o(e,t),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=this.lineWidth;bw(this.icon).maybeAppend(".split","line").styles({x1:e,y1:n-i/2,x2:e,y2:n+i/2,stroke:r,lineWidth:o})},e}(qk),aM=function(t){function e(){var e=t.apply(this,h([],d(arguments),!1))||this;return e.showBackground=!1,e}return o(e,t),Object.defineProperty(e.prototype,"padding",{get:function(){return Jx(0)},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.iconSize,e=this.attributes,n=e.x,r=e.y,i=e.speed,o=void 0===i?1:i,s=_b(this.attributes,["x","y","transform","transformOrigin","width","height","size","color","speed"]),l=Qt(t,20,1/0),c=a(a({},s),{x:n-l/2,y:r-10,width:l,height:20,defaultValue:o,bordered:!1,showDropdownIcon:!1,selectRadius:2,dropdownPadding:this.padding,dropdownRadius:2,dropdownSpacing:t/5,placeholderFontSize:t/2,optionPadding:0,optionLabelFontSize:t/2,optionBackgroundRadius:1,options:[{label:"1x",value:1},{label:"1.5x",value:1.5},{label:"2x",value:2}]});bw(this.icon).maybeAppend(".speed",(function(){return new Uk({style:c})})).attr("className","speed").each((function(){this.update(c)}))},e.tag="SpeedSelect",e}(qk),sM=function(t){function e(e){var n=t.call(this,e)||this;return n.icon=n.appendChild(new Ts({})),n.currentType=n.attributes.type,n}return o(e,t),e.prototype.getType=function(){return this.currentType},e.prototype.render=function(){var t=this,e=this.attributes,n=(e.onChange,s(e,["onChange"]));bw(this.icon).selectAll(".icon").data([this.currentType]).join((function(e){return e.append((function(e){var n,r=null===(n=t.toggles.find((function(t){return d(t,1)[0]===e})))||void 0===n?void 0:n[1];if(!r)throw new Error("Invalid type: ".concat(e));return new r({})})).attr("className","icon").styles(n,!1).update({})}),(function(t){return t.styles({restStyles:n}).update({})}),(function(t){return t.remove()}))},e.prototype.bindEvents=function(){var t=this,e=this.attributes.onChange;this.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation();var r=(t.toggles.findIndex((function(e){return d(e,1)[0]===t.currentType}))+1)%t.toggles.length,i=t.toggles[r][0];null===e||void 0===e||e(t.currentType),t.currentType=i,t.render()}))},e.tag="ToggleIcon",e}(uw),lM=function(t){function e(e){var n=t.call(this,aw({},{style:{type:"play"}},e))||this;return n.toggles=[["play",Qk],["pause",Jk]],n}return o(e,t),e}(sM),cM=function(t){function e(e){var n=t.call(this,aw({},{style:{type:"range"}},e))||this;return n.toggles=[["range",tM],["value",eM]],n}return o(e,t),e}(sM),uM=function(t){function e(e){var n=t.call(this,aw({},{style:{type:"column"}},e))||this;return n.toggles=[["line",rM],["column",iM]],n}return o(e,t),e}(sM),dM={reset:Xk,speed:aM,backward:Kk,playPause:lM,forward:Zk,selectionType:cM,chartType:uM,split:oM},hM=function(t){function e(n){var r=t.call(this,aw({},e.defaultOptions,n))||this;return r.background=r.appendChild(new js({})),r.functions=r.appendChild(new Ts({})),r}return o(e,t),Object.defineProperty(e.prototype,"padding",{get:function(){return Jx(this.attributes.padding)},enumerable:!1,configurable:!0}),e.prototype.renderBackground=function(){var t=this.style,e=t.x,n=t.y,r=t.width,i=t.height,o=pw(this.attributes,"background");this.background.attr(a({x:e,y:n,width:r,height:i},o))},e.prototype.renderFunctions=function(){var t,e=this,n=this.attributes,r=n.functions,i=n.iconSize,o=n.iconSpacing,s=n.x,l=n.y,c=n.width,u=n.height,f=n.align,p=d(this.padding,4),g=p[1],m=p[3],v=r.reduce((function(t,e){return t.length&&e.length?t.concat.apply(t,h(["split"],d(e),!1)):t.concat.apply(t,h([],d(e),!1))}),[]),y=v.length*(i+o)-o,b={left:m+i/2,center:(c-y)/2+i/2,right:c-y-m-g+i/2}[f]||0;null===(t=this.speedSelect)||void 0===t||t.destroy(),this.functions.removeChildren(),v.forEach((function(t,n){var r,c=dM[t],d={x:s+n*(i+o)+b,y:l+u/2,size:i};if(c===aM?(d.speed=e.attributes.speed,d.onSelect=function(n){return e.handleFunctionChange(t,{value:n})}):[lM,cM,uM].includes(c)?(d.onChange=function(n){return e.handleFunctionChange(t,{value:n})},c===lM&&(d.type="play"===e.attributes.state?"pause":"play"),c===cM&&(d.type="range"===e.attributes.selectionType?"value":"range"),c===uM&&(d.type="line"===e.attributes.chartType?"column":"line")):d.onClick=function(){return e.handleFunctionChange(t,{value:t})},c===aM){var h=null===(r=e.ownerDocument)||void 0===r?void 0:r.defaultView;h&&(e.speedSelect=new c({style:a(a({},d),{zIndex:100})}),h.appendChild(e.speedSelect))}else e.functions.appendChild(new c({style:d}))}))},e.prototype.disconnectedCallback=function(){var e;t.prototype.disconnectedCallback.call(this),null===(e=this.speedSelect)||void 0===e||e.destroy()},e.prototype.render=function(){this.renderBackground(),this.renderFunctions()},e.prototype.handleFunctionChange=function(t,e){var n=this.attributes.onChange;null===n||void 0===n||n(t,e)},e.defaultOptions={style:{x:0,y:0,width:300,height:40,padding:0,align:"center",iconSize:25,iconSpacing:0,speed:1,state:"pause",chartType:"line",selectionType:"range",backgroundFill:"#fbfdff",backgroundStroke:"#ebedf0",functions:[["reset","speed"],["backward","playPause","forward"],["selectionType","chartType"]]}},e}(uw),fM=function(t){function e(n){var r=t.call(this,aw({},e.defaultOptions,n))||this;return r.bindEvents(),r}return o(e,t),e.prototype.bindEvents=function(){var t=this;this.addEventListener("mouseenter",(function(){t.attr("lineWidth",Math.ceil(+(t.style.r||0)/2))})),this.addEventListener("mouseleave",(function(){t.attr("lineWidth",0)}))},e.defaultOptions={style:{r:5,fill:"#3f7cf7",lineWidth:0,stroke:"#3f7cf7",strokeOpacity:.5,cursor:"pointer"}},e}(Ns),pM=function(t){function e(n){return t.call(this,aw({},e.defaultOptions,n))||this}return o(e,t),e.prototype.renderBackground=function(){var t=this.attributes,e=t.x,n=t.y,r=t.width,i=t.height,o=pw(this.attributes,"background");bw(this).maybeAppend("background","rect").attr("className","background").styles(a({x:e-r/2,y:n-i/2,width:r,height:i},o))},e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.iconSize,i=pw(this.attributes,"icon"),o=r/2;bw(this).maybeAppend("icon-left-line","line").attr("className","icon-left-line").styles(a({x1:e-1,y1:n-o,x2:e-1,y2:n+o},i)),bw(this).maybeAppend("icon-right-line","line").attr("className","icon-right-line").styles(a({x1:e+1,y1:n-o,x2:e+1,y2:n+o},i))},e.prototype.renderBorder=function(){var t=this.attributes,e=t.x,n=t.y,r=t.width,i=t.height,o=t.type,s=pw(this.attributes,"border"),l="start"===o?+r/2:-r/2;bw(this).maybeAppend("border","line").attr("className","border").styles(a({x1:l+e,y1:n-i/2,x2:l+e,y2:n+i/2},s))},e.prototype.render=function(){this.renderBackground(),this.renderIcon(),this.renderBorder()},e.defaultOptions={style:{x:0,y:0,width:10,height:50,iconSize:10,type:"start",backgroundFill:"#fff",backgroundFillOpacity:.5,iconStroke:"#9a9a9a",iconLineWidth:1,borderStroke:"#e8e8e8",borderLineWidth:1}},e}(uw);function gM(t,e){return"number"===typeof t?mM(t):function(t,e){var n=new Date(t);switch(e){case"half-hour":case"hour":case"four-hour":return[0,6,12,18].includes(n.getHours())&&0===n.getMinutes()?wE(n,"HH:mm\nYYYY-MM-DD"):wE(n,"HH:mm");case"half-day":return n.getHours()<12?"AM\n".concat(wE(n,"YYYY-MM-DD")):"PM";case"day":return[1,10,20].includes(n.getDate())?wE(n,"DD\nYYYY-MM"):wE(n,"DD");case"week":return n.getDate()<=7?wE(n,"DD\nYYYY-MM"):wE(n,"DD");case"month":return[0,6].includes(n.getMonth())?wE(n,"MM\u6708\nYYYY"):wE(n,"MM\u6708");case"season":return[0].includes(n.getMonth())?wE(n,"MM\u6708\nYYYY"):wE(n,"MM\u6708");case"year":return wE(n,"YYYY");default:return wE(n,"YYYY-MM-DD HH:mm")}}(t,e)}function mM(t){var e=String(Math.floor(t/3600)).padStart(2,"0"),n=String(Math.floor(t%3600/60)).padStart(2,"0"),r=String(Math.floor(t%60)).padStart(2,"0");return t<3600?"".concat(n,":").concat(r):"".concat(e,":").concat(n,":").concat(r)}var vM=function(t){function e(n){var r=t.call(this,aw({},e.defaultOptions,n))||this;r.axis=r.appendChild(new FS({style:{type:"linear",startPos:[0,0],endPos:[0,0],data:[],showArrow:!1,animate:!1}})),r.timeline=r.appendChild(new $k({style:{onChange:function(t){r.handleSliderChange(t)}}})),r.controller=r.appendChild(new hM({})),r.states={},r.handleSliderChange=function(t){var e=function(){var t=r.states.values;return Array.isArray(t)?h([],d(t),!1):t}();r.setBySliderValues(t),r.dispatchOnChange(e)};var i=r.attributes,o=i.selectionType,a=i.chartType,s=i.speed,l=i.state,c=i.playMode,u=i.values;return r.states={chartType:a,playMode:c,selectionType:o,speed:s,state:l},r.setByTimebarValues(u),r}return o(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.data.sort((function(t,e){return t.time<e.time?-1:t.time>e.time?1:0}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"space",{get:function(){var t=this.attributes,e=t.x,n=t.y,r=t.width,i=t.height,o=t.type,a=t.controllerHeight,s=Qt(+i-a,0,+i),l=new Xx(e,n+ +i-a,+r,a),c=0,u="time"===o?10:s;return{axisBBox:"chart"===o?new Xx(e,n+s-(c=35),+r,c):new Xx,controllerBBox:l,timelineBBox:new Xx(e,n+("time"===o?s:s-u),+r,u-c)}},enumerable:!1,configurable:!0}),e.prototype.setBySliderValues=function(t){var e,n,r=this.data,i=d(Array.isArray(t)?t:[0,t],2),o=i[0],a=i[1],s=r.length,l=r[Math.floor(o*s)],c=r[Math.ceil(a*s)-(Array.isArray(t)?0:1)];this.states.values=[null!==(e=null===l||void 0===l?void 0:l.time)&&void 0!==e?e:r[0].time,null!==(n=null===c||void 0===c?void 0:c.time)&&void 0!==n?n:1/0]},e.prototype.setByTimebarValues=function(t){var e,n,r,i=this.data,o=d(Array.isArray(t)?t:[void 0,t],2),a=o[0],s=o[1],l=i.find((function(t){return t.time===a})),c=i.find((function(t){return t.time===s}));this.states.values=[null!==(e=null===l||void 0===l?void 0:l.time)&&void 0!==e?e:null===(n=i[0])||void 0===n?void 0:n.time,null!==(r=null===c||void 0===c?void 0:c.time)&&void 0!==r?r:1/0]},e.prototype.setByIndex=function(t){var e,n,r,i,o=this.data,a=d(t,2),s=a[0],l=a[1];this.states.values=[null!==(n=null===(e=o[s])||void 0===e?void 0:e.time)&&void 0!==n?n:o[0].time,null!==(i=null===(r=this.data[l])||void 0===r?void 0:r.time)&&void 0!==i?i:1/0]},Object.defineProperty(e.prototype,"sliderValues",{get:function(){var t=this.states,e=t.values,n=t.selectionType,r=d(Array.isArray(e)?e:[void 0,e],2),i=r[0],o=r[1],a=this.data,s=a.length,l="value"===n;return[function(){var t=a.findIndex((function(t){return t.time===i}));return l?0:t>-1?t/s:0}(),function(){if(o===1/0)return 1;var t=a.findIndex((function(t){return t.time===o}));return t>-1?t/s:l?.5:1}()]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){var t=this.states,e=t.values,n=t.selectionType,r=d(Array.isArray(e)?e:[this.data[0].time,e],2),i=r[0],o=r[1];return"value"===n?o:[i,o]},enumerable:!1,configurable:!0}),e.prototype.getDatumByRatio=function(t){var e=this.data,n=e.length;return e[Math.floor(t*(n-1))]},Object.defineProperty(e.prototype,"chartHandleIconShape",{get:function(){var t=this.states.selectionType,e=this.space.timelineBBox.height;return"range"===t?function(t){return new pM({style:{type:t,height:e,iconSize:e/6}})}:function(){return new _s({style:{x1:0,y1:-e/2,x2:0,y2:e/2,lineWidth:2,stroke:"#c8c8c8"}})}},enumerable:!1,configurable:!0}),e.prototype.getChartStyle=function(t){var e=this,n=t.x,r=t.y,i=t.width,o=t.height,l=this.states,c=l.selectionType,u=l.chartType,d=this.data,h=this.attributes,f=h.type,p=h.labelFormatter,g=pw(this.attributes,"chart"),m=(g.type,s(g,["type"])),v="range"===c;if("time"===f)return a({handleIconShape:function(){return new fM({})},selectionFill:"#2e7ff8",selectionFillOpacity:1,showLabelOnInteraction:!0,handleLabelDy:v?-15:0,autoFitLabel:v,handleSpacing:v?-15:0,trackFill:"#edeeef",trackLength:i,trackOpacity:.5,trackRadius:o/2,trackSize:o/2,type:c,values:this.sliderValues,formatter:function(t){if(p)return p(t);var n=e.getDatumByRatio(t).time;return"number"===typeof n?mM(n):wE(n,"YYYY-MM-DD HH:mm:ss")},transform:"translate(".concat(n,", ").concat(r,")"),zIndex:1},m);var y="range"===c?5:0,b=d.map((function(t){return t.value}));return a({handleIconOffset:y,handleIconShape:this.chartHandleIconShape,selectionFill:"#fff",selectionFillOpacity:.5,selectionType:"invert",sparklineSpacing:.1,sparklineColumnLineWidth:0,sparklineColor:"#d4e5fd",sparklineAreaOpacity:1,sparklineAreaLineWidth:0,sparklineData:b,sparklineType:u,sparklineScale:.8,trackLength:i,trackSize:o,type:c,values:this.sliderValues,transform:"translate(".concat(n,", ").concat(r,")"),zIndex:1},m)},e.prototype.renderChart=function(t){void 0===t&&(t=this.space.timelineBBox),this.timeline.update(this.getChartStyle(t))},e.prototype.updateSelection=function(){this.timeline.setValues(this.sliderValues,!0),this.handleSliderChange(this.sliderValues)},e.prototype.getAxisStyle=function(t){var e=this.data,n=this.attributes,r=n.interval,i=n.labelFormatter,o=pw(this.attributes,"axis"),s=t.x,l=t.y,c=t.width,u=h(h([],d(e),!1),[{time:0}],!1).map((function(t,e,n){var r=t.time;return{label:"".concat(r),value:e/(n.length-1),time:r}})),f=a({startPos:[s,l],endPos:[s+c,l],data:u,labelFilter:function(t,e){return e<u.length-1},labelFormatter:function(t){var e=t.time;return i?i(e):gM(e,r)}},o);return f},e.prototype.renderAxis=function(t){void 0===t&&(t=this.space.axisBBox),"chart"===this.attributes.type&&this.axis.update(this.getAxisStyle(t))},e.prototype.renderController=function(t){void 0===t&&(t=this.space.controllerBBox);var e=this.attributes.type,n=this.states,r=n.state,i=n.speed,o=n.selectionType,s=n.chartType,l=pw(this.attributes,"controller"),c=this,u=a(a(a({},t),{iconSize:20,speed:i,state:r,selectionType:o,chartType:s,onChange:function(t,e){var n=e.value;switch(t){case"reset":c.internalReset();break;case"speed":c.handleSpeedChange(n);break;case"backward":c.internalBackward();break;case"playPause":"play"===n?c.internalPlay():c.internalPause();break;case"forward":c.internalForward();break;case"selectionType":c.handleSelectionTypeChange(n);break;case"chartType":c.handleChartTypeChange(n)}}}),l);"time"===e&&(u.functions=[["reset","speed"],["backward","playPause","forward"],["selectionType"]]),this.controller.update(u)},e.prototype.dispatchOnChange=function(t){var e=this.data,n=this.attributes.onChange,r=this.states,i=r.values,o=r.selectionType,a=d(i,2),s=a[0],l=a[1],c=l===1/0?e.at(-1).time:l;t&&function(t,e){if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t[0]===e[0]){if(t[1]===e[1])return!0;if(t[1]===1/0||e[1]===1/0)return!0}return!1}return!Array.isArray(e)&&t===e}(t,"range"===o?[s,c]:c)||null===n||void 0===n||n("range"===o?[s,c]:c)},e.prototype.internalReset=function(t){var e,n,r=this.states.selectionType;this.internalPause(),this.setBySliderValues("range"===r?[0,1]:[0,0]),this.renderController(),this.updateSelection(),t||(null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onReset)||void 0===n||n.call(e),this.dispatchOnChange())},e.prototype.reset=function(){this.internalReset()},e.prototype.moveSelection=function(t,e){var n=this.data,r=n.length,i=this.states,o=i.values,a=i.selectionType,s=i.playMode,l=d(o,2),c=l[0],u=l[1],h=n.findIndex((function(t){return t.time===c})),f=n.findIndex((function(t){return t.time===u}));-1===f&&(f=r);var p,g="backward"===t?-1:1;"range"===a?"acc"===s?(p=[h,f+g],-1===g&&h===f&&(p=[h,r])):p=[h+g,f+g]:p=[h,f+g];var m=function(t){var e=d(t.sort((function(t,e){return t-e})),2),n=e[0],i=e[1],o=function(t){return Qt(t,0,r)};return i>r?"value"===a?[0,0]:"acc"===s?[o(n),o(n)]:[0,o(i-n)]:n<0?"acc"===s?[0,o(i)]:[o(n+r-i),r]:[o(n),o(i)]}(p);return this.setByIndex(m),this.updateSelection(),m},e.prototype.internalBackward=function(t){var e,n,r=this.moveSelection("backward",t);return t||(null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onBackward)||void 0===n||n.call(e),this.dispatchOnChange()),r},e.prototype.backward=function(){this.internalBackward()},e.prototype.internalPlay=function(t){var e,n,r=this,i=this.data,o=this.attributes.loop,a=this.states.speed,s=void 0===a?1:a;this.playInterval=window.setInterval((function(){r.internalForward()[1]!==i.length||o||(r.internalPause(),r.renderController())}),1e3/s),this.states.state="play",!t&&(null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onPlay)||void 0===n||n.call(e))},e.prototype.play=function(){this.internalPlay()},e.prototype.internalPause=function(t){var e,n;clearInterval(this.playInterval),this.states.state="pause",!t&&(null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onPause)||void 0===n||n.call(e))},e.prototype.pause=function(){this.internalPause()},e.prototype.internalForward=function(t){var e,n,r=this.moveSelection("forward",t);return t||(null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onForward)||void 0===n||n.call(e),this.dispatchOnChange()),r},e.prototype.forward=function(){this.internalForward()},e.prototype.handleSpeedChange=function(t){var e,n;this.states.speed=t,"play"===this.states.state&&(this.internalPause(!0),this.internalPlay(!0)),null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onSpeedChange)||void 0===n||n.call(e,t)},e.prototype.handleSelectionTypeChange=function(t){var e,n;this.states.selectionType=t,this.renderChart(),null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onSelectionTypeChange)||void 0===n||n.call(e,t)},e.prototype.handleChartTypeChange=function(t){var e,n;this.states.chartType=t,this.renderChart(),null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onChartTypeChange)||void 0===n||n.call(e,t)},e.prototype.render=function(){var t=this.space,e=t.axisBBox,n=t.controllerBBox,r=t.timelineBBox;this.renderController(n),this.renderAxis(e),this.renderChart(r),"play"===this.states.state&&this.internalPlay()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.internalPause(!0)},e.defaultOptions={style:{x:0,y:0,axisLabelFill:"#6e6e6e",axisLabelTextAlign:"left",axisLabelTextBaseline:"top",axisLabelTransform:"translate(5, -12)",axisLineLineWidth:1,axisLineStroke:"#cacdd1",axisTickLength:15,axisTickLineWidth:1,axisTickStroke:"#cacdd1",chartShowLabel:!1,chartType:"line",controllerAlign:"center",controllerHeight:40,data:[],interval:"day",loop:!1,playMode:"acc",selectionType:"range",type:"time"}},e}(uw);const yM=function(t){return qt(t,"Date")},bM=["timestamp","time","date","datetime"];class xM extends zb{static defaultOptions={position:"bottom",enable:!0,timebarType:"time",className:"g6-timebar",width:450,height:60,zIndex:3,elementTypes:["node"],padding:10,mode:"modify",getTime:t=>SM(t,bM,void 0),loop:!1};timebar;canvas;wrapper;originalData;get padding(){return bu(this.options.padding)}constructor(t,e){super(t,Object.assign({},xM.defaultOptions,e)),this.backup(),this.upsertTimebar()}play(){this.timebar?.play()}pause(){this.timebar?.pause()}forward(){this.timebar?.forward()}backward(){this.timebar?.backward()}reset(){this.timebar?.reset()}update(t){super.update(t),this.backup(),Object.keys(t).forEach((t=>{if("position"===t)this.upsertWrapper();else this.upsertTimebar()}))}backup(){this.originalData=wM(this.context.graph.getData())}upsertTimebar(){const{canvas:t}=this.context,{onChange:e,timebarType:n,data:r,x:i,y:o,width:a,height:s,mode:l,...c}=this.options,u=t.getSize(),[d]=this.padding;this.upsertCanvas().ready.then((()=>{const t={x:u[0]/2-a/2,y:d,onChange:t=>{const n=(Me(t)?t:[t,t]).map((t=>yM(t)?t.getTime():t));"modify"===this.options.mode?this.filterElements(n):this.hiddenElements(n),e?.(n)},...c,data:r.map((t=>Yt(t)?{time:t,value:0}:t)),width:a,height:s,type:n};this.timebar?this.timebar.update(t):(this.timebar=new vM({style:t}),this.canvas?.appendChild(this.timebar))}))}upsertWrapper(){if(!this.wrapper){const t=document.createElement("div");t.style.position="absolute",this.wrapper=t}const{x:t,y:e,className:n,position:r}=this.options;return n&&(this.wrapper.className=n),Yt(t)||Yt(e)?Object.assign(this.wrapper.style,{left:`${t??0}px`,top:`${e??0}px`}):Object.assign(this.wrapper.style,{["top"===r?"bottom":"top"]:"unset",["top"===r?"top":"bottom"]:"0px"}),this.context.canvas.getContainer()?.appendChild(this.wrapper),this.wrapper}upsertCanvas(){const t=this.upsertWrapper();if(this.canvas)return this.canvas;const{height:e}=this.options,[n]=this.context.canvas.getSize(),[r,,i]=this.padding;return this.canvas=new Zs({container:t,width:n,height:e+r+i,renderer:this.context.options.renderer?.("main")||new yf,supportsMutipleCanvasesInOneContainer:!0}),this.canvas}async filterElements(t){if(!this.originalData)return;const{elementTypes:e,getTime:n}=this.options,{graph:r,element:i}=this.context,o=wM(this.originalData);e.forEach((e=>{const r=`${e}s`;o[r]=(this.originalData[r]||[]).filter((e=>{const r=n(e);return!!EM(r,t)}))}));const a=[...o.nodes,...o.combos].map((t=>Qc(t)));o.edges=o.edges.filter((t=>{const e=t.source,n=t.target;return a.includes(e)&&a.includes(n)})),r.setData(o),await(i.draw({animation:!1,silence:!0})?.finished)}hiddenElements(t){const{graph:e}=this.context,{elementTypes:n,getTime:r}=this.options,i=[],o=[];n.forEach((e=>{const n=`${e}s`;(this.originalData?.[n]||[]).forEach((e=>{const n=Qc(e),a=r(e);EM(a,t)?o.push(n):i.push(n)}))})),e.hideElement(i,!1),e.showElement(o,!1)}destroy(){const{graph:t}=this.context;this.originalData&&t.setData({...this.originalData}),this.timebar?.destroy(),this.canvas?.destroy(),this.wrapper?.remove(),this.originalData=void 0,this.wrapper=void 0,this.timebar=void 0,this.canvas=void 0,super.destroy()}}const wM=t=>{const{nodes:e=[],edges:n=[],combos:r=[]}=t;return{nodes:[...e],edges:[...n],combos:[...r]}},EM=(t,e)=>{if(Yt(e))return t===e;const[n,r]=e;return t>=n&&t<=r},SM=(t,e,n)=>{for(let r=0;r<e.length;r++){const n=e[r],i=t.data?.[n];if(i)return i}return n};class kM extends zb{static defaultOptions={position:"top-left"};$element=(()=>Db("toolbar",!1))();constructor(t,e){super(t,Object.assign({},kM.defaultOptions,e));const n=this.context.canvas.getContainer();this.$element.style.display="flex",n.appendChild(this.$element),jb("g6-toolbar-css","style",{},"\n  .g6-toolbar {\n    position: absolute;\n    z-index: 100;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);\n    opacity: 0.65;\n  }\n  .g6-toolbar .g6-toolbar-item {\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    padding: 4px;\n    cursor: pointer;\n    box-sizing: content-box;\n  }\n\n  .g6-toolbar .g6-toolbar-item:hover {\n    background-color: #f0f0f0;\n  }\n\n  .g6-toolbar .g6-toolbar-item svg {\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n  }\n",document.head),jb("g6-toolbar-svgicon","div",{display:"none"},'\n  <svg>\n    <symbol id="zoom-in" viewBox="64 64 896 896">\n      <path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="zoom-out" viewBox="64 64 896 896">\n      <path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="edit" viewBox="64 64 896 896">\n      <path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path>\n    </symbol>\n    <symbol id="delete" viewBox="64 64 896 896">\n      <path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path>\n    </symbol>\n    <symbol id="redo" viewBox="64 64 896 896">\n      <path d="M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"></path>\n    </symbol>\n    <symbol id="undo" viewBox="64 64 896 896">\n      <path d="M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"></path>\n    </symbol>\n    <symbol id="export" viewBox="64 64 896 896">\n      <path d="M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"></path>\n    </symbol>\n    <symbol id="auto-fit" viewBox="64 64 896 896">\n      <path d="M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"></path>\n      <path d="M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"></path>\n    </symbol>\n    <symbol id="reset" viewBox="64 64 896 896">\n      <path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"></path>\n    </symbol>\n    <symbol id="exit-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M418.13333333 361.43786666c0 0.2048-0.13653333 0.4096-0.13653334 0.68266667C417.99679999 362.32533333 418.13333333 362.53013333 418.13333333 362.73493333 418.13333333 371.54133333 414.44693333 379.392 408.78079999 385.39946666 408.43946666 385.7408 408.30293333 386.21866666 408.02986666 386.49173333c-1.09226667 1.09226667-2.59413333 1.77493333-3.82293333 2.73066667C398.40426666 393.65973333 391.64586666 396.8 383.93173333 396.8 383.72693333 396.8 383.59039999 396.73173333 383.38559999 396.73173333S382.97599999 396.8 382.77119999 396.8L112.29866666 396.8C92.50133333 396.8 76.79999999 381.50826666 76.79999999 362.66666666 76.66346666 343.89333333 92.63786666 328.53333333 112.16213333 328.53333333l189.44 0L87.44959999 114.51733333C73.59146666 100.59093333 73.25013333 78.5408 86.63039999 65.29706666c13.17546667-13.44853333 35.36213333-12.97066667 49.152 0.88746667l214.08426667 214.08426667L349.86666666 90.89706666C349.79839999 71.23626666 365.22666666 55.46666666 383.99999999 55.46666666 402.77333333 55.33013333 418.13333333 71.30453333 418.13333333 90.8288L418.13333333 361.43786666zM928.90453333 328.53333333l-189.44 0 214.15253333-214.08426667c13.85813333-13.9264 14.19946667-35.90826667 0.88746667-49.22026666-13.17546667-13.44853333-35.36213333-12.97066667-49.152 0.88746666l-214.08426667 214.08426667L691.26826666 90.89706666C691.26826666 71.23626666 675.83999999 55.46666666 657.06666666 55.46666666 638.29333333 55.33013333 622.93333333 71.30453333 622.93333333 90.8288l0 270.60906666c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 362.32533333 622.93333333 362.53013333 622.93333333 362.73493333 622.93333333 371.54133333 626.61973333 379.392 632.28586666 385.39946666c0.34133333 0.34133333 0.47786667 0.8192 0.8192 1.09226667 1.09226667 1.09226667 2.59413333 1.77493333 3.8912 2.73066667C642.66239999 393.65973333 649.42079999 396.8 657.13493333 396.8c0.2048 0 0.34133333-0.06826667 0.54613333-0.06826667S658.09066666 396.8 658.29546666 396.8l270.5408 0C948.56533333 396.8 964.26666666 381.50826666 964.26666666 362.66666666 964.40319999 343.89333333 948.42879999 328.53333333 928.90453333 328.53333333zM418.13333333 635.73333333c0-8.8064-3.6864-16.5888-9.35253334-22.66453333C408.43946666 612.72746666 408.30293333 612.2496 408.02986666 611.90826666 406.86933333 610.88426666 405.43573333 610.2016 404.20693333 609.24586666 398.47253333 604.80853333 391.64586666 601.6 383.93173333 601.6 383.72693333 601.6 383.59039999 601.73653333 383.38559999 601.73653333S382.97599999 601.6 382.77119999 601.6L112.29866666 601.6C92.50133333 601.6 76.79999999 616.96 76.79999999 635.73333333 76.66346666 654.50666666 92.63786666 669.86666666 112.16213333 669.86666666l189.44 0-214.15253334 214.15253334c-13.85813333 13.85813333-14.19946667 35.84-0.88746666 49.22026666 13.17546667 13.44853333 35.36213333 12.9024 49.152-0.95573333l214.08426666-214.08426667 0 189.37173334c0 19.59253333 15.42826667 35.49866667 34.2016 35.36213333C402.77333333 943.2064 418.13333333 927.232 418.13333333 907.5712L418.13333333 637.09866666c0-0.27306667-0.13653333-0.47786667-0.13653334-0.68266666C417.99679999 636.14293333 418.13333333 635.93813333 418.13333333 635.73333333zM739.46453333 669.86666666l189.44 0c19.456 0 35.49866667-15.36 35.36213333-34.13333333C964.26666666 616.96 948.56533333 601.6 928.76799999 601.6L658.29546666 601.6C658.09066666 601.6 657.88586666 601.73653333 657.68106666 601.73653333S657.33973333 601.6 657.13493333 601.6C649.42079999 601.6 642.59413333 604.80853333 636.85973333 609.24586666 635.63093333 610.2016 634.19733333 610.88426666 633.03679999 611.90826666 632.76373333 612.2496 632.62719999 612.72746666 632.28586666 613.0688 626.61973333 619.14453333 622.93333333 626.92693333 622.93333333 635.73333333c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 636.6208 622.93333333 636.8256 622.93333333 637.09866666l0 270.5408C622.93333333 927.232 638.29333333 943.2064 657.06666666 942.93333333c18.77333333 0.13653333 34.2016-15.70133333 34.2016-35.36213333l0-189.37173334 214.08426667 214.08426667c13.78986667 13.85813333 35.90826667 14.40426667 49.152 0.95573333 13.312-13.312 12.97066667-35.36213333-0.88746667-49.22026666L739.46453333 669.86666666z"  ></path></symbol>\n    <symbol id="request-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M69.818182 87.598545v273.128728a34.909091 34.909091 0 0 0 69.818182 0V163.653818l221.928727 222.021818a33.512727 33.512727 0 0 0 47.383273-47.383272L186.926545 116.363636h197.073455a34.909091 34.909091 0 0 0 0-69.818181H110.871273C85.364364 46.545455 69.818182 59.671273 69.818182 87.598545zM938.542545 46.545455H665.413818a34.909091 34.909091 0 0 0 0 69.818181h197.073455L640.465455 338.292364a33.512727 33.512727 0 0 0 47.383272 47.383272l221.928728-222.021818v197.073455a34.909091 34.909091 0 0 0 69.818181 0V87.598545c0-27.927273-15.453091-41.053091-40.96-41.05309z m-827.671272 907.636363h273.128727a34.909091 34.909091 0 0 0 0-69.818182H186.926545l222.021819-221.928727a33.512727 33.512727 0 0 0-47.383273-47.383273L139.636364 837.073455V640a34.909091 34.909091 0 0 0-69.818182 0v273.128727c0 27.927273 15.546182 41.053091 41.053091 41.053091z m868.724363-41.053091V640a34.909091 34.909091 0 0 0-69.818181 0v197.073455L687.941818 615.051636a33.512727 33.512727 0 0 0-47.383273 47.383273L862.487273 884.363636H665.413818a34.909091 34.909091 0 0 0 0 69.818182h273.128727c25.6 0 41.053091-13.125818 41.053091-41.053091z"  ></path></symbol>\n  </svg>\n'),this.$element.addEventListener("click",this.onToolbarItemClick),this.update(e)}async update(t){super.update(t);const{className:e,position:n,style:r}=this.options;this.$element.className=`g6-toolbar ${e||""}`,Object.assign(this.$element.style,r,function(t){const e={top:"unset",right:"unset",bottom:"unset",left:"unset"};return t.split("-").forEach((t=>{e[t]="8px"})),e.flexDirection=t.startsWith("top")||t.startsWith("bottom")?"row":"column",e}(n)),this.$element.innerHTML=await this.getDOMContent()}destroy(){this.$element.removeEventListener("click",this.onToolbarItemClick),this.$element.remove(),super.destroy()}async getDOMContent(){return(await this.options.getItems()).map((t=>`\n          <div class="g6-toolbar-item" value="${t.value}">\n            <svg aria-hidden="true" focusable="false">\n              <use xlink:href="#${t.id}"></use>\n            </svg>\n          </div>`)).join("")}onToolbarItemClick=t=>{const{onClick:e}=this.options;if(t.target instanceof Element&&t.target.className.includes("g6-toolbar-item")){const n=t.target.getAttribute("value");e?.(n,t.target)}}}function MM(t){var e=document.createElement("div");e.innerHTML=t;var n=e.childNodes[0];return n&&e.contains(n)&&e.removeChild(n),n}const CM=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t};var NM=function(t,e){null!=e?t.replaceChildren?Array.isArray(e)?t.replaceChildren.apply(t,h([],d(e),!1)):t.replaceChildren(e):(t.innerHTML="",Array.isArray(e)?e.forEach((function(e){return t.appendChild(e)})):t.appendChild(e)):t.innerHTML=""};function OM(t){return void 0===t&&(t=""),{CONTAINER:"".concat(t,"tooltip"),TITLE:"".concat(t,"tooltip-title"),LIST:"".concat(t,"tooltip-list"),LIST_ITEM:"".concat(t,"tooltip-list-item"),NAME:"".concat(t,"tooltip-list-item-name"),MARKER:"".concat(t,"tooltip-list-item-marker"),NAME_LABEL:"".concat(t,"tooltip-list-item-name-label"),VALUE:"".concat(t,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(t,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(t,"tooltip-crosshair-y")}}var PM={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function TM(t){var e;void 0===t&&(t="");var n=OM(t);return(e={})[".".concat(n.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},e[".".concat(n.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},e[".".concat(n.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},e[".".concat(n.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},e[".".concat(n.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},e[".".concat(n.NAME)]={display:"flex","align-items":"center","max-width":"216px"},e[".".concat(n.NAME_LABEL)]=a({flex:1},PM),e[".".concat(n.VALUE)]=a({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},PM),e[".".concat(n.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e[".".concat(n.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e}var AM=function(t){function e(e){var n,r,i=this,o=null===(r=null===(n=e.style)||void 0===n?void 0:n.template)||void 0===r?void 0:r.prefixCls,a=OM(o);return(i=t.call(this,e,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(a.CONTAINER,'"></div>'),title:'<div class="'.concat(a.TITLE,'"></div>'),item:'<li class="'.concat(a.LIST_ITEM,'" data-index={index}>\n        <span class="').concat(a.NAME,'">\n          <span class="').concat(a.MARKER,'" style="background:{color}"></span>\n          <span class="').concat(a.NAME_LABEL,'" title="{name}">{name}</span>\n        </span>\n        <span class="').concat(a.VALUE,'" title="{value}">{value}</span>\n      </li>')},style:TM(o)})||this).timestamp=-1,i.prevCustomContentKey=i.attributes.contentKey,i.initShape(),i.render(i.attributes,i),i}return o(e,t),Object.defineProperty(e.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.element},Object.defineProperty(e.prototype,"elementSize",{get:function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HTMLTooltipItemsElements",{get:function(){var t=this.attributes,e=t.data,n=t.template;return e.map((function(t,e){var r=t.name,i=void 0===r?"":r,o=t.color,l=void 0===o?"black":o,c=t.index,u=s(t,["name","color","index"]),d=a({name:i,color:l,index:null!==c&&void 0!==c?c:e},u);return MM(CM(n.item,d))}))},enumerable:!1,configurable:!0}),e.prototype.render=function(t,e){this.renderHTMLTooltipElement(),this.updatePosition()},e.prototype.destroy=function(){var e;null===(e=this.element)||void 0===e||e.remove(),t.prototype.destroy.call(this)},e.prototype.show=function(t,e){var n=this;if(void 0!==t&&void 0!==e){var r=function(){n.attributes.x=null!==t&&void 0!==t?t:n.attributes.x,n.attributes.y=null!==e&&void 0!==e?e:n.attributes.y,n.updatePosition()};"hidden"===this.element.style.visibility?this.closeTransition(r):r()}this.element.style.visibility="visible"},e.prototype.hide=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.attributes.enterable&&this.isCursorEntered(t,e)||(this.element.style.visibility="hidden")},e.prototype.initShape=function(){var t=this.attributes.template;this.element=MM(t.container),this.id&&this.element.setAttribute("id",this.id)},e.prototype.renderCustomContent=function(){if(void 0===this.prevCustomContentKey||this.prevCustomContentKey!==this.attributes.contentKey){this.prevCustomContentKey=this.attributes.contentKey;var t=this.attributes.content;t&&("string"===typeof t?this.element.innerHTML=t:NM(this.element,t))}},e.prototype.renderHTMLTooltipElement=function(){var t,e,n=this.attributes,r=n.template,i=n.title,o=n.enterable,a=n.style,s=n.content,l=OM(r.prefixCls),c=this.element;if(this.element.style.pointerEvents=o?"auto":"none",s)this.renderCustomContent();else{i?(c.innerHTML=r.title,c.getElementsByClassName(l.TITLE)[0].innerHTML=i):null===(e=null===(t=c.getElementsByClassName(l.TITLE))||void 0===t?void 0:t[0])||void 0===e||e.remove();var u=this.HTMLTooltipItemsElements,f=document.createElement("ul");f.className=l.LIST,NM(f,u);var p=this.element.querySelector(".".concat(l.LIST));p?p.replaceWith(f):c.appendChild(f)}!function(t,e){Object.entries(e).forEach((function(e){var n=d(e,2),r=n[0],i=n[1];h([t],d(t.querySelectorAll(r)),!1).filter((function(t){return t.matches(r)})).forEach((function(t){t&&(t.style.cssText+=Object.entries(i).reduce((function(t,e){return"".concat(t).concat(e.join(":"),";")}),""))}))}))}(c,a)},e.prototype.getRelativeOffsetFromCursor=function(t){var e=this.attributes,n=e.position,r=e.offset,i=(t||n).split("-"),o={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},a=this.elementSize,s=a.width,l=a.height,c=[-s/2,-l/2];return i.forEach((function(t){var e=d(c,2),n=e[0],i=e[1],a=d(o[t],2),u=a[0],h=a[1];c=[n+(s/2+r[0])*u,i+(l/2+r[1])*h]})),c},e.prototype.setOffsetPosition=function(t){var e=d(t,2),n=e[0],r=e[1],i=this.attributes,o=i.x,a=void 0===o?0:o,s=i.y,l=void 0===s?0:s,c=i.container,u=c.x,h=c.y;this.element.style.left="".concat(+a+u+n,"px"),this.element.style.top="".concat(+l+h+r,"px")},e.prototype.updatePosition=function(){var t=this.attributes.showDelay,e=void 0===t?60:t,n=Date.now();this.timestamp>0&&n-this.timestamp<e||(this.timestamp=n,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},e.prototype.autoPosition=function(t){var e=d(t,2),n=e[0],r=e[1],i=this.attributes,o=i.x,a=i.y,s=i.bounding,l=i.position;if(!s)return[n,r];var c=this.element,u=c.offsetWidth,h=c.offsetHeight,f=d([+o+n,+a+r],2),p=f[0],g=f[1],m={left:"right",right:"left",top:"bottom",bottom:"top"},v=s.x,y=s.y,b={left:p<v,right:p+u>v+s.width,top:g<y,bottom:g+h>y+s.height},x=[];l.split("-").forEach((function(t){b[t]?x.push(m[t]):x.push(t)}));var w=x.join("-");return this.getRelativeOffsetFromCursor(w)},e.prototype.isCursorEntered=function(t,e){if(this.element){var n=this.element.getBoundingClientRect(),r=n.x,i=n.y,o=n.width,a=n.height;return new Xx(r,i,o,a).isPointIn(t,e)}return!1},e.prototype.closeTransition=function(t){var e=this,n=this.element.style.transition;this.element.style.transition="none",t(),setTimeout((function(){e.element.style.transition=n}),10)},e.tag="tooltip",e}(uw);class RM extends zb{static defaultOptions={trigger:"hover",position:"top-right",enterable:!1,enable:!0,offset:[10,10],style:{".tooltip":{visibility:"hidden"}}};currentTarget=null;tooltipElement=null;container=null;constructor(t,e){super(t,Object.assign({},RM.defaultOptions,e)),this.render(),this.bindEvents()}getEvents(){return"click"===this.options.trigger?{"node:click":this.onClick,"edge:click":this.onClick,"combo:click":this.onClick,"canvas:click":this.onPointerLeave,contextmenu:this.onPointerLeave,drag:this.onPointerLeave}:{"node:pointerenter":this.onPointerEnter,"node:pointermove":this.onPointerMove,"canvas:pointermove":this.onCanvasMove,"edge:pointerenter":this.onPointerEnter,"edge:pointermove":this.onPointerMove,"combo:pointerenter":this.onPointerEnter,"combo:pointermove":this.onPointerMove,contextmenu:this.onPointerLeave,"node:drag":this.onPointerLeave}}update(t){this.unbindEvents(),super.update(t),this.tooltipElement&&this.container?.removeChild(this.tooltipElement.HTMLTooltipElement),this.tooltipElement=this.initTooltip(),this.bindEvents()}render(){const{canvas:t}=this.context,e=t.getContainer();e&&(this.container=e,this.tooltipElement=this.initTooltip())}unbindEvents(){const{graph:t}=this.context,e=this.getEvents();Object.keys(e).forEach((n=>{t.off(n,e[n])}))}bindEvents(){const{graph:t}=this.context,e=this.getEvents();Object.keys(e).forEach((n=>{t.on(n,e[n])}))}isEnable=t=>{const{enable:e}=this.options;return"function"===typeof e?e(t):e};onClick=t=>{const{target:{id:e}}=t;this.currentTarget===e?(this.hide(t),this.currentTarget=null):(this.currentTarget=e,this.show(t))};onPointerMove=t=>{const{target:e}=t;this.currentTarget&&e.id!==this.currentTarget&&this.show(t)};onPointerLeave=t=>{this.hide(t),this.currentTarget=null};onCanvasMove=t=>{this.hide(t),this.currentTarget=null};onPointerEnter=t=>{this.show(t)};showById=t=>{const e={target:{id:t}};this.show(e)};getElementData=(t,e)=>{const{model:n}=this.context;switch(e){case"node":return n.getNodeData([t]);case"edge":return n.getEdgeData([t]);case"combo":return n.getComboData([t]);default:return[]}};show=t=>{const{client:e,target:{id:n}}=t;if(zp(t.target))return;if(!this.tooltipElement||!this.isEnable(t))return;const r=this.context.graph.getElementType(n),{getContent:i,title:o}=this.options;this.currentTarget=n;const a=this.getElementData(n,r);let s,l;if(e)s=e.x,l=e.y;else{const t=Sd(a,"0.style",{x:0,y:0});s=t.x,l=t.y}let c={};if(i)c.content=i(t,a);else{const t=this.context.graph.getElementRenderStyle(n),e="node"===r?t.fill:t.stroke;c={title:o||r,data:a.map((t=>({name:"ID",value:t.id||`${t.source} -> ${t.target}`,color:e})))}}this.tooltipElement.update({...this.tooltipStyleProps,x:s,y:l,style:{".tooltip":{visibility:"visible"}},...c})};hide=t=>{if(!t)return void this.tooltipElement?.hide();if(!this.tooltipElement)return;if(!this.currentTarget)return;const{client:{x:e,y:n}}=t;this.tooltipElement.hide(e,n)};get tooltipStyleProps(){const{canvas:t}=this.context,{center:e}=t.getBounds(),n=t.getContainer(),{top:r,left:i}=n.getBoundingClientRect(),{style:o,position:a,enterable:s,container:l={x:-i,y:-r},title:c,offset:u}=this.options,[d,h]=e,[f,p]=t.getSize();return{x:d,y:h,container:l,title:c,bounding:{x:0,y:0,width:f,height:p},position:a,enterable:s,offset:u,style:o}}initTooltip=()=>{const t=new AM({className:"tooltip",style:this.tooltipStyleProps});return this.container?.appendChild(t.HTMLTooltipElement),t};destroy(){this.unbindEvents(),this.tooltipElement&&this.container?.removeChild(this.tooltipElement.HTMLTooltipElement),super.destroy()}}let _M;function LM(t,e){_M||(_M=document.createElement("canvas")),_M.width=t,_M.height=e;return _M.getContext("2d").clearRect(0,0,t,e),_M}class IM extends zb{static defaultOptions=(()=>({width:200,height:100,opacity:.2,rotate:Math.PI/12,text:"",textFill:"#000",textFontSize:16,textAlign:"center",textBaseline:"middle",backgroundRepeat:"repeat"}))();$element=(()=>Db("watermark"))();constructor(t,e){super(t,Object.assign({},IM.defaultOptions,e));this.context.canvas.getContainer().appendChild(this.$element),this.update(e)}async update(t){super.update(t);const{width:e,height:n,text:r,imageURL:i,...o}=this.options;Object.keys(o).forEach((e=>{e.startsWith("background")&&(this.$element.style[e]=t[e])}));const a=i?await async function(t,e,n,r){const i=LM(t,e),o=i.getContext("2d"),{rotate:a,opacity:s}=r;a&&o.rotate(a),s&&(o.globalAlpha=s);const l=new Image;return l.crossOrigin="anonymous",l.src=n,new Promise((n=>{l.onload=function(){const r=t>l.width?(t-l.width)/2:0,a=e>l.height?(e-l.height)/2:0;o.drawImage(l,0,0,l.width,l.height,r,a,t-2*r,e-2*a),n(i.toDataURL())}}))}(e,n,i,o):await async function(t,e,n,r){const i=LM(t,e),o=i.getContext("2d"),{rotate:a,opacity:s,textFill:l,textFontSize:c,textFontFamily:u,textFontVariant:d,textFontWeight:h,textAlign:f,textBaseline:p}=r;return o.textAlign=f,o.textBaseline=p,o.translate(t/2,e/2),o.font=`${c}px ${u} ${d} ${h}`,a&&o.rotate(a),s&&(o.globalAlpha=s),l&&(o.fillStyle=l,o.fillText(`${n}`,0,0)),i.toDataURL()}(e,n,r,o);this.$element.style.backgroundImage=`url(${a})`}destroy(){super.destroy(),this.$element.remove()}}const DM=["#7E92B5","#F4664A","#FFBE3A"],jM={type:"group",color:["#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]},zM={type:"group",color:["#99ADD1","#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]};function FM(t){const{bgColor:e,textColor:n,nodeColor:r,nodeColorDisabled:i,nodeStroke:o,nodeHaloStrokeOpacityActive:a=.15,nodeHaloStrokeOpacitySelected:s=.25,nodeOpacityDisabled:l=.06,nodeIconOpacityInactive:c=.85,nodeOpacityInactive:u=.25,nodeBadgePalette:d=DM,nodePaletteOptions:h=jM,edgeColor:f,edgeColorDisabled:p,edgePaletteOptions:g=zM,comboColor:m,comboColorDisabled:v,comboStroke:y,comboStrokeDisabled:b,edgeColorInactive:x}=t;return{background:e,node:{palette:h,style:{donutOpacity:1,badgeBackgroundOpacity:1,badgeFill:"#fff",badgeFontSize:8,badgePadding:[0,4],badgePalette:d,fill:r,fillOpacity:1,halo:!1,iconFill:"#fff",iconOpacity:1,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelFill:n,labelFillOpacity:.85,labelLineHeight:16,labelPadding:[0,2],labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelOffsetY:2,lineWidth:0,portFill:r,portLineWidth:1,portStroke:o,portStrokeOpacity:.65,size:32,stroke:o,strokeOpacity:1,zIndex:2},state:{selected:{halo:!0,haloLineWidth:24,haloStrokeOpacity:s,labelFontSize:12,labelFontWeight:"bold",lineWidth:4,stroke:o},active:{halo:!0,haloLineWidth:12,haloStrokeOpacity:a},highlight:{labelFontWeight:"bold",lineWidth:4,stroke:o,strokeOpacity:.85},inactive:{badgeBackgroundOpacity:u,donutOpacity:u,fillOpacity:u,iconOpacity:c,labelFill:n,labelFillOpacity:u,strokeOpacity:u},disabled:{badgeBackgroundOpacity:.25,donutOpacity:l,fill:i,fillOpacity:l,iconFill:i,iconOpacity:.25,labelFill:n,labelFillOpacity:.25,strokeOpacity:l}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"node-expand",collapse:"node-collapse",update:[{fields:["x","y","fill","stroke"]}],translate:[{fields:["x","y"]}]}},edge:{palette:g,style:{badgeBackgroundFill:f,badgeFill:"#fff",badgeFontSize:8,badgeOffsetX:10,fillOpacity:1,halo:!1,haloLineWidth:12,haloStrokeOpacity:1,increasedLineWidthForHitTesting:2,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[4,4,4,4],labelFill:n,labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelPlacement:"center",labelTextBaseline:"middle",lineWidth:1,stroke:f,strokeOpacity:1,zIndex:1},state:{selected:{halo:!0,haloStrokeOpacity:.25,labelFontSize:14,labelFontWeight:"bold",lineWidth:3},active:{halo:!0,haloStrokeOpacity:.15},highlight:{labelFontWeight:"bold",lineWidth:3},inactive:{stroke:x,fillOpacity:.08,labelOpacity:.25,strokeOpacity:.08,badgeBackgroundOpacity:.25},disabled:{stroke:p,fillOpacity:.45,strokeOpacity:.45,labelOpacity:.25,badgeBackgroundOpacity:.45}},animation:{enter:"fade",exit:"fade",expand:"path-in",collapse:"path-out",show:"fade",hide:"fade",update:[{fields:["sourceNode","targetNode"]},{fields:["stroke"],shape:"key"}],translate:[{fields:["sourceNode","targetNode"]}]}},combo:{style:{collapsedMarkerFill:e,collapsedMarkerFontSize:12,collapsedMarkerFillOpacity:1,collapsedSize:32,collapsedFillOpacity:1,fill:m,halo:!1,haloLineWidth:12,haloStroke:y,haloStrokeOpacity:.25,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[2,4,2,4],labelFill:n,labelFontSize:12,labelFontWeight:400,labelOpacity:1,lineDash:0,lineWidth:1,fillOpacity:.04,strokeOpacity:1,padding:10,stroke:y},state:{selected:{halo:!0,labelFontSize:14,labelFontWeight:700,lineWidth:4},active:{halo:!0},highlight:{labelFontWeight:700,lineWidth:4},inactive:{fillOpacity:.65,labelOpacity:.25,strokeOpacity:.65},disabled:{fill:v,fillOpacity:.25,labelOpacity:.25,stroke:b,strokeOpacity:.25}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"combo-expand",collapse:"combo-collapse",update:[{fields:["x","y"]},{fields:["fill","stroke","lineWidth"],shape:"key"}],translate:[{fields:["x","y"]}]}}}}const BM=FM({bgColor:"#000000",comboColor:"#fdfdfd",comboColorDisabled:"#d0e4ff",comboStroke:"#99add1",comboStrokeDisabled:"#969696",edgeColor:"#637088",edgeColorDisabled:"#637088",edgeColorInactive:"#D0E4FF",edgePaletteOptions:{type:"group",color:["#637088","#0F55A6","#008383","#9C5D38","#8B53A6","#4E40A6","#8F6608","#3E801D","#A65383","#175E75","#0F8248"]},nodeColor:"#1783ff",nodeColorDisabled:"#D0E4FF",nodeHaloStrokeOpacityActive:.25,nodeHaloStrokeOpacitySelected:.45,nodeIconOpacityInactive:.45,nodeOpacityDisabled:.25,nodeOpacityInactive:.45,nodeStroke:"#d0e4ff",textColor:"#ffffff"}),$M=FM({bgColor:"#ffffff",comboColor:"#99ADD1",comboColorDisabled:"#f0f0f0",comboStroke:"#99add1",comboStrokeDisabled:"#d9d9d9",edgeColor:"#99add1",edgeColorDisabled:"#d9d9d9",edgeColorInactive:"#1B324F",nodeColor:"#1783ff",nodeColorDisabled:"#1B324F",nodeHaloStrokeOpacityActive:.15,nodeHaloStrokeOpacitySelected:.25,nodeIconOpacityInactive:.85,nodeOpacityDisabled:.06,nodeOpacityInactive:.25,nodeStroke:"#000000",textColor:"#000000"});class VM extends hu{beforeDraw(t,e){return t}afterLayout(){}}function HM(t,e,n,r,i){const o=Qc(r),a=`${n}s`,s=i?r:t.add[a].get(o)||t.update[a].get(o)||t.remove[a].get(o)||r;Object.entries(t).forEach((t=>{let[n,r]=t;e===n?r[a].set(o,s):r[a].delete(o)}))}const WM=(t,e,n,r)=>{const i=`${n}s`,o=Qc(r);t.add[i].has(o)||t.update[i].has(o)||t[e][i].set(Qc(r),r)};function GM(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=Dc[t][e];!r&&i?i!==n&&$c.warn(`The extension ${e} of ${t} has been registered before.`):Object.assign(Dc[t],{[e]:n})}class UM{type;constructor(t){this.type=t}}class qM extends UM{data;constructor(t,e){super(t),this.data=e}}class YM extends UM{animationType;animation;data;constructor(t,e,n,r){super(t),this.animationType=e,this.animation=n,this.data=r}}class XM extends UM{elementType;data;constructor(t,e,n){super(t),this.elementType=e,this.data=n}}class KM extends UM{data;constructor(t,e){super(t),this.data=e}}function ZM(t,e){t.emit(e.type,e)}class QM{context;constructor(t){this.context=t}tasks=[];animations=(()=>new Set)();getTasks(){const t=[...this.tasks];return this.tasks=[],t}add(t,e){this.tasks.push([t,e])}animate(t,e,n){e?.before?.();const r=this.getTasks().map((e=>{let[r,i]=e;const{element:o,elementType:a,stage:s}=r,l=qc(this.context.options,a,s,t);i?.before?.();const c=ru(o,this.inferStyle(r,n),l);return c?(i?.beforeAnimate?.(c),c.finished.then((()=>{i?.afterAnimate?.(c),i?.after?.(),this.animations.delete(c)}))):i?.after?.(),c})).filter(Boolean);r.forEach((t=>this.animations.add(t)));const i=Hc(r);return i?(e?.beforeAnimate?.(i),i.finished.then((()=>{e?.afterAnimate?.(i),e?.after?.(),this.release()}))):e?.after?.(),i}inferStyle(t,e){const{element:n,elementType:r,stage:i,originalStyle:o,modifiedStyle:a}=t,s={},l={};if("enter"===i)Object.assign(s,{opacity:0});else if("exit"===i)Object.assign(l,{opacity:0});else if("show"===i)Object.assign(s,{opacity:0}),Object.assign(l,{opacity:ag(n,"opacity")??Gc("opacity")});else if("hide"===i)Object.assign(s,{opacity:ag(n,"opacity")??Gc("opacity")}),Object.assign(l,{opacity:0});else if("collapse"===i){const{collapse:t}=e||{},{target:i,descendants:s,position:c}=t;if("node"===r){if(s.includes(n.id)){const[t,e,n]=c;Object.assign(l,{x:t,y:e,z:n})}}else if("combo"===r){if(n.id===i||s.includes(n.id)){const[t,e]=c;Object.assign(l,{x:t,y:e,childrenNode:o.childrenNode})}}else"edge"===r&&Object.assign(l,{sourceNode:a.sourceNode,targetNode:a.targetNode})}else if("expand"===i){const{expand:t}=e||{},{target:i,descendants:o,position:l}=t;if("node"===r){if(n.id===i||o.includes(n.id)){const[t,e,n]=l;Object.assign(s,{x:t,y:e,z:n})}}else if("combo"===r){if(n.id===i||o.includes(n.id)){const[t,e,n]=l;Object.assign(s,{x:t,y:e,z:n,childrenNode:a.childrenNode})}}else"edge"===r&&Object.assign(s,{sourceNode:a.sourceNode,targetNode:a.targetNode})}return[Object.keys(s).length>0?Object.assign({},o,s):o,Object.keys(l).length>0?Object.assign({},a,l):a]}stop(){this.animations.forEach((t=>t.cancel()))}clear(){this.tasks=[]}release(){const{canvas:t}=this.context,e=t.document?.timeline?.animationsWithPromises;e&&(t.document.timeline.animationsWithPromises=e.filter((t=>"finished"!==t.playState)))}destroy(){this.stop(),this.animations.clear(),this.tasks=[]}}class JM{context;batchCount=0;constructor(t){this.context=t}emit(t){const{graph:e}=this.context;e.emit(t.type,t)}startBatch(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.batchCount++,1===this.batchCount&&this.emit(new qM(Tc.BATCH_START,{initiate:t}))}endBatch(){this.batchCount--,0===this.batchCount&&this.emit(new qM(Tc.BATCH_END))}get isBatching(){return this.batchCount>0}destroy(){this.context=null}}class tC extends du{currentTarget=null;currentTargetType=null;category="behavior";constructor(t){super(t),this.forwardEvents(),this.setBehaviors(this.context.options.behaviors||[])}setBehaviors(t){this.setExtensions(t)}forwardEvents(){const t=this.context.canvas.getContainer();t&&[Oc.KEY_DOWN,Oc.KEY_UP].forEach((e=>{t.addEventListener(e,this.forwardContainerEvents)}));const e=this.context.canvas.document;e&&[Nc.CLICK,Nc.DBLCLICK,Nc.POINTER_OVER,Nc.POINTER_LEAVE,Nc.POINTER_ENTER,Nc.POINTER_MOVE,Nc.POINTER_OUT,Nc.POINTER_DOWN,Nc.POINTER_UP,Nc.CONTEXT_MENU,Nc.DRAG_START,Nc.DRAG,Nc.DRAG_END,Nc.DRAG_ENTER,Nc.DRAG_OVER,Nc.DRAG_LEAVE,Nc.DROP,Nc.WHEEL].forEach((t=>{e.addEventListener(t,this.forwardCanvasEvents)}))}forwardCanvasEvents=t=>{const{target:e}=t,n=function(t){if(!t)return null;if(t instanceof Bs)return{type:"canvas",element:t};let e=t;for(;e;){if(kp(e))return{type:"node",element:e};if(Mp(e))return{type:"edge",element:e};if(Cp(e))return{type:"combo",element:e};e=e.parentElement}return null}(e);if(!n)return;const{graph:r,canvas:i}=this.context,{type:o,element:a}=n;if("destroyed"in a&&(zp(a)||a.destroyed))return;const{type:s,detail:l,button:c}=t,u={...t,target:a,targetType:o,originalTarget:e};s===Nc.POINTER_MOVE&&(this.currentTarget!==a&&(this.currentTarget&&r.emit(`${this.currentTargetType}:${Nc.POINTER_LEAVE}`,{...u,type:Nc.POINTER_LEAVE,target:this.currentTarget}),a&&(Object.assign(u,{type:Nc.POINTER_ENTER}),r.emit(`${o}:${Nc.POINTER_ENTER}`,u))),this.currentTarget=a,this.currentTargetType=o),s===Nc.CLICK&&2===c||(r.emit(`${o}:${s}`,u),r.emit(s,u)),s===Nc.CLICK&&2===l&&(Object.assign(u,{type:Nc.DBLCLICK}),r.emit(`${o}:${Nc.DBLCLICK}`,u),r.emit(Nc.DBLCLICK,u)),s===Nc.POINTER_DOWN&&2===c&&(Object.assign(u,{type:Nc.CONTEXT_MENU,preventDefault:()=>{i.getContainer()?.addEventListener(Nc.CONTEXT_MENU,(t=>t.preventDefault()),{once:!0})}}),r.emit(`${o}:${Nc.CONTEXT_MENU}`,u),r.emit(Nc.CONTEXT_MENU,u))};forwardContainerEvents=t=>{this.context.graph.emit(t.type,t)};destroy(){const t=this.context.canvas.getContainer();t&&[Oc.KEY_DOWN,Oc.KEY_UP].forEach((e=>{t.removeEventListener(e,this.forwardContainerEvents)})),this.context.canvas.document.removeAllEventListeners(),super.destroy()}}var eC=function(){function t(t){this.dragndropPluginOptions=t}return t.prototype.apply=function(e){var n=this,r=e.renderingService,i=e.renderingContext.root.ownerDocument,o=i.defaultView,a=function(t){var e=t.target,r=e===i,a=r&&n.dragndropPluginOptions.isDocumentDraggable?i:e.closest&&e.closest("[draggable=true]");if(a){var s=!1,u=t.timeStamp,d=[t.clientX,t.clientY],h=null,f=[t.clientX,t.clientY],p=function(t){return l(n,void 0,void 0,(function(){var n,o,l,p,g,m;return c(this,(function(c){switch(c.label){case 0:if(!s){if(n=t.timeStamp-u,o=Xt([t.clientX,t.clientY],d),n<=this.dragndropPluginOptions.dragstartTimeThreshold||o<=this.dragndropPluginOptions.dragstartDistanceThreshold)return[2];t.type="dragstart",a.dispatchEvent(t),s=!0}return t.type="drag",t.dx=t.clientX-f[0],t.dy=t.clientY-f[1],a.dispatchEvent(t),f=[t.clientX,t.clientY],r?[3,2]:(l="pointer"===this.dragndropPluginOptions.overlap?[t.canvasX,t.canvasY]:e.getBounds().center,[4,i.elementsFromPoint(l[0],l[1])]);case 1:p=c.sent(),g=p[p.indexOf(e)+1],m=(null===g||void 0===g?void 0:g.closest("[droppable=true]"))||(this.dragndropPluginOptions.isDocumentDroppable?i:null),h!==m&&(h&&(t.type="dragleave",t.target=h,h.dispatchEvent(t)),m&&(t.type="dragenter",t.target=m,m.dispatchEvent(t)),(h=m)&&(t.type="dragover",t.target=h,h.dispatchEvent(t))),c.label=2;case 2:return[2]}}))}))};o.addEventListener("pointermove",p);var g=function(t){if(s){t.detail={preventClick:!0};var e=t.clone();h&&(e.type="drop",e.target=h,h.dispatchEvent(e)),e.type="dragend",a.dispatchEvent(e),s=!1}o.removeEventListener("pointermove",p)};e.addEventListener("pointerup",g,{once:!0}),e.addEventListener("pointerupoutside",g,{once:!0})}};r.hooks.init.tap(t.tag,(function(){o.addEventListener("pointerdown",a)})),r.hooks.destroy.tap(t.tag,(function(){o.removeEventListener("pointerdown",a)}))},t.tag="Dragndrop",t}(),nC=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.options=e,n.name="dragndrop",n}return o(e,t),e.prototype.init=function(){this.addRenderingPlugin(new eC(a({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e.prototype.setOptions=function(t){Object.assign(this.plugins[0].dragndropPluginOptions,t)},e}(qn);const rC=["background","main","label","transient"];class iC{extends;config;getConfig(){return this.config}getLayer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.extends.layers[t]}getLayers(){return this.extends.layers}getRenderer(t){return this.extends.renderers[t]}getCamera(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.getLayer(t).getCamera()}getRoot(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.getLayer(t).getRoot()}getContextService(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.getLayer(t).getContextService()}setCursor(t){this.config.cursor=t,this.getLayer().setCursor(t)}get document(){return this.getLayer().document}get context(){return this.getLayer().context}constructor(t){this.config=t;const{renderer:e,background:n,cursor:r,...i}=t,o=oC(e),a=Object.fromEntries(rC.map((t=>[t,new Zs({...i,supportsMutipleCanvasesInOneContainer:!0,renderer:o[t],background:"background"===t?n:void 0})])));aC(a),this.extends={config:t,renderer:e,renderers:o,layers:a}}get ready(){return Promise.all(Object.entries(this.getLayers()).map((t=>{let[,e]=t;return e.ready})))}resize(t,e){Object.assign(this.extends.config,{width:t,height:e}),Object.values(this.getLayers()).forEach((n=>{const r=n.getCamera(),i=r.getPosition(),o=r.getFocalPoint();n.resize(t,e),r.setPosition(i),r.setFocalPoint(o)}))}getBounds(t){return Cu(Object.values(this.getLayers()).map((e=>{const n=t?e.getRoot().childNodes.find((e=>e.classList.includes(t))):e.getRoot();return n})).filter((t=>t?.childNodes.length>0)).map((t=>t.getBounds())))}getContainer(){const t=this.extends.config.container;return"string"===typeof t?document.getElementById(t):t}getSize(){return[this.extends.config.width||0,this.extends.config.height||0]}appendChild(t,e){const n=t.style?.$layer||"main";return this.getLayer(n).appendChild(t,e)}setRenderer(t){if(t===this.extends.renderer)return;const e=oC(t);this.extends.renderers=e,Object.entries(e).forEach((t=>{let[e,n]=t;return this.getLayer(e).setRenderer(n)})),aC(this.getLayers())}getCanvasByViewport(t){return Ju(this.getLayer().viewport2Canvas(td(t)))}getViewportByCanvas(t){return Ju(this.getLayer().canvas2Viewport(td(t)))}getViewportByClient(t){return Ju(this.getLayer().client2Viewport(td(t)))}getClientByViewport(t){return Ju(this.getLayer().viewport2Client(td(t)))}getClientByCanvas(t){return this.getClientByViewport(this.getViewportByCanvas(t))}getCanvasByClient(t){const e=this.getLayer(),n=e.client2Viewport(td(t));return Ju(e.viewport2Canvas(n))}async toDataURL(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=window.devicePixelRatio||1,{mode:n="viewport",...r}=t;let[i,o,a,s]=[0,0,0,0];if("viewport"===n)[a,s]=this.getSize();else if("overall"===n){const t=this.getBounds(),e=Eu(t);[i,o]=t.min,[a,s]=e}const l=MM('<div id="virtual-image"></div>'),c=new Zs({width:a,height:s,renderer:new yf,devicePixelRatio:e,container:l,background:this.extends.config.background});await c.ready,c.appendChild(this.getLayer("background").getRoot().cloneNode(!0)),c.appendChild(this.getRoot().cloneNode(!0));const u=this.getLayer("label").getRoot().cloneNode(!0),d=c.viewport2Canvas({x:0,y:0}),h=this.getCanvasByViewport([0,0]);u.translate([h[0]-d.x,h[1]-d.y]),u.scale(1/this.getCamera().getZoom()),c.appendChild(u),c.appendChild(this.getLayer("transient").getRoot().cloneNode(!0));const f=this.getCamera(),p=c.getCamera();if("viewport"===n)p.setZoom(f.getZoom()),p.setPosition(f.getPosition()),p.setFocalPoint(f.getFocalPoint());else if("overall"===n){const[t,e,n]=p.getPosition(),[r,a,s]=p.getFocalPoint();p.setPosition([t+i,e+o,n]),p.setFocalPoint([r+i,a+o,s])}const g=c.getContextService();return new Promise((t=>{c.addEventListener(bs.RERENDER,(async()=>{await new Promise((t=>setTimeout(t,300)));const e=await g.toDataURL(r);t(e)}))}))}destroy(){Object.values(this.getLayers()).forEach((t=>{t.getCamera().cancelLandmarkAnimation(),t.destroy()}))}}function oC(t){return Object.fromEntries(rC.map((e=>{const n=t?.(e)||new yf;return"main"===e?n.registerPlugin(new nC({isDocumentDraggable:!0,isDocumentDroppable:!0,dragstartDistanceThreshold:10,dragstartTimeThreshold:100})):n.unregisterPlugin(n.getPlugin("dom-interaction")),[e,n]})))}function aC(t){Object.entries(t).forEach((t=>{let[e,n]=t;const r=n.getContextService().getDomElement();r.style.position="absolute",r.style.outline="none",r.tabIndex=1,"main"!==e&&(r.style.pointerEvents="none")}))}function sC(t,e){const{data:n,style:r,...i}=t,{data:o,style:a,...s}=e,l={...i,...s};return(n||o)&&Object.assign(l,{data:{...n,...o}}),(r||a)&&Object.assign(l,{style:{...r,...a}}),l}function lC(t){const{data:e,style:n,...r}=t,i=r;return e&&(i.data={...e}),n&&(i.style={...n}),i}function cC(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{states:n=[],data:r={},style:i={},children:o=[],...a}=t,{states:s=[],data:l={},style:c={},children:u=[],...d}=e,h=(t,e)=>t.length===e.length&&t.every(((t,n)=>t===e[n])),f=(t,e)=>{const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every((n=>t[n]===e[n]))};return!!f(a,d)&&(!!h(o,u)&&(!!h(n,s)&&(!!f(r,l)&&!!f(i,c))))}function uC(t){const{id:e=Qc(t),style:n,data:r,...i}=t,o={...t,style:{...n},data:{...r}};return function(t){return"source"in t&&"target"in t}(t)?{id:e,data:o,...i}:{id:e,data:o}}function dC(t){return t.data}class hC{model;latestRemovedComboIds=(()=>new Set)();comboIds=(()=>new Set)();changes=[];batchCount=0;isTraceless=!1;constructor(){this.model=new Qp}pushChange(t){if(this.isTraceless)return;const{type:e}=t;if(e===Sc.NodeUpdated||e===Sc.EdgeUpdated||e===Sc.ComboUpdated){const{value:n,original:r}=t;this.changes.push({value:lC(n),original:lC(r),type:e})}else this.changes.push({value:lC(t.value),type:e})}getChanges(){return this.changes}clearChanges(){this.changes=[]}batch(t){this.batchCount++,this.model.batch(t),this.batchCount--}silence(t){this.isTraceless=!0,t(),this.isTraceless=!1}isCombo(t){return this.comboIds.has(t)||this.latestRemovedComboIds.has(t)}getData(){return{nodes:this.getNodeData(),edges:this.getEdgeData(),combos:this.getComboData()}}getNodeData(t){return this.model.getAllNodes().reduce(((e,n)=>{const r=dC(n);return this.isCombo(Qc(r))||(void 0===t||t.includes(Qc(r)))&&e.push(r),e}),[])}getEdgeDatum(t){return dC(this.model.getEdge(t))}getEdgeData(t){return this.model.getAllEdges().reduce(((e,n)=>{const r=dC(n);return(void 0===t||t.includes(Qc(r)))&&e.push(r),e}),[])}getComboData(t){return this.model.getAllNodes().reduce(((e,n)=>{const r=dC(n);return this.isCombo(Qc(r))?((void 0===t||t.includes(Qc(r)))&&e.push(r),e):e}),[])}getRootsData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc;return this.model.getRoots(t).map(dC)}getAncestorsData(t,e){const{model:n}=this;return n.hasNode(t)&&n.hasTreeStructure(e)?n.getAncestors(t,e).map(dC):[]}getDescendantsData(t){const e=this.getElementDataById(t),n=[];return vd(e,(t=>{t!==e&&n.push(t)}),(t=>this.getChildrenData(Qc(t))),"TB"),n}getParentData(t,e){const{model:n}=this;if(!e)return void $c.warn("The hierarchy structure key is not specified");if(!n.hasNode(t)||!n.hasTreeStructure(e))return;const r=n.getParent(t,e);return r?dC(r):void 0}getChildrenData(t){const e="node"===this.getElementType(t)?Lc:_c,{model:n}=this;return n.hasNode(t)&&n.hasTreeStructure(e)?n.getChildren(t,e).map(dC):[]}getElementsDataByType(t){return"node"===t?this.getNodeData():"edge"===t?this.getEdgeData():"combo"===t?this.getComboData():[]}getElementDataById(t){return"edge"===this.getElementType(t)?this.getEdgeDatum(t):this.getNodeLikeDatum(t)}getNodeLikeDatum(t){return dC(this.model.getNode(t))}getNodeLikeData(t){return this.model.getAllNodes().reduce(((e,n)=>{const r=dC(n);return t?t.includes(Qc(r))&&e.push(r):e.push(r),e}),[])}getElementDataByState(t,e){return this.getElementsDataByType(t).filter((t=>t.states?.includes(e)))}getElementState(t){return this.getElementDataById(t)?.states||[]}hasNode(t){return this.model.hasNode(t)&&!this.isCombo(t)}hasEdge(t){return this.model.hasEdge(t)}hasCombo(t){return this.model.hasNode(t)&&this.isCombo(t)}getRelatedEdgesData(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return this.model.getRelatedEdges(t,e).map(dC)}getNeighborNodesData(t){return this.model.getNeighbors(t).map(dC)}setData(t){const{nodes:e=[],edges:n=[],combos:r=[]}=t,{nodes:i,edges:o,combos:a}=this.getData(),s=uu(i,e,(t=>Qc(t)),cC),l=uu(o,n,(t=>Qc(t)),cC),c=uu(a,r,(t=>Qc(t)),cC);this.batch((()=>{this.addData({nodes:s.enter,edges:l.enter,combos:c.enter}),this.updateData({nodes:s.update,edges:l.update,combos:c.update}),this.removeData({nodes:s.exit.map(Qc),edges:l.exit.map(Qc),combos:c.exit.map(Qc)})}))}addData(t){const{nodes:e,edges:n,combos:r}=t;this.batch((()=>{this.addComboData(r),this.addNodeData(e),this.addEdgeData(n)}))}addNodeData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length&&(this.model.addNodes(t.map((t=>(this.pushChange({value:t,type:Sc.NodeAdded}),uC(t))))),this.updateNodeLikeHierarchy(t))}addEdgeData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length&&this.model.addEdges(t.map((t=>(this.pushChange({value:t,type:Sc.EdgeAdded}),uC(t)))))}addComboData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return;const{model:e}=this;e.hasTreeStructure(_c)||e.attachTreeStructure(_c),e.addNodes(t.map((t=>(this.comboIds.add(Qc(t)),this.pushChange({value:t,type:Sc.ComboAdded}),uC(t))))),this.updateNodeLikeHierarchy(t)}addChildrenData(t,e){const n=this.getNodeLikeDatum(t),r=e.map(Qc);this.addNodeData(e),this.updateNodeData([{id:t,children:[...n.children||[],...r]}]),this.addEdgeData(r.map((e=>({source:t,target:e}))))}updateNodeLikeHierarchy(t){if(!this.enableUpdateNodeLikeHierarchy)return;const{model:e}=this;t.forEach((t=>{const n=Qc(t);Jc(t)&&(e.hasTreeStructure(_c)||e.attachTreeStructure(_c),this.setParent(n,Jc(t),_c));const r=t.children||[];if(r.length){e.hasTreeStructure(Lc)||e.attachTreeStructure(Lc);const t=r.filter((t=>e.hasNode(t)));t.forEach((t=>this.setParent(t,n,Lc))),t.length!==r.length&&this.updateNodeData([{id:n,children:t}])}}))}enableUpdateNodeLikeHierarchy=!0;preventUpdateNodeLikeHierarchy(t){this.enableUpdateNodeLikeHierarchy=!1,t(),this.enableUpdateNodeLikeHierarchy=!0}updateData(t){const{nodes:e,edges:n,combos:r}=t;this.batch((()=>{this.updateNodeData(e),this.updateComboData(r),this.updateEdgeData(n)}))}updateNodeData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return;const{model:e}=this;this.batch((()=>{const n=[];t.forEach((t=>{const r=Qc(t),i=dC(e.getNode(r));if(cC(i,t))return;const o=sC(i,t);this.pushChange({value:o,original:i,type:Sc.NodeUpdated}),e.mergeNodeData(r,o),n.push(o)})),this.updateNodeLikeHierarchy(n)}))}refreshData(){const{nodes:t,edges:e,combos:n}=this.getData();t.forEach((t=>{this.pushChange({value:t,original:t,type:Sc.NodeUpdated})})),e.forEach((t=>{this.pushChange({value:t,original:t,type:Sc.EdgeUpdated})})),n.forEach((t=>{this.pushChange({value:t,original:t,type:Sc.ComboUpdated})}))}syncNodeDatum(t){const{model:e}=this,n=Qc(t),r=sC(dC(e.getNode(n)),t);e.mergeNodeData(n,r)}updateEdgeData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return;const{model:e}=this;this.batch((()=>{t.forEach((t=>{const n=Qc(t),r=dC(e.getEdge(n));if(cC(r,t))return;t.source&&r.source!==t.source&&e.updateEdgeSource(n,t.source),t.target&&r.target!==t.target&&e.updateEdgeTarget(n,t.target);const i=sC(r,t);this.pushChange({value:i,original:r,type:Sc.EdgeUpdated}),e.mergeEdgeData(n,i)}))}))}updateComboData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return;const{model:e}=this;e.batch((()=>{const n=[];t.forEach((t=>{const r=Qc(t),i=dC(e.getNode(r));if(cC(i,t))return;const o=sC(i,t);this.pushChange({value:o,original:i,type:Sc.ComboUpdated}),e.mergeNodeData(r,o),n.push(o)})),this.updateNodeLikeHierarchy(n)}))}setParent(t,e,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t===e)return;const i=Jc(this.getNodeLikeDatum(t));if(i!==e&&n===_c){const n={id:t,combo:e};this.isCombo(t)?this.syncComboDatum(n):this.syncNodeDatum(n)}this.model.setParent(t,e,n),r&&n===_c&&function(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}([i,e]).forEach((t=>{void 0!==t&&this.refreshComboData(t)}))}refreshComboData(t){const e=this.getComboData([t])[0],n=this.getAncestorsData(t,_c);e&&this.pushChange({value:e,original:e,type:Sc.ComboUpdated}),n.forEach((t=>{this.pushChange({value:t,original:t,type:Sc.ComboUpdated})}))}syncComboDatum(t){const{model:e}=this,n=Qc(t);if(!e.hasNode(n))return;const r=sC(dC(e.getNode(n)),t);e.mergeNodeData(n,r)}getElementPosition(t){return Xu(this.getElementDataById(t))}translateNodeLikeBy(t,e){this.isCombo(t)?this.translateComboBy(t,e):this.translateNodeBy(t,e)}translateNodeLikeTo(t,e){this.isCombo(t)?this.translateComboTo(t,e):this.translateNodeTo(t,e)}translateNodeBy(t,e){const n=_u(this.getElementPosition(t),[...e,0].slice(0,3));this.translateNodeTo(t,n)}translateNodeTo(t,e){const[n=0,r=0,i=0]=e;this.preventUpdateNodeLikeHierarchy((()=>{this.updateNodeData([{id:t,style:{x:n,y:r,z:i}}])}))}translateComboBy(t,e){const[n=0,r=0,i=0]=e;if([n,r,i].some(isNaN)||[n,r,i].every((t=>0===t)))return;const o=this.getComboData([t])[0];o&&vd(o,(t=>{const e=Qc(t),[o,a,s]=Xu(t),l=sC(t,{style:{x:o+n,y:a+r,z:s+i}});this.pushChange({value:l,original:t,type:this.isCombo(e)?Sc.ComboUpdated:Sc.NodeUpdated}),this.model.mergeNodeData(e,l)}),(t=>this.getChildrenData(Qc(t))),"BT")}translateComboTo(t,e){if(e.some(isNaN))return;const[n=0,r=0,i=0]=e,o=this.getComboData([t])?.[0];if(!o)return;const[a,s,l]=Xu(o),c=n-a,u=r-s,d=i-l;vd(o,(t=>{const e=Qc(t),[n,r,i]=Xu(t),o=sC(t,{style:{x:n+c,y:r+u,z:i+d}});this.pushChange({value:o,original:t,type:this.isCombo(e)?Sc.ComboUpdated:Sc.NodeUpdated}),this.model.mergeNodeData(e,o)}),(t=>this.getChildrenData(Qc(t))),"BT")}removeData(t){const{nodes:e,edges:n,combos:r}=t;this.batch((()=>{this.removeEdgeData(n),this.removeNodeData(e),this.removeComboData(r),this.latestRemovedComboIds=new Set(r)}))}removeNodeData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length&&this.batch((()=>{t.forEach((t=>{this.removeEdgeData(this.getRelatedEdgesData(t).map(Qc)),this.pushChange({value:this.getNodeData([t])[0],type:Sc.NodeRemoved}),this.removeNodeLikeHierarchy(t)})),this.model.removeNodes(t)}))}removeEdgeData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length&&(t.forEach((t=>this.pushChange({value:this.getEdgeData([t])[0],type:Sc.EdgeRemoved}))),this.model.removeEdges(t))}removeComboData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length&&this.batch((()=>{t.forEach((t=>{this.pushChange({value:this.getComboData([t])[0],type:Sc.ComboRemoved}),this.removeNodeLikeHierarchy(t),this.comboIds.delete(t)})),this.model.removeNodes(t)}))}removeNodeLikeHierarchy(t){if(this.model.hasTreeStructure(_c)){const e=Jc(this.getNodeLikeDatum(t));this.setParent(t,void 0,_c,!1),this.model.getChildren(t,_c).forEach((t=>{const n=dC(t),r=Qc(n);this.setParent(Qc(n),e,_c,!1);const i=sC(n,{id:Qc(n),combo:e});this.pushChange({value:i,original:n,type:this.isCombo(r)?Sc.ComboUpdated:Sc.NodeUpdated}),this.model.mergeNodeData(Qc(n),i)})),$e(e)||this.refreshComboData(e)}}getElementType(t){if(this.model.hasNode(t))return this.isCombo(t)?"combo":"node";if(this.model.hasEdge(t))return"edge";throw new Error(Bc(`Unknown element type of id: ${t}`))}destroy(){const{model:t}=this,e=t.getAllNodes(),n=t.getAllEdges();t.removeEdges(n.map((t=>t.id))),t.removeNodes(e.map((t=>t.id))),this.context={}}}class fC{context;container;elementMap={};shapeTypeMap={};constructor(t){this.context=t}init(){if(!this.container){const{canvas:t}=this.context;this.container=t.appendChild(new Ts({className:"elements"}))}}emit(t,e){e.silence||ZM(this.context.graph,t)}forEachElementData(t){md.forEach((e=>{const n=this.context.model.getElementsDataByType(e);t(e,n)}))}getElementType(t,e){const{options:n,graph:r}=this.context,i=n[t]?.type||e.type;return i?"string"===typeof i?i:i.call(r,e):"edge"===t?"line":"circle"}getTheme(t){return Vc(this.context.options)[t]||{}}getThemeStyle(t){return this.getTheme(t).style||{}}getThemeStateStyle(t,e){const{state:n={}}=this.getTheme(t);return Object.assign({},...e.map((t=>n[t]||{})))}paletteStyle={};computePaletteStyle(){const{options:t}=this.context;this.paletteStyle={},this.forEachElementData(((e,n)=>{const r=Object.assign({},Bd(this.getTheme(e)?.palette),Bd(t[e]?.palette));r?.field&&Object.assign(this.paletteStyle,function(t,e){if(!e)return{};const{type:n,color:r,field:i,invert:o}=e,a=t=>{const e="string"===typeof r?jc("palette",r):r;if("function"===typeof e){const n={};return t.forEach((t=>{let[r,i]=t;n[r]=e(o?1-i:i)})),n}if(Array.isArray(e)){const n=o?[...e].reverse():e,r={};return t.forEach((t=>{let[i,o]=t;r[i]=n[o%e.length]})),r}return{}},s=(t,e)=>"string"===typeof t?e.data?.[t]:t?.(e);if("group"===n){const e=Fd(t,(t=>{if(!i)return"default";const e=s(i,t);return e?String(e):"default"})),n=a(Object.keys(e).map(((t,e)=>[t,e]))),r={};return Object.entries(e).forEach((t=>{let[e,i]=t;i.forEach((t=>{r[Qc(t)]=n[e]}))})),r}if("value"===n){const[e,n]=t.reduce(((t,e)=>{let[n,r]=t;const o=s(i,e);if("number"!==typeof o)throw new Error(Bc(`Palette field ${i} is not a number`));return[Math.min(n,o),Math.max(r,o)]}),[1/0,-1/0]),r=n-e;return a(t.map((t=>[t.id,(s(i,t)-e)/r])))}}(n,r))}))}getPaletteStyle(t,e){const n=this.paletteStyle[e];return n?"edge"===t?{stroke:n}:{fill:n}:{}}defaultStyle={};computeElementDefaultStyle(t,e){const{options:n}=this.context,r=n[t]?.style||{};this.defaultStyle[Qc(e.datum)]=_d(r,e)}computeElementsDefaultStyle(t){const{graph:e}=this.context;this.forEachElementData(((n,r)=>{const i=r.length;for(let o=0;o<i;o++){const i=r[o];(void 0===t||t.includes(Qc(i)))&&this.computeElementDefaultStyle(n,{datum:i,graph:e})}}))}getDefaultStyle(t){return this.defaultStyle[t]||{}}getElementState(t){try{const{model:e}=this.context;return e.getElementState(t)}catch{return[]}}stateStyle={};getElementStateStyle(t,e,n){const{options:r}=this.context;return _d(r[t]?.state?.[e]||{},n)}computeElementStatesStyle(t,e,n){this.stateStyle[Qc(n.datum)]=Object.assign({},...e.map((e=>this.getElementStateStyle(t,e,n))))}computeElementsStatesStyle(t){const{graph:e}=this.context;this.forEachElementData(((n,r)=>{const i=r.length;for(let o=0;o<i;o++){const i=r[o];if(void 0===t||t.includes(Qc(i))){const t=this.getElementState(Qc(i));this.computeElementStatesStyle(n,t,{datum:i,graph:e})}}}))}getStateStyle(t){return this.stateStyle[t]||{}}computeStyle(t,e){t&&["translate","zIndex"].includes(t)||(this.computePaletteStyle(),this.computeElementsDefaultStyle(e),this.computeElementsStatesStyle(e))}getElement(t){return this.elementMap[t]}getElementZIndex(t){const e=this.getElement(t);return e?e.style.zIndex??0:0}getNodes(){return this.context.model.getNodeData().map((t=>{let{id:e}=t;return this.elementMap[e]}))}getEdges(){return this.context.model.getEdgeData().map((t=>this.elementMap[Qc(t)]))}getCombos(){return this.context.model.getComboData().map((t=>{let{id:e}=t;return this.elementMap[e]}))}getElementComputedStyle(t,e){const n=Qc(e),r=this.getThemeStyle(t),i=this.getPaletteStyle(t,n),o=e.style||{},a=this.getDefaultStyle(n),s=this.getThemeStateStyle(t,this.getElementState(n)),l=this.getStateStyle(n),c=Object.assign({},r,i,o,a,s,l);if("combo"===t){const t=this.context.model.getChildrenData(n),e=!!c.collapsed?[]:t.map(Qc).filter((t=>this.getElement(t)));Object.assign(c,{childrenNode:e,childrenData:t})}return c}draw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{animation:!0};this.init();const e=this.computeChangesAndDrawData(t);if(!e)return null;const{dataChanges:n,drawData:r}=e;this.markDestroyElement(r),this.computeStyle(t.stage);const{add:i,update:o,remove:a}=r;this.destroyElements(a,t),this.createElements(i,t),this.updateElements(o,t);const{animation:s,silence:l}=t,{type:c="draw"}=t;return this.context.animation.animate(s,l?{}:{before:()=>this.emit(new qM(Tc.BEFORE_DRAW,{dataChanges:n,animation:s,render:"render"===c}),t),beforeAnimate:e=>this.emit(new YM(Tc.BEFORE_ANIMATE,kc.DRAW,e,r),t),afterAnimate:e=>this.emit(new YM(Tc.AFTER_ANIMATE,kc.DRAW,e,r),t),after:()=>this.emit(new qM(Tc.AFTER_DRAW,{dataChanges:n,animation:s,render:"render"===c}),t)})}computeChangesAndDrawData(t){const{model:e}=this.context,n=e.getChanges(),r=Dx(n);if(0===r.length)return null;const{NodeAdded:i=[],NodeUpdated:o=[],NodeRemoved:a=[],EdgeAdded:s=[],EdgeUpdated:l=[],EdgeRemoved:c=[],ComboAdded:u=[],ComboUpdated:d=[],ComboRemoved:h=[]}=Fd(r,(t=>t.type)),f=t=>new Map(t.map((t=>{const e=t.value;return[Qc(e),e]}))),p={add:{nodes:f(i),edges:f(s),combos:f(u)},update:{nodes:f(o),edges:f(l),combos:f(d)},remove:{nodes:f(a),edges:f(c),combos:f(h)}},g=this.transformData(p,t);return e.clearChanges(),{dataChanges:n,drawData:g}}transformData(t,e){const n=this.context.transform.getTransformInstance();return Object.values(n).reduce(((t,n)=>n.beforeDraw(t,e)),t)}createElement(t,e,n){const r=Qc(e);if(this.getElement(r))return;const i=this.getElementType(t,e),o=this.getElementComputedStyle(t,e),a=jc(t,i);if(!a)return $c.warn(`The element ${i} of ${t} is not registered.`);if(this.emit(new XM(Tc.BEFORE_ELEMENT_CREATE,t,e),n),"expand"===n.stage){const t=this.getElementZIndex(n.target);(!o.zIndex||o.zIndex<t)&&(o.zIndex=t+(o.zIndex??0))}const s=this.container.appendChild(new a({id:r,style:{context:this.context,...o}}));this.shapeTypeMap[r]=i,this.elementMap[r]=s;const{stage:l="enter"}=n;this.context.animation?.add({element:s,elementType:t,stage:l,originalStyle:{...s.attributes},modifiedStyle:{...s.attributes,...o}},{after:()=>{this.emit(new XM(Tc.AFTER_ELEMENT_CREATE,t,e),n),s.onCreate?.()}})}createElements(t,e){const{nodes:n,edges:r,combos:i}=t;[["node",n],["combo",i],["edge",r]].forEach((t=>{let[n,r]=t;r.forEach((t=>this.createElement(n,t,e)))}))}getUpdateStageStyle(t,e,n){const{stage:r="update"}=n;if("translate"===r){if("node"===t||"combo"===t){const{style:{x:t=0,y:n=0,z:r=0}={}}=e;return{x:t,y:n,z:r}}return{}}return this.getElementComputedStyle(t,e)}updateElement(t,e,n){const r=Qc(e),{stage:i="update"}=n,o=this.getElement(r);if(!o)return()=>null;this.emit(new XM(Tc.BEFORE_ELEMENT_UPDATE,t,e),n);const a=this.getElementType(t,e),s=this.getUpdateStageStyle(t,e,n);this.shapeTypeMap[r]!==a&&(o.destroy(),delete this.shapeTypeMap[r],delete this.elementMap[r],this.createElement(t,e,{animation:!1,silence:!0}));const l="visibility"!==i?i:"hidden"===s.visibility?"hide":"show";"hide"===l&&delete s.visibility,this.context.animation?.add({element:o,elementType:t,stage:l,originalStyle:{...o.attributes},modifiedStyle:{...o.attributes,...s}},{before:()=>{const t=this.elementMap[r];"collapse"!==i&&jp(t,s),"visibility"===i&&(sg(t,"opacity")||og(t,"opacity"),this.visibilityCache.set(t,"show"===l?"visible":"hidden"),"show"===l&&Gd(t,"visible"))},after:()=>{const o=this.elementMap[r];"collapse"===i&&jp(o,s),"hide"===l&&Gd(o,this.visibilityCache.get(o)),this.emit(new XM(Tc.AFTER_ELEMENT_UPDATE,t,e),n),o.onUpdate?.()}})}updateElements(t,e){const{nodes:n,edges:r,combos:i}=t;[["node",n],["combo",i],["edge",r]].forEach((t=>{let[n,r]=t;r.forEach((t=>this.updateElement(n,t,e)))}))}visibilityCache=(()=>new WeakMap)();markDestroyElement(t){Object.values(t.remove).forEach((t=>{t.forEach((t=>{const e=Qc(t),n=this.getElement(e);n&&function(t){kd(t,"__to_be_destroyed__",!0)}(n)}))}))}destroyElement(t,e,n){const{stage:r="exit"}=n,i=Qc(e),o=this.elementMap[i];if(!o)return()=>null;this.emit(new XM(Tc.BEFORE_ELEMENT_DESTROY,t,e),n),this.context.animation?.add({element:o,elementType:t,stage:r,originalStyle:{...o.attributes},modifiedStyle:{...o.attributes}},{after:()=>{this.clearElement(i),o.destroy(),o.onDestroy?.(),this.emit(new XM(Tc.AFTER_ELEMENT_DESTROY,t,e),n)}})}destroyElements(t,e){const{nodes:n,edges:r,combos:i}=t;[["combo",i],["edge",r],["node",n]].forEach((t=>{let[n,r]=t;r.forEach((t=>this.destroyElement(n,t,e)))}))}clearElement(t){delete this.paletteStyle[t],delete this.defaultStyle[t],delete this.stateStyle[t],delete this.elementMap[t],delete this.shapeTypeMap[t]}async collapseNode(t,e){const{model:n,layout:r}=this.context,i=this.computeChangesAndDrawData({stage:"collapse",animation:e});if(!i)return;this.markDestroyElement(i.drawData);const o=await r.simulate();n.updateData(o);const a=this.computeChangesAndDrawData({stage:"collapse",animation:e});if(!a)return;const{drawData:s}=a,{add:l,remove:c,update:u}=s;this.markDestroyElement(s);const d={animation:e,stage:"collapse",data:s};this.destroyElements(c,d),this.createElements(l,d),this.updateElements(u,d),await(this.context.animation.animate(e,{beforeAnimate:t=>this.emit(new YM(Tc.BEFORE_ANIMATE,kc.COLLAPSE,t,s),d),afterAnimate:t=>this.emit(new YM(Tc.AFTER_ANIMATE,kc.COLLAPSE,t,s),d)},{collapse:{target:t,descendants:Array.from(c.nodes).map((t=>{let[,e]=t;return Qc(e)})),position:Xu(u.nodes.get(t))}})?.finished)}async expandNode(t,e){const{model:n,layout:r}=this.context;if(!n.getAncestorsData(t,_c).every((t=>Ed(t))))return;const i=Xu(n.getNodeData([t])[0]),o=this.computeChangesAndDrawData({stage:"expand",animation:e});if(!o)return;const{drawData:{add:a}}=o;this.createElements(a,{animation:!1,stage:"expand",target:t}),this.context.animation.clear();const s=await r.simulate();n.updateData(s),this.computeStyle("expand");const l=this.computeChangesAndDrawData({stage:"collapse",animation:e});if(!l)return;const{drawData:c}=l,{update:u}=c,d={animation:e,stage:"expand",data:c};a.edges.forEach((t=>u.edges.set(Qc(t),t))),a.nodes.forEach((t=>u.nodes.set(Qc(t),t))),this.updateElements(u,d),await(this.context.animation.animate(e,{beforeAnimate:t=>this.emit(new YM(Tc.BEFORE_ANIMATE,kc.EXPAND,t,c),d),afterAnimate:t=>this.emit(new YM(Tc.AFTER_ANIMATE,kc.EXPAND,t,c),d)},{expand:{target:t,descendants:Array.from(a.nodes).map((t=>{let[,e]=t;return Qc(e)})),position:i}})?.finished)}async collapseCombo(t,e){const{model:n,element:r}=this.context;if(n.getAncestorsData(t,_c).some((t=>Ed(t))))return;const i=r.getElement(t),o=i.getComboPosition({...i.attributes,collapsed:!0}),a=this.computeChangesAndDrawData({stage:"collapse",animation:e});if(!a)return;const{dataChanges:s,drawData:l}=a;this.markDestroyElement(l);const{update:c,remove:u}=l,d={animation:e,stage:"collapse",data:l};this.destroyElements(u,d),this.updateElements(c,d);const h=t=>Array.from(t).map((t=>{let[,e]=t;return Qc(e)}));await(this.context.animation.animate(e,{before:()=>this.emit(new qM(Tc.BEFORE_DRAW,{dataChanges:s,animation:e}),d),beforeAnimate:t=>this.emit(new YM(Tc.BEFORE_ANIMATE,kc.COLLAPSE,t,l),d),afterAnimate:t=>this.emit(new YM(Tc.AFTER_ANIMATE,kc.COLLAPSE,t,l),d),after:()=>this.emit(new qM(Tc.AFTER_DRAW,{dataChanges:s,animation:e}),d)},{collapse:{target:t,descendants:[...h(u.nodes),...h(u.combos)],position:o}})?.finished)}async expandCombo(t,e){const{model:n}=this.context,r=Xu(n.getComboData([t])[0]);this.computeStyle("expand");const i=this.computeChangesAndDrawData({stage:"expand",animation:e});if(!i)return;const{dataChanges:o,drawData:a}=i,{add:s,update:l}=a,c={animation:e,stage:"expand",data:a,target:t};this.createElements(s,c),this.updateElements(l,c);const u=t=>Array.from(t).map((t=>{let[,e]=t;return Qc(e)}));await(this.context.animation.animate(e,{before:()=>this.emit(new qM(Tc.BEFORE_DRAW,{dataChanges:o,animation:e}),c),beforeAnimate:t=>this.emit(new YM(Tc.BEFORE_ANIMATE,kc.EXPAND,t,a),c),afterAnimate:t=>this.emit(new YM(Tc.AFTER_ANIMATE,kc.EXPAND,t,a),c),after:()=>this.emit(new qM(Tc.AFTER_DRAW,{dataChanges:o,animation:e}),c)},{expand:{target:t,descendants:[...u(s.nodes),...u(s.combos)],position:r}})?.finished)}getFrontZIndex(t){const{model:e}=this.context,n=e.getElementType(t),r=e.getElementDataById(t),i=e.getData();if(Object.assign(i,{[`${n}s`]:i[`${n}s`].filter((e=>Qc(e)!==t))}),"combo"===n&&!Ed(r)){const n=e.getAncestorsData(t,_c).map(Qc);i.nodes=i.nodes.filter((t=>!n.includes(Qc(t)))),i.combos=i.combos.filter((t=>!n.includes(Qc(t)))),i.edges=i.edges.filter((t=>{let{source:e,target:r}=t;return n.includes(e)&&n.includes(r)}))}return Math.max(0,...Object.values(i).flat().map((t=>{const e=Qc(t);return this.getElementZIndex(e)})))+1}destroy(){this.container.destroy(),this.elementMap={},this.shapeTypeMap={},this.defaultStyle={},this.stateStyle={},this.paletteStyle={},this.context={}}}const pC=Symbol("Comlink.proxy"),gC=Symbol("Comlink.endpoint"),mC=Symbol("Comlink.releaseProxy"),vC=Symbol("Comlink.finalizer"),yC=Symbol("Comlink.thrown"),bC=t=>"object"===typeof t&&null!==t||"function"===typeof t,xC=new Map([["proxy",{canHandle:t=>bC(t)&&t[pC],serialize(t){const{port1:e,port2:n}=new MessageChannel;return wC(t,e),[n,[n]]},deserialize:t=>(t.start(),SC(t))}],["throw",{canHandle:t=>bC(t)&&yC in t,serialize(t){let e,{value:n}=t;return e=n instanceof Error?{isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:{isError:!1,value:n},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function wC(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["*"];e.addEventListener("message",(function r(i){if(!i||!i.data)return;if(!function(t,e){for(const n of t){if(e===n||"*"===n)return!0;if(n instanceof RegExp&&n.test(e))return!0}return!1}(n,i.origin))return void console.warn(`Invalid origin '${i.origin}' for comlink proxy`);const{id:o,type:a,path:s}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(RC);let c;try{const e=s.slice(0,-1).reduce(((t,e)=>t[e]),t),n=s.reduce(((t,e)=>t[e]),t);switch(a){case"GET":c=n;break;case"SET":e[s.slice(-1)[0]]=RC(i.data.value),c=!0;break;case"APPLY":c=n.apply(e,l);break;case"CONSTRUCT":c=function(t){return Object.assign(t,{[pC]:!0})}(new n(...l));break;case"ENDPOINT":{const{port1:e,port2:n}=new MessageChannel;wC(t,n),c=function(t,e){return TC.set(t,e),t}(e,[e])}break;case"RELEASE":c=void 0;break;default:return}}catch(u){c={value:u,[yC]:0}}Promise.resolve(c).catch((t=>({value:t,[yC]:0}))).then((n=>{const[i,s]=AC(n);e.postMessage(Object.assign(Object.assign({},i),{id:o}),s),"RELEASE"===a&&(e.removeEventListener("message",r),EC(e),vC in t&&"function"===typeof t[vC]&&t[vC]())})).catch((t=>{const[n,r]=AC({value:new TypeError("Unserializable return value"),[yC]:0});e.postMessage(Object.assign(Object.assign({},n),{id:o}),r)}))})),e.start&&e.start()}function EC(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function SC(t,e){return OC(t,[],e)}function kC(t){if(t)throw new Error("Proxy has been released and is not useable")}function MC(t){return _C(t,{type:"RELEASE"}).then((()=>{EC(t)}))}const CC=new WeakMap,NC="FinalizationRegistry"in globalThis&&new FinalizationRegistry((t=>{const e=(CC.get(t)||0)-1;CC.set(t,e),0===e&&MC(t)}));function OC(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!1;const r=new Proxy(arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},{get(i,o){if(kC(n),o===mC)return()=>{!function(t){NC&&NC.unregister(t)}(r),MC(t),n=!0};if("then"===o){if(0===e.length)return{then:()=>r};const n=_C(t,{type:"GET",path:e.map((t=>t.toString()))}).then(RC);return n.then.bind(n)}return OC(t,[...e,o])},set(r,i,o){kC(n);const[a,s]=AC(o);return _C(t,{type:"SET",path:[...e,i].map((t=>t.toString())),value:a},s).then(RC)},apply(r,i,o){kC(n);const a=e[e.length-1];if(a===gC)return _C(t,{type:"ENDPOINT"}).then(RC);if("bind"===a)return OC(t,e.slice(0,-1));const[s,l]=PC(o);return _C(t,{type:"APPLY",path:e.map((t=>t.toString())),argumentList:s},l).then(RC)},construct(r,i){kC(n);const[o,a]=PC(i);return _C(t,{type:"CONSTRUCT",path:e.map((t=>t.toString())),argumentList:o},a).then(RC)}});return function(t,e){const n=(CC.get(e)||0)+1;CC.set(e,n),NC&&NC.register(t,e,t)}(r,t),r}function PC(t){const e=t.map(AC);return[e.map((t=>t[0])),(n=e.map((t=>t[1])),Array.prototype.concat.apply([],n))];var n}const TC=new WeakMap;function AC(t){for(const[e,n]of xC)if(n.canHandle(t)){const[r,i]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},i]}return[{type:"RAW",value:t},TC.get(t)||[]]}function RC(t){switch(t.type){case"HANDLER":return xC.get(t.name).deserialize(t.value);case"RAW":return t.value}}function _C(t,e,n){return new Promise((r=>{const i=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.addEventListener("message",(function e(n){n.data&&n.data.id&&n.data.id===i&&(t.removeEventListener("message",e),r(n.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:i},e),n)}))}class LC extends qp{constructor(t,e,n){super(),this.graph=t,this.layout=e,this.options=n,this.spawnWorker()}spawnWorker(){this.proxy=SC(new Worker(new URL(n.p+n.u(873),n.b),{type:void 0})),this.running&&(this.running=!1,this.execute())}execute(){var t;return l(this,void 0,void 0,(function*(){if(this.running)return this;this.running=!0;const e=this.layout.options,{onTick:n}=e,r=s(e,["onTick"]),i={};Object.keys(r).forEach((t=>{pu(r[t])||(i[t]=r[t])}));const o={layout:{id:this.layout.id,options:i,iterations:null===(t=this.options)||void 0===t?void 0:t.iterations},nodes:this.graph.getAllNodes(),edges:this.graph.getAllEdges()},a=new Float32Array([0]),[l]=yield this.proxy.calculateLayout(o,[a]);return l}))}stop(){return this.running=!1,this.proxy.stopLayout(),this}kill(){this.proxy[mC]()}isRunning(){return this.running}}class IC{context;supervisor;instance;instances=[];animationResult;get presetOptions(){return{animation:!!Uc(this.context.options,!0)}}get options(){const{options:t}=this.context;return t.layout}constructor(t){this.context=t}getLayoutInstance(){return this.instances}async layout(){if(!this.options)return;const t=Array.isArray(this.options)?this.options:[this.options],{graph:e}=this.context;ZM(e,new qM(Tc.BEFORE_LAYOUT));for(const n of t){const r=t.indexOf(n),i=this.getLayoutData(n),o={...this.presetOptions,...n};ZM(e,new qM(Tc.BEFORE_STAGE_LAYOUT,{options:o,index:r}));const a=await this.stepLayout(i,o,r);ZM(e,new qM(Tc.AFTER_STAGE_LAYOUT,{options:o,index:r})),n.animation||this.updateElementPosition(a,!1)}ZM(e,new qM(Tc.AFTER_LAYOUT)),this.transformDataAfterLayout()}transformDataAfterLayout(){const t=this.context.transform.getTransformInstance();Object.values(t).forEach((t=>t.afterLayout()))}async simulate(){if(!this.options)return{};const t=Array.isArray(this.options)?this.options:[this.options];let e={};for(const n of t){const r=t.indexOf(n),i=this.getLayoutData(n);e=await this.stepLayout(i,{...this.presetOptions,...n,animation:!1},r)}return e}async stepLayout(t,e,n){return function(t){const{type:e}=t;return["compact-box","mindmap","dendrogram","indented"].includes(e)}(e)?await this.treeLayout(t,e,n):await this.graphLayout(t,e,n)}async graphLayout(t,e,n){const{animation:r,enableWorker:i,iterations:o=300}=e,a=this.initGraphLayout(e);if(!a)return{};if(this.instances[n]=a,this.instance=a,i){const e=a;return this.supervisor=new LC(e.graphData2LayoutModel(t),e.instance,{iterations:o}),tg(await this.supervisor.execute())}if(hy(a))return r?await a.execute(t,{onTick:t=>{this.updateElementPosition(t,!1)}}):(a.execute(t),a.stop(),a.tick(o));const s=await a.execute(t);return r&&this.updateElementPosition(s,r),s}async treeLayout(t,e,n){const{type:r,animation:i}=e,o=jc("layout",r);if(!o)return{};const{nodes:a=[],edges:s=[]}=t,l=new Qp({nodes:a.map((t=>({id:Qc(t),data:t.data||{}}))),edges:s.map((t=>({id:Qc(t),source:t.source,target:t.target,data:t.data||{}})))});!function(t){if(t.hasTreeStructure(Lc))return;t.attachTreeStructure(Lc);const e=t.getAllEdges();for(const n of e){const{source:e,target:r}=n;t.setParent(r,e,Lc)}}(l);const c={nodes:[],edges:[]},u={nodes:[],edges:[]};l.getRoots(Lc).forEach((t=>{vd(t,(t=>{t.children=l.getSuccessors(t.id)}),(t=>l.getSuccessors(t.id)),"TB");const n=o(t,e),{x:r,y:i,z:a=0}=n;vd(n,(t=>{const{id:e,x:n,y:o,z:s=0}=t;c.nodes.push({id:e,style:{x:r,y:i,z:a}}),u.nodes.push({id:e,style:{x:n,y:o,z:s}})}),(t=>t.children),"TB")}));const d=this.inferTreeLayoutOffset(u);return DC(u,d),i&&(DC(c,d),this.updateElementPosition(c,!1),this.updateElementPosition(u,i)),u}inferTreeLayoutOffset(t){let[e,n]=[1/0,-1/0],[r,i]=[1/0,-1/0];t.nodes?.forEach((t=>{const{x:o=0,y:a=0}=t.style||{};e=Math.min(e,o),n=Math.max(n,o),r=Math.min(r,a),i=Math.max(i,a)}));const{canvas:o}=this.context,a=o.getSize(),[s,l]=o.getCanvasByViewport([0,0]),[c,u]=o.getCanvasByViewport(a);if(e>=s&&n<=c&&r>=l&&i<=u)return[0,0];return[(s+c)/2-(e+n)/2,(l+u)/2-(r+i)/2]}stopLayout(){this.instance&&hy(this.instance)&&(this.instance.stop(),this.instance=void 0),this.supervisor&&(this.supervisor.stop(),this.supervisor=void 0),this.animationResult&&(this.animationResult.finish(),this.animationResult=void 0)}getLayoutData(t){const{nodeFilter:e=()=>!0}=t,{nodes:n,edges:r,combos:i}=this.context.model.getData(),o=t=>this.context.element.getElement(t),a=n.filter((t=>{const n=Qc(t),r=o(n);return!!r&&(!zp(r)&&e(t))})),s=new Map(a.map((t=>[Qc(t),t])));return{nodes:a,edges:r.filter((t=>{const{source:e,target:n}=t;return!(!s.has(e)||!s.has(n))})),combos:i}}initGraphLayout(t){const{element:e,viewport:n}=this.context,{type:r,enableWorker:i,animation:o,iterations:a,...s}=t,[l,c]=n.getCanvasSize(),u=[l/2,c/2],d=t?.nodeSize??(t=>{const n=e?.getElement(t.id),{size:r}=n?.attributes||{};return Math.max(...Rd(r))}),h=jc("layout",r);if(!h)return $c.warn(`The layout of ${r} is not registered.`);const f=Object.getPrototypeOf(h.prototype)===Jp.prototype?h:function(t,e){return class extends Jp{instance;id;constructor(e,n){if(super(e,n),this.instance=new t({}),this.id=this.instance.id,"stop"in this.instance&&"tick"in this.instance){const t=this.instance;this.stop=t.stop.bind(t),this.tick=e=>tg(t.tick(e))}}async execute(t,e){return tg(await this.instance.execute(this.graphData2LayoutModel(t),this.transformOptions(Zc({},this.options,e))))}transformOptions(t){const{onTick:e}=t;return e?(t.onTick=t=>e(tg(t)),t):t}graphData2LayoutModel(t){const{nodes:n=[],edges:r=[],combos:i=[]}=t,o=n.map((t=>{const e=Qc(t),{data:n,style:r,combo:i}=t,o={id:e,data:{...n,...i?{parentId:i}:{}},style:{...r}};return r?.x&&Object.assign(o.data,{x:r.x}),r?.y&&Object.assign(o.data,{y:r.y}),r?.z&&Object.assign(o.data,{z:r.z}),o})),a=new Map(o.map((t=>[t.id,t]))),s=r.filter((t=>{const{source:e,target:n}=t;return a.has(e)&&a.has(n)})).map((t=>{const{source:e,target:n,data:r,style:i}=t;return{id:Qc(t),source:e,target:n,data:{...r},style:{...i}}})),l=i.map((t=>({id:Qc(t),data:{_isCombo:!0,...t.data},style:{...t.style}}))),c=new Qp({nodes:[...o,...l],edges:s});return e.model.model.hasTreeStructure(_c)&&(c.attachTreeStructure(_c),o.forEach((t=>{const n=e.model.model.getParent(t.id,_c);n&&c.hasNode(n.id)&&c.setParent(t.id,n.id,_c)}))),c}}}(h,this.context),p=new f(this.context),g={nodeSize:d,width:l,height:c,center:u};switch(p.id){case"d3-force":case"d3-force-3d":Object.assign(g,{center:{x:l/2,y:c/2,z:0}})}return Zc(p.options,g,s),p}updateElementPosition(t,e){const{model:n,element:r}=this.context;return r?(n.updateData(t),r.draw({animation:e,silence:!0})):null}destroy(){this.stopLayout(),this.context={},this.supervisor?.kill(),this.supervisor=void 0,this.instance=void 0,this.instances=[],this.animationResult=void 0}}const DC=(t,e)=>{const[n,r]=e;t.nodes?.forEach((t=>{if(t.style){const{x:e=0,y:i=0}=t.style;t.style.x=e+n,t.style.y=i+r}else t.style={x:n,y:r}}))};class jC extends du{category="plugin";constructor(t){super(t),this.setPlugins(this.context.options.plugins||[])}setPlugins(t){this.setExtensions(t)}getPluginInstance(t){const e=this.extensionMap[t];if(e)return e;$c.warn(`Cannot find the plugin ${t}, will try to find it by type.`);const n=this.extensions.find((e=>e.type===t));return n?this.extensionMap[n.key]:void 0}}const zC=["update-related-edges","collapse-expand-node","collapse-expand-combo","get-edge-actual-ends","arrange-draw-order"];class FC extends du{category="transform";constructor(t){super(t),this.setTransforms(this.context.options.transforms||[])}getTransforms(){}setTransforms(t){this.setExtensions([...zC.slice(0,zC.length-1),...t,zC[zC.length-1]])}getTransformInstance(t){return t?this.extensionMap[t]:this.extensionMap}}class BC{context;get padding(){return bu(this.context.options.padding)}get paddingOffset(){const[t,e,n,r]=this.padding,[i,o,a]=[(r-e)/2,(t-n)/2,0];return[i,o,a]}constructor(t){this.context=t;const[e,n]=this.paddingOffset,{zoom:r,rotation:i,x:o=e,y:a=n}=t.options;this.transform({mode:"absolute",scale:r,translate:[o,a],rotate:i},!1)}get camera(){const{canvas:t}=this.context;return new Proxy(t.getCamera(),{get:(e,n)=>{const r=Object.entries(t.getLayers()).filter((t=>{let[e]=t;return!["main"].includes(e)})).map((t=>{let[,e]=t;return e.getCamera()})),i=e[n];if("function"===typeof i)return function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];const s=i.apply(e,o);return r.forEach((t=>{t[n].apply(t,o)})),s}}})}landmarkCounter=0;createLandmark(t){return this.camera.createLandmark("landmark-"+this.landmarkCounter++,t)}getAnimation(t){const e=Uc(this.context.options,t);return!!e&&wf({...e},["easing","duration"])}getCanvasSize(){const{canvas:t}=this.context,{width:e=0,height:n=0}=t.getConfig();return[e,n]}getCanvasCenter(){const{canvas:t}=this.context,{width:e=0,height:n=0}=t.getConfig();return[e/2,n/2,0]}getViewportCenter(){const[t,e]=this.camera.getPosition();return[t,e,0]}getGraphCenter(){return this.context.graph.getViewportByCanvas(this.getCanvasCenter())}getZoom(){return this.camera.getZoom()}getRotation(){return this.camera.getRoll()}getTranslateOptions(t){const{camera:e}=this,{mode:n,translate:r=[]}=t,i=this.getZoom(),o=e.getPosition(),a=e.getFocalPoint(),[s,l]=this.getCanvasCenter(),[c=0,u=0,d=0]=r,h=Du([-c,-u,-d],i);return"relative"===n?{position:_u(o,h),focalPoint:_u(a,h)}:{position:_u([s,l,o[2]],h),focalPoint:_u([s,l,a[2]],h)}}getRotateOptions(t){const{mode:e,rotate:n=0}=t;return{roll:"relative"===e?this.camera.getRoll()+n:n}}getZoomOptions(t){const{zoomRange:e}=this.context.options,n=this.camera.getZoom(),{mode:r,scale:i=1}=t;return Qt("relative"===r?n*i:i,...e)}transformResolver;async transform(t,e){const{graph:n}=this.context,{translate:r,rotate:i,scale:o,origin:a}=t;this.cancelAnimation();const s=this.getAnimation(e);if(ZM(n,new KM(Tc.BEFORE_TRANSFORM,t)),!i&&o&&!r&&a&&!s)return this.camera.setZoomByViewportPoint(this.getZoomOptions(t),a),void ZM(n,new KM(Tc.AFTER_TRANSFORM,t));const l={};if(r&&Object.assign(l,this.getTranslateOptions(t)),Yt(i)&&Object.assign(l,this.getRotateOptions(t)),Yt(o)&&Object.assign(l,{zoom:this.getZoomOptions(t)}),s)return ZM(n,new YM(Tc.BEFORE_ANIMATE,kc.TRANSFORM,null,t)),new Promise((e=>{this.transformResolver=e,this.camera.gotoLandmark(this.createLandmark(l),{...s,onfinish:()=>{ZM(n,new YM(Tc.AFTER_ANIMATE,kc.TRANSFORM,null,t)),ZM(n,new KM(Tc.AFTER_TRANSFORM,t)),this.transformResolver=void 0,e()}})}));this.camera.gotoLandmark(this.createLandmark(l),{duration:0}),ZM(n,new KM(Tc.AFTER_TRANSFORM,t))}async fitView(t,e){const[n,r,i,o]=this.padding,{when:a="always",direction:s="both"}=t||{},[l,c]=this.context.canvas.getSize(),u=l-o-r,d=c-n-i,h=this.context.canvas.getBounds(),f=this.getBBoxInViewport(h),[p,g]=Eu(f);if("overflow"===a&&!("x"===s&&p>=u||"y"===s&&g>=d||"both"===s&&p>=u&&g>=d))return await this.fitCenter(e);const m=u/p,v=d/g,y="x"===s?m:"y"===s?v:Math.min(m,v),b=this.getAnimation(e);await this.transform({mode:"relative",scale:y,translate:_u(Lu(this.getCanvasCenter(),this.getBBoxInViewport(h).center),Du(this.paddingOffset,y))},b)}async fitCenter(t){const e=this.context.canvas.getBounds();await this.focus(e,t)}async focusElements(t,e){const{element:n}=this.context;if(!n)return;const r=Cu(t.map((t=>n.getElement(t).getRenderBounds())));await this.focus(r,e)}async focus(t,e){const n=this.context.graph.getViewportByCanvas(t.center),r=Lu(this.getCanvasCenter(),n);await this.transform({mode:"relative",translate:_u(r,this.paddingOffset)},e)}getBBoxInViewport(t){const{min:e,max:n}=t,{graph:r}=this.context,[i,o]=r.getViewportByCanvas(e),[a,s]=r.getViewportByCanvas(n),l=new fr;return l.setMinMax([i,o,0],[a,s,0]),l}isInViewport(t){const{graph:e}=this.context,n=this.getCanvasSize(),[r,i]=e.getCanvasByViewport([0,0]),[o,a]=e.getCanvasByViewport(n),s=new fr;return s.setMinMax([r,i,0],[o,a,0]),vu(t)?Nu(t,s):s.intersects(t)}cancelAnimation(){this.camera.landmarks?.length&&this.camera.cancelLandmarkAnimation(),this.transformResolver?.()}}class $C extends qp{options;static defaultOptions={autoResize:!1,theme:"light",rotation:0,zoom:1,zoomRange:[.01,10]};destroyed=!1;context=(()=>({model:new hC}))();constructor(t){super(),this.options=Object.assign({},$C.defaultOptions,t),this._setOptions(this.options,!0),this.context.graph=this,this.options.autoResize&&window.addEventListener("resize",this.onResize)}getOptions(){return this.options}setOptions(t){this._setOptions(t,!1)}_setOptions(t,e){if(this.updateCanvas(t),e){const{data:e}=t;return void(e&&this.addData(e))}Object.assign(this.options,t);const{behaviors:n,combo:r,data:i,edge:o,layout:a,node:s,plugins:l,theme:c,transforms:u}=t;n&&this.setBehaviors(n),i&&this.setData(i),s&&this.setNode(s),o&&this.setEdge(o),r&&this.setCombo(r),a&&this.setLayout(a),c&&this.setTheme(c),l&&this.setPlugins(l),u&&this.setTransforms(u)}getSize(){return this.context.canvas?this.context.canvas.getSize():[this.options.width||0,this.options.height||0]}setSize(t,e){Object.assign(this.options,{width:t,height:e}),this.context.canvas?.resize(t,e)}setZoomRange(t){this.options.zoomRange=t}getZoomRange(){return this.options.zoomRange}setNode(t){this.options.node=t,this.context.model.refreshData()}setEdge(t){this.options.edge=t,this.context.model.refreshData()}setCombo(t){this.options.combo=t,this.context.model.refreshData()}getTheme(){return this.options.theme}setTheme(t){this.options.theme=pu(t)?t(this.getTheme()):t}setLayout(t){this.options.layout=pu(t)?t(this.getLayout()):t}getLayout(){return this.options.layout}setBehaviors(t){this.options.behaviors=pu(t)?t(this.getBehaviors()):t,this.context.behavior?.setBehaviors(this.options.behaviors)}updateBehavior(t){this.setBehaviors((e=>e.map((e=>"object"===typeof e&&e.key===t.key?{...e,...t}:e))))}getBehaviors(){return this.options.behaviors||[]}setPlugins(t){this.options.plugins=pu(t)?t(this.getPlugins()):t,this.context.plugin?.setPlugins(this.options.plugins)}updatePlugin(t){this.setPlugins((e=>e.map((e=>"object"===typeof e&&e.key===t.key?{...e,...t}:e))))}getPlugins(){return this.options.plugins||[]}getPluginInstance(t){return this.context.plugin.getPluginInstance(t)}setTransforms(t){this.options.transforms=pu(t)?t(this.getTransforms()):t,this.context.transform?.setTransforms(this.options.transforms)}updateTransform(t){this.setTransforms((e=>e.map((e=>"object"===typeof e&&e.key===t.key?{...e,...t}:e)))),this.context.model.refreshData()}getTransforms(){return this.options.transforms||[]}getData(){return this.context.model.getData()}getElementData(t){return Array.isArray(t)?t.map((t=>this.context.model.getElementDataById(t))):this.context.model.getElementDataById(t)}getNodeData(t){return void 0===t?this.context.model.getNodeData():Array.isArray(t)?this.context.model.getNodeData(t):this.context.model.getNodeData([t])?.[0]}getEdgeData(t){return void 0===t?this.context.model.getEdgeData():Array.isArray(t)?this.context.model.getEdgeData(t):this.context.model.getEdgeData([t])?.[0]}getComboData(t){return void 0===t?this.context.model.getComboData():Array.isArray(t)?this.context.model.getComboData(t):this.context.model.getComboData([t])?.[0]}setData(t){this.context.model.setData(pu(t)?t(this.getData()):t)}addData(t){this.context.model.addData(pu(t)?t(this.getData()):t)}addNodeData(t){this.context.model.addNodeData(pu(t)?t(this.getNodeData()):t)}addEdgeData(t){this.context.model.addEdgeData(pu(t)?t(this.getEdgeData()):t)}addComboData(t){this.context.model.addComboData(pu(t)?t(this.getComboData()):t)}addChildrenData(t,e){this.context.model.addChildrenData(t,e)}updateData(t){this.context.model.updateData(pu(t)?t(this.getData()):t)}updateNodeData(t){this.context.model.updateNodeData(pu(t)?t(this.getNodeData()):t)}updateEdgeData(t){this.context.model.updateEdgeData(pu(t)?t(this.getEdgeData()):t)}updateComboData(t){this.context.model.updateComboData(pu(t)?t(this.getComboData()):t)}removeData(t){this.context.model.removeData(pu(t)?t(this.getData()):t)}removeNodeData(t){this.context.model.removeNodeData(pu(t)?t(this.getNodeData()):t)}removeEdgeData(t){this.context.model.removeEdgeData(pu(t)?t(this.getEdgeData()):t)}removeComboData(t){this.context.model.removeComboData(pu(t)?t(this.getComboData()):t)}getElementType(t){return this.context.model.getElementType(t)}getRelatedEdgesData(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return this.context.model.getRelatedEdgesData(t,e)}getNeighborNodesData(t){return this.context.model.getNeighborNodesData(t)}getAncestorsData(t,e){return this.context.model.getAncestorsData(t,e)}getParentData(t,e){return this.context.model.getParentData(t,e)}getChildrenData(t){return this.context.model.getChildrenData(t)}getElementDataByState(t,e){return this.context.model.getElementDataByState(t,e)}async initCanvas(){if(this.context.canvas)return await this.context.canvas.ready;const{container:t="container",width:e,height:n,renderer:r,cursor:i,background:o,devicePixelRatio:a=window.devicePixelRatio??1}=this.options;if(t instanceof iC)this.context.canvas=t,i&&t.setCursor(i),r&&t.setRenderer(r),await t.ready;else{const s=Zt(t)?document.getElementById(t):t,l=Ib(s);this.emit(Tc.BEFORE_CANVAS_INIT,{container:s,width:e,height:n});const c=new iC({container:s,width:e||l[0],height:n||l[1],background:o,renderer:r,cursor:i,devicePixelRatio:a});this.context.canvas=c,await c.ready,this.emit(Tc.AFTER_CANVAS_INIT,{canvas:c})}}updateCanvas(t){const{renderer:e,cursor:n,height:r,width:i}=t,o=this.context.canvas;o&&(e&&(this.emit(Tc.BEFORE_RENDERER_CHANGE,{renderer:this.options.renderer}),o.setRenderer(e),this.emit(Tc.AFTER_RENDERER_CHANGE,{renderer:e})),n&&o.setCursor(n),(Yt(i)||Yt(r))&&this.setSize(i??this.options.width??0,r??this.options.height??0))}initRuntime(){this.context.options=this.options,this.context.batch||(this.context.batch=new JM(this.context)),this.context.plugin||(this.context.plugin=new jC(this.context)),this.context.viewport||(this.context.viewport=new BC(this.context)),this.context.transform||(this.context.transform=new FC(this.context)),this.context.element||(this.context.element=new fC(this.context)),this.context.animation||(this.context.animation=new QM(this.context)),this.context.layout||(this.context.layout=new IC(this.context)),this.context.behavior||(this.context.behavior=new tC(this.context))}async prepare(){if(await Promise.resolve(),this.destroyed)throw new Error(Bc("The graph instance has been destroyed"));await this.initCanvas(),this.initRuntime()}async render(){await this.prepare(),ZM(this,new qM(Tc.BEFORE_RENDER));const t=this.context.element.draw({type:"render"});await Promise.all([t?.finished,this.context.layout.layout()]),await this.autoFit(),ZM(this,new qM(Tc.AFTER_RENDER))}async draw(){await this.prepare(),await(this.context.element.draw()?.finished)}async layout(){await this.context.layout.layout()}stopLayout(){this.context.layout.stopLayout()}async clear(){this.context.model.setData({}),await this.draw()}destroy(){ZM(this,new qM(Tc.BEFORE_DESTROY));const{layout:t,animation:e,element:n,model:r,canvas:i,behavior:o,plugin:a}=this.context;a?.destroy(),o?.destroy(),t?.destroy(),e?.destroy(),n?.destroy(),r.destroy(),i?.destroy(),this.options={},this.context={},this.off(),window.removeEventListener("resize",this.onResize),this.destroyed=!0,ZM(this,new qM(Tc.AFTER_DESTROY))}getCanvas(){return this.context.canvas}resize(t,e){const n=t&&e?[t,e]:Ib(this.context.canvas.getContainer());xc(n,this.getSize())||(ZM(this,new qM(Tc.BEFORE_SIZE_CHANGE,{size:n})),this.context.canvas.resize(...n),ZM(this,new qM(Tc.AFTER_SIZE_CHANGE,{size:n})))}async fitView(t,e){await(this.context.viewport?.fitView(t,e))}async fitCenter(t){await(this.context.viewport?.fitCenter(t))}async autoFit(){const{autoFit:t}=this.context.options;if(t)if(Zt(t))"view"===t?await this.fitView():"center"===t&&await this.fitCenter();else{const{type:e,animation:n}=t;"view"===e?await this.fitView(t.options,n):"center"===e&&await this.fitCenter(n)}}async focusElement(t,e){await(this.context.viewport?.focusElements(Array.isArray(t)?t:[t],e))}async zoomBy(t,e,n){await this.context.viewport.transform({mode:"relative",scale:t,origin:n},e)}async zoomTo(t,e,n){this.context.viewport.transform({mode:"absolute",scale:t,origin:n},e)}getZoom(){return this.context.viewport.getZoom()}async rotateBy(t,e,n){await this.context.viewport.transform({mode:"relative",rotate:t,origin:n},e)}async rotateTo(t,e,n){await this.context.viewport.transform({mode:"absolute",rotate:t,origin:n},e)}getRotation(){return this.context.viewport.getRotation()}async translateBy(t,e){await this.context.viewport.transform({mode:"relative",translate:t},e)}async translateTo(t,e){await this.context.viewport.transform({mode:"absolute",translate:t},e)}getPosition(){return Lu([0,0],this.getCanvasByViewport([0,0]))}async translateElementBy(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[r,i]=He(t)?[t,e??!0]:[{[t]:e},n];Object.entries(r).forEach((t=>{let[e,n]=t;return this.context.model.translateNodeLikeBy(e,n)})),await(this.context.element.draw({animation:i,stage:"translate"})?.finished)}async translateElementTo(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[r,i]=He(t)?[t,e??!0]:[{[t]:e},n];Object.entries(r).forEach((t=>{let[e,n]=t;return this.context.model.translateNodeLikeTo(e,n)})),await(this.context.element.draw({animation:i,stage:"translate"})?.finished)}getElementPosition(t){return this.context.model.getElementPosition(t)}getElementRenderStyle(t){return _b(this.context.element.getElement(t).attributes,["context"])}async setElementVisibility(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[r,i]=He(t)?[t,e??!0]:[{[t]:e},n],o={nodes:[],edges:[],combos:[]};Object.entries(r).forEach((t=>{let[e,n]=t;const r=this.getElementType(e);o[`${r}s`].push({id:e,style:{visibility:n}})}));const{model:a,element:s}=this.context;a.preventUpdateNodeLikeHierarchy((()=>{a.updateData(o)})),await(s.draw({animation:i,stage:"visibility"})?.finished)}async showElement(t,e){const n=Array.isArray(t)?t:[t];await this.setElementVisibility(Object.fromEntries(n.map((t=>[t,"visible"]))),e)}async hideElement(t,e){const n=Array.isArray(t)?t:[t];await this.setElementVisibility(Object.fromEntries(n.map((t=>[t,"hidden"]))),e)}getElementVisibility(t){const e=this.context.element.getElement(t);return e?.style?.visibility??"visible"}async setElementZIndex(t,e){const n={nodes:[],edges:[],combos:[]},r=He(t)?t:{[t]:e};Object.entries(r).forEach((t=>{let[e,r]=t;const i=this.getElementType(e);n[`${i}s`].push({id:e,style:{zIndex:r}})}));const{model:i,element:o}=this.context;i.preventUpdateNodeLikeHierarchy((()=>i.updateData(n))),await(o.draw({animation:!1,stage:"zIndex"})?.finished)}async frontElement(t){const e=Array.isArray(t)?t:[t],{model:n,element:r}=this.context,i={};e.map((t=>{const e=r.getFrontZIndex(t);if("combo"===n.getElementType(t)){const o=n.getAncestorsData(t,_c).at(-1)||this.getComboData(t),a=[o,...n.getDescendantsData(Qc(o))],s=e-r.getElementZIndex(t);a.forEach((t=>{i[Qc(t)]=this.getElementZIndex(Qc(t))+s}));const{internal:l}=Zf(a.map(Qc),(t=>n.getRelatedEdgesData(t)));l.forEach((t=>{const e=Qc(t);i[e]=this.getElementZIndex(e)+s}))}else i[t]=e})),await this.setElementZIndex(i)}getElementZIndex(t){const{model:e,element:n}=this.context;return e.getElementDataById(t)?.style?.zIndex??n.getElementZIndex(t)}async setElementState(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[r,i]=He(t)?[t,e??!0]:[{[t]:e},n],o={nodes:[],edges:[],combos:[]};Object.entries(r).forEach((t=>{let[e,n]=t;const r=this.getElementType(e);var i;o[`${r}s`].push({id:e,states:(i=n,i?Array.isArray(i)?i:[i]:[])})})),this.updateData(o),await(this.context.element.draw({animation:i})?.finished)}getElementState(t){return this.context.model.getElementState(t)}getElementRenderBounds(t){return this.context.element.getElement(t).getRenderBounds()}isCollapsingExpanding=!1;async collapseElement(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{model:n,element:r}=this.context;if(Ed(n.getNodeLikeData([t])[0]))return;if(this.isCollapsingExpanding)return;const i=n.getElementType(t);await this.frontElement(t),this.isCollapsingExpanding=!0,this.setElementCollapsibility(t,!0),"node"===i?await r.collapseNode(t,e):"combo"===i&&await r.collapseCombo(t,e),this.isCollapsingExpanding=!1}async expandElement(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{model:n,element:r}=this.context;if(!Ed(n.getNodeLikeData([t])[0]))return;if(this.isCollapsingExpanding)return;const i=n.getElementType(t);this.isCollapsingExpanding=!0,this.setElementCollapsibility(t,!1),"node"===i?await r.expandNode(t,e):"combo"===i&&await r.expandCombo(t,e),this.isCollapsingExpanding=!1}setElementCollapsibility(t,e){const n=this.getElementType(t);"node"===n?this.updateNodeData([{id:t,style:{collapsed:e}}]):"combo"===n&&this.updateComboData([{id:t,style:{collapsed:e}}])}async toDataURL(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.context.canvas.toDataURL(t)}getCanvasByViewport(t){return this.context.canvas.getCanvasByViewport(t)}getViewportByCanvas(t){return this.context.canvas.getViewportByCanvas(t)}getClientByCanvas(t){return this.context.canvas.getClientByCanvas(t)}getCanvasByClient(t){return this.context.canvas.getCanvasByClient(t)}getViewportCenter(){return this.context.viewport.getViewportCenter()}getCanvasCenter(){return this.context.viewport.getCanvasCenter()}onResize=(()=>Hp((()=>{this.resize()}),300))();on(t,e,n){return super.on(t,e,n)}once(t,e){return super.once(t,e)}off(t,e){return super.off(t,e)}}const VC=(t,e)=>{const{source:n,target:r}=e,i=t.getElementDataById(n),o=t.getElementDataById(r),a=Qf(i,(e=>t.getParentData(e,_c))),s=Qf(o,(e=>t.getParentData(e,_c))),l={sourceNode:Qc(a),targetNode:Qc(s)};return e.style?Object.assign(e.style,l):e.style=l,e};class HC extends VM{static defaultOptions={offset:5};constructor(t,e){super(t,Object.assign({},HC.defaultOptions,e))}get ref(){return this.context.model.getRootsData()[0]}afterLayout(){const t=Xu(this.ref),{graph:e,model:n}=this.context,r=n.getData();r.nodes?.forEach((r=>{if(Qc(r)===Qc(this.ref))return;const i=Gu(Lu(Xu(r),t)),o=Math.abs(i)>Math.PI/2,a=!r.children||0===r.children.length,s=(a?1:-1)*(Rd(e.getElementRenderStyle(Qc(r)).size)[0]/2+this.options.offset),l=`translate(${s*Math.cos(i)},${s*Math.sin(i)})`,c=`rotate(${o?nr(i)+180:nr(i)}deg)`;n.updateNodeData([{id:Qc(r),style:{labelTextAlign:o===a?"right":"left",labelTextBaseline:"middle",labelTransform:`${l} ${c}`}}])})),e.draw()}}const WC=["top","top-right","right","right-bottom","bottom","bottom-left","left","left-top"];class GC extends VM{static defaultOptions={mode:"bundle",edges:void 0,distance:15};cacheMergeStyle=(()=>new Map)();constructor(t,e){super(t,Object.assign({},GC.defaultOptions,e))}beforeDraw(t){const e=this.getAffectedParallelEdges(t);return 0===e.size||("bundle"===this.options.mode?this.applyBundlingStyle(t,e,this.options.distance):this.applyMergingStyle(t,e)),t}getAffectedParallelEdges=t=>{const{add:{edges:e},update:{nodes:n,edges:r,combos:i},remove:{edges:o}}=t,{model:a}=this.context,s=new Map,l=(t,e)=>{a.getRelatedEdgesData(e).forEach((t=>!s.has(Qc(t))&&s.set(Qc(t),t)))};n.forEach(l),i.forEach(l);const c=t=>{const e=a.getEdgeData().map((t=>VC(a,t)));qC(t,e,!0).forEach((t=>!s.has(Qc(t))&&s.set(Qc(t),t)))};if(o.size&&o.forEach(c),e.size&&e.forEach(c),r.size){const t=jx(Dx(a.getChanges())).update.edges;r.forEach((e=>{c(e);const n=t.find((t=>Qc(t.value)===Qc(e)))?.original;n&&!YC(e,n)&&c(n)}))}Zd(this.options.edges)||s.forEach(((t,e)=>!this.options.edges.includes(e)&&s.delete(e)));const u=a.getEdgeData().map(Qc);return new Map([...s].sort(((t,e)=>u.indexOf(t[0])-u.indexOf(e[0]))))};applyBundlingStyle=(t,e,n)=>{const{edgeMap:r,reverses:i}=UC(e);r.forEach((e=>{e.forEach(((e,r,o)=>{const a=Object.assign(e,{type:"quadratic",style:(()=>{const t=o.length,a={};if(e.source===e.target){const t=WC.length;a.loopPlacement=WC[r%t],a.loopDist=Math.floor(r/t)*n+50}else if(1===t)a.curveOffset=0;else{const o=(r%2===0?1:-1)*(i[`${e.source}|${e.target}|${r}`]?-1:1);a.curveOffset=t%2===1?o*Math.ceil(r/2)*n*2:o*(Math.floor(r/2)*n*2+n)}return Object.assign({},e.style,a)})()}),s=this.context.element?.getElement(Qc(e));nu(t,s?"update":"add","edge",a,!0)}))}))};resetEdgeStyle=t=>{const e=t.style||{},n=this.cacheMergeStyle.get(Qc(t))||{};return Object.keys(n).forEach((r=>{xc(e[r],n[r])&&(t[r]?e[r]=t[r]:delete e[r])})),Object.assign(t,{style:e})};applyMergingStyle=(t,e)=>{const{edgeMap:n,reverses:r}=UC(e);n.forEach((e=>{if(1===e.length){const n=e[0],r=this.context.element?.getElement(Qc(n));return void nu(t,r?"update":"add","edge",this.resetEdgeStyle(n),!0)}const n=e.map(((t,e)=>{let{source:n,target:i,style:o={}}=t;const{startArrow:a,endArrow:s}=o,l={},[c,u]=r[`${n}|${i}|${e}`]?["endArrow","startArrow"]:["startArrow","endArrow"];return Ve(a)&&(l[c]=a),Ve(s)&&(l[u]=s),l})).reduce(((t,e)=>({...t,...e})),{});e.forEach(((e,r,i)=>{if(0===r){const r=Object.assign({},pu(this.options.style)?this.options.style(i):this.options.style,{childrenData:i});this.cacheMergeStyle.set(Qc(e),r);const o={...e,type:"line",style:{...n,...r}},a=this.context.element?.getElement(Qc(e));nu(t,a?"update":"add","edge",o,!0)}else nu(t,"remove","edge",e)}))}))}}const UC=t=>{const e=new Map,n=new Set,r={};for(const[i,o]of t){if(n.has(i))continue;const{source:a,target:s}=o,l=`${a}-${s}`;e.has(l)||e.set(l,[]),e.get(l).push(o),n.add(i);for(const[i,c]of t)n.has(i)||YC(o,c)&&(e.get(l).push(c),n.add(i),a===c.target&&s===c.source&&(r[`${c.source}|${c.target}|${e.get(l).length-1}`]=!0))}return{edgeMap:e,reverses:r}},qC=(t,e,n)=>e.filter((e=>(n||Qc(e)!==Qc(t))&&YC(e,t))),YC=(t,e)=>{const{sourceNode:n,targetNode:r}=t.style||{},{sourceNode:i,targetNode:o}=e.style||{};return n===i&&r===o||n===o&&r===i};const XC={animation:{"combo-collapse":lu,"combo-expand":cu,"node-collapse":iu,"node-expand":ou,"path-in":au,"path-out":su,fade:[{fields:["opacity"]}],translate:[{fields:["x","y"]}]},behavior:{"brush-select":fd,"click-select":wd,"collapse-expand":Fp,"create-edge":Vp,"drag-canvas":Wp,"drag-element-force":class extends Gp{get forceLayoutInstance(){return this.context.layout.getLayoutInstance().find((t=>["d3-force","d3-force-3d"].includes(t?.id)))}validate(t){return!!this.context.layout&&(this.forceLayoutInstance?super.validate(t):($c.warn("DragElementForce only works with d3-force or d3-force-3d layout"),!1))}async moveElement(t,e){const n=this.forceLayoutInstance;this.context.graph.getNodeData(t).forEach(((r,i)=>{const{x:o=0,y:a=0}=r.style||{};n&&eg(n,"setFixedPosition",t[i],[..._u([+o,+a],e)])}))}onDragStart(t){if(this.enable=this.validate(t),!this.enable)return;this.target=this.getSelectedNodeIDs([t.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target);const e=this.forceLayoutInstance;e&&ng(e,"simulation").alphaTarget(.3).restart(),this.context.graph.getNodeData(this.target).forEach((t=>{const{x:n=0,y:r=0}=t.style||{};e&&eg(e,"setFixedPosition",Qc(t),[+n,+r])}))}onDrag(t){if(!this.enable)return;const e=this.getDelta(t);this.moveElement(this.target,e)}onDragEnd(){const t=this.forceLayoutInstance;t&&ng(t,"simulation").alphaTarget(0),this.context.graph.getNodeData(this.target).forEach((e=>{t&&eg(t,"setFixedPosition",Qc(e),[null,null,null])}))}},"drag-element":Gp,"fix-element-size":lg,"focus-element":cg,"hover-activate":ug,"lasso-select":class extends fd{points;pathShape;onPointerDown(t){if(!super.validate(t)||!super.isKeydown()||this.points)return;const{canvas:e}=this.context;this.pathShape=new Ls({id:"g6-lasso-select",style:this.options.style}),e.appendChild(this.pathShape),this.points=[pd(t)]}onPointerMove(t){if(!this.points)return;const{immediately:e,mode:n}=this.options;this.points.push(pd(t)),this.pathShape?.setAttribute("d",function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=[];return t.forEach(((t,e)=>{n.push([0===e?"M":"L",...t])})),e&&n.push(["Z"]),n}(this.points)),e&&"default"===n&&this.points.length>2&&super.updateElementsStates(this.points)}onPointerUp(){this.points&&(this.points.length<2||super.updateElementsStates(this.points),this.clearLasso())}clearLasso(){this.pathShape?.remove(),this.pathShape=void 0,this.points=void 0}},"optimize-viewport-transform":dg,"scroll-canvas":hg,"zoom-canvas":fg},combo:{circle:class extends Cf{constructor(t){super(t)}drawKeyShape(t,e){return this.upsert("key",Ns,this.getKeyStyle(t),e)}getKeyStyle(t){const{collapsed:e}=t,n=super.getKeyStyle(t),[r]=this.getKeySize(t);return{...n,...e&&Pd(n,"collapsed"),r:r/2}}getCollapsedKeySize(t){const[e,n]=Rd(t.collapsedSize),r=Math.max(e,n)/2;return[2*r,2*r,0]}getExpandedKeySize(t){const e=this.getContentBBox(t),[n,r]=Eu(e),i=Math.sqrt(n**2+r**2)/2;return[2*i,2*i,0]}getIntersectPoint(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ad(t,this.getShape("key").getBounds(),e)}},rect:class extends Cf{constructor(t){super(t)}drawKeyShape(t,e){return this.upsert("key",js,this.getKeyStyle(t),e)}getKeyStyle(t){const e=super.getKeyStyle(t),[n,r]=this.getKeySize(t);return{...e,...t.collapsed&&Pd(e,"collapsed"),width:n,height:r,x:-n/2,y:-r/2}}}},edge:{cubic:sp,line:dp,polyline:Ep,quadratic:Sp,"cubic-horizontal":lp,"cubic-radial":cp,"cubic-vertical":up},layout:{"antv-dagre":class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.id="antv-dagre",this.options=Object.assign(Object.assign({},bv),t)}execute(t,e){return l(this,void 0,void 0,(function*(){return this.genericDagreLayout(!1,t,e)}))}assign(t,e){return l(this,void 0,void 0,(function*(){yield this.genericDagreLayout(!0,t,e)}))}genericDagreLayout(t,e,n){return l(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{nodeSize:i,align:o,rankdir:a="TB",ranksep:s,nodesep:l,ranksepFunc:c,nodesepFunc:u,edgeLabelSpace:d,ranker:h,nodeOrder:f,begin:p,controlPoints:g,radial:m,sortByCombo:v,preset:y}=r,b=new Qp({tree:[]}),x=pv(s||50,c),w=pv(l||50,u);let E=w,S=x;"LR"!==a&&"RL"!==a||(E=x,S=w);const k=mv(i,void 0),M=e.getAllNodes(),C=e.getAllEdges();let N;M.forEach((t=>{const e=k(t),n=S(t),r=e+2*E(t),i=e+2*n,o=t.data.layer;Yt(o)?b.addNode({id:t.id,data:{width:r,height:i,layer:o}}):b.addNode({id:t.id,data:{width:r,height:i}})})),v&&(b.attachTreeStructure("combo"),M.forEach((t=>{const{parentId:e}=t.data;void 0!==e&&b.hasNode(e)&&b.setParent(t.id,e,"combo")}))),C.forEach((t=>{b.addEdge({id:t.id,source:t.source,target:t.target,data:{weight:t.data.weight||1}})})),(null===y||void 0===y?void 0:y.length)&&(N=new Qp({nodes:y})),((t,e)=>{const{edgeLabelSpace:n,keepNodeOrder:r,prevGraph:i,rankdir:o,ranksep:a}=e;!r&&i&&Um(t,i);const s=Jm(t);let l;n&&(e.ranksep=tv(s,{rankdir:o,ranksep:a}));try{l=Gm(s,e)}catch(c){if("Not possible to find intersection inside of the rectangle"===c.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",c);throw c}qm(t,s)})(b,{prevGraph:N,edgeLabelSpace:d,keepNodeOrder:!!f,nodeOrder:f||[],acyclicer:"greedy",ranker:h,rankdir:a,nodesep:l,align:o});const O=[0,0];if(p){let t=1/0,e=1/0;b.getAllNodes().forEach((n=>{t>n.data.x&&(t=n.data.x),e>n.data.y&&(e=n.data.y)})),b.getAllEdges().forEach((n=>{var r;null===(r=n.data.points)||void 0===r||r.forEach((n=>{t>n.x&&(t=n.x),e>n.y&&(e=n.y)}))})),O[0]=p[0]-t,O[1]=p[1]-e}const P="LR"===a||"RL"===a;if(m);else{const t=new Set,e="BT"===a||"RL"===a?(t,e)=>e-t:(t,e)=>t-e;b.getAllNodes().forEach((e=>{e.data.x=e.data.x+O[0],e.data.y=e.data.y+O[1],t.add(P?e.data.x:e.data.y)}));const n=Array.from(t).sort(e),r=P?(t,e)=>t.x!==e.x:(t,e)=>t.y!==e.y,i=P?(t,e,n)=>{const r=Math.max(e.y,n.y),i=Math.min(e.y,n.y);return t.filter((t=>t.y<=r&&t.y>=i))}:(t,e,n)=>{const r=Math.max(e.x,n.x),i=Math.min(e.x,n.x);return t.filter((t=>t.x<=r&&t.x>=i))};b.getAllEdges().forEach(((t,e)=>{var o;d&&g&&"loop"!==t.data.type&&(t.data.controlPoints=xv(null===(o=t.data.points)||void 0===o?void 0:o.map((t=>{let{x:e,y:n}=t;return{x:e+O[0],y:n+O[1]}})),b.getNode(t.source),b.getNode(t.target),n,P,r,i))}))}let T=[];T=b.getAllNodes().map((t=>yv(t)));const A=b.getAllEdges();t&&(T.forEach((t=>{e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})})),A.forEach((t=>{e.mergeEdgeData(t.id,{controlPoints:t.data.controlPoints})})));return{nodes:T,edges:A}}))}},"combo-combined":class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.id="comboCombined",this.options=Object.assign(Object.assign({},py),t)}execute(t,e){return l(this,void 0,void 0,(function*(){return this.genericComboCombinedLayout(!1,t,e)}))}assign(t,e){return l(this,void 0,void 0,(function*(){yield this.genericComboCombinedLayout(!0,t,e)}))}genericComboCombinedLayout(t,e,n){return l(this,void 0,void 0,(function*(){const r=this.initVals(Object.assign(Object.assign({},this.options),n)),{center:i,treeKey:o,outerLayout:a}=r,s=e.getAllNodes().filter((t=>!t.data._isCombo)),l=e.getAllNodes().filter((t=>t.data._isCombo)),c=e.getAllEdges(),u=null===s||void 0===s?void 0:s.length;if(!u||1===u)return wv(e,t,i);const d=[],h=new Map;s.forEach((t=>{h.set(t.id,t)}));const f=new Map;l.forEach((t=>{f.set(t.id,t)}));const p=new Map,g=this.getInnerGraphs(e,o,h,f,c,r,p);yield Promise.all(g);const m=new Map,v=[],y=new Map;let b=!0;e.getRoots(o).forEach((t=>{const n=p.get(t.id),r=f.get(t.id)||h.get(t.id),i={id:t.id,data:Object.assign(Object.assign({},t.data),{x:n.data.x||r.data.x,y:n.data.y||r.data.y,fx:n.data.fx||r.data.fx,fy:n.data.fy||r.data.fy,mass:n.data.mass||r.data.mass,size:n.data.size})};v.push(i),m.set(t.id,!0),isNaN(i.data.x)||0===i.data.x||isNaN(i.data.y)||0===i.data.y?(i.data.x=100*Math.random(),i.data.y=100*Math.random()):b=!1,sy(e,[t],(e=>{e.id!==t.id&&y.set(e.id,t.id)}),"TB",o)}));const x=[];let w;if(c.forEach((t=>{const e=y.get(t.source)||t.source,n=y.get(t.target)||t.target;e!==n&&m.has(e)&&m.has(n)&&x.push({id:t.id,source:e,target:n,data:{}})})),null===v||void 0===v?void 0:v.length){if(1===v.length)v[0].data.x=i[0],v[0].data.y=i[1];else{const t=new Qp({nodes:v,edges:x}),e=a||new Xv;if(b&&fy[e.id]){const e=v.length<100?new cy:new Nv;yield e.assign(t)}const n=Object.assign({center:i,kg:5,preventOverlap:!0,animate:!1},"force"===e.id?{gravity:1,factor:4,linkDistance:(t,e,n)=>(Math.max(...e.data.size)||32)/2+(Math.max(...n.data.size)||32)/2+200}:{});w=yield gy(e,t,n)}p.forEach((t=>{var e;const n=w.nodes.find((e=>e.id===t.id));if(n){const{x:e,y:r}=n.data;t.data.visited=!0,t.data.x=e,t.data.y=r,d.push({id:t.id,data:{x:e,y:r}})}const{x:r,y:i}=t.data;null===(e=t.data.nodes)||void 0===e||e.forEach((t=>{d.push({id:t.id,data:{x:t.data.x+r,y:t.data.y+i}})}))})),p.forEach((t=>{let{data:e}=t;const{x:n,y:r,visited:i,nodes:o}=e;null===o||void 0===o||o.forEach((t=>{if(!i){const e=d.find((e=>e.id===t.id));e.data.x+=n||0,e.data.y+=r||0}}))}))}t&&d.forEach((t=>{e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})}));return{nodes:d,edges:c}}))}initVals(t){const e=Object.assign({},t),{nodeSize:n,spacing:r,comboPadding:i}=t;let o,a,s;if(a=Yt(r)?()=>r:pu(r)?r:()=>0,e.spacing=a,n)if(pu(n))o=t=>{const e=n(t),r=a(t);if(Mv(t.size)){return((t.size[0]>t.size[1]?t.size[0]:t.size[1])+r)/2}return((e||32)+r)/2};else if(Mv(n)){const t=(n[0]>n[1]?n[0]:n[1])/2;o=e=>t+a(e)/2}else{const t=n/2;o=e=>t+a(e)/2}else o=t=>{const e=a(t);if(t.size){if(Mv(t.size)){return((t.size[0]>t.size[1]?t.size[0]:t.size[1])+e)/2}if(He(t.size)){return((t.size.width>t.size.height?t.size.width:t.size.height)+e)/2}return(t.size+e)/2}return 32+e/2};return e.nodeSize=o,s=Yt(i)?()=>i:Mv(i)?()=>Math.max.apply(null,i):pu(i)?i:()=>0,e.comboPadding=s,e}getInnerGraphs(t,e,n,r,i,o,a){const{nodeSize:s,comboPadding:c,spacing:u,innerLayout:d}=o,h=d||new Nv({}),f={center:[0,0],preventOverlap:!0,nodeSpacing:u},p=[],g=t=>{let e=(null===c||void 0===c?void 0:c(t))||10;return Mv(e)&&(e=Math.max(...e)),{size:e?[2*e,2*e]:[30,30],padding:e}};return t.getRoots(e).forEach((o=>{a.set(o.id,{id:o.id,data:{nodes:[],size:g(o).size}});let c=Promise.resolve();sy(t,[o],(o=>{var u;if(!o.data._isCombo)return;const{size:d,padding:p}=g(o);if(null===(u=t.getChildren(o.id,e))||void 0===u?void 0:u.length){const u=a.get(o.id);a.set(o.id,{id:o.id,data:Object.assign({nodes:[]},null===u||void 0===u?void 0:u.data)});const d=new Map,g=t.getChildren(o.id,e).map((t=>{if(t.data._isCombo)return a.has(t.id)||a.set(t.id,{id:t.id,data:Object.assign({},t.data)}),d.set(t.id,!0),a.get(t.id);const e=n.get(t.id)||r.get(t.id);return d.set(t.id,!0),{id:t.id,data:Object.assign(Object.assign({},e.data),t.data)}})),m={nodes:g,edges:i.filter((t=>d.has(t.source)&&d.has(t.target)))};let v=1/0;g.forEach((t=>{var e;let{size:n}=t.data;n||(n=(null===(e=a.get(t.id))||void 0===e?void 0:e.data.size)||(null===s||void 0===s?void 0:s(t))||[30,30]),Yt(n)&&(n=[n,n]);const[r,i]=n;v>r&&(v=r),v>i&&(v=i),t.data.size=n})),c=c.then((()=>l(this,void 0,void 0,(function*(){const t=new Qp(m);yield gy(h,t,f,!0);const{minX:e,minY:n,maxX:r,maxY:i}=(t=>{let e=1/0,n=1/0,r=-1/0,i=-1/0;return t.forEach((t=>{let o=t.data.size;Mv(o)?1===o.length&&(o=[o[0],o[0]]):Yt(o)?o=[o,o]:(void 0===o||isNaN(o))&&(o=[30,30]);const a=[o[0]/2,o[1]/2],s=t.data.x-a[0],l=t.data.x+a[0],c=t.data.y-a[1],u=t.data.y+a[1];e>s&&(e=s),n>c&&(n=c),r<l&&(r=l),i<u&&(i=u)})),{minX:e,minY:n,maxX:r,maxY:i}})(g),s=(r+e)/2,l=(i+n)/2;m.nodes.forEach((t=>{t.data.x-=s,t.data.y-=l}));const c=[Math.max(r-e,v)+2*p,Math.max(i-n,v)+2*p];a.get(o.id).data.size=c,a.get(o.id).data.nodes=g}))))}else a.set(o.id,{id:o.id,data:Object.assign(Object.assign({},o.data),{size:d})});return!0}),"BT",e),p.push(c)})),p}},"compact-box":pg.compactBox,"force-atlas2":class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},fb),t)}execute(t,e){return l(this,void 0,void 0,(function*(){return this.genericForceAtlas2Layout(!1,t,e)}))}assign(t,e){return l(this,void 0,void 0,(function*(){yield this.genericForceAtlas2Layout(!0,t,e)}))}genericForceAtlas2Layout(t,e,n){return l(this,void 0,void 0,(function*(){const r=e.getAllEdges(),i=e.getAllNodes(),o=this.formatOptions(n,i.length),{width:a,height:s,prune:l,maxIteration:c,nodeSize:u,center:d}=o;if(!(null===i||void 0===i?void 0:i.length)||1===i.length)return wv(e,t,d);const h=i.map((t=>yv(t,[a,s]))),f=r.filter((t=>{const{source:e,target:n}=t;return e!==n})),p=new Qp({nodes:h,edges:f}),g=this.getSizes(p,e,u);if(this.run(p,e,c,g,t,o),l){for(let t=0;t<f.length;t+=1){const{source:e,target:n}=f[t],r=p.getDegree(e),i=p.getDegree(e);if(r<=1){const t=p.getNode(n);p.mergeNodeData(e,{x:t.data.x,y:t.data.y})}else if(i<=1){const t=p.getNode(e);p.mergeNodeData(n,{x:t.data.x,y:t.data.y})}}const n=Object.assign(Object.assign({},o),{prune:!1,barnesHut:!1});this.run(p,e,100,g,t,n)}return{nodes:h,edges:r}}))}getSizes(t,e,n){const r=t.getAllNodes(),i={};for(let o=0;o<r.length;o+=1){const{id:t,data:a}=r[o];if(i[t]=10,Yt(a.size))i[t]=a.size;else if(Mv(a.size))isNaN(a.size[0])||(i[t]=Math.max(a.size[0])),isNaN(a.size[1])||(i[t]=Math.max(a.size[1]));else if(He(a.size))i[t]=Math.max(a.size.width,a.size.height);else if(pu(n)){const r=n(e.getNode(t));Mv(r)?i[t]=Math.max(...r):i[t]=r}else Mv(n)?i[t]=Math.max(...n):Yt(n)&&(i[t]=n)}return i}formatOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;const n=Object.assign(Object.assign({},this.options),t),{center:r,width:i,height:o,barnesHut:a,prune:s,maxIteration:l,kr:c,kg:u}=n;return n.width=i||"undefined"===typeof window?i:window.innerWidth,n.height=o||"undefined"===typeof window?o:window.innerHeight,n.center=r||[n.width/2,n.height/2],void 0===a&&e>250&&(n.barnesHut=!0),void 0===s&&e>100&&(n.prune=!0),0!==l||s?0===l&&s&&(n.maxIteration=100,e<=200&&e>100?n.maxIteration=500:e>200&&(n.maxIteration=950)):(n.maxIteration=250,e<=200&&e>100?n.maxIteration=1e3:e>200&&(n.maxIteration=1200)),c||(n.kr=50,e>100&&e<=500?n.kr=20:e>500&&(n.kr=1)),u||(n.kg=20,e>100&&e<=500?n.kg=10:e>500&&(n.kg=1)),n}run(t,e,n,r,i,o){const{kr:a,barnesHut:s,onTick:l}=o,c=t.getAllNodes();let u=0,d=n;const h={},f={},p={};for(let g=0;g<c.length;g+=1){const{data:e,id:n}=c[g];if(h[n]=[0,0],s){const r={id:g,rx:e.x,ry:e.y,mass:1,g:a,degree:t.getDegree(n)};p[n]=new ub(r)}}for(;d>0;)u=this.oneStep(t,{iter:d,preventOverlapIters:50,krPrime:100,sg:u,forces:h,preForces:f,bodies:p,sizes:r},o),d--,null===l||void 0===l||l({nodes:c,edges:e.getAllEdges()});return t}oneStep(t,e,n){const{iter:r,preventOverlapIters:i,krPrime:o,sg:a,preForces:s,bodies:l,sizes:c}=e;let{forces:u}=e;const{preventOverlap:d,barnesHut:h}=n,f=t.getAllNodes();for(let p=0;p<f.length;p+=1){const{id:t}=f[p];s[t]=[...u[t]],u[t]=[0,0]}return u=this.getAttrForces(t,r,i,c,u,n),u=h&&(d&&r>i||!d)?this.getOptRepGraForces(t,u,l,n):this.getRepGraForces(t,r,i,u,o,c,n),this.updatePos(t,u,s,a,n)}getAttrForces(t,e,n,r,i,o){const{preventOverlap:a,dissuadeHubs:s,mode:l,prune:c}=o,u=t.getAllEdges();for(let d=0;d<u.length;d+=1){const{source:o,target:h}=u[d],f=t.getNode(o),p=t.getNode(h),g=t.getDegree(o),m=t.getDegree(h);if(c&&(g<=1||m<=1))continue;const v=[p.data.x-f.data.x,p.data.y-f.data.y];let y=Math.hypot(v[0],v[1]);y=y<1e-4?1e-4:y,v[0]=v[0]/y,v[1]=v[1]/y,a&&e<n&&(y=y-r[o]-r[h]);let b=y,x=b;"linlog"===l&&(b=Math.log(1+y),x=b),s&&(b=y/g,x=y/m),a&&e<n&&y<=0?(b=0,x=0):a&&e<n&&y>0&&(b=y,x=y),i[o][0]+=b*v[0],i[h][0]-=x*v[0],i[o][1]+=b*v[1],i[h][1]-=x*v[1]}return i}getOptRepGraForces(t,e,n,r){const{kg:i,center:o,prune:a}=r,s=t.getAllNodes(),l=s.length;let c=9e10,u=-9e10,d=9e10,h=-9e10;for(let m=0;m<l;m+=1){const{id:e,data:r}=s[m];a&&t.getDegree(e)<=1||(n[e].setPos(r.x,r.y),r.x>=u&&(u=r.x),r.x<=c&&(c=r.x),r.y>=h&&(h=r.y),r.y<=d&&(d=r.y))}const f=Math.max(u-c,h-d),p=new db({xmid:(u+c)/2,ymid:(h+d)/2,length:f,massCenter:o,mass:l}),g=new hb(p);for(let m=0;m<l;m+=1){const{id:e}=s[m];a&&t.getDegree(e)<=1||n[e].in(p)&&g.insert(n[e])}for(let m=0;m<l;m+=1){const{id:r,data:l}=s[m],c=t.getDegree(r);if(a&&c<=1)continue;n[r].resetForce(),g.updateForce(n[r]),e[r][0]-=n[r].fx,e[r][1]-=n[r].fy;const u=[l.x-o[0],l.y-o[1]];let d=Math.hypot(u[0],u[1]);d=d<1e-4?1e-4:d,u[0]=u[0]/d,u[1]=u[1]/d;const h=i*(c+1);e[r][0]-=h*u[0],e[r][1]-=h*u[1]}return e}getRepGraForces(t,e,n,r,i,o,a){const{preventOverlap:s,kr:l,kg:c,center:u,prune:d}=a,h=t.getAllNodes(),f=h.length;for(let p=0;p<f;p+=1){const a=h[p],g=t.getDegree(a.id);for(let c=p+1;c<f;c+=1){const u=h[c],f=t.getDegree(u.id);if(d&&(g<=1||f<=1))continue;const p=[u.data.x-a.data.x,u.data.y-a.data.y];let m=Math.hypot(p[0],p[1]);m=m<1e-4?1e-4:m,p[0]=p[0]/m,p[1]=p[1]/m,s&&e<n&&(m=m-o[a.id]-o[u.id]);let v=l*(g+1)*(f+1)/m;s&&e<n&&m<0?v=i*(g+1)*(f+1):s&&e<n&&0===m?v=0:s&&e<n&&m>0&&(v=l*(g+1)*(f+1)/m),r[a.id][0]-=v*p[0],r[u.id][0]+=v*p[0],r[a.id][1]-=v*p[1],r[u.id][1]+=v*p[1]}const m=[a.data.x-u[0],a.data.y-u[1]],v=Math.hypot(m[0],m[1]);m[0]=m[0]/v,m[1]=m[1]/v;const y=c*(g+1);r[a.id][0]-=y*m[0],r[a.id][1]-=y*m[1]}return r}updatePos(t,e,n,r,i){const{ks:o,tao:a,prune:s,ksmax:l}=i,c=t.getAllNodes(),u=c.length,d=[],h=[];let f=0,p=0,g=r;for(let v=0;v<u;v+=1){const{id:r}=c[v],i=t.getDegree(r);if(s&&i<=1)continue;const o=[e[r][0]-n[r][0],e[r][1]-n[r][1]],a=Math.hypot(o[0],o[1]),l=[e[r][0]+n[r][0],e[r][1]+n[r][1]],u=Math.hypot(l[0],l[1]);d[v]=a,h[v]=u/2,f+=(i+1)*d[v],p+=(i+1)*h[v]}const m=g;g=a*p/f,0!==m&&(g=g>1.5*m?1.5*m:g);for(let v=0;v<u;v+=1){const{id:n,data:r}=c[v],i=t.getDegree(n);if(s&&i<=1)continue;if(Yt(r.fx)&&Yt(r.fy))continue;let a=o*g/(1+g*Math.sqrt(d[v])),u=Math.hypot(e[n][0],e[n][1]);u=u<1e-4?1e-4:u;const h=l/u;a=a>h?h:a;const f=a*e[n][0],p=a*e[n][1];t.mergeNodeData(n,{x:r.x+f,y:r.y+p})}return g}},circular:class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.id="circular",this.options=Object.assign(Object.assign({},Ev),t)}execute(t,e){return l(this,void 0,void 0,(function*(){return this.genericCircularLayout(!1,t,e)}))}assign(t,e){return l(this,void 0,void 0,(function*(){yield this.genericCircularLayout(!0,t,e)}))}genericCircularLayout(t,e,n){return l(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{width:i,height:o,center:a,divisions:s,startAngle:l=0,endAngle:c=2*Math.PI,angleRatio:u,ordering:d,clockwise:h,nodeSpacing:f,nodeSize:p}=r,g=e.getAllNodes(),m=e.getAllEdges(),[v,y,b]=kv(i,o,a),x=null===g||void 0===g?void 0:g.length;if(!x||1===x)return wv(e,t,b);const w=(c-l)/x;let{radius:E,startRadius:S,endRadius:k}=r;if(f){const t=pv(10,f),e=gv(10,p);let n=-1/0;g.forEach((t=>{const r=e(t);n<r&&(n=r)}));let r=0;g.forEach(((e,i)=>{r+=0===i?n||10:(t(e)||0)+(n||10)})),E=r/(2*Math.PI)}else E||S||k?!S&&k?S=k:S&&!k&&(k=S):E=Math.min(y,v)/2;const M=w*u;let C=[];C="topology"===d?Sv(e,g):"topology-directed"===d?Sv(e,g,!0):"degree"===d?function(t,e){const n=[];return e.forEach(((t,e)=>{n.push(yv(t))})),n.sort(((e,n)=>t.getDegree(e.id,"both")-t.getDegree(n.id,"both"))),n}(e,g):g.map((t=>yv(t)));const N=Math.ceil(x/s);for(let t=0;t<x;++t){let e=E;e||null===S||null===k||(e=S+t*(k-S)/(x-1)),e||(e=10+100*t/(x-1));let n=l+t%N*M+2*Math.PI/s*Math.floor(t/N);h||(n=c-t%N*M-2*Math.PI/s*Math.floor(t/N)),C[t].data.x=b[0]+Math.cos(n)*e,C[t].data.y=b[1]+Math.sin(n)*e}t&&C.forEach((t=>{e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})}));return{nodes:C,edges:m}}))}},concentric:Nv,"d3-force":class{constructor(t){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:xy,manyBody:Qy,center:Jy,collide:nb,radial:rb,x:ib,y:ob},this.options={link:{id:t=>t.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},Zc(this.options,t),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation)}execute(t,e){return l(this,void 0,void 0,(function*(){return this.genericLayout(!1,t,e)}))}assign(t,e){return l(this,void 0,void 0,(function*(){yield this.genericLayout(!0,t,e)}))}stop(){this.simulation.stop()}tick(t){return this.simulation.tick(t),this.getResult()}restart(){this.simulation.restart()}setFixedPosition(t,e){const n=this.context.nodes.find((e=>e.id===t));n&&e.forEach(((t,e)=>{if("number"===typeof t||null===t){n[["fx","fy","fz"][e]]=t}}))}getOptions(t){var e,n;const r=Zc({},this.options,t);return r.collide&&void 0===(null===(e=r.collide)||void 0===e?void 0:e.radius)&&(r.collide=r.collide||{},r.collide.radius=null!==(n=r.nodeSize)&&void 0!==n?n:10),void 0===r.iterations&&(r.link&&void 0===r.link.iterations&&(r.iterations=r.link.iterations),r.collide&&void 0===r.collide.iterations&&(r.iterations=r.collide.iterations)),this.context.options=r,r}genericLayout(t,e,n){var r;return l(this,void 0,void 0,(function*(){const i=this.getOptions(n),o=e.getAllNodes().map((t=>{let{id:e,data:n}=t;return Object.assign({id:e,data:n},wf(n,this.config.inputNodeAttrs))})),a=e.getAllEdges().map((t=>Object.assign({},t)));Object.assign(this.context,{assign:t,nodes:o,edges:a,graph:e});const s=new Promise((t=>{this.resolver=t})),l=this.setSimulation(i);return l.nodes(o),null===(r=l.force("link"))||void 0===r||r.links(a),s}))}getResult(){const{assign:t,nodes:e,edges:n,graph:r}=this.context,i=e.map((t=>({id:t.id,data:Object.assign(Object.assign({},t.data),wf(t,this.config.outputNodeAttrs))}))),o=n.map((t=>{let{id:e,source:n,target:r,data:i}=t;return{id:e,source:"object"===typeof n?n.id:n,target:"object"===typeof r?r.id:r,data:i}}));return t&&i.forEach((t=>r.mergeNodeData(t.id,t.data))),{nodes:i,edges:o}}initSimulation(){return Zy()}setSimulation(t){const e=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=e.on("tick",(()=>{var e;return null===(e=t.onTick)||void 0===e?void 0:e.call(t,this.getResult())})).on("end",(()=>{var t;return null===(t=this.resolver)||void 0===t?void 0:t.call(this,this.getResult())}))),ab(e,this.config.simulationAttrs.map((e=>[e,t[e]]))),Object.entries(this.forceMap).forEach((n=>{let[r,i]=n;const o=r;if(t[r]){let n=e.force(o);n||(n=i(),e.force(o,n)),ab(n,Object.entries(t[o]))}else e.force(o,null)})),e}},dagre:cb,dendrogram:pg.dendrogram,force:Xv,fruchterman:class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},pb),t)}execute(t,e){return l(this,void 0,void 0,(function*(){return this.genericFruchtermanLayout(!1,t,e)}))}assign(t,e){return l(this,void 0,void 0,(function*(){yield this.genericFruchtermanLayout(!0,t,e)}))}stop(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval),this.running=!1}tick(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.maxIteration||1;if(this.lastResult)return this.lastResult;for(let n=0;n<t;n++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);const e={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&e.nodes.forEach((t=>this.lastGraph.mergeNodeData(t.id,{x:t.data.x,y:t.data.y,z:3===this.options.dimensions?t.data.z:void 0}))),e}genericFruchtermanLayout(t,e,n){return l(this,void 0,void 0,(function*(){if(this.running)return;const r=this.formatOptions(n),{dimensions:i,width:o,height:a,center:s,clustering:l,nodeClusterBy:c,maxIteration:u,onTick:d}=r,h=e.getAllNodes(),f=e.getAllEdges();if(!(null===h||void 0===h?void 0:h.length)){const t={nodes:[],edges:f};return this.lastResult=t,t}if(1===h.length){t&&e.mergeNodeData(h[0].id,{x:s[0],y:s[1],z:3===i?s[2]:void 0});const n={nodes:[Object.assign(Object.assign({},h[0]),{data:Object.assign(Object.assign({},h[0].data),{x:s[0],y:s[1],z:3===i?s[2]:void 0})})],edges:f};return this.lastResult=n,n}const p=h.map((t=>yv(t,[o,a]))),g=new Qp({nodes:p,edges:f}),m={};if(l&&p.forEach((t=>{const e=t.data[c];m[e]||(m[e]={name:e,cx:0,cy:0,count:0})})),this.lastLayoutNodes=p,this.lastLayoutEdges=f,this.lastAssign=t,this.lastGraph=g,this.lastOptions=r,this.lastClusterMap=m,"undefined"===typeof window)return;let v=0;return new Promise((n=>{this.timeInterval=window.setInterval((()=>{this.running?(this.runOneStep(g,m,r),t&&p.forEach((t=>{let{id:n,data:r}=t;return e.mergeNodeData(n,{x:r.x,y:r.y,z:3===i?r.z:void 0})})),null===d||void 0===d||d({nodes:p,edges:f}),v++,v>=u&&(window.clearInterval(this.timeInterval),n({nodes:p,edges:f}))):n({nodes:p,edges:f})}),0),this.running=!0}))}))}formatOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Object.assign(Object.assign({},this.options),t),{clustering:n,nodeClusterBy:r}=e,{center:i,width:o,height:a}=e;return e.width=o||"undefined"===typeof window?o:window.innerWidth,e.height=a||"undefined"===typeof window?a:window.innerHeight,e.center=i||[e.width/2,e.height/2],e.clustering=n&&!!r,e}runOneStep(t,e,n){const{dimensions:r,height:i,width:o,gravity:a,center:s,speed:l,clustering:c,nodeClusterBy:u,clusterGravity:d}=n,h=i*o,f=Math.sqrt(h)/10,p=t.getAllNodes(),g=h/(p.length+1),m=Math.sqrt(g),v={};if(this.applyCalculate(t,v,m,g),c){for(const n in e)e[n].cx=0,e[n].cy=0,e[n].count=0;p.forEach((t=>{const{data:n}=t,r=e[n[u]];Yt(n.x)&&(r.cx+=n.x),Yt(n.y)&&(r.cy+=n.y),r.count++}));for(const n in e)e[n].cx/=e[n].count,e[n].cy/=e[n].count;const t=d||a;p.forEach(((n,r)=>{const{id:i,data:o}=n;if(!Yt(o.x)||!Yt(o.y))return;const a=e[o[u]],s=Math.sqrt((o.x-a.cx)*(o.x-a.cx)+(o.y-a.cy)*(o.y-a.cy)),l=m*t;v[i].x-=l*(o.x-a.cx)/s,v[i].y-=l*(o.y-a.cy)/s}))}p.forEach(((t,e)=>{const{id:n,data:i}=t;if(!Yt(i.x)||!Yt(i.y))return;const o=.01*m*a;v[n].x-=o*(i.x-s[0]),v[n].y-=o*(i.y-s[1]),3===r&&(v[n].z-=o*(i.z-s[2]))})),p.forEach(((e,n)=>{const{id:i,data:o}=e;if(Yt(o.fx)&&Yt(o.fy))return o.x=o.fx,o.y=o.fy,void(3===r&&(o.z=o.fz));if(!Yt(o.x)||!Yt(o.y))return;const a=Math.sqrt(v[i].x*v[i].x+v[i].y*v[i].y+(3===r?v[i].z*v[i].z:0));if(a>0){const e=Math.min(f*(l/800),a);t.mergeNodeData(i,{x:o.x+v[i].x/a*e,y:o.y+v[i].y/a*e,z:3===r?o.z+v[i].z/a*e:void 0})}}))}applyCalculate(t,e,n,r){this.calRepulsive(t,e,r),this.calAttractive(t,e,n)}calRepulsive(t,e,n){const r=t.getAllNodes();r.forEach(((t,i)=>{let{data:o,id:a}=t;e[a]={x:0,y:0,z:0},r.forEach(((t,r)=>{let{data:s,id:l}=t;if(i<=r||!Yt(o.x)||!Yt(s.x)||!Yt(o.y)||!Yt(s.y))return;let c=o.x-s.x,u=o.y-s.y,d=3===this.options.dimensions?o.z-s.z:0,h=c*c+u*u+d*d;0===h&&(h=1,c=.01,u=.01,d=.01);const f=n/h,p=c*f,g=u*f,m=d*f;e[a].x+=p,e[a].y+=g,e[l].x-=p,e[l].y-=g,3===this.options.dimensions&&(e[a].z+=m,e[l].z-=m)}))}))}calAttractive(t,e,n){t.getAllEdges().forEach((r=>{const{source:i,target:o}=r;if(!i||!o||i===o)return;const{data:a}=t.getNode(i),{data:s}=t.getNode(o);if(!Yt(s.x)||!Yt(a.x)||!Yt(s.y)||!Yt(a.y))return;const l=s.x-a.x,c=s.y-a.y,u=3===this.options.dimensions?s.z-a.z:0,d=Math.sqrt(l*l+c*c+u*u)/n,h=l*d,f=c*d,p=u*d;e[i].x+=h,e[i].y+=f,e[o].x-=h,e[o].y-=f,3===this.options.dimensions&&(e[i].z+=p,e[o].z-=p)}))}},grid:class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.id="grid",this.options=Object.assign(Object.assign({},gb),t)}execute(t,e){return l(this,void 0,void 0,(function*(){return this.genericGridLayout(!1,t,e)}))}assign(t,e){return l(this,void 0,void 0,(function*(){yield this.genericGridLayout(!0,t,e)}))}genericGridLayout(t,e,n){return l(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{begin:i=[0,0],condense:o,preventOverlapPadding:a,preventOverlap:s,rows:l,cols:c,nodeSpacing:u,nodeSize:d,width:h,height:f,position:p}=r;let{sortBy:g}=r;const m=e.getAllNodes(),v=e.getAllEdges(),y=null===m||void 0===m?void 0:m.length;if(!y||1===y)return wv(e,t,i);const b=m.map((t=>yv(t)));"id"===g||Zt(g)&&void 0!==b[0].data[g]||(g="degree"),"degree"===g?b.sort(((t,n)=>e.getDegree(n.id,"both")-e.getDegree(t.id,"both"))):"id"===g?b.sort(((t,e)=>Yt(e.id)&&Yt(t.id)?e.id-t.id:`${t.id}`.localeCompare(`${e.id}`))):b.sort(((t,e)=>e.data[g]-t.data[g]));const x=h||"undefined"===typeof window?h:window.innerWidth,w=f||"undefined"===typeof window?f:window.innerHeight,E=y,S={rows:l,cols:c};if(null!=l&&null!=c)S.rows=l,S.cols=c;else if(null!=l&&null==c)S.rows=l,S.cols=Math.ceil(E/S.rows);else if(null==l&&null!=c)S.cols=c,S.rows=Math.ceil(E/S.cols);else{const t=Math.sqrt(E*w/x);S.rows=Math.round(t),S.cols=Math.round(x/w*t)}if(S.rows=Math.max(S.rows,1),S.cols=Math.max(S.cols,1),S.cols*S.rows>E){const t=mb(S),e=vb(S);(t-1)*e>=E?mb(S,t-1):(e-1)*t>=E&&vb(S,e-1)}else for(;S.cols*S.rows<E;){const t=mb(S),e=vb(S);(e+1)*t>=E?vb(S,e+1):mb(S,t+1)}let k=o?0:x/S.cols,M=o?0:w/S.rows;if(s||u){const t=pv(10,u),n=gv(30,d,!1);b.forEach((r=>{r.data.x&&r.data.y||(r.data.x=0,r.data.y=0);const i=e.getNode(r.id),o=n(i)||30;let s,l;Mv(o)?(s=o[0],l=o[1]):(s=o,l=o);const c=void 0!==t?t(r):a,u=s+c,d=l+c;k=Math.max(k,u),M=Math.max(M,d)}))}const C={},N={row:0,col:0},O={};for(let t=0;t<b.length;t++){const n=b[t];let r;if(p&&(r=p(e.getNode(n.id))),r&&(void 0!==r.row||void 0!==r.col)){const t={row:r.row,col:r.col};if(void 0===t.col)for(t.col=0;yb(C,t);)t.col++;else if(void 0===t.row)for(t.row=0;yb(C,t);)t.row++;O[n.id]=t,bb(C,t)}wb(n,i,k,M,O,S,N,C)}const P={nodes:b,edges:v};return t&&b.forEach((t=>{e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})})),P}))}},indented:pg.indented,mds:cy,mindmap:pg.mindmap,radial:class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.id="radial",this.options=Object.assign(Object.assign({},Mb),t)}execute(t,e){return l(this,void 0,void 0,(function*(){return this.genericRadialLayout(!1,t,e)}))}assign(t,e){return l(this,void 0,void 0,(function*(){yield this.genericRadialLayout(!0,t,e)}))}genericRadialLayout(t,e,n){return l(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{width:i,height:o,center:a,focusNode:s,unitRadius:l,nodeSize:c,nodeSpacing:u,strictRadial:d,preventOverlap:h,maxPreventOverlapIteration:f,sortBy:p,linkDistance:g=50,sortStrength:m=10,maxIteration:v=1e3}=r,y=e.getAllNodes(),b=e.getAllEdges(),x=i||"undefined"===typeof window?i:window.innerWidth,w=o||"undefined"===typeof window?o:window.innerHeight,E=a||[x/2,w/2];if(!(null===y||void 0===y?void 0:y.length)||1===y.length)return wv(e,t,E);let S=y[0];if(Zt(s)){for(let t=0;t<y.length;t++)if(y[t].id===s){S=y[t];break}}else S=s||y[0];const k=Ob(y,S.id),M=oy({nodes:y,edges:b},!1),C=iy(M),N=Tb(C,k);Pb(C,k,N+1);const O=C[k];let P=x-E[0]>E[0]?E[0]:x-E[0],T=w-E[1]>E[1]?E[1]:w-E[1];0===P&&(P=x/2),0===T&&(T=w/2);const A=Math.min(P,T),R=Math.max(...O),_=[],L=l||A/R;O.forEach(((t,e)=>{_[e]=t*L}));const I=Cb(y,C,g,_,L,p,m),D=Nb(I),j=((t,e,n)=>{try{const n=ny.mul(ny.pow(e,2),-.5),r=n.mean("row"),i=n.mean("column"),o=n.mean();n.add(o).subRowVector(r).subColumnVector(i);const a=new ry(n),s=ny.sqrt(a.diagonalMatrix).diagonal();return a.leftSingularVectors.toJSON().map((e=>ny.mul([e],[s]).toJSON()[0].splice(0,t)))}catch(r){const t=[];for(let i=0;i<e.length;i++){const e=Math.random()*n,r=Math.random()*n;t.push([e,r])}return t}})(g,I,g);let z,F=j.map((t=>{let[e,n]=t;return{x:(isNaN(e)?Math.random()*g:e)-j[k][0],y:(isNaN(n)?Math.random()*g:n)-j[k][1]}}));if(this.run(v,F,D,I,_,k),h){z=mv(c,u);const t={nodes:y,nodeSizeFunc:z,positions:F,radii:_,height:w,width:x,strictRadial:Boolean(d),focusIdx:k,iterations:f||200,k:F.length/4.5};F=((t,e)=>{const n=Object.assign(Object.assign({},Eb),e),{positions:r,iterations:i,width:o,k:a,speed:s=100,strictRadial:l,focusIdx:c,radii:u=[],nodeSizeFunc:d}=n,h=t.getAllNodes(),f=[],p=o/10;for(let g=0;g<i;g++)r.forEach(((t,e)=>{f[e]={x:0,y:0}})),Sb(h,r,f,a,u,d),kb(r,f,s,l,c,p,o,u);return r})(e,t)}const B=[];F.forEach(((t,e)=>{const n=yv(y[e]);n.data.x=t.x+E[0],n.data.y=t.y+E[1],B.push(n)})),t&&B.forEach((t=>e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})));return{nodes:B,edges:b}}))}run(t,e,n,r,i,o){for(let a=0;a<=t;a++){const s=a/t;this.oneIteration(s,e,i,r,n,o)}}oneIteration(t,e,n,r,i,o){const a=1-t;e.forEach(((s,l)=>{const c=ay(s,{x:0,y:0}),u=0===c?0:1/c;if(l===o)return;let d=0,h=0,f=0;e.forEach(((t,e)=>{if(l===e)return;const n=ay(s,t),o=0===n?0:1/n,a=r[e][l];f+=i[l][e],d+=i[l][e]*(t.x+a*(s.x-t.x)*o),h+=i[l][e]*(t.y+a*(s.y-t.y)*o)}));const p=0===n[l]?0:1/n[l];f*=a,f+=t*p*p,d*=a,d+=t*p*s.x*u,s.x=d/f,h*=a,h+=t*p*s.y*u,s.y=h/f}))}},random:class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.id="random",this.options=Object.assign(Object.assign({},Ab),t)}execute(t,e){return l(this,void 0,void 0,(function*(){return this.genericRandomLayout(!1,t,e)}))}assign(t,e){return l(this,void 0,void 0,(function*(){yield this.genericRandomLayout(!0,t,e)}))}genericRandomLayout(t,e,n){return l(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},this.options),n),{center:i,width:o,height:a}=r,s=e.getAllNodes(),l=o||"undefined"===typeof window?o:window.innerWidth,c=a||"undefined"===typeof window?a:window.innerHeight,u=i||[l/2,c/2],d=[];s&&s.forEach((t=>{d.push({id:t.id,data:{x:.9*(Math.random()-.5)*l+u[0],y:.9*(Math.random()-.5)*c+u[1]}})})),t&&d.forEach((t=>e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})));return{nodes:d,edges:e.getAllEdges()}}))}}},node:{circle:ph,diamond:class extends gh{constructor(t){super(t)}getPoints(t){const[e,n]=this.getSize(t);return function(t,e){return[[0,-e/2],[t/2,0],[0,e/2],[-t/2,0]]}(e,n)}},ellipse:bh,hexagon:class extends gh{constructor(t){super(t)}getOuterR(t){return t.outerR||Math.min(...this.getSize(t))/2}getPoints(t){return[[0,e=this.getOuterR(t)],[e*Math.sqrt(3)/2,e/2],[e*Math.sqrt(3)/2,-e/2],[0,-e],[-e*Math.sqrt(3)/2,-e/2],[-e*Math.sqrt(3)/2,e/2]];var e}getIconStyle(t){const e=super.getIconStyle(t),n=this.getOuterR(t)*gd;return!!e&&{width:n,height:n,...e}}},html:Ef,image:Sf,rect:kf,star:class extends gh{constructor(t){super(t)}getInnerR(t){return t.innerR||3*this.getOuterR(t)/8}getOuterR(t){return Math.min(...this.getSize(t))/2}getPoints(t){return e=this.getOuterR(t),n=this.getInnerR(t),[[0,-e],[n*Math.cos(3*Math.PI/10),-n*Math.sin(3*Math.PI/10)],[e*Math.cos(Math.PI/10),-e*Math.sin(Math.PI/10)],[n*Math.cos(Math.PI/10),n*Math.sin(Math.PI/10)],[e*Math.cos(3*Math.PI/10),e*Math.sin(3*Math.PI/10)],[0,n],[-e*Math.cos(3*Math.PI/10),e*Math.sin(3*Math.PI/10)],[-n*Math.cos(Math.PI/10),n*Math.sin(Math.PI/10)],[-e*Math.cos(Math.PI/10),-e*Math.sin(Math.PI/10)],[-n*Math.cos(3*Math.PI/10),-n*Math.sin(3*Math.PI/10)]];var e,n}getIconStyle(t){const e=super.getIconStyle(t),n=2*this.getInnerR(t)*gd;return!!e&&{width:n,height:n,...e}}getPortXY(t,e){const{placement:n="top"}=e;return Op(this.getShape("key").getLocalBounds(),n,function(t,e){const n={};return n.top=[0,-t],n.left=[-t*Math.cos(Math.PI/10),-t*Math.sin(Math.PI/10)],n["left-bottom"]=[-t*Math.cos(3*Math.PI/10),t*Math.sin(3*Math.PI/10)],n.bottom=[0,e],n["right-bottom"]=[t*Math.cos(3*Math.PI/10),t*Math.sin(3*Math.PI/10)],n.right=n.default=[t*Math.cos(Math.PI/10),-t*Math.sin(Math.PI/10)],n}(this.getOuterR(t),this.getInnerR(t)),!1)}},donut:mh,triangle:Mf},palette:{spectral:["rgb(158, 1, 66)","rgb(213, 62, 79)","rgb(244, 109, 67)","rgb(253, 174, 97)","rgb(254, 224, 139)","rgb(255, 255, 191)","rgb(230, 245, 152)","rgb(171, 221, 164)","rgb(102, 194, 165)","rgb(50, 136, 189)","rgb(94, 79, 162)"],tableau:["rgb(78, 121, 167)","rgb(242, 142, 44)","rgb(225, 87, 89)","rgb(118, 183, 178)","rgb(89, 161, 79)","rgb(237, 201, 73)","rgb(175, 122, 161)","rgb(255, 157, 167)","rgb(156, 117, 95)","rgb(186, 176, 171)"],oranges:["rgb(255, 245, 235)","rgb(254, 230, 206)","rgb(253, 208, 162)","rgb(253, 174, 107)","rgb(253, 141, 60)","rgb(241, 105, 19)","rgb(217, 72, 1)","rgb(166, 54, 3)","rgb(127, 39, 4)"],greens:["rgb(247, 252, 245)","rgb(229, 245, 224)","rgb(199, 233, 192)","rgb(161, 217, 155)","rgb(116, 196, 118)","rgb(65, 171, 93)","rgb(35, 139, 69)","rgb(0, 109, 44)","rgb(0, 68, 27)"],blues:["rgb(247, 251, 255)","rgb(222, 235, 247)","rgb(198, 219, 239)","rgb(158, 202, 225)","rgb(107, 174, 214)","rgb(66, 146, 198)","rgb(33, 113, 181)","rgb(8, 81, 156)","rgb(8, 48, 107)"]},theme:{dark:BM,light:$M},plugin:{"bubble-sets":Cx,"edge-filter-lens":Ax,"grid-line":Ix,background:Fb,contextmenu:Px,fisheye:_x,fullscreen:Lx,history:Bx,hull:Yx,legend:hE,minimap:pE,snapline:yE,timebar:xM,toolbar:kM,tooltip:RM,watermark:IM},transform:{"update-related-edges":class extends VM{beforeDraw(t,e){const{stage:n}=e;if("visibility"===n)return t;const{model:r}=this.context,{update:{nodes:i,edges:o,combos:a}}=t,s=(t,e)=>{r.getRelatedEdgesData(e).forEach((t=>!o.has(Qc(t))&&o.set(Qc(t),t)))};return i.forEach(s),a.forEach(s),t}},"arrange-draw-order":class extends VM{beforeDraw(t){const{model:e}=this.context,n=t.add.combos,r=t=>{const n=[];return t.forEach(((t,r)=>{const i=e.getAncestorsData(r,"combo").map((t=>Qc(t))).reverse();n.push([r,t,i.length])})),new Map(n.sort(((t,e)=>{let[,,n]=t,[,,r]=e;return r-n})).map((t=>{let[e,n]=t;return[e,n]})))};return t.add.combos=r(n),t.update.combos=r(t.update.combos),t}},"collapse-expand-combo":class extends VM{beforeDraw(t,e){if("visibility"===e.stage)return t;if(!this.context.model.model.hasTreeStructure(_c))return t;const{model:n}=this.context,{add:r,update:i}=t,o=[...t.update.combos.entries(),...t.add.combos.entries()];for(;o.length;){const[e,a]=o.pop();if(Ed(a)){const a=n.getDescendantsData(e),s=a.map(Qc),{internal:l,external:c}=Zf(s,(t=>n.getRelatedEdgesData(t)));a.forEach((e=>{const r=Qc(e),i=o.findIndex((t=>{let[e]=t;return e===r}));-1!==i&&o.splice(i,1);const a=n.getElementType(r);HM(t,"remove",a,e)})),l.forEach((e=>HM(t,"remove","edge",e))),c.forEach((t=>{const e=Qc(t),n=this.context.element?.getElement(e);n?i.edges.set(e,t):r.edges.set(e,t)}))}else{const r=n.getChildrenData(e),i=r.map(Qc),{edges:a}=Zf(i,(t=>n.getRelatedEdgesData(t)));[...r,...a].forEach((e=>{const r=Qc(e),i=n.getElementType(r),a=this.context.element?.getElement(r);HM(t,a?"update":"add",i,e),"combo"===i&&o.push([r,e])}))}}return t}},"collapse-expand-node":class extends VM{getElement(t){return this.context.element.getElement(t)}handleExpand(t,e){if(WM(e,"add","node",t),Ed(t))return;const n=Qc(t);WM(e,"add","node",t);this.context.model.getRelatedEdgesData(n,"out").forEach((t=>{HM(e,"add","edge",t)}));this.context.model.getChildrenData(n).forEach((t=>{this.handleExpand(t,e)}))}beforeDraw(t){const{graph:e,model:n}=this.context;if(!n.model.hasTreeStructure(Lc))return t;const{add:{nodes:r,edges:i},update:{nodes:o}}=t,a=new Map,s=new Map;r.forEach(((t,e)=>{Ed(t)&&a.set(e,t)})),i.forEach((t=>{if("node"!==e.getElementType(t.source))return;const n=e.getNodeData(t.source);Ed(n)&&a.set(t.source,n)})),o.forEach(((t,e)=>{const n=this.getElement(e);if(!n)return;const r=n.attributes.collapsed;Ed(t)?r||a.set(e,t):r&&s.set(e,t)}));const l=new Set;return a.forEach(((e,r)=>{n.getDescendantsData(r).forEach((e=>{const r=Qc(e);if(l.has(r))return;HM(t,"remove","node",e);n.getRelatedEdgesData(r).forEach((e=>{HM(t,"remove","edge",e)})),l.add(r)}))})),s.forEach(((e,r)=>{n.getAncestorsData(r,Lc).some(Ed)?HM(t,"remove","node",e):this.handleExpand(e,t)})),t}},"process-parallel-edges":GC,"get-edge-actual-ends":class extends VM{beforeDraw(t){const{add:e,update:n}=t,{model:r}=this.context;return[...e.edges.entries(),...n.edges.entries()].forEach((t=>{let[,e]=t;VC(r,e)})),t}},"position-radial-labels":HC},shape:{circle:Ns,ellipse:Ps,group:Ts,html:As,image:ah,line:_s,path:Ls,polygon:Is,polyline:Ds,rect:js,text:zs,label:th,badge:eh}};us.enableCSSParsing=!1,Object.entries(XC).forEach((t=>{let[e,n]=t;Object.entries(n).forEach((t=>{let[n,r]=t;GM(e,n,r)}))}));var KC=n(9950),ZC=n.t(KC,2),QC=n(9235),JC=n.n(QC),tN=n(5340);!function(t){function e(e){var n=t.call(this,e)||this;return n.startRef=KC.createRef(),n.endRef=KC.createRef(),n.bodyRef=KC.createRef(),n}o(e,t),e.prototype.getArrowHead=function(t,e){return Ve(t)?this.getDefaultArrowHead():e?this.props.startHead:this.props.endHead},e.prototype.setHeadTransform=function(){var t=this.props,e=t.startHead,n=t.endHead;e&&this.transformArrowHead(this.startRef.current,!0),n&&this.transformArrowHead(this.endRef.current,!1)},e.prototype.componentDidMount=function(){this.setHeadTransform()},e.prototype.componentDidUpdate=function(){this.setHeadTransform()},e.prototype.render=function(){var t=this.props,e=t.startHead,n=t.endHead,r=s(t,["startHead","endHead"]);return KC.createElement(eN,null,KC.createElement(nN,a({},r,{ref:this.bodyRef})),e&&KC.createElement(eN,{ref:this.startRef},this.getArrowHead(e,!0)),n&&KC.createElement(eN,{ref:this.endRef},this.getArrowHead(n,!1)))},e.prototype.getCenter=function(){return this.bodyRef.current.getPoint(.5)},e.prototype.transformArrowHead=function(t,e){var n=d(this.getTangent(this.bodyRef.current,e),2),r=n[0],i=n[1],o=d(r,2),a=o[0],s=o[1],l=d(i,2),c=l[0],u=l[1],h=a-c,f=s-u,p=Math.atan2(f,h)+Math.PI,g=x(c,u,0);t.setLocalPosition(g),t.setLocalEulerAngles(180*p/Math.PI)},e.prototype.getTangent=function(t,e){return e?t.getStartTangent():t.getEndTangent()},e.prototype.getDefaultArrowHead=function(){var t=this.props;t.startHead,t.endHead;var e=s(t,["startHead","endHead"]),n=Math.sin,r=Math.cos,i=Math.PI;return KC.createElement(nN,a({},e,{lineDash:void 0,fill:this.props.stroke,d:"M-".concat(16*r(i/6),",").concat(16*n(i/6)," L0,0 L-").concat(16*r(i/6),",-").concat(16*n(i/6)," Z")}))}}(KC.Component);Wn.CIRCLE,Wn.ELLIPSE;var eN=Wn.GROUP,nN=(Wn.HTML,Wn.IMAGE,Wn.LINE,Wn.PATH),rN=(Wn.POLYGON,Wn.POLYLINE,Wn.RECT,Wn.TEXT,!1),iN=function(t){return"on"===t.slice(0,2)},oN=function(t){return t.substring(2).toLowerCase()},aN=JC()({getPublicInstance:function(t){return t},getRootHostContext:function(t){},getChildHostContext:function(t,e,n){},prepareForCommit:function(t){return null},resetAfterCommit:function(t){},preparePortalMount:function(t){},createInstance:function(t,e,n,r,i){var o=(n.document||n.ownerDocument).createElement(t,{style:e});return function(t,e){Object.keys(t).forEach((function(n){iN(n)&&e.addEventListener(oN(n),t[n])}))}(e,o),o},appendInitialChild:function(t,e){t.appendChild(e)},finalizeInitialChildren:function(t,e,n,r,i){return!1},prepareUpdate:function(t,e,n,r,i,o){return!0},shouldSetTextContent:function(t,e){return!1},createTextInstance:function(t,e,n,r){},scheduleTimeout:function(t,e){},cancelTimeout:function(t){},noTimeout:void 0,now:tN.unstable_now,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,appendChild:function(t,e){t.appendChild(e)},appendChildToContainer:function(t,e){t.appendChild(e)},commitTextUpdate:function(t,e,n){},commitMount:function(t,e,n,r){},commitUpdate:function(t,e,n,r,i,o){!function(t,e,n){void 0===n&&(n={}),!rN&&"zIndex"in e&&(console.warn('ReactG: You are using "zIndex" attribute for an element.\nreact-g may get confused with ordering. Just define correct order of elements in your render function of a component.\n'),rN=!0),Object.keys(n).forEach((function(r){n[r]!==e[r]&&(iN(r)?t.removeEventListener(oN(r)):t.removeAttribute(r))})),Object.keys(e).forEach((function(r){n[r]!==e[r]&&(iN(r)?"function"===typeof e[r]&&t.addEventListener(oN(r),e[r]):t.setAttribute(r,e[r]))}))}(t,i,r)},insertBefore:function(t,e,n){t.insertBefore(e,n)},insertInContainerBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},removeChildFromContainer:function(t,e){t.removeChild(e)},resetTextContent:function(t){},hideInstance:function(t){},hideTextInstance:function(t){},unhideInstance:function(t,e){},unhideTextInstance:function(t,e){},clearContainer:function(t){t.removeChildren()},cloneInstance:function(t,e,n,r,i,o,a,s){return t},createContainerChildSet:function(t){},appendChildToContainerChildSet:function(t,e){},finalizeContainerChildren:function(t,e){},replaceContainerChildren:function(t,e){},canHydrateInstance:function(t,e,n){return t},canHydrateTextInstance:function(t,e){return null},getNextHydratableSibling:function(t){},getFirstHydratableChild:function(t){},hydrateInstance:function(t,e,n,r,i,o){},hydrateTextInstance:function(t,e,n){return!1},didNotMatchHydratedContainerTextInstance:function(t,e,n){},didNotMatchHydratedTextInstance:function(t,e,n,r,i){},didNotHydrateContainerInstance:function(t,e){},didNotHydrateInstance:function(t,e,n,r){},didNotFindHydratableContainerInstance:function(t,e,n){},didNotFindHydratableContainerTextInstance:function(t,e){},didNotFindHydratableInstance:function(t,e,n,r,i){},didNotFindHydratableTextInstance:function(t,e,n,r){}});aN.injectIntoDevTools({bundleType:0,version:KC.version,rendererPackageName:"react-g",rendererConfig:{getInspectorDataForViewTag:function(t){}}});new WeakMap;(0,KC.forwardRef)((function(t,e){var n=t.children,r=t.classname,i=t.role,o=t.style,a=t.tabIndex,s=t.title,l=t.renderer,c=t.width,u=t.height,d=t.capture,h=t.cursor;!function(t){if("function"===typeof t)throw new Error("Callback ref not support!")}(e);var f=(0,KC.useRef)(),p=(0,KC.useRef)(null),g=(0,KC.useRef)(null),m=e||g;return(0,KC.useLayoutEffect)((function(){var t=new Zs({renderer:l,width:c,height:u,capture:d,cursor:h,container:p.current});return m.current=t,f.current=aN.createContainer(t,1,!1,null),function(){aN.updateContainer(null,f.current,null)}}),[]),(0,KC.useLayoutEffect)((function(){f.current&&aN.updateContainer(n,f.current,null)}),[n]),(0,KC.useLayoutEffect)((function(){var t;null===(t=m.current)||void 0===t||t.setRenderer(l)}),[m,l]),(0,KC.useLayoutEffect)((function(){var t;null===(t=m.current)||void 0===t||t.setCursor(h)}),[m,h]),(0,KC.useLayoutEffect)((function(){m.current.resize(c,u)}),[c,u,m]),KC.createElement("div",{ref:p,className:r,role:i,style:o,tabIndex:a,title:s})}));var sN=n(8738),lN=n.n(sN);function cN(t,e){var n=Object.assign({},t);return Array.isArray(e)&&e.forEach((function(t){delete n[t]})),n}function uN(t){return["small","middle","large"].includes(t)}const dN=["outlined","borderless","filled"],hN=KC.createContext({getPrefixCls:(t,e)=>e||(t?`ant-${t}`:"ant"),iconPrefixCls:"anticon"}),{Consumer:fN}=hN;function pN(t){return pN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pN(t)}function gN(t){if(Array.isArray(t))return t}function mN(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function vN(t,e){if(t){if("string"==typeof t)return mN(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mN(t,e):void 0}}function yN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bN(t,e){return gN(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||vN(t,e)||yN()}function xN(t){var e=function(t,e){if("object"!=pN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pN(e)?e:e+""}function wN(t,e,n){return(e=xN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function SN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?EN(Object(n),!0).forEach((function(e){wN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kN(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function MN(t){return function(t){if(Array.isArray(t))return mN(t)}(t)||kN(t)||vN(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const CN=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};function NN(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var ON="data-rc-order",PN="data-rc-priority",TN="rc-util-key",AN=new Map;function RN(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return t?t.startsWith("data-")?t:"data-".concat(t):TN}function _N(t){return t.attachTo?t.attachTo:document.querySelector("head")||document.body}function LN(t){return Array.from((AN.get(t)||t).children).filter((function(t){return"STYLE"===t.tagName}))}function IN(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!NN())return null;var n=e.csp,r=e.prepend,i=e.priority,o=void 0===i?0:i,a=function(t){return"queue"===t?"prependQueue":t?"prepend":"append"}(r),s="prependQueue"===a,l=document.createElement("style");l.setAttribute(ON,a),s&&o&&l.setAttribute(PN,"".concat(o)),null!==n&&void 0!==n&&n.nonce&&(l.nonce=null===n||void 0===n?void 0:n.nonce),l.innerHTML=t;var c=_N(e),u=c.firstChild;if(r){if(s){var d=(e.styles||LN(c)).filter((function(t){if(!["prepend","prependQueue"].includes(t.getAttribute(ON)))return!1;var e=Number(t.getAttribute(PN)||0);return o>=e}));if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function DN(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_N(e);return(e.styles||LN(n)).find((function(n){return n.getAttribute(RN(e))===t}))}function jN(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=DN(t,e);n&&_N(e).removeChild(n)}function zN(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=_N(n),i=LN(r),o=SN(SN({},n),{},{styles:i});!function(t,e){var n=AN.get(t);if(!n||!function(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}(document,n)){var r=IN("",e),i=r.parentNode;AN.set(t,i),t.removeChild(r)}}(r,o);var a=DN(e,o);if(a){var s,l,c;if(null!==(s=o.csp)&&void 0!==s&&s.nonce&&a.nonce!==(null===(l=o.csp)||void 0===l?void 0:l.nonce))a.nonce=null===(c=o.csp)||void 0===c?void 0:c.nonce;return a.innerHTML!==t&&(a.innerHTML=t),a}var u=IN(t,o);return u.setAttribute(RN(o),e),u}var FN={},BN=[];function $N(t,e){}function VN(t,e){}function HN(t,e,n){e||FN[n]||(t(!1,n),FN[n]=!0)}function WN(t,e){HN($N,t,e)}WN.preMessage=function(t){BN.push(t)},WN.resetWarned=function(){FN={}},WN.noteOnce=function(t,e){HN(VN,t,e)};const GN=WN;const UN=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=r.has(e);if(GN(!a,"Warning: There may be circular references"),a)return!1;if(e===i)return!0;if(n&&o>1)return!1;r.add(e);var s=o+1;if(Array.isArray(e)){if(!Array.isArray(i)||e.length!==i.length)return!1;for(var l=0;l<e.length;l++)if(!t(e[l],i[l],s))return!1;return!0}if(e&&i&&"object"===pN(e)&&"object"===pN(i)){var c=Object.keys(e);return c.length===Object.keys(i).length&&c.every((function(n){return t(e[n],i[n],s)}))}return!1}(t,e)};function qN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xN(r.key),r)}}function XN(t,e,n){return e&&YN(t.prototype,e),n&&YN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var KN="%";function ZN(t){return t.join(KN)}var QN=function(){function t(e){qN(this,t),wN(this,"instanceId",void 0),wN(this,"cache",new Map),this.instanceId=e}return XN(t,[{key:"get",value:function(t){return this.opGet(ZN(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,e){return this.opUpdate(ZN(t),e)}},{key:"opUpdate",value:function(t,e){var n=e(this.cache.get(t));null===n?this.cache.delete(t):this.cache.set(t,n)}}]),t}();const JN=QN;var tO="data-token-hash",eO="data-css-hash",nO="__cssinjs_instance__";function rO(){var t=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(eO,"]"))||[],n=document.head.firstChild;Array.from(e).forEach((function(e){e[nO]=e[nO]||t,e[nO]===t&&document.head.insertBefore(e,n)}));var r={};Array.from(document.querySelectorAll("style[".concat(eO,"]"))).forEach((function(e){var n,i=e.getAttribute(eO);r[i]?e[nO]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e)):r[i]=!0}))}return new JN(t)}var iO=KC.createContext({hashPriority:"low",cache:rO(),defaultCache:!0});const oO=iO;var aO="CALC_UNIT";new RegExp(aO,"g");var sO=function(){function t(){qN(this,t),wN(this,"cache",void 0),wN(this,"keys",void 0),wN(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return XN(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={map:this.cache};return t.forEach((function(t){var e;i?i=null===(e=i)||void 0===e||null===(e=e.map)||void 0===e?void 0:e.get(t):i=void 0})),null!==(e=i)&&void 0!==e&&e.value&&r&&(i.value[1]=this.cacheCallTimes++),null===(n=i)||void 0===n?void 0:n.value}},{key:"get",value:function(t){var e;return null===(e=this.internalGet(t,!0))||void 0===e?void 0:e[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(e,n){var r=this;if(!this.has(e)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var i=this.keys.reduce((function(t,e){var n=bN(t,2)[1];return r.internalGet(e)[1]<n?[e,r.internalGet(e)[1]]:t}),[this.keys[0],this.cacheCallTimes]),o=bN(i,1)[0];this.delete(o)}this.keys.push(e)}var a=this.cache;e.forEach((function(t,i){if(i===e.length-1)a.set(t,{value:[n,r.cacheCallTimes++]});else{var o=a.get(t);o?o.map||(o.map=new Map):a.set(t,{map:new Map}),a=a.get(t).map}}))}},{key:"deleteByPath",value:function(t,e){var n,r=t.get(e[0]);if(1===e.length)return r.map?t.set(e[0],{map:r.map}):t.delete(e[0]),null===(n=r.value)||void 0===n?void 0:n[0];var i=this.deleteByPath(r.map,e.slice(1));return r.map&&0!==r.map.size||r.value||t.delete(e[0]),i}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter((function(e){return!function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(e,t)})),this.deleteByPath(this.cache,t)}}]),t}();wN(sO,"MAX_CACHE_SIZE",20),wN(sO,"MAX_CACHE_OFFSET",5);var lO=0,cO=function(){function t(e){qN(this,t),wN(this,"derivatives",void 0),wN(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=lO,0===e.length&&e.length,lO+=1}return XN(t,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce((function(e,n){return n(t,e)}),void 0)}}]),t}(),uO=new sO;var dO=new WeakMap,hO={};var fO=new WeakMap;function pO(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=fO.get(t)||"";return n||(Object.keys(t).forEach((function(r){var i=t[r];n+=r,i instanceof cO?n+=i.id:i&&"object"===pN(i)?n+=pO(i,e):n+=i})),e&&(n=CN(n)),fO.set(t,n)),n}function gO(t,e){return CN("".concat(e,"_").concat(pO(t,!0)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var mO=NN();function vO(t){return"number"===typeof t?"".concat(t,"px"):t}function yO(t,e,n){if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return t;var r=SN(SN({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},wN(wN({},tO,e),eO,n)),i=Object.keys(r).map((function(t){var e=r[t];return e?"".concat(t,'="').concat(e,'"'):null})).filter((function(t){return t})).join(" ");return"<style ".concat(i,">").concat(t,"</style>")}var bO=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(e?"".concat(e,"-"):"").concat(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},xO=function(t,e,n){return Object.keys(t).length?".".concat(e).concat(null!==n&&void 0!==n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(t).map((function(t){var e=bN(t,2),n=e[0],r=e[1];return"".concat(n,":").concat(r,";")})).join(""),"}"):""},wO=function(t,e,n){var r={},i={};return Object.entries(t).forEach((function(t){var e,o,a=bN(t,2),s=a[0],l=a[1];if(null!==n&&void 0!==n&&null!==(e=n.preserve)&&void 0!==e&&e[s])i[s]=l;else if(("string"===typeof l||"number"===typeof l)&&(null===n||void 0===n||null===(o=n.ignore)||void 0===o||!o[s])){var c,u=bO(s,null===n||void 0===n?void 0:n.prefix);r[u]="number"!==typeof l||null!==n&&void 0!==n&&null!==(c=n.unitless)&&void 0!==c&&c[s]?String(l):"".concat(l,"px"),i[s]="var(".concat(u,")")}})),[i,xO(r,e,{scope:null===n||void 0===n?void 0:n.scope})]},EO=NN()?KC.useLayoutEffect:KC.useEffect,SO=function(t,e){var n=KC.useRef(!0);EO((function(){return t(n.current)}),e),EO((function(){return n.current=!1,function(){n.current=!0}}),[])},kO=function(t,e){SO((function(e){if(!e)return t()}),e)};const MO=SO;var CO=SN({},ZC).useInsertionEffect,NO=CO?function(t,e,n){return CO((function(){return t(),e()}),n)}:function(t,e,n){KC.useMemo(t,n),MO((function(){return e(!0)}),n)};const OO=NO;const PO="undefined"!==typeof SN({},ZC).useInsertionEffect?function(t){var e=[],n=!1;return KC.useEffect((function(){return n=!1,function(){n=!0,e.length&&e.forEach((function(t){return t()}))}}),t),function(t){n||e.push(t)}}:function(){return function(t){t()}};const TO=function(){return!1};function AO(t,e,n,r,i){var o=KC.useContext(oO).cache,a=ZN([t].concat(MN(e))),s=PO([a]),l=(TO(),function(t){o.opUpdate(a,(function(e){var r=bN(e||[void 0,void 0],2),i=r[0];var o=[void 0===i?0:i,r[1]||n()];return t?t(o):o}))});KC.useMemo((function(){l()}),[a]);var c=o.opGet(a)[1];return OO((function(){null===i||void 0===i||i(c)}),(function(t){return l((function(e){var n=bN(e,2),r=n[0],o=n[1];return t&&0===r&&(null===i||void 0===i||i(c)),[r+1,o]})),function(){o.opUpdate(a,(function(e){var n=bN(e||[],2),i=n[0],l=void 0===i?0:i,c=n[1];return 0===l-1?(s((function(){!t&&o.opGet(a)||null===r||void 0===r||r(c,!1)})),null):[l-1,c]}))}}),[a]),c}var RO={},_O="css",LO=new Map;var IO=0;function DO(t,e){LO.set(t,(LO.get(t)||0)-1);var n=Array.from(LO.keys()),r=n.filter((function(t){return(LO.get(t)||0)<=0}));n.length-r.length>IO&&r.forEach((function(t){!function(t,e){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(tO,'="').concat(t,'"]')).forEach((function(t){var n;t[nO]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t))}))}(t,e),LO.delete(t)}))}var jO=function(t,e,n,r){var i=SN(SN({},n.getDerivativeToken(t)),e);return r&&(i=r(i)),i},zO="token";function FO(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,KC.useContext)(oO),i=r.cache.instanceId,o=r.container,a=n.salt,s=void 0===a?"":a,l=n.override,c=void 0===l?RO:l,u=n.formatToken,d=n.getComputedToken,h=n.cssVar,f=function(t,e){for(var n=dO,r=0;r<e.length;r+=1){var i=e[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(hO)||n.set(hO,t()),n.get(hO)}((function(){return Object.assign.apply(Object,[{}].concat(MN(e)))}),e),p=pO(f),g=pO(c),m=h?pO(h):"",v=AO(zO,[s,t.id,p,g,m],(function(){var e,n=d?d(f,c,t):jO(f,c,t,u),r=SN({},n),i="";if(h){var o=bN(wO(n,h.key,{prefix:h.prefix,ignore:h.ignore,unitless:h.unitless,preserve:h.preserve}),2);n=o[0],i=o[1]}var a=gO(n,s);n._tokenKey=a,r._tokenKey=gO(r,s);var l=null!==(e=null===h||void 0===h?void 0:h.key)&&void 0!==e?e:a;n._themeKey=l,function(t){LO.set(t,(LO.get(t)||0)+1)}(l);var p="".concat(_O,"-").concat(CN(a));return n._hashId=p,[n,p,r,i,(null===h||void 0===h?void 0:h.key)||""]}),(function(t){DO(t[0]._themeKey,i)}),(function(t){var e=bN(t,4),n=e[0],r=e[3];if(h&&r){var a=zN(r,CN("css-variables-".concat(n._themeKey)),{mark:eO,prepend:"queue",attachTo:o,priority:-999});a[nO]=i,a.setAttribute(tO,n._themeKey)}}));return v}function BO(){return BO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BO.apply(null,arguments)}const $O={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var VO="comm",HO="rule",WO="decl",GO="@import",UO="@keyframes",qO="@layer",YO=Math.abs,XO=String.fromCharCode;Object.assign;function KO(t){return t.trim()}function ZO(t,e,n){return t.replace(e,n)}function QO(t,e,n){return t.indexOf(e,n)}function JO(t,e){return 0|t.charCodeAt(e)}function tP(t,e,n){return t.slice(e,n)}function eP(t){return t.length}function nP(t,e){return e.push(t),t}function rP(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function iP(t,e,n,r){switch(t.type){case qO:if(t.children.length)break;case GO:case WO:return t.return=t.return||t.value;case VO:return"";case UO:return t.return=t.value+"{"+rP(t.children,r)+"}";case HO:if(!eP(t.value=t.props.join(",")))return""}return eP(n=rP(t.children,r))?t.return=t.value+"{"+n+"}":""}var oP=1,aP=1,sP=0,lP=0,cP=0,uP="";function dP(t,e,n,r,i,o,a,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:oP,column:aP,length:a,return:"",siblings:s}}function hP(){return cP=lP>0?JO(uP,--lP):0,aP--,10===cP&&(aP=1,oP--),cP}function fP(){return cP=lP<sP?JO(uP,lP++):0,aP++,10===cP&&(aP=1,oP++),cP}function pP(){return JO(uP,lP)}function gP(){return lP}function mP(t,e){return tP(uP,t,e)}function vP(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yP(t){return oP=aP=1,sP=eP(uP=t),lP=0,[]}function bP(t){return uP="",t}function xP(t){return KO(mP(lP-1,SP(91===t?t+2:40===t?t+1:t)))}function wP(t){for(;(cP=pP())&&cP<33;)fP();return vP(t)>2||vP(cP)>3?"":" "}function EP(t,e){for(;--e&&fP()&&!(cP<48||cP>102||cP>57&&cP<65||cP>70&&cP<97););return mP(t,gP()+(e<6&&32==pP()&&32==fP()))}function SP(t){for(;fP();)switch(cP){case t:return lP;case 34:case 39:34!==t&&39!==t&&SP(cP);break;case 40:41===t&&SP(t);break;case 92:fP()}return lP}function kP(t,e){for(;fP()&&t+cP!==57&&(t+cP!==84||47!==pP()););return"/*"+mP(e,lP-1)+"*"+XO(47===t?t:fP())}function MP(t){for(;!vP(pP());)fP();return mP(t,lP)}function CP(t){return bP(NP("",null,null,null,[""],t=yP(t),0,[0],t))}function NP(t,e,n,r,i,o,a,s,l){for(var c=0,u=0,d=a,h=0,f=0,p=0,g=1,m=1,v=1,y=0,b="",x=i,w=o,E=r,S=b;m;)switch(p=y,y=fP()){case 40:if(108!=p&&58==JO(S,d-1)){-1!=QO(S+=ZO(xP(y),"&","&\f"),"&\f",YO(c?s[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:S+=xP(y);break;case 9:case 10:case 13:case 32:S+=wP(p);break;case 92:S+=EP(gP()-1,7);continue;case 47:switch(pP()){case 42:case 47:nP(PP(kP(fP(),gP()),e,n,l),l),5!=vP(p||1)&&5!=vP(pP()||1)||!eP(S)||" "===tP(S,-1,void 0)||(S+=" ");break;default:S+="/"}break;case 123*g:s[c++]=eP(S)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+u:-1==v&&(S=ZO(S,/\f/g,"")),f>0&&(eP(S)-d||0===g&&47===p)&&nP(f>32?TP(S+";",r,n,d-1,l):TP(ZO(S," ","")+";",r,n,d-2,l),l);break;case 59:S+=";";default:if(nP(E=OP(S,e,n,c,u,i,s,b,x=[],w=[],d,o),o),123===y)if(0===u)NP(S,e,E,E,x,o,d,s,w);else switch(99===h&&110===JO(S,3)?100:h){case 100:case 108:case 109:case 115:NP(t,E,E,r&&nP(OP(t,E,E,0,0,i,s,b,i,x=[],d,w),w),i,w,d,s,r?x:w);break;default:NP(S,E,E,E,[""],w,0,s,w)}}c=u=f=0,g=v=1,b=S="",d=a;break;case 58:d=1+eP(S),f=p;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==hP())continue;switch(S+=XO(y),y*g){case 38:v=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(eP(S)-1)*v,v=1;break;case 64:45===pP()&&(S+=xP(fP())),h=pP(),u=d=eP(b=S+=MP(gP())),y++;break;case 45:45===p&&2==eP(S)&&(g=0)}}return o}function OP(t,e,n,r,i,o,a,s,l,c,u,d){for(var h=i-1,f=0===i?o:[""],p=function(t){return t.length}(f),g=0,m=0,v=0;g<r;++g)for(var y=0,b=tP(t,h+1,h=YO(m=a[g])),x=t;y<p;++y)(x=KO(m>0?f[y]+" "+b:ZO(b,/&\f/g,f[y])))&&(l[v++]=x);return dP(t,e,n,0===i?HO:s,l,c,u,d)}function PP(t,e,n,r){return dP(t,e,n,VO,XO(cP),tP(t,2,-2),0,r)}function TP(t,e,n,r,i){return dP(t,e,n,WO,tP(t,0,r),tP(t,r+1,-1),r,i)}var AP,RP="data-ant-cssinjs-cache-path",_P="_FILE_STYLE__";var LP=!0;function IP(t){return function(){if(!AP&&(AP={},NN())){var t=document.createElement("div");t.className=RP,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";(e=e.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(t){var e=bN(t.split(":"),2),n=e[0],r=e[1];AP[n]=r}));var n,r=document.querySelector("style[".concat(RP,"]"));r&&(LP=!1,null===(n=r.parentNode)||void 0===n||n.removeChild(r)),document.body.removeChild(t)}}(),!!AP[t]}var DP="_multi_value_";function jP(t){return rP(CP(t),iP).replace(/\{%%%\:[^;];}/g,";")}function zP(t,e,n){if(!e)return t;var r=".".concat(e),i="low"===n?":where(".concat(r,")"):r;return t.split(",").map((function(t){var e,n=t.trim().split(/\s+/),r=n[0]||"",o=(null===(e=r.match(/^\w+/))||void 0===e?void 0:e[0])||"";return[r="".concat(o).concat(i).concat(r.slice(o.length))].concat(MN(n.slice(1))).join(" ")})).join(",")}var FP=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,a=r.parentSelectors,s=n.hashId,l=n.layer,c=(n.path,n.hashPriority),u=n.transformers,d=void 0===u?[]:u,h=(n.linters,""),f={};function p(e){var r=e.getName(s);if(!f[r]){var i=bN(t(e.style,n,{root:!1,parentSelectors:a}),1)[0];f[r]="@keyframes ".concat(e.getName(s)).concat(i)}}var g=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){Array.isArray(e)?t(e,n):e&&n.push(e)})),n}(Array.isArray(e)?e:[e]);return g.forEach((function(e){var r="string"!==typeof e||i?e:{};if("string"===typeof r)h+="".concat(r,"\n");else if(r._keyframe)p(r);else{var l=d.reduce((function(t,e){var n;return(null===e||void 0===e||null===(n=e.visit)||void 0===n?void 0:n.call(e,t))||t}),r);Object.keys(l).forEach((function(e){var r=l[e];if("object"!==pN(r)||!r||"animationName"===e&&r._keyframe||function(t){return"object"===pN(t)&&t&&("_skip_check_"in t||DP in t)}(r)){var u;function w(t,e){var n=t.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())})),r=e;$O[t]||"number"!==typeof r||0===r||(r="".concat(r,"px")),"animationName"===t&&null!==e&&void 0!==e&&e._keyframe&&(p(e),r=e.getName(s)),h+="".concat(n,":").concat(r,";")}var d=null!==(u=null===r||void 0===r?void 0:r.value)&&void 0!==u?u:r;"object"===pN(r)&&null!==r&&void 0!==r&&r[DP]&&Array.isArray(d)?d.forEach((function(t){w(e,t)})):w(e,d)}else{var g=!1,m=e.trim(),v=!1;(i||o)&&s?m.startsWith("@")?g=!0:m=zP("&"===m?"":e,s,c):!i||s||"&"!==m&&""!==m||(m="",v=!0);var y=bN(t(r,n,{root:v,injectHash:g,parentSelectors:[].concat(MN(a),[m])}),2),b=y[0],x=y[1];f=SN(SN({},f),x),h+="".concat(m).concat(b)}}))}})),i?l&&(h="@layer ".concat(l.name," {").concat(h,"}"),l.dependencies&&(f["@layer ".concat(l.name)]=l.dependencies.map((function(t){return"@layer ".concat(t,", ").concat(l.name,";")})).join("\n"))):h="{".concat(h,"}"),[h,f]};function BP(t,e){return CN("".concat(t.join("%")).concat(e))}function $P(){return null}var VP="style";function HP(t,e){var n=t.token,r=t.path,i=t.hashId,o=t.layer,a=t.nonce,s=t.clientOnly,l=t.order,c=void 0===l?0:l,u=KC.useContext(oO),d=u.autoClear,h=(u.mock,u.defaultCache),f=u.hashPriority,p=u.container,g=u.ssrInline,m=u.transformers,v=u.linters,y=u.cache,b=u.layer,x=n._tokenKey,w=[x];b&&w.push("layer"),w.push.apply(w,MN(r));var E=mO;var S=AO(VP,w,(function(){var t=w.join("|");if(IP(t)){var n=function(t){var e=AP[t],n=null;if(e&&NN())if(LP)n=_P;else{var r=document.querySelector("style[".concat(eO,'="').concat(AP[t],'"]'));r?n=r.innerHTML:delete AP[t]}return[n,e]}(t),a=bN(n,2),l=a[0],u=a[1];if(l)return[l,x,u,{},s,c]}var d=e(),h=bN(FP(d,{hashId:i,hashPriority:f,layer:b?o:void 0,path:r.join("-"),transformers:m,linters:v}),2),p=h[0],g=h[1],y=jP(p),E=BP(w,y);return[y,x,E,g,s,c]}),(function(t,e){var n=bN(t,3)[2];(e||d)&&mO&&jN(n,{mark:eO})}),(function(t){var e=bN(t,4),n=e[0],r=(e[1],e[2]),i=e[3];if(E&&n!==_P){var o={mark:eO,prepend:!b&&"queue",attachTo:p,priority:c},s="function"===typeof a?a():a;s&&(o.csp={nonce:s});var l=[],u=[];Object.keys(i).forEach((function(t){t.startsWith("@layer")?l.push(t):u.push(t)})),l.forEach((function(t){zN(jP(i[t]),"_layer-".concat(t),SN(SN({},o),{},{prepend:!0}))}));var d=zN(n,r,o);d[nO]=y.instanceId,d.setAttribute(tO,x),u.forEach((function(t){zN(jP(i[t]),"_effect-".concat(t),o)}))}})),k=bN(S,3),M=k[0],C=k[1],N=k[2];return function(t){var e;return e=g&&!E&&h?KC.createElement("style",BO({},wN(wN({},tO,C),eO,N),{dangerouslySetInnerHTML:{__html:M}})):KC.createElement($P,null),KC.createElement(KC.Fragment,null,e,t)}}var WP="cssVar";const GP=function(t,e){var n=t.key,r=t.prefix,i=t.unitless,o=t.ignore,a=t.token,s=t.scope,l=void 0===s?"":s,c=(0,KC.useContext)(oO),u=c.cache.instanceId,d=c.container,h=a._tokenKey,f=[].concat(MN(t.path),[n,l,h]),p=AO(WP,f,(function(){var t=e(),a=bN(wO(t,n,{prefix:r,unitless:i,ignore:o,scope:l}),2),s=a[0],c=a[1];return[s,c,BP(f,c),n]}),(function(t){var e=bN(t,3)[2];mO&&jN(e,{mark:eO})}),(function(t){var e=bN(t,3),r=e[1],i=e[2];if(r){var o=zN(r,i,{mark:eO,prepend:"queue",attachTo:d,priority:-999});o[nO]=u,o.setAttribute(tO,n)}}));return p};wN(wN(wN({},VP,(function(t,e,n){var r=bN(t,6),i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=(n||{}).plain;if(l)return null;var d=i,h={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)};return d=yO(i,o,a,h,u),s&&Object.keys(s).forEach((function(t){if(!e[t]){e[t]=!0;var n=yO(jP(s[t]),o,"_effect-".concat(t),h,u);t.startsWith("@layer")?d=n+d:d+=n}})),[c,a,d]})),zO,(function(t,e,n){var r=bN(t,5),i=r[2],o=r[3],a=r[4],s=(n||{}).plain;if(!o)return null;var l=i._tokenKey;return[-999,l,yO(o,a,l,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]})),WP,(function(t,e,n){var r=bN(t,4),i=r[1],o=r[2],a=r[3],s=(n||{}).plain;if(!i)return null;return[-999,o,yO(i,a,o,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]}));var UP=function(){function t(e,n){qN(this,t),wN(this,"name",void 0),wN(this,"style",void 0),wN(this,"_keyframe",!0),this.name=e,this.style=n}return XN(t,[{key:"getName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),t}();const qP=UP;function YP(t){return t.notSplit=!0,t}YP(["borderTop","borderBottom"]),YP(["borderTop"]),YP(["borderBottom"]),YP(["borderLeft","borderRight"]),YP(["borderLeft"]),YP(["borderRight"]);function XP(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KP(t,e){return KP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},KP(t,e)}function ZP(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KP(t,e)}function QP(t){return QP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},QP(t)}function JP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(JP=function(){return!!t})()}function tT(t){var e=JP();return function(){var n,r=QP(t);if(e){var i=QP(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"==pN(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return XP(t)}(this,n)}}const eT=XN((function t(){qN(this,t)}));var nT="CALC_UNIT",rT=new RegExp(nT,"g");function iT(t){return"number"===typeof t?"".concat(t).concat(nT):t}var oT=function(t){ZP(n,t);var e=tT(n);function n(t,r){var i;qN(this,n),wN(XP(i=e.call(this)),"result",""),wN(XP(i),"unitlessCssVar",void 0),wN(XP(i),"lowPriority",void 0);var o=pN(t);return i.unitlessCssVar=r,t instanceof n?i.result="(".concat(t.result,")"):"number"===o?i.result=iT(t):"string"===o&&(i.result=t),i}return XN(n,[{key:"add",value:function(t){return t instanceof n?this.result="".concat(this.result," + ").concat(t.getResult()):"number"!==typeof t&&"string"!==typeof t||(this.result="".concat(this.result," + ").concat(iT(t))),this.lowPriority=!0,this}},{key:"sub",value:function(t){return t instanceof n?this.result="".concat(this.result," - ").concat(t.getResult()):"number"!==typeof t&&"string"!==typeof t||(this.result="".concat(this.result," - ").concat(iT(t))),this.lowPriority=!0,this}},{key:"mul",value:function(t){return this.lowPriority&&(this.result="(".concat(this.result,")")),t instanceof n?this.result="".concat(this.result," * ").concat(t.getResult(!0)):"number"!==typeof t&&"string"!==typeof t||(this.result="".concat(this.result," * ").concat(t)),this.lowPriority=!1,this}},{key:"div",value:function(t){return this.lowPriority&&(this.result="(".concat(this.result,")")),t instanceof n?this.result="".concat(this.result," / ").concat(t.getResult(!0)):"number"!==typeof t&&"string"!==typeof t||(this.result="".concat(this.result," / ").concat(t)),this.lowPriority=!1,this}},{key:"getResult",value:function(t){return this.lowPriority||t?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(t){var e=this,n=(t||{}).unit,r=!0;return"boolean"===typeof n?r=n:Array.from(this.unitlessCssVar).some((function(t){return e.result.includes(t)}))&&(r=!1),this.result=this.result.replace(rT,r?"px":""),"undefined"!==typeof this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),n}(eT),aT=function(t){ZP(n,t);var e=tT(n);function n(t){var r;return qN(this,n),wN(XP(r=e.call(this)),"result",0),t instanceof n?r.result=t.result:"number"===typeof t&&(r.result=t),r}return XN(n,[{key:"add",value:function(t){return t instanceof n?this.result+=t.result:"number"===typeof t&&(this.result+=t),this}},{key:"sub",value:function(t){return t instanceof n?this.result-=t.result:"number"===typeof t&&(this.result-=t),this}},{key:"mul",value:function(t){return t instanceof n?this.result*=t.result:"number"===typeof t&&(this.result*=t),this}},{key:"div",value:function(t){return t instanceof n?this.result/=t.result:"number"===typeof t&&(this.result/=t),this}},{key:"equal",value:function(){return this.result}}]),n}(eT);const sT=function(t,e){var n="css"===t?oT:aT;return function(t){return new n(t,e)}};const lT=function(t,e){return"".concat([e,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function cT(t){var e=KC.useRef();e.current=t;var n=KC.useCallback((function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(t=e.current)||void 0===t?void 0:t.call.apply(t,[e].concat(r))}),[]);return n}function uT(t){var e=KC.useRef(!1),n=bN(KC.useState(t),2),r=n[0],i=n[1];return KC.useEffect((function(){return e.current=!1,function(){e.current=!0}}),[]),[r,function(t,n){n&&e.current||i(t)}]}function dT(t){return void 0!==t}function hT(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=bN(uT((function(){return dT(i)?i:dT(r)?"function"===typeof r?r():r:"function"===typeof t?t():t})),2),l=s[0],c=s[1],u=void 0!==i?i:l,d=a?a(u):u,h=cT(o),f=bN(uT([u]),2),p=f[0],g=f[1];return kO((function(){var t=p[0];l!==t&&h(l,t)}),[p]),kO((function(){dT(i)||c(i)}),[i]),[d,cT((function(t,e){c(t,e),g([u],e)}))]}var fT=n(6429),pT=function(t,e){"function"===typeof t?t(e):"object"===pN(t)&&t&&"current"in t&&(t.current=e)},gT=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter(Boolean);return r.length<=1?r[0]:function(t){e.forEach((function(e){pT(e,t)}))}},mT=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,e,n){var r=KC.useRef({});return"value"in r.current&&!n(r.current.condition,e)||(r.current.value=t(),r.current.condition=e),r.current.value}((function(){return gT.apply(void 0,e)}),e,(function(t,e){return t.length!==e.length||t.every((function(t,n){return t!==e[n]}))}))},vT=function(t){var e,n,r=(0,fT.isMemo)(t)?t.type.type:t.type;return!!("function"!==typeof r||null!==(e=r.prototype)&&void 0!==e&&e.render||r.$$typeof===fT.ForwardRef)&&!!("function"!==typeof t||null!==(n=t.prototype)&&void 0!==n&&n.render||t.$$typeof===fT.ForwardRef)};function yT(t){return(0,KC.isValidElement)(t)&&!(0,fT.isFragment)(t)}Number(KC.version.split(".")[0]);function bT(t,e){for(var n=t,r=0;r<e.length;r+=1){if(null===n||void 0===n)return;n=n[e[r]]}return n}function xT(t,e,n,r){if(!e.length)return n;var i,o,a=gN(i=e)||kN(i)||vN(i)||yN(),s=a[0],l=a.slice(1);return o=t||"number"!==typeof s?Array.isArray(t)?MN(t):SN({},t):[],r&&void 0===n&&1===l.length?delete o[s][l[0]]:o[s]=xT(o[s],l,n,r),o}function wT(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.length&&r&&void 0===n&&!bT(t,e.slice(0,-1))?t:xT(t,e,n,r)}function ET(t){return Array.isArray(t)?[]:{}}var ST="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function kT(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ET(e[0]);return e.forEach((function(t){!function e(n,i){var o,a=new Set(i),s=bT(t,n),l=Array.isArray(s);if(l||"object"===pN(o=s)&&null!==o&&Object.getPrototypeOf(o)===Object.prototype){if(!a.has(s)){a.add(s);var c=bT(r,n);l?r=wT(r,n,[]):c&&"object"===pN(c)||(r=wT(r,n,ET(s))),ST(s).forEach((function(t){e([].concat(MN(n),[t]),a)}))}}else r=wT(r,n,s)}([])})),r}function MT(t,e,n,r){var i=SN({},e[t]);null!==r&&void 0!==r&&r.deprecatedTokens&&r.deprecatedTokens.forEach((function(t){var e,n=bN(t,2),r=n[0],o=n[1];(null!==i&&void 0!==i&&i[r]||null!==i&&void 0!==i&&i[o])&&(null!==(e=i[o])&&void 0!==e||(i[o]=null===i||void 0===i?void 0:i[r]))}));var o=SN(SN({},n),i);return Object.keys(o).forEach((function(t){o[t]===e[t]&&delete o[t]})),o}var CT="undefined"!==typeof CSSINJS_STATISTIC,NT=!0;function OT(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!CT)return Object.assign.apply(Object,[{}].concat(e));NT=!1;var r={};return e.forEach((function(t){"object"===pN(t)&&Object.keys(t).forEach((function(e){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){return t[e]}})}))})),NT=!0,r}var PT={};function TT(){}const AT=function(t){var e,n=t,r=TT;return CT&&"undefined"!==typeof Proxy&&(e=new Set,n=new Proxy(t,{get:function(t,n){return NT&&e.add(n),t[n]}}),r=function(t,n){var r;PT[t]={global:Array.from(e),component:SN(SN({},null===(r=PT[t])||void 0===r?void 0:r.component),n)}}),{token:n,keys:e,flush:r}};function RT(t,e,n){var r;return"function"===typeof n?n(OT(e,null!==(r=e[t])&&void 0!==r?r:{})):null!==n&&void 0!==n?n:{}}var _T=function(){function t(){qN(this,t),wN(this,"map",new Map),wN(this,"objectIDMap",new WeakMap),wN(this,"nextID",0),wN(this,"lastAccessBeat",new Map),wN(this,"accessBeat",0)}return XN(t,[{key:"set",value:function(t,e){this.clear();var n=this.getCompositeKey(t);this.map.set(n,e),this.lastAccessBeat.set(n,Date.now())}},{key:"get",value:function(t){var e=this.getCompositeKey(t),n=this.map.get(e);return this.lastAccessBeat.set(e,Date.now()),this.accessBeat+=1,n}},{key:"getCompositeKey",value:function(t){var e=this;return t.map((function(t){return t&&"object"===pN(t)?"obj_".concat(e.getObjectID(t)):"".concat(pN(t),"_").concat(t)})).join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);var e=this.nextID;return this.objectIDMap.set(t,e),this.nextID+=1,e}},{key:"clear",value:function(){var t=this;if(this.accessBeat>1e4){var e=Date.now();this.lastAccessBeat.forEach((function(n,r){e-n>6e5&&(t.map.delete(r),t.lastAccessBeat.delete(r))})),this.accessBeat=0}}}]),t}(),LT=new _T;const IT=function(t,e){return KC.useMemo((function(){var n=LT.get(e);if(n)return n;var r=t();return LT.set(e,r),r}),e)};const DT=function(){return{}};const jT=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},zT=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),FT="5.20.5";function BT(t,e){(function(t){return"string"===typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"===typeof t&&-1!==t.indexOf("%")}(t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))}function $T(t){return Math.min(1,Math.max(0,t))}function VT(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function HT(t){return t<=1?"".concat(100*Number(t),"%"):t}function WT(t){return 1===t.length?"0"+t:String(t)}function GT(t,e,n){t=BT(t,255),e=BT(e,255),n=BT(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,a=0,s=(r+i)/2;if(r===i)a=0,o=0;else{var l=r-i;switch(a=s>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4}o/=6}return{h:o,s:a,l:s}}function UT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*n*(e-t):n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function qT(t,e,n){t=BT(t,255),e=BT(e,255),n=BT(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,a=r,s=r-i,l=0===r?0:s/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/s+(e<n?6:0);break;case e:o=(n-t)/s+2;break;case n:o=(t-e)/s+4}o/=6}return{h:o,s:l,v:a}}function YT(t,e,n,r){var i=[WT(Math.round(t).toString(16)),WT(Math.round(e).toString(16)),WT(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function XT(t){return Math.round(255*parseFloat(t)).toString(16)}function KT(t){return ZT(t)/255}function ZT(t){return parseInt(t,16)}var QT={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function JT(t){var e,n,r,i={r:0,g:0,b:0},o=1,a=null,s=null,l=null,c=!1,u=!1;return"string"===typeof t&&(t=function(t){if(t=t.trim().toLowerCase(),0===t.length)return!1;var e=!1;if(QT[t])t=QT[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};var n=rA.rgb.exec(t);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=rA.rgba.exec(t),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=rA.hsl.exec(t),n)return{h:n[1],s:n[2],l:n[3]};if(n=rA.hsla.exec(t),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=rA.hsv.exec(t),n)return{h:n[1],s:n[2],v:n[3]};if(n=rA.hsva.exec(t),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=rA.hex8.exec(t),n)return{r:ZT(n[1]),g:ZT(n[2]),b:ZT(n[3]),a:KT(n[4]),format:e?"name":"hex8"};if(n=rA.hex6.exec(t),n)return{r:ZT(n[1]),g:ZT(n[2]),b:ZT(n[3]),format:e?"name":"hex"};if(n=rA.hex4.exec(t),n)return{r:ZT(n[1]+n[1]),g:ZT(n[2]+n[2]),b:ZT(n[3]+n[3]),a:KT(n[4]+n[4]),format:e?"name":"hex8"};if(n=rA.hex3.exec(t),n)return{r:ZT(n[1]+n[1]),g:ZT(n[2]+n[2]),b:ZT(n[3]+n[3]),format:e?"name":"hex"};return!1}(t)),"object"===typeof t&&(iA(t.r)&&iA(t.g)&&iA(t.b)?(e=t.r,n=t.g,r=t.b,i={r:255*BT(e,255),g:255*BT(n,255),b:255*BT(r,255)},c=!0,u="%"===String(t.r).substr(-1)?"prgb":"rgb"):iA(t.h)&&iA(t.s)&&iA(t.v)?(a=HT(t.s),s=HT(t.v),i=function(t,e,n){t=6*BT(t,360),e=BT(e,100),n=BT(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6;return{r:255*[n,a,o,o,s,n][l],g:255*[s,n,n,a,o,o][l],b:255*[o,o,s,n,n,a][l]}}(t.h,a,s),c=!0,u="hsv"):iA(t.h)&&iA(t.s)&&iA(t.l)&&(a=HT(t.s),l=HT(t.l),i=function(t,e,n){var r,i,o;if(t=BT(t,360),e=BT(e,100),n=BT(n,100),0===e)i=n,o=n,r=n;else{var a=n<.5?n*(1+e):n+e-n*e,s=2*n-a;r=UT(s,a,t+1/3),i=UT(s,a,t),o=UT(s,a,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,a,l),c=!0,u="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(o=t.a)),o=VT(o),{ok:c,format:t.format||u,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:o}}var tA="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),eA="[\\s|\\(]+(".concat(tA,")[,|\\s]+(").concat(tA,")[,|\\s]+(").concat(tA,")\\s*\\)?"),nA="[\\s|\\(]+(".concat(tA,")[,|\\s]+(").concat(tA,")[,|\\s]+(").concat(tA,")[,|\\s]+(").concat(tA,")\\s*\\)?"),rA={CSS_UNIT:new RegExp(tA),rgb:new RegExp("rgb"+eA),rgba:new RegExp("rgba"+nA),hsl:new RegExp("hsl"+eA),hsla:new RegExp("hsla"+nA),hsv:new RegExp("hsv"+eA),hsva:new RegExp("hsva"+nA),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function iA(t){return Boolean(rA.CSS_UNIT.exec(String(t)))}var oA=2,aA=.16,sA=.05,lA=.05,cA=.15,uA=5,dA=4,hA=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function fA(t){var e=qT(t.r,t.g,t.b);return{h:360*e.h,s:e.s,v:e.v}}function pA(t){var e=t.r,n=t.g,r=t.b;return"#".concat(YT(e,n,r,!1))}function gA(t,e,n){var r;return(r=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-oA*e:Math.round(t.h)+oA*e:n?Math.round(t.h)+oA*e:Math.round(t.h)-oA*e)<0?r+=360:r>=360&&(r-=360),r}function mA(t,e,n){return 0===t.h&&0===t.s?t.s:((r=n?t.s-aA*e:e===dA?t.s+aA:t.s+sA*e)>1&&(r=1),n&&e===uA&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function vA(t,e,n){var r;return(r=n?t.v+lA*e:t.v-cA*e)>1&&(r=1),Number(r.toFixed(2))}function yA(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=JT(t),i=uA;i>0;i-=1){var o=fA(r),a=pA(JT({h:gA(o,i,!0),s:mA(o,i,!0),v:vA(o,i,!0)}));n.push(a)}n.push(pA(r));for(var s=1;s<=dA;s+=1){var l=fA(r),c=pA(JT({h:gA(l,s),s:mA(l,s),v:vA(l,s)}));n.push(c)}return"dark"===e.theme?hA.map((function(t){var r=t.index,i=t.opacity;return pA(function(t,e,n){var r=n/100;return{r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b}}(JT(e.backgroundColor||"#141414"),JT(n[r]),100*i))})):n}var bA={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},xA=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];xA.primary=xA[5];var wA=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];wA.primary=wA[5];var EA=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];EA.primary=EA[5];var SA=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];SA.primary=SA[5];var kA=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];kA.primary=kA[5];var MA=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];MA.primary=MA[5];var CA=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];CA.primary=CA[5];var NA=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];NA.primary=NA[5];var OA=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];OA.primary=OA[5];var PA=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];PA.primary=PA[5];var TA=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];TA.primary=TA[5];var AA=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];AA.primary=AA[5];var RA=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];RA.primary=RA[5];var _A={red:xA,volcano:wA,orange:EA,gold:SA,yellow:kA,lime:MA,green:CA,cyan:NA,blue:OA,geekblue:PA,purple:TA,magenta:AA,grey:RA},LA=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];LA.primary=LA[5];var IA=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];IA.primary=IA[5];var DA=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];DA.primary=DA[5];var jA=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];jA.primary=jA[5];var zA=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];zA.primary=zA[5];var FA=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];FA.primary=FA[5];var BA=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];BA.primary=BA[5];var $A=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];$A.primary=$A[5];var VA=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];VA.primary=VA[5];var HA=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];HA.primary=HA[5];var WA=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];WA.primary=WA[5];var GA=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];GA.primary=GA[5];var UA=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];UA.primary=UA[5];const qA={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},YA=Object.assign(Object.assign({},qA),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});var XA=function(){function t(e,n){var r;if(void 0===e&&(e=""),void 0===n&&(n={}),e instanceof t)return e;"number"===typeof e&&(e=function(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}(e)),this.originalInput=e;var i=JT(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},t.prototype.getLuminance=function(){var t=this.toRgb(),e=t.r/255,n=t.g/255,r=t.b/255;return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(t){return this.a=VT(t),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){return 0===this.toHsl().s},t.prototype.toHsv=function(){var t=qT(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}},t.prototype.toHsvString=function(){var t=qT(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1===this.a?"hsv(".concat(e,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(e,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var t=GT(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}},t.prototype.toHslString=function(){var t=GT(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1===this.a?"hsl(".concat(e,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(e,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(t){return void 0===t&&(t=!1),YT(this.r,this.g,this.b,t)},t.prototype.toHexString=function(t){return void 0===t&&(t=!1),"#"+this.toHex(t)},t.prototype.toHex8=function(t){return void 0===t&&(t=!1),function(t,e,n,r,i){var o=[WT(Math.round(t).toString(16)),WT(Math.round(e).toString(16)),WT(Math.round(n).toString(16)),WT(XT(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,t)},t.prototype.toHex8String=function(t){return void 0===t&&(t=!1),"#"+this.toHex8(t)},t.prototype.toHexShortString=function(t){return void 0===t&&(t=!1),1===this.a?this.toHexString(t):this.toHex8String(t)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(t,", ").concat(e,", ").concat(n,")"):"rgba(".concat(t,", ").concat(e,", ").concat(n,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var t=function(t){return"".concat(Math.round(100*BT(t,255)),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var t=function(t){return Math.round(100*BT(t,255))};return 1===this.a?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var t="#"+YT(this.r,this.g,this.b,!1),e=0,n=Object.entries(QT);e<n.length;e++){var r=n[e],i=r[0];if(t===r[1])return i}return!1},t.prototype.toString=function(t){var e=Boolean(t);t=null!==t&&void 0!==t?t:this.format;var n=!1,r=this.a<1&&this.a>=0;return e||!r||!t.startsWith("hex")&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this.a?this.toName():this.toRgbString()},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=$T(n.l),new t(n)},t.prototype.brighten=function(e){void 0===e&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),new t(n)},t.prototype.darken=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=$T(n.l),new t(n)},t.prototype.tint=function(t){return void 0===t&&(t=10),this.mix("white",t)},t.prototype.shade=function(t){return void 0===t&&(t=10),this.mix("black",t)},t.prototype.desaturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=$T(n.s),new t(n)},t.prototype.saturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=$T(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){void 0===n&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100;return new t({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},t.prototype.analogous=function(e,n){void 0===e&&(e=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(new t({h:r,s:i,v:o})),o=(o+s)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,a=1;a<e;a++)i.push(new t({h:(r+a*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();const KA=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}};const ZA=t=>{const{controlHeight:e}=t;return{controlHeightSM:.75*e,controlHeightXS:.5*e,controlHeightLG:1.25*e}};const QA=t=>{const e=function(t){const e=new Array(10).fill(null).map(((e,n)=>{const r=n-1,i=t*Math.pow(Math.E,r/5),o=n>1?Math.floor(i):Math.ceil(i);return 2*Math.floor(o/2)}));return e[1]=t,e.map((t=>{return{size:t,lineHeight:(e=t,(e+8)/e)};var e}))}(t),n=e.map((t=>t.size)),r=e.map((t=>t.lineHeight)),i=n[1],o=n[0],a=n[2],s=r[1],l=r[0],c=r[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:a,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:s,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(s*i),fontHeightLG:Math.round(c*a),fontHeightSM:Math.round(l*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};const JA=(t,e)=>new XA(t).setAlpha(e).toRgbString(),tR=(t,e)=>new XA(t).darken(e).toHexString(),eR=t=>{const e=yA(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},nR=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:JA(r,.88),colorTextSecondary:JA(r,.65),colorTextTertiary:JA(r,.45),colorTextQuaternary:JA(r,.25),colorFill:JA(r,.15),colorFillSecondary:JA(r,.06),colorFillTertiary:JA(r,.04),colorFillQuaternary:JA(r,.02),colorBgLayout:tR(n,4),colorBgContainer:tR(n,0),colorBgElevated:tR(n,0),colorBgSpotlight:JA(r,.85),colorBgBlur:"transparent",colorBorder:tR(n,15),colorBorderSecondary:tR(n,6)}};const rR=function(t){var e=Array.isArray(t)?t:[t];return uO.has(e)||uO.set(e,new cO(e)),uO.get(e)}((function(t){bA.pink=bA.magenta,_A.pink=_A.magenta;const e=Object.keys(qA).map((e=>{const n=t[e]===bA[e]?_A[e]:yA(t[e]);return new Array(10).fill(1).reduce(((t,r,i)=>(t[`${e}-${i+1}`]=n[i],t[`${e}${i+1}`]=n[i],t)),{})})).reduce(((t,e)=>t=Object.assign(Object.assign({},t),e)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),function(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:o,colorError:a,colorInfo:s,colorPrimary:l,colorBgBase:c,colorTextBase:u}=t,d=n(l),h=n(i),f=n(o),p=n(a),g=n(s),m=r(c,u),v=n(t.colorLink||t.colorInfo);return Object.assign(Object.assign({},m),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBgActive:p[3],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:g[1],colorInfoBgHover:g[2],colorInfoBorder:g[3],colorInfoBorderHover:g[4],colorInfoHover:g[4],colorInfo:g[6],colorInfoActive:g[7],colorInfoTextHover:g[8],colorInfoText:g[9],colorInfoTextActive:g[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new XA("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(t,{generateColorPalettes:eR,generateNeutralColorPalettes:nR})),QA(t.fontSize)),function(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}(t)),ZA(t)),function(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+2*e).toFixed(1)}s`,motionDurationSlow:`${(n+3*e).toFixed(1)}s`,lineWidthBold:i+1},KA(r))}(t))})),iR={token:YA,override:{override:YA},hashed:!0},oR=KC.createContext(iR);function aR(t){return t>=0&&t<=255}const sR=function(t,e){const{r:n,g:r,b:i,a:o}=new XA(t).toRgb();if(o<1)return t;const{r:a,g:s,b:l}=new XA(e).toRgb();for(let c=.01;c<=1;c+=.01){const t=Math.round((n-a*(1-c))/c),e=Math.round((r-s*(1-c))/c),o=Math.round((i-l*(1-c))/c);if(aR(t)&&aR(e)&&aR(o))return new XA({r:t,g:e,b:o,a:Math.round(100*c)/100}).toRgbString()}return new XA({r:n,g:r,b:i,a:1}).toRgbString()};var lR=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function cR(t){const{override:e}=t,n=lR(t,["override"]),r=Object.assign({},e);Object.keys(YA).forEach((t=>{delete r[t]}));const i=Object.assign(Object.assign({},n),r),o=1200,a=1600;if(!1===i.motion){const t="0s";i.motionDurationFast=t,i.motionDurationMid=t,i.motionDurationSlow=t}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:sR(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:sR(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:sR(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:4*i.lineWidth,lineWidth:i.lineWidth,controlOutlineWidth:2*i.lineWidth,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:sR(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:o,screenXLMin:o,screenXLMax:1599,screenXXL:a,screenXXLMin:a,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`\n      0 1px 2px -2px ${new XA("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new XA("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new XA("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var uR=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const dR={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},hR={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},fR={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},pR=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:i}=e,o=uR(e,["override"]);let a=Object.assign(Object.assign({},r),{override:i});return a=cR(a),o&&Object.entries(o).forEach((t=>{let[e,n]=t;const{theme:r}=n,i=uR(n,["theme"]);let o=i;r&&(o=pR(Object.assign(Object.assign({},a),i),{override:i},r)),a[e]=o})),a};function gR(){const{token:t,hashed:e,theme:n,override:r,cssVar:i}=KC.useContext(oR),o=`${FT}-${e||""}`,a=n||rR,[s,l,c]=FO(a,[YA,t],{salt:o,override:r,getComputedToken:pR,formatToken:cR,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:dR,ignore:hR,preserve:fR}});return[a,c,e?l:"",s,i]}const mR=(t,e)=>{const[n,r]=gR();return HP({theme:n,token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>null===e||void 0===e?void 0:e.nonce,layer:{name:"antd"}},(()=>[{[`.${t}`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[`.${t} .${t}-icon`]:{display:"block"}})}]))},{genStyleHooks:vR,genComponentStyleHook:yR,genSubStyleComponent:bR}=function(t){var e=t.useCSP,n=void 0===e?DT:e,r=t.useToken,i=t.usePrefix,o=t.getResetStyles,a=t.getCommonStyle,s=t.getCompUnitless;function l(t,e,s){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=Array.isArray(t)?t:[t,t],u=bN(c,1)[0],d=c.join("-");return function(t){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,h=r(),f=h.theme,p=h.realToken,g=h.hashId,m=h.token,v=h.cssVar,y=i(),b=y.rootPrefixCls,x=y.iconPrefixCls,w=n(),E=v?"css":"js",S=IT((function(){var t=new Set;return v&&Object.keys(l.unitless||{}).forEach((function(e){t.add(bO(e,v.prefix)),t.add(bO(e,lT(u,v.prefix)))})),sT(E,t)}),[E,u,null===v||void 0===v?void 0:v.prefix]),k=function(t){return"js"===t?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"max(".concat(e.map((function(t){return vO(t)})).join(","),")")},min:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"min(".concat(e.map((function(t){return vO(t)})).join(","),")")}}}(E),M=k.max,C=k.min,N={theme:f,token:m,hashId:g,nonce:function(){return w.nonce},clientOnly:l.clientOnly,layer:{name:"antd"},order:l.order||-999};return HP(SN(SN({},N),{},{clientOnly:!1,path:["Shared",b]}),(function(){return"function"===typeof o?o(m):[]})),[HP(SN(SN({},N),{},{path:[d,t,x]}),(function(){if(!1===l.injectStyle)return[];var n=AT(m),r=n.token,i=n.flush,o=RT(u,p,s),d=".".concat(t),h=MT(u,p,o,{deprecatedTokens:l.deprecatedTokens});v&&"object"===pN(o)&&Object.keys(o).forEach((function(t){o[t]="var(".concat(bO(t,lT(u,v.prefix)),")")}));var f=OT(r,{componentCls:d,prefixCls:t,iconCls:".".concat(x),antCls:".".concat(b),calc:S,max:M,min:C},v?o:h),y=e(f,{hashId:g,prefixCls:t,rootPrefixCls:b,iconPrefixCls:x});i(u,h);var w="function"===typeof a?a(f,t,c,l.resetFont):null;return[!1===l.resetStyle?null:w,y]})),g]}}return{genStyleHooks:function(t,e,n,i){var o=Array.isArray(t)?t[0]:t;function a(t){return"".concat(String(o)).concat(t.slice(0,1).toUpperCase()).concat(t.slice(1))}var c=(null===i||void 0===i?void 0:i.unitless)||{},u=SN(SN({},"function"===typeof s?s(t):{}),{},wN({},a("zIndexPopup"),!0));Object.keys(c).forEach((function(t){u[a(t)]=c[t]}));var d=SN(SN({},i),{},{unitless:u,prefixToken:a}),h=l(t,e,n,d),f=function(t,e,n){var i=n.unitless,o=n.injectStyle,a=void 0===o||o,s=n.prefixToken,l=n.ignore,c=function(o){var a=o.rootCls,c=o.cssVar,u=void 0===c?{}:c,d=r().realToken;return GP({path:[t],prefix:u.prefix,key:u.key,unitless:i,ignore:l,token:d,scope:a},(function(){var r=RT(t,d,e),i=MT(t,d,r,{deprecatedTokens:null===n||void 0===n?void 0:n.deprecatedTokens});return Object.keys(r).forEach((function(t){i[s(t)]=i[t],delete i[t]})),i})),null},u=function(e){var n=r().cssVar;return[function(r){return a&&n?KC.createElement(KC.Fragment,null,KC.createElement(c,{rootCls:e,cssVar:n,component:t}),r):r},null===n||void 0===n?void 0:n.key]};return u}(o,n,d);return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=bN(h(t,e),2)[1],r=bN(f(e),2);return[r[0],n,r[1]]}},genSubStyleComponent:function(t,e,n){var r=l(t,e,n,SN({resetStyle:!1,order:-998},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}));return function(t){var e=t.prefixCls,n=t.rootCls;return r(e,void 0===n?e:n),null}},genComponentStyleHook:l}}({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=(0,KC.useContext)(hN);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,i]=gR();return{theme:t,realToken:e,hashId:n,token:r,cssVar:i}},useCSP:()=>{const{csp:t,iconPrefixCls:e}=(0,KC.useContext)(hN);return mR(e,t),null!==t&&void 0!==t?t:{}},getResetStyles:t=>[{"&":zT(t)}],getCommonStyle:(t,e,n,r)=>{const i=`[class^="${e}"], [class*=" ${e}"]`,o=n?`.${n}`:i,a={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return!1!==r&&(s={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},s),a),{[i]:a})}},getCompUnitless:()=>dR}),xR=["wrap","nowrap","wrap-reverse"],wR=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],ER=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];const SR=function(t,e){return lN()(Object.assign(Object.assign(Object.assign({},((t,e)=>{const n=!0===e.wrap?"wrap":e.wrap;return{[`${t}-wrap-${n}`]:n&&xR.includes(n)}})(t,e)),((t,e)=>{const n={};return ER.forEach((r=>{n[`${t}-align-${r}`]=e.align===r})),n[`${t}-align-stretch`]=!e.align&&!!e.vertical,n})(t,e)),((t,e)=>{const n={};return wR.forEach((r=>{n[`${t}-justify-${r}`]=e.justify===r})),n})(t,e)))},kR=t=>{const{componentCls:e}=t;return{[e]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},MR=t=>{const{componentCls:e}=t;return{[e]:{"&-gap-small":{gap:t.flexGapSM},"&-gap-middle":{gap:t.flexGap},"&-gap-large":{gap:t.flexGapLG}}}},CR=t=>{const{componentCls:e}=t,n={};return xR.forEach((t=>{n[`${e}-wrap-${t}`]={flexWrap:t}})),n},NR=t=>{const{componentCls:e}=t,n={};return ER.forEach((t=>{n[`${e}-align-${t}`]={alignItems:t}})),n},OR=t=>{const{componentCls:e}=t,n={};return wR.forEach((t=>{n[`${e}-justify-${t}`]={justifyContent:t}})),n},PR=vR("Flex",(t=>{const{paddingXS:e,padding:n,paddingLG:r}=t,i=OT(t,{flexGapSM:e,flexGap:n,flexGapLG:r});return[kR(i),MR(i),CR(i),NR(i),OR(i)]}),(()=>({})),{resetStyle:!1});var TR=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const AR=KC.forwardRef(((t,e)=>{const{prefixCls:n,rootClassName:r,className:i,style:o,flex:a,gap:s,children:l,vertical:c=!1,component:u="div"}=t,d=TR(t,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:h,direction:f,getPrefixCls:p}=KC.useContext(hN),g=p("flex",n),[m,v,y]=PR(g),b=null!==c&&void 0!==c?c:null===h||void 0===h?void 0:h.vertical,x=lN()(i,r,null===h||void 0===h?void 0:h.className,g,v,y,SR(g,t),{[`${g}-rtl`]:"rtl"===f,[`${g}-gap-${s}`]:uN(s),[`${g}-vertical`]:b}),w=Object.assign(Object.assign({},null===h||void 0===h?void 0:h.style),o);return a&&(w.flex=a),s&&!uN(s)&&(w.gap=s),m(KC.createElement(u,Object.assign({ref:e,className:x,style:w},cN(d,["justify","wrap","align"])),l))}));const RR=AR;function _R(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return KC.Children.forEach(t,(function(t){(void 0!==t&&null!==t||e.keepEmpty)&&(Array.isArray(t)?n=n.concat(_R(t)):(0,fT.isFragment)(t)&&t.props?n=n.concat(_R(t.props.children,e)):n.push(t))})),n}var LR=n(7119);function IR(t){return t instanceof HTMLElement||t instanceof SVGElement}function DR(t){var e,n=function(t){return t&&"object"===pN(t)&&IR(t.nativeElement)?t.nativeElement:IR(t)?t:null}(t);return n||(t instanceof KC.Component?null===(e=LR.findDOMNode)||void 0===e?void 0:e.call(LR,t):null)}var jR=KC.createContext(null);var zR=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),FR="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,BR="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),$R="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(BR):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var VR=["top","right","bottom","left","width","height","size","weight"],HR="undefined"!==typeof MutationObserver,WR=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){$R(o)}function s(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=t}return s}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){FR&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),HR?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){FR&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;VR.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),GR=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},UR=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||BR},qR=JR(0,0,0,0);function YR(t){return parseFloat(t)||0}function XR(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+YR(t["border-"+n+"-width"])}),0)}function KR(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return qR;var r=UR(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=YR(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,s=YR(r.width),l=YR(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=XR(r,"left","right")+o),Math.round(l+a)!==n&&(l-=XR(r,"top","bottom")+a)),!function(t){return t===UR(t).document.documentElement}(t)){var c=Math.round(s+o)-e,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return JR(i.left,i.top,s,l)}var ZR="undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof UR(t).SVGGraphicsElement}:function(t){return t instanceof UR(t).SVGElement&&"function"===typeof t.getBBox};function QR(t){return FR?ZR(t)?function(t){var e=t.getBBox();return JR(0,0,e.width,e.height)}(t):KR(t):qR}function JR(t,e,n,r){return{x:t,y:e,width:n,height:r}}var t_=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=JR(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=QR(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),e_=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return GR(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);GR(this,{target:t,contentRect:n})},n_=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new zR,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof UR(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new t_(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof UR(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new e_(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),r_="undefined"!==typeof WeakMap?new WeakMap:new zR,i_=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=WR.getInstance(),r=new n_(e,n,this);r_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){i_.prototype[t]=function(){var e;return(e=r_.get(this))[t].apply(e,arguments)}}));const o_="undefined"!==typeof BR.ResizeObserver?BR.ResizeObserver:i_;var a_=new Map;var s_=new o_((function(t){t.forEach((function(t){var e,n=t.target;null===(e=a_.get(n))||void 0===e||e.forEach((function(t){return t(n)}))}))}));var l_=function(t){ZP(n,t);var e=tT(n);function n(){return qN(this,n),e.apply(this,arguments)}return XN(n,[{key:"render",value:function(){return this.props.children}}]),n}(KC.Component);function c_(t,e){var n=t.children,r=t.disabled,i=KC.useRef(null),o=KC.useRef(null),a=KC.useContext(jR),s="function"===typeof n,l=s?n(i):n,c=KC.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!s&&KC.isValidElement(l)&&vT(l),d=u?l.ref:null,h=mT(d,i),f=function(){var t;return DR(i.current)||(i.current&&"object"===pN(i.current)?DR(null===(t=i.current)||void 0===t?void 0:t.nativeElement):null)||DR(o.current)};KC.useImperativeHandle(e,(function(){return f()}));var p=KC.useRef(t);p.current=t;var g=KC.useCallback((function(t){var e=p.current,n=e.onResize,r=e.data,i=t.getBoundingClientRect(),o=i.width,s=i.height,l=t.offsetWidth,u=t.offsetHeight,d=Math.floor(o),h=Math.floor(s);if(c.current.width!==d||c.current.height!==h||c.current.offsetWidth!==l||c.current.offsetHeight!==u){var f={width:d,height:h,offsetWidth:l,offsetHeight:u};c.current=f;var g=l===Math.round(o)?o:l,m=u===Math.round(s)?s:u,v=SN(SN({},f),{},{offsetWidth:g,offsetHeight:m});null===a||void 0===a||a(v,t,r),n&&Promise.resolve().then((function(){n(v,t)}))}}),[]);return KC.useEffect((function(){var t,e,n=f();return n&&!r&&(t=n,e=g,a_.has(t)||(a_.set(t,new Set),s_.observe(t)),a_.get(t).add(e)),function(){return function(t,e){a_.has(t)&&(a_.get(t).delete(e),a_.get(t).size||(s_.unobserve(t),a_.delete(t)))}(n,g)}}),[i.current,r]),KC.createElement(l_,{ref:o},u?KC.cloneElement(l,{ref:h}):l)}const u_=KC.forwardRef(c_);function d_(t,e){var n=t.children;return("function"===typeof n?[n]:_R(n)).map((function(n,r){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return KC.createElement(u_,BO({},t,{key:i,ref:0===r?e:void 0}),n)}))}var h_=KC.forwardRef(d_);h_.Collection=function(t){var e=t.children,n=t.onBatchResize,r=KC.useRef(0),i=KC.useRef([]),o=KC.useContext(jR),a=KC.useCallback((function(t,e,a){r.current+=1;var s=r.current;i.current.push({size:t,element:e,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(i.current),i.current=[])})),null===o||void 0===o||o(t,e,a)}),[n,o]);return KC.createElement(jR.Provider,{value:a},e)};const f_=h_,p_=["xxl","xl","lg","md","sm","xs"],g_=t=>({xs:`(max-width: ${t.screenXSMax}px)`,sm:`(min-width: ${t.screenSM}px)`,md:`(min-width: ${t.screenMD}px)`,lg:`(min-width: ${t.screenLG}px)`,xl:`(min-width: ${t.screenXL}px)`,xxl:`(min-width: ${t.screenXXL}px)`}),m_=t=>{const e=t,n=[].concat(p_).reverse();return n.forEach(((t,r)=>{const i=t.toUpperCase(),o=`screen${i}Min`,a=`screen${i}`;if(!(e[o]<=e[a]))throw new Error(`${o}<=${a} fails : !(${e[o]}<=${e[a]})`);if(r<n.length-1){const t=`screen${i}Max`;if(!(e[a]<=e[t]))throw new Error(`${a}<=${t} fails : !(${e[a]}<=${e[t]})`);const o=`screen${n[r+1].toUpperCase()}Min`;if(!(e[t]<=e[o]))throw new Error(`${t}<=${o} fails : !(${e[t]}<=${e[o]})`)}})),t};const v_=t=>{const[,,,,e]=gR();return e?`${t}-css-var`:""},y_=KC.createContext(void 0),b_=y_,x_=t=>{const e=KC.useContext(b_);return KC.useMemo((()=>t?"string"===typeof t?null!==t&&void 0!==t?t:e:t instanceof Function?t(e):e:e),[t,e])};const w_=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=(0,KC.useRef)({}),n=function(){const[,t]=KC.useReducer((t=>t+1),0);return t}(),r=function(){const[,t]=gR(),e=g_(m_(t));return KC.useMemo((()=>{const t=new Map;let n=-1,r={};return{matchHandlers:{},dispatch:e=>(r=e,t.forEach((t=>t(r))),t.size>=1),subscribe(e){return t.size||this.register(),n+=1,t.set(n,e),e(r),n},unsubscribe(e){t.delete(e),t.size||this.unregister()},unregister(){Object.keys(e).forEach((t=>{const n=e[t],r=this.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),t.clear()},register(){Object.keys(e).forEach((t=>{const n=e[t],i=e=>{let{matches:n}=e;this.dispatch(Object.assign(Object.assign({},r),{[t]:n}))},o=window.matchMedia(n);o.addListener(i),this.matchHandlers[n]={mql:o,listener:i},i(o)}))},responsiveMap:e}}),[t])}();return MO((()=>{const i=r.subscribe((r=>{e.current=r,t&&n()}));return()=>r.unsubscribe(i)}),[]),e.current},E_=KC.createContext({}),S_=t=>{const{antCls:e,componentCls:n,iconCls:r,avatarBg:i,avatarColor:o,containerSize:a,containerSizeLG:s,containerSizeSM:l,textFontSize:c,textFontSizeLG:u,textFontSizeSM:d,borderRadius:h,borderRadiusLG:f,borderRadiusSM:p,lineWidth:g,lineType:m}=t,v=(t,e,i)=>({width:t,height:t,borderRadius:"50%",[`&${n}-square`]:{borderRadius:i},[`&${n}-icon`]:{fontSize:e,[`> ${r}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},jT(t)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:o,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:i,border:`${vO(g)} ${m} transparent`,"&-image":{background:"transparent"},[`${e}-image-img`]:{display:"block"}}),v(a,c,h)),{"&-lg":Object.assign({},v(s,u,f)),"&-sm":Object.assign({},v(l,d,p)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},k_=t=>{const{componentCls:e,groupBorderColor:n,groupOverlapping:r,groupSpace:i}=t;return{[`${e}-group`]:{display:"inline-flex",[e]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:r}},[`${e}-group-popover`]:{[`${e} + ${e}`]:{marginInlineStart:i}}}},M_=vR("Avatar",(t=>{const{colorTextLightSolid:e,colorTextPlaceholder:n}=t,r=OT(t,{avatarBg:n,avatarColor:e});return[S_(r),k_(r)]}),(t=>{const{controlHeight:e,controlHeightLG:n,controlHeightSM:r,fontSize:i,fontSizeLG:o,fontSizeXL:a,fontSizeHeading3:s,marginXS:l,marginXXS:c,colorBorderBg:u}=t;return{containerSize:e,containerSizeLG:n,containerSizeSM:r,textFontSize:Math.round((o+a)/2),textFontSizeLG:s,textFontSizeSM:i,groupSpace:c,groupOverlapping:-l,groupBorderColor:u}}));var C_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const N_=(t,e)=>{const[n,r]=KC.useState(1),[i,o]=KC.useState(!1),[a,s]=KC.useState(!0),l=KC.useRef(null),c=KC.useRef(null),u=gT(e,l),{getPrefixCls:d,avatar:h}=KC.useContext(hN),f=KC.useContext(E_),p=()=>{if(!c.current||!l.current)return;const e=c.current.offsetWidth,n=l.current.offsetWidth;if(0!==e&&0!==n){const{gap:i=4}=t;2*i<n&&r(n-2*i<e?(n-2*i)/e:1)}};KC.useEffect((()=>{o(!0)}),[]),KC.useEffect((()=>{s(!0),r(1)}),[t.src]),KC.useEffect(p,[t.gap]);const g=()=>{const{onError:e}=t;!1!==(null===e||void 0===e?void 0:e())&&s(!1)},{prefixCls:m,shape:v,size:y,src:b,srcSet:x,icon:w,className:E,rootClassName:S,alt:k,draggable:M,children:C,crossOrigin:N}=t,O=C_(t,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),P=x_((t=>{var e,n;return null!==(n=null!==(e=null!==y&&void 0!==y?y:null===f||void 0===f?void 0:f.size)&&void 0!==e?e:t)&&void 0!==n?n:"default"})),T=Object.keys("object"===typeof P&&P||{}).some((t=>["xs","sm","md","lg","xl","xxl"].includes(t))),A=w_(T),R=KC.useMemo((()=>{if("object"!==typeof P)return{};const t=p_.find((t=>A[t])),e=P[t];return e?{width:e,height:e,fontSize:e&&(w||C)?e/2:18}:{}}),[A,P]);const _=d("avatar",m),L=v_(_),[I,D,j]=M_(_,L),z=lN()({[`${_}-lg`]:"large"===P,[`${_}-sm`]:"small"===P}),F=KC.isValidElement(b),B=v||(null===f||void 0===f?void 0:f.shape)||"circle",$=lN()(_,z,null===h||void 0===h?void 0:h.className,`${_}-${B}`,{[`${_}-image`]:F||b&&a,[`${_}-icon`]:!!w},j,L,E,S,D),V="number"===typeof P?{width:P,height:P,fontSize:w?P/2:18}:{};let H;if("string"===typeof b&&a)H=KC.createElement("img",{src:b,draggable:M,srcSet:x,onError:g,alt:k,crossOrigin:N});else if(F)H=b;else if(w)H=w;else if(i||1!==n){const t=`scale(${n})`,e={msTransform:t,WebkitTransform:t,transform:t};H=KC.createElement(f_,{onResize:p},KC.createElement("span",{className:`${_}-string`,ref:c,style:Object.assign({},e)},C))}else H=KC.createElement("span",{className:`${_}-string`,style:{opacity:0},ref:c},C);return delete O.onError,delete O.gap,I(KC.createElement("span",Object.assign({},O,{style:Object.assign(Object.assign(Object.assign(Object.assign({},V),R),null===h||void 0===h?void 0:h.style),O.style),className:$,ref:u}),H))};const O_=KC.forwardRef(N_);function P_(t,e){return((t,e,n)=>KC.isValidElement(t)?KC.cloneElement(t,"function"===typeof n?n(t.props||{}):n):e)(t,t,e)}var T_={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var e=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||e>=T_.F1&&e<=T_.F12)return!1;switch(e){case T_.ALT:case T_.CAPS_LOCK:case T_.CONTEXT_MENU:case T_.CTRL:case T_.DOWN:case T_.END:case T_.ESC:case T_.HOME:case T_.INSERT:case T_.LEFT:case T_.MAC_FF_META:case T_.META:case T_.NUMLOCK:case T_.NUM_CENTER:case T_.PAGE_DOWN:case T_.PAGE_UP:case T_.PAUSE:case T_.PRINT_SCREEN:case T_.RIGHT:case T_.SHIFT:case T_.UP:case T_.WIN_KEY:case T_.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=T_.ZERO&&t<=T_.NINE)return!0;if(t>=T_.NUM_ZERO&&t<=T_.NUM_MULTIPLY)return!0;if(t>=T_.A&&t<=T_.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===t)return!0;switch(t){case T_.SPACE:case T_.QUESTION_MARK:case T_.NUM_PLUS:case T_.NUM_MINUS:case T_.NUM_PERIOD:case T_.NUM_DIVISION:case T_.SEMICOLON:case T_.DASH:case T_.EQUALS:case T_.COMMA:case T_.PERIOD:case T_.SLASH:case T_.APOSTROPHE:case T_.SINGLE_QUOTE:case T_.OPEN_SQUARE_BRACKET:case T_.BACKSLASH:case T_.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const A_=T_,R_=t=>t?"function"===typeof t?t():t:null,__=(t,e,n)=>void 0!==n?n:`${t}-${e}`;function L_(t){var e=t.children,n=t.prefixCls,r=t.id,i=t.overlayInnerStyle,o=t.className,a=t.style;return KC.createElement("div",{className:lN()("".concat(n,"-content"),o),style:a},KC.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},"function"===typeof e?e():e))}function I_(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}const D_=KC.createContext(null);var j_=[];function z_(t){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=e;var r,i,o=n.style;if(o.position="absolute",o.left="0",o.top="0",o.width="100px",o.height="100px",o.overflow="scroll",t){var a=getComputedStyle(t);o.scrollbarColor=a.scrollbarColor,o.scrollbarWidth=a.scrollbarWidth;var s=getComputedStyle(t,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var u=l?"width: ".concat(s.width,";"):"",d=c?"height: ".concat(s.height,";"):"";zN("\n#".concat(e,"::-webkit-scrollbar {\n").concat(u,"\n").concat(d,"\n}"),e)}catch(p){console.error(p),r=l,i=c}}document.body.appendChild(n);var h=t&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,f=t&&i&&!isNaN(i)?i:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),jN(e),{width:h,height:f}}var F_="rc-util-locker-".concat(Date.now()),B_=0;function $_(t){var e=!!t,n=bN(KC.useState((function(){return B_+=1,"".concat(F_,"_").concat(B_)})),1)[0];MO((function(){if(e){var t=(i=document.body,"undefined"!==typeof document&&i&&i instanceof Element?z_(i):{width:0,height:0}).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;zN("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(t,"px);"):"","\n}"),n)}else jN(n);var i;return function(){jN(n)}}),[e,n])}var V_=!1;var H_=function(t){return!1!==t&&(NN()&&t?"string"===typeof t?document.querySelector(t):"function"===typeof t?t():t:null)},W_=KC.forwardRef((function(t,e){var n=t.open,r=t.autoLock,i=t.getContainer,o=(t.debug,t.autoDestroy),a=void 0===o||o,s=t.children,l=bN(KC.useState(n),2),c=l[0],u=l[1],d=c||n;KC.useEffect((function(){(a||n)&&u(n)}),[n,a]);var h=bN(KC.useState((function(){return H_(i)})),2),f=h[0],p=h[1];KC.useEffect((function(){var t=H_(i);p(null!==t&&void 0!==t?t:null)}));var g=function(t){var e=bN(KC.useState((function(){return NN()?document.createElement("div"):null})),1)[0],n=KC.useRef(!1),r=KC.useContext(D_),i=bN(KC.useState(j_),2),o=i[0],a=i[1],s=r||(n.current?void 0:function(t){a((function(e){return[t].concat(MN(e))}))});function l(){e.parentElement||document.body.appendChild(e),n.current=!0}function c(){var t;null===(t=e.parentElement)||void 0===t||t.removeChild(e),n.current=!1}return MO((function(){return t?r?r(l):l():c(),c}),[t]),MO((function(){o.length&&(o.forEach((function(t){return t()})),a(j_))}),[o]),[e,s]}(d&&!f),m=bN(g,2),v=m[0],y=m[1],b=null!==f&&void 0!==f?f:v;$_(r&&n&&NN()&&(b===v||b===document.body));var x=null;s&&vT(s)&&e&&(x=s.ref);var w=mT(x,e);if(!d||!NN()||void 0===f)return null;var E,S=!1===b||("boolean"===typeof E&&(V_=E),V_),k=s;return e&&(k=KC.cloneElement(s,{ref:w})),KC.createElement(D_.Provider,{value:y},S?k:(0,LR.createPortal)(k,b))}));const G_=W_;function U_(t){var e;return null===t||void 0===t||null===(e=t.getRootNode)||void 0===e?void 0:e.call(t)}function q_(t){return function(t){return U_(t)instanceof ShadowRoot}(t)?U_(t):null}var Y_=0;var X_=SN({},ZC).useId;const K_=X_?function(t){var e=X_();return t||e}:function(t){var e=bN(KC.useState("ssr-id"),2),n=e[0],r=e[1];return KC.useEffect((function(){var t=Y_;Y_+=1,r("rc_unique_".concat(t))}),[]),t||n};var Z_=KC.createContext({});var Q_=function(t){ZP(n,t);var e=tT(n);function n(){return qN(this,n),e.apply(this,arguments)}return XN(n,[{key:"render",value:function(){return this.props.children}}]),n}(KC.Component);const J_=Q_;var tL="none",eL="appear",nL="enter",rL="leave",iL="none",oL="prepare",aL="start",sL="active",lL="end",cL="prepared";function uL(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}var dL=function(t,e){var n={animationend:uL("Animation","AnimationEnd"),transitionend:uL("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}(NN(),"undefined"!==typeof window?window:{}),hL={};if(NN()){var fL=document.createElement("div");hL=fL.style}var pL={};function gL(t){if(pL[t])return pL[t];var e=dL[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in hL)return pL[t]=e[o],pL[t]}return""}var mL=gL("animationend"),vL=gL("transitionend"),yL=!(!mL||!vL),bL=mL||"animationend",xL=vL||"transitionend";function wL(t,e){if(!t)return null;if("object"===pN(t)){var n=e.replace(/-\w/g,(function(t){return t[1].toUpperCase()}));return t[n]}return"".concat(t,"-").concat(e)}const EL=function(t){var e=(0,KC.useRef)();function n(e){e&&(e.removeEventListener(xL,t),e.removeEventListener(bL,t))}return KC.useEffect((function(){return function(){n(e.current)}}),[]),[function(r){e.current&&e.current!==r&&n(e.current),r&&r!==e.current&&(r.addEventListener(xL,t),r.addEventListener(bL,t),e.current=r)},n]};const SL=NN()?KC.useLayoutEffect:KC.useEffect;var kL=function(t){return+setTimeout(t,16)},ML=function(t){return clearTimeout(t)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(kL=function(t){return window.requestAnimationFrame(t)},ML=function(t){return window.cancelAnimationFrame(t)});var CL=0,NL=new Map;function OL(t){NL.delete(t)}var PL=function(t){var e=CL+=1;return function n(r){if(0===r)OL(e),t();else{var i=kL((function(){n(r-1)}));NL.set(e,i)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),e};PL.cancel=function(t){var e=NL.get(t);return OL(t),ML(e)};const TL=PL;var AL=[oL,aL,sL,lL],RL=[oL,cL],_L=!1,LL=!0;function IL(t){return t===sL||t===lL}const DL=function(t,e,n){var r=bN(uT(iL),2),i=r[0],o=r[1],a=function(){var t=KC.useRef(null);function e(){TL.cancel(t.current)}return KC.useEffect((function(){return function(){e()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;e();var o=TL((function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)}));t.current=o},e]}(),s=bN(a,2),l=s[0],c=s[1];var u=e?RL:AL;return SL((function(){if(i!==iL&&i!==lL){var t=u.indexOf(i),e=u[t+1],r=n(i);r===_L?o(e,!0):e&&l((function(t){function n(){t.isCanceled()||o(e,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[t,i]),KC.useEffect((function(){return function(){c()}}),[]),[function(){o(oL,!0)},i]};function jL(t,e,n,r){var i=r.motionEnter,o=void 0===i||i,a=r.motionAppear,s=void 0===a||a,l=r.motionLeave,c=void 0===l||l,u=r.motionDeadline,d=r.motionLeaveImmediately,h=r.onAppearPrepare,f=r.onEnterPrepare,p=r.onLeavePrepare,g=r.onAppearStart,m=r.onEnterStart,v=r.onLeaveStart,y=r.onAppearActive,b=r.onEnterActive,x=r.onLeaveActive,w=r.onAppearEnd,E=r.onEnterEnd,S=r.onLeaveEnd,k=r.onVisibleChanged,M=bN(uT(),2),C=M[0],N=M[1],O=function(t){var e=KC.useReducer((function(t){return t+1}),0),n=bN(e,2)[1],r=KC.useRef(t);return[cT((function(){return r.current})),cT((function(t){r.current="function"===typeof t?t(r.current):t,n()}))]}(tL),P=bN(O,2),T=P[0],A=P[1],R=bN(uT(null),2),_=R[0],L=R[1],I=T(),D=(0,KC.useRef)(!1),j=(0,KC.useRef)(null);function z(){return n()}var F=(0,KC.useRef)(!1);function B(){A(tL),L(null,!0)}var $=cT((function(t){var e=T();if(e!==tL){var n=z();if(!t||t.deadline||t.target===n){var r,i=F.current;e===eL&&i?r=null===w||void 0===w?void 0:w(n,t):e===nL&&i?r=null===E||void 0===E?void 0:E(n,t):e===rL&&i&&(r=null===S||void 0===S?void 0:S(n,t)),i&&!1!==r&&B()}}})),V=bN(EL($),1)[0],H=function(t){switch(t){case eL:return wN(wN(wN({},oL,h),aL,g),sL,y);case nL:return wN(wN(wN({},oL,f),aL,m),sL,b);case rL:return wN(wN(wN({},oL,p),aL,v),sL,x);default:return{}}},W=KC.useMemo((function(){return H(I)}),[I]),G=bN(DL(I,!t,(function(t){if(t===oL){var e=W[oL];return e?e(z()):_L}var n;q in W&&L((null===(n=W[q])||void 0===n?void 0:n.call(W,z(),null))||null);return q===sL&&I!==tL&&(V(z()),u>0&&(clearTimeout(j.current),j.current=setTimeout((function(){$({deadline:!0})}),u))),q===cL&&B(),LL})),2),U=G[0],q=G[1],Y=IL(q);F.current=Y,SL((function(){N(e);var n,r=D.current;D.current=!0,!r&&e&&s&&(n=eL),r&&e&&o&&(n=nL),(r&&!e&&c||!r&&d&&!e&&c)&&(n=rL);var i=H(n);n&&(t||i[oL])?(A(n),U()):A(tL)}),[e]),(0,KC.useEffect)((function(){(I===eL&&!s||I===nL&&!o||I===rL&&!c)&&A(tL)}),[s,o,c]),(0,KC.useEffect)((function(){return function(){D.current=!1,clearTimeout(j.current)}}),[]);var X=KC.useRef(!1);(0,KC.useEffect)((function(){C&&(X.current=!0),void 0!==C&&I===tL&&((X.current||C)&&(null===k||void 0===k||k(C)),X.current=!0)}),[C,I]);var K=_;return W[oL]&&q===aL&&(K=SN({transition:"none"},K)),[I,q,K,null!==C&&void 0!==C?C:e]}const zL=function(t){var e=t;"object"===pN(t)&&(e=t.transitionSupport);var n=KC.forwardRef((function(t,n){var r=t.visible,i=void 0===r||r,o=t.removeOnLeave,a=void 0===o||o,s=t.forceRender,l=t.children,c=t.motionName,u=t.leavedClassName,d=t.eventProps,h=function(t,n){return!(!t.motionName||!e||!1===n)}(t,KC.useContext(Z_).motion),f=(0,KC.useRef)(),p=(0,KC.useRef)();var g=bN(jL(h,i,(function(){try{return f.current instanceof HTMLElement?f.current:DR(p.current)}catch(t){return null}}),t),4),m=g[0],v=g[1],y=g[2],b=g[3],x=KC.useRef(b);b&&(x.current=!0);var w,E=KC.useCallback((function(t){f.current=t,pT(n,t)}),[n]),S=SN(SN({},d),{},{visible:i});if(l)if(m===tL)w=b?l(SN({},S),E):!a&&x.current&&u?l(SN(SN({},S),{},{className:u}),E):s||!a&&!u?l(SN(SN({},S),{},{style:{display:"none"}}),E):null;else{var k;v===oL?k="prepare":IL(v)?k="active":v===aL&&(k="start");var M=wL(c,"".concat(m,"-").concat(k));w=l(SN(SN({},S),{},{className:lN()(wL(c,m),wN(wN({},M,M&&k),c,"string"===typeof c)),style:y}),E)}else w=null;KC.isValidElement(w)&&vT(w)&&(w.ref||(w=KC.cloneElement(w,{ref:E})));return KC.createElement(J_,{ref:p},w)}));return n.displayName="CSSMotion",n}(yL);var FL="add",BL="keep",$L="remove",VL="removed";function HL(t){var e;return SN(SN({},e=t&&"object"===pN(t)&&"key"in t?t:{key:t}),{},{key:String(e.key)})}function WL(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(HL)}var GL=["component","children","onVisibleChanged","onAllRemoved"],UL=["status"],qL=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zL,e=function(e){ZP(r,e);var n=tT(r);function r(){var t;qN(this,r);for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return wN(XP(t=n.call.apply(n,[this].concat(i))),"state",{keyEntities:[]}),wN(XP(t),"removeKey",(function(e){var n=t.state.keyEntities.map((function(t){return t.key!==e?t:SN(SN({},t),{},{status:VL})}));return t.setState({keyEntities:n}),n.filter((function(t){return t.status!==VL})).length})),t}return XN(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,o=r.children,a=r.onVisibleChanged,s=r.onAllRemoved,l=I_(r,GL),c=i||KC.Fragment,u={};return qL.forEach((function(t){u[t]=l[t],delete l[t]})),delete l.keys,KC.createElement(c,l,n.map((function(n,r){var i=n.status,l=I_(n,UL),c=i===FL||i===BL;return KC.createElement(t,BO({},u,{key:l.key,visible:c,eventProps:l,onVisibleChanged:function(t){(null===a||void 0===a||a(t,{key:l.key}),t)||0===e.removeKey(l.key)&&s&&s()}}),(function(t,e){return o(SN(SN({},t),{},{index:r}),e)}))})))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.keys,r=e.keyEntities,i=WL(n),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=e.length,o=WL(t),a=WL(e);o.forEach((function(t){for(var e=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===t.key){r<o&&(n=n.concat(a.slice(r,o).map((function(t){return SN(SN({},t),{},{status:FL})}))),r=o),n.push(SN(SN({},s),{},{status:BL})),r+=1,e=!0;break}}e||n.push(SN(SN({},t),{},{status:$L}))})),r<i&&(n=n.concat(a.slice(r).map((function(t){return SN(SN({},t),{},{status:FL})}))));var s={};return n.forEach((function(t){var e=t.key;s[e]=(s[e]||0)+1})),Object.keys(s).filter((function(t){return s[t]>1})).forEach((function(t){(n=n.filter((function(e){var n=e.key,r=e.status;return n!==t||r!==$L}))).forEach((function(e){e.key===t&&(e.status=BL)}))})),n}(r,i);return{keyEntities:o.filter((function(t){var e=r.find((function(e){var n=e.key;return t.key===n}));return!e||e.status!==VL||t.status!==$L}))}}}]),r}(KC.Component);wN(e,"defaultProps",{component:"div"})}(yL);const YL=zL;function XL(t){var e=t.prefixCls,n=t.align,r=t.arrow,i=t.arrowPos,o=r||{},a=o.className,s=o.content,l=i.x,c=void 0===l?0:l,u=i.y,d=void 0===u?0:u,h=KC.useRef();if(!n||!n.points)return null;var f={position:"absolute"};if(!1!==n.autoArrow){var p=n.points[0],g=n.points[1],m=p[0],v=p[1],y=g[0],b=g[1];m!==y&&["t","b"].includes(m)?"t"===m?f.top=0:f.bottom=0:f.top=d,v!==b&&["l","r"].includes(v)?"l"===v?f.left=0:f.right=0:f.left=c}return KC.createElement("div",{ref:h,className:lN()("".concat(e,"-arrow"),a),style:f},s)}function KL(t){var e=t.prefixCls,n=t.open,r=t.zIndex,i=t.mask,o=t.motion;return i?KC.createElement(YL,BO({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(t){var n=t.className;return KC.createElement("div",{style:{zIndex:r},className:lN()("".concat(e,"-mask"),n)})})):null}var ZL=KC.memo((function(t){return t.children}),(function(t,e){return e.cache}));const QL=ZL;var JL=KC.forwardRef((function(t,e){var n=t.popup,r=t.className,i=t.prefixCls,o=t.style,a=t.target,s=t.onVisibleChanged,l=t.open,c=t.keepDom,u=t.fresh,d=t.onClick,h=t.mask,f=t.arrow,p=t.arrowPos,g=t.align,m=t.motion,v=t.maskMotion,y=t.forceRender,b=t.getPopupContainer,x=t.autoDestroy,w=t.portal,E=t.zIndex,S=t.onMouseEnter,k=t.onMouseLeave,M=t.onPointerEnter,C=t.ready,N=t.offsetX,O=t.offsetY,P=t.offsetR,T=t.offsetB,A=t.onAlign,R=t.onPrepare,_=t.stretch,L=t.targetWidth,I=t.targetHeight,D="function"===typeof n?n():n,j=l||c,z=(null===b||void 0===b?void 0:b.length)>0,F=bN(KC.useState(!b||!z),2),B=F[0],$=F[1];if(MO((function(){!B&&z&&a&&$(!0)}),[B,z,a]),!B)return null;var V="auto",H={left:"-1000vw",top:"-1000vh",right:V,bottom:V};if(C||!l){var W,G=g.points,U=g.dynamicInset||(null===(W=g._experimental)||void 0===W?void 0:W.dynamicInset),q=U&&"r"===G[0][1],Y=U&&"b"===G[0][0];q?(H.right=P,H.left=V):(H.left=N,H.right=V),Y?(H.bottom=T,H.top=V):(H.top=O,H.bottom=V)}var X={};return _&&(_.includes("height")&&I?X.height=I:_.includes("minHeight")&&I&&(X.minHeight=I),_.includes("width")&&L?X.width=L:_.includes("minWidth")&&L&&(X.minWidth=L)),l||(X.pointerEvents="none"),KC.createElement(w,{open:y||j,getContainer:b&&function(){return b(a)},autoDestroy:x},KC.createElement(KL,{prefixCls:i,open:l,zIndex:E,mask:h,motion:v}),KC.createElement(f_,{onResize:A,disabled:!l},(function(t){return KC.createElement(YL,BO({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:y,leavedClassName:"".concat(i,"-hidden")},m,{onAppearPrepare:R,onEnterPrepare:R,visible:l,onVisibleChanged:function(t){var e;null===m||void 0===m||null===(e=m.onVisibleChanged)||void 0===e||e.call(m,t),s(t)}}),(function(n,a){var s=n.className,c=n.style,h=lN()(i,s,r);return KC.createElement("div",{ref:gT(t,e,a),className:h,style:SN(SN(SN(SN({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},H),X),c),{},{boxSizing:"border-box",zIndex:E},o),onMouseEnter:S,onMouseLeave:k,onPointerEnter:M,onClick:d},f&&KC.createElement(XL,{prefixCls:i,arrow:f,arrowPos:p,align:g}),KC.createElement(QL,{cache:!l&&!u},D))}))})))}));const tI=JL;var eI=KC.forwardRef((function(t,e){var n=t.children,r=t.getTriggerDOMNode,i=vT(n),o=KC.useCallback((function(t){pT(e,r?r(t):t)}),[r]),a=mT(o,n.ref);return i?KC.cloneElement(n,{ref:a}):n}));const nI=eI;const rI=KC.createContext(null);function iI(t){return t?Array.isArray(t)?t:[t]:[]}const oI=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}}return!1};function aI(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function sI(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function lI(t){return t.ownerDocument.defaultView}function cI(t){for(var e=[],n=null===t||void 0===t?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=lI(n).getComputedStyle(n);[i.overflowX,i.overflowY,i.overflow].some((function(t){return r.includes(t)}))&&e.push(n),n=n.parentElement}return e}function uI(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(t)?e:t}function dI(t){return uI(parseFloat(t),0)}function hI(t,e){var n=SN({},t);return(e||[]).forEach((function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var e=lI(t).getComputedStyle(t),r=e.overflow,i=e.overflowClipMargin,o=e.borderTopWidth,a=e.borderBottomWidth,s=e.borderLeftWidth,l=e.borderRightWidth,c=t.getBoundingClientRect(),u=t.offsetHeight,d=t.clientHeight,h=t.offsetWidth,f=t.clientWidth,p=dI(o),g=dI(a),m=dI(s),v=dI(l),y=uI(Math.round(c.width/h*1e3)/1e3),b=uI(Math.round(c.height/u*1e3)/1e3),x=(h-f-m-v)*y,w=(u-d-p-g)*b,E=p*b,S=g*b,k=m*y,M=v*y,C=0,N=0;if("clip"===r){var O=dI(i);C=O*y,N=O*b}var P=c.x+k-C,T=c.y+E-N,A=P+c.width+2*C-k-M-x,R=T+c.height+2*N-E-S-w;n.left=Math.max(n.left,P),n.top=Math.max(n.top,T),n.right=Math.min(n.right,A),n.bottom=Math.min(n.bottom,R)}})),n}function fI(t){var e="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=e.match(/^(.*)\%$/);return n?t*(parseFloat(n[1])/100):parseFloat(e)}function pI(t,e){var n=bN(e||[],2),r=n[0],i=n[1];return[fI(t.width,r),fI(t.height,i)]}function gI(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[t[0],t[1]]}function mI(t,e){var n,r=e[0],i=e[1];return n="t"===r?t.y:"b"===r?t.y+t.height:t.y+t.height/2,{x:"l"===i?t.x:"r"===i?t.x+t.width:t.x+t.width/2,y:n}}function vI(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map((function(t,r){return r===e?n[t]||"c":t})).join("")}var yI=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const bI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G_,e=KC.forwardRef((function(e,n){var r=e.prefixCls,i=void 0===r?"rc-trigger-popup":r,o=e.children,a=e.action,s=void 0===a?"hover":a,l=e.showAction,c=e.hideAction,u=e.popupVisible,d=e.defaultPopupVisible,h=e.onPopupVisibleChange,f=e.afterPopupVisibleChange,p=e.mouseEnterDelay,g=e.mouseLeaveDelay,m=void 0===g?.1:g,v=e.focusDelay,y=e.blurDelay,b=e.mask,x=e.maskClosable,w=void 0===x||x,E=e.getPopupContainer,S=e.forceRender,k=e.autoDestroy,M=e.destroyPopupOnHide,C=e.popup,N=e.popupClassName,O=e.popupStyle,P=e.popupPlacement,T=e.builtinPlacements,A=void 0===T?{}:T,R=e.popupAlign,_=e.zIndex,L=e.stretch,I=e.getPopupClassNameFromAlign,D=e.fresh,j=e.alignPoint,z=e.onPopupClick,F=e.onPopupAlign,B=e.arrow,$=e.popupMotion,V=e.maskMotion,H=e.popupTransitionName,W=e.popupAnimation,G=e.maskTransitionName,U=e.maskAnimation,q=e.className,Y=e.getTriggerDOMNode,X=I_(e,yI),K=k||M||!1,Z=bN(KC.useState(!1),2),Q=Z[0],J=Z[1];MO((function(){J(function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===t||void 0===t?void 0:t.substr(0,4))}())}),[]);var tt=KC.useRef({}),et=KC.useContext(rI),nt=KC.useMemo((function(){return{registerSubPopup:function(t,e){tt.current[t]=e,null===et||void 0===et||et.registerSubPopup(t,e)}}}),[et]),rt=K_(),it=bN(KC.useState(null),2),ot=it[0],at=it[1],st=KC.useRef(null),lt=cT((function(t){st.current=t,IR(t)&&ot!==t&&at(t),null===et||void 0===et||et.registerSubPopup(rt,t)})),ct=bN(KC.useState(null),2),ut=ct[0],dt=ct[1],ht=KC.useRef(null),ft=cT((function(t){IR(t)&&ut!==t&&(dt(t),ht.current=t)})),pt=KC.Children.only(o),gt=(null===pt||void 0===pt?void 0:pt.props)||{},mt={},vt=function(t,e){var n,r;return t===e||e.contains(t)||(null===(n=q_(e))||void 0===n?void 0:n.host)===t||e.contains(null===(r=q_(t))||void 0===r?void 0:r.host)},yt=cT((function(t){var e=ut,n=vt.bind(null,t);return n(e)||n(ot)||Object.values(tt.current).some(n)})),bt=sI(i,$,W,H),xt=sI(i,V,U,G),wt=bN(KC.useState(d||!1),2),Et=wt[0],St=wt[1],kt=null!==u&&void 0!==u?u:Et,Mt=cT((function(t){void 0===u&&St(t)}));MO((function(){St(u||!1)}),[u]);var Ct=KC.useRef(kt);Ct.current=kt;var Nt=KC.useRef([]);Nt.current=[];var Ot=cT((function(t){var e;Mt(t),(null!==(e=Nt.current[Nt.current.length-1])&&void 0!==e?e:kt)!==t&&(Nt.current.push(t),null===h||void 0===h||h(t))})),Pt=KC.useRef(),Tt=function(){clearTimeout(Pt.current)},At=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Tt(),0===e?Ot(t):Pt.current=setTimeout((function(){Ot(t)}),1e3*e)};KC.useEffect((function(){return Tt}),[]);var Rt=bN(KC.useState(!1),2),_t=Rt[0],Lt=Rt[1];MO((function(t){t&&!kt||Lt(!0)}),[kt]);var It=bN(KC.useState(null),2),Dt=It[0],jt=It[1],zt=bN(KC.useState(null),2),Ft=zt[0],Bt=zt[1],$t=function(t){Bt([t.clientX,t.clientY])},Vt=function(t,e,n,r,i,o,a){var s=bN(KC.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),2),l=s[0],c=s[1],u=KC.useRef(0),d=KC.useMemo((function(){return e?cI(e):[]}),[e]),h=KC.useRef({});t||(h.current={});var f=cT((function(){if(e&&n&&t){var s,l,u,f,p,g=e,m=g.ownerDocument,v=lI(g).getComputedStyle(g),y=v.width,b=v.height,x=v.position,w=g.style.left,E=g.style.top,S=g.style.right,k=g.style.bottom,M=g.style.overflow,C=SN(SN({},i[r]),o),N=m.createElement("div");if(null===(s=g.parentElement)||void 0===s||s.appendChild(N),N.style.left="".concat(g.offsetLeft,"px"),N.style.top="".concat(g.offsetTop,"px"),N.style.position=x,N.style.height="".concat(g.offsetHeight,"px"),N.style.width="".concat(g.offsetWidth,"px"),g.style.left="0",g.style.top="0",g.style.right="auto",g.style.bottom="auto",g.style.overflow="hidden",Array.isArray(n))p={x:n[0],y:n[1],width:0,height:0};else{var O,P,T=n.getBoundingClientRect();T.x=null!==(O=T.x)&&void 0!==O?O:T.left,T.y=null!==(P=T.y)&&void 0!==P?P:T.top,p={x:T.x,y:T.y,width:T.width,height:T.height}}var A=g.getBoundingClientRect();A.x=null!==(l=A.x)&&void 0!==l?l:A.left,A.y=null!==(u=A.y)&&void 0!==u?u:A.top;var R=m.documentElement,_=R.clientWidth,L=R.clientHeight,I=R.scrollWidth,D=R.scrollHeight,j=R.scrollTop,z=R.scrollLeft,F=A.height,B=A.width,$=p.height,V=p.width,H={left:0,top:0,right:_,bottom:L},W={left:-z,top:-j,right:I-z,bottom:D-j},G=C.htmlRegion,U="visible",q="visibleFirst";"scroll"!==G&&G!==q&&(G=U);var Y=G===q,X=hI(W,d),K=hI(H,d),Z=G===U?K:X,Q=Y?K:Z;g.style.left="auto",g.style.top="auto",g.style.right="0",g.style.bottom="0";var J=g.getBoundingClientRect();g.style.left=w,g.style.top=E,g.style.right=S,g.style.bottom=k,g.style.overflow=M,null===(f=g.parentElement)||void 0===f||f.removeChild(N);var tt=uI(Math.round(B/parseFloat(y)*1e3)/1e3),et=uI(Math.round(F/parseFloat(b)*1e3)/1e3);if(0===tt||0===et||IR(n)&&!oI(n))return;var nt=C.offset,rt=C.targetOffset,it=bN(pI(A,nt),2),ot=it[0],at=it[1],st=bN(pI(p,rt),2),lt=st[0],ct=st[1];p.x-=lt,p.y-=ct;var ut=bN(C.points||[],2),dt=ut[0],ht=gI(ut[1]),ft=gI(dt),pt=mI(p,ht),gt=mI(A,ft),mt=SN({},C),vt=pt.x-gt.x+ot,yt=pt.y-gt.y+at;function de(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z,r=A.x+t,i=A.y+e,o=r+B,a=i+F,s=Math.max(r,n.left),l=Math.max(i,n.top),c=Math.min(o,n.right),u=Math.min(a,n.bottom);return Math.max(0,(c-s)*(u-l))}var bt,xt,wt,Et,St=de(vt,yt),kt=de(vt,yt,K),Mt=mI(p,["t","l"]),Ct=mI(A,["t","l"]),Nt=mI(p,["b","r"]),Ot=mI(A,["b","r"]),Pt=C.overflow||{},Tt=Pt.adjustX,At=Pt.adjustY,Rt=Pt.shiftX,_t=Pt.shiftY,Lt=function(t){return"boolean"===typeof t?t:t>=0};function he(){bt=A.y+yt,xt=bt+F,wt=A.x+vt,Et=wt+B}he();var It=Lt(At),Dt=ft[0]===ht[0];if(It&&"t"===ft[0]&&(xt>Q.bottom||h.current.bt)){var jt=yt;Dt?jt-=F-$:jt=Mt.y-Ot.y-at;var zt=de(vt,jt),Ft=de(vt,jt,K);zt>St||zt===St&&(!Y||Ft>=kt)?(h.current.bt=!0,yt=jt,at=-at,mt.points=[vI(ft,0),vI(ht,0)]):h.current.bt=!1}if(It&&"b"===ft[0]&&(bt<Q.top||h.current.tb)){var Bt=yt;Dt?Bt+=F-$:Bt=Nt.y-Ct.y-at;var $t=de(vt,Bt),Vt=de(vt,Bt,K);$t>St||$t===St&&(!Y||Vt>=kt)?(h.current.tb=!0,yt=Bt,at=-at,mt.points=[vI(ft,0),vI(ht,0)]):h.current.tb=!1}var Ht=Lt(Tt),Wt=ft[1]===ht[1];if(Ht&&"l"===ft[1]&&(Et>Q.right||h.current.rl)){var Gt=vt;Wt?Gt-=B-V:Gt=Mt.x-Ot.x-ot;var Ut=de(Gt,yt),qt=de(Gt,yt,K);Ut>St||Ut===St&&(!Y||qt>=kt)?(h.current.rl=!0,vt=Gt,ot=-ot,mt.points=[vI(ft,1),vI(ht,1)]):h.current.rl=!1}if(Ht&&"r"===ft[1]&&(wt<Q.left||h.current.lr)){var Yt=vt;Wt?Yt+=B-V:Yt=Nt.x-Ct.x-ot;var Xt=de(Yt,yt),Kt=de(Yt,yt,K);Xt>St||Xt===St&&(!Y||Kt>=kt)?(h.current.lr=!0,vt=Yt,ot=-ot,mt.points=[vI(ft,1),vI(ht,1)]):h.current.lr=!1}he();var Zt=!0===Rt?0:Rt;"number"===typeof Zt&&(wt<K.left&&(vt-=wt-K.left-ot,p.x+V<K.left+Zt&&(vt+=p.x-K.left+V-Zt)),Et>K.right&&(vt-=Et-K.right-ot,p.x>K.right-Zt&&(vt+=p.x-K.right+Zt)));var Qt=!0===_t?0:_t;"number"===typeof Qt&&(bt<K.top&&(yt-=bt-K.top-at,p.y+$<K.top+Qt&&(yt+=p.y-K.top+$-Qt)),xt>K.bottom&&(yt-=xt-K.bottom-at,p.y>K.bottom-Qt&&(yt+=p.y-K.bottom+Qt)));var Jt=A.x+vt,te=Jt+B,ee=A.y+yt,ne=ee+F,re=p.x,ie=re+V,oe=p.y,ae=oe+$,se=(Math.max(Jt,re)+Math.min(te,ie))/2-Jt,le=(Math.max(ee,oe)+Math.min(ne,ae))/2-ee;null===a||void 0===a||a(e,mt);var ce=J.right-A.x-(vt+A.width),ue=J.bottom-A.y-(yt+A.height);1===tt&&(vt=Math.round(vt),ce=Math.round(ce)),1===et&&(yt=Math.round(yt),ue=Math.round(ue)),c({ready:!0,offsetX:vt/tt,offsetY:yt/et,offsetR:ce/tt,offsetB:ue/et,arrowX:se/tt,arrowY:le/et,scaleX:tt,scaleY:et,align:mt})}})),p=function(){c((function(t){return SN(SN({},t),{},{ready:!1})}))};return MO(p,[r]),MO((function(){t||p()}),[t]),[l.ready,l.offsetX,l.offsetY,l.offsetR,l.offsetB,l.arrowX,l.arrowY,l.scaleX,l.scaleY,l.align,function(){u.current+=1;var t=u.current;Promise.resolve().then((function(){u.current===t&&f()}))}]}(kt,ot,j&&null!==Ft?Ft:ut,P,A,R,F),Ht=bN(Vt,11),Wt=Ht[0],Gt=Ht[1],Ut=Ht[2],qt=Ht[3],Yt=Ht[4],Xt=Ht[5],Kt=Ht[6],Zt=Ht[7],Qt=Ht[8],Jt=Ht[9],te=Ht[10],ee=function(t,e,n,r){return KC.useMemo((function(){var i=iI(null!==n&&void 0!==n?n:e),o=iI(null!==r&&void 0!==r?r:e),a=new Set(i),s=new Set(o);return t&&(a.has("hover")&&(a.delete("hover"),a.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[a,s]}),[t,e,n,r])}(Q,s,l,c),ne=bN(ee,2),re=ne[0],ie=ne[1],oe=re.has("click"),ae=ie.has("click")||ie.has("contextMenu"),se=cT((function(){_t||te()}));!function(t,e,n,r,i){MO((function(){if(t&&e&&n){var o=n,a=cI(e),s=cI(o),l=lI(o),c=new Set([l].concat(MN(a),MN(s)));function u(){r(),i()}return c.forEach((function(t){t.addEventListener("scroll",u,{passive:!0})})),l.addEventListener("resize",u,{passive:!0}),r(),function(){c.forEach((function(t){t.removeEventListener("scroll",u),l.removeEventListener("resize",u)}))}}}),[t,e,n])}(kt,ut,ot,se,(function(){Ct.current&&j&&ae&&At(!1)})),MO((function(){se()}),[Ft,P]),MO((function(){!kt||null!==A&&void 0!==A&&A[P]||se()}),[JSON.stringify(R)]);var le=KC.useMemo((function(){var t=function(t,e,n,r){for(var i=n.points,o=Object.keys(t),a=0;a<o.length;a+=1){var s,l=o[a];if(aI(null===(s=t[l])||void 0===s?void 0:s.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}(A,i,Jt,j);return lN()(t,null===I||void 0===I?void 0:I(Jt))}),[Jt,I,A,i,j]);KC.useImperativeHandle(n,(function(){return{nativeElement:ht.current,popupElement:st.current,forceAlign:se}}));var ce=bN(KC.useState(0),2),ue=ce[0],de=ce[1],he=bN(KC.useState(0),2),fe=he[0],pe=he[1],ge=function(){if(L&&ut){var t=ut.getBoundingClientRect();de(t.width),pe(t.height)}};function me(t,e,n,r){mt[t]=function(i){var o;null===r||void 0===r||r(i),At(e,n);for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];null===(o=gt[t])||void 0===o||o.call.apply(o,[gt,i].concat(s))}}MO((function(){Dt&&(te(),Dt(),jt(null))}),[Dt]),(oe||ae)&&(mt.onClick=function(t){var e;Ct.current&&ae?At(!1):!Ct.current&&oe&&($t(t),At(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(e=gt.onClick)||void 0===e||e.call.apply(e,[gt,t].concat(r))}),function(t,e,n,r,i,o,a,s){var l=KC.useRef(t);l.current=t,KC.useEffect((function(){if(e&&r&&(!i||o)){var t=function(t){var e;l.current&&!a((null===(e=t.composedPath)||void 0===e||null===(e=e.call(t))||void 0===e?void 0:e[0])||t.target)&&s(!1)},c=lI(r);c.addEventListener("mousedown",t,!0),c.addEventListener("contextmenu",t,!0);var u=q_(n);return u&&(u.addEventListener("mousedown",t,!0),u.addEventListener("contextmenu",t,!0)),function(){c.removeEventListener("mousedown",t,!0),c.removeEventListener("contextmenu",t,!0),u&&(u.removeEventListener("mousedown",t,!0),u.removeEventListener("contextmenu",t,!0))}}}),[e,n,r,i,o])}(kt,ae,ut,ot,b,w,yt,At);var ve,ye,be=re.has("hover"),xe=ie.has("hover");be&&(me("onMouseEnter",!0,p,(function(t){$t(t)})),me("onPointerEnter",!0,p,(function(t){$t(t)})),ve=function(t){(kt||_t)&&null!==ot&&void 0!==ot&&ot.contains(t.target)&&At(!0,p)},j&&(mt.onMouseMove=function(t){var e;null===(e=gt.onMouseMove)||void 0===e||e.call(gt,t)})),xe&&(me("onMouseLeave",!1,m),me("onPointerLeave",!1,m),ye=function(){At(!1,m)}),re.has("focus")&&me("onFocus",!0,v),ie.has("focus")&&me("onBlur",!1,y),re.has("contextMenu")&&(mt.onContextMenu=function(t){var e;Ct.current&&ie.has("contextMenu")?At(!1):($t(t),At(!0)),t.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(e=gt.onContextMenu)||void 0===e||e.call.apply(e,[gt,t].concat(r))}),q&&(mt.className=lN()(gt.className,q));var we=SN(SN({},gt),mt),Ee={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(t){X[t]&&(Ee[t]=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(e=we[t])||void 0===e||e.call.apply(e,[we].concat(r)),X[t].apply(X,r)})}));var Se=KC.cloneElement(pt,SN(SN({},we),Ee)),ke={x:Xt,y:Kt},Me=B?SN({},!0!==B?B:{}):null;return KC.createElement(KC.Fragment,null,KC.createElement(f_,{disabled:!kt,ref:ft,onResize:function(){ge(),se()}},KC.createElement(nI,{getTriggerDOMNode:Y},Se)),KC.createElement(rI.Provider,{value:nt},KC.createElement(tI,{portal:t,ref:lt,prefixCls:i,popup:C,className:lN()(N,le),style:O,target:ut,onMouseEnter:ve,onMouseLeave:ye,onPointerEnter:ve,zIndex:_,open:kt,keepDom:_t,fresh:D,onClick:z,mask:b,motion:bt,maskMotion:xt,onVisibleChanged:function(t){Lt(!1),te(),null===f||void 0===f||f(t)},onPrepare:function(){return new Promise((function(t){ge(),jt((function(){return t}))}))},forceRender:S,autoDestroy:K,getPopupContainer:E,align:Jt,arrow:Me,arrowPos:ke,ready:Wt,offsetX:Gt,offsetY:Ut,offsetR:qt,offsetB:Yt,onAlign:se,stretch:L,targetWidth:ue/Zt,targetHeight:fe/Qt})))}));return e}(G_);var xI={shiftX:64,adjustY:1},wI={adjustX:1,shiftY:!0},EI=[0,0],SI={left:{points:["cr","cl"],overflow:wI,offset:[-4,0],targetOffset:EI},right:{points:["cl","cr"],overflow:wI,offset:[4,0],targetOffset:EI},top:{points:["bc","tc"],overflow:xI,offset:[0,-4],targetOffset:EI},bottom:{points:["tc","bc"],overflow:xI,offset:[0,4],targetOffset:EI},topLeft:{points:["bl","tl"],overflow:xI,offset:[0,-4],targetOffset:EI},leftTop:{points:["tr","tl"],overflow:wI,offset:[-4,0],targetOffset:EI},topRight:{points:["br","tr"],overflow:xI,offset:[0,-4],targetOffset:EI},rightTop:{points:["tl","tr"],overflow:wI,offset:[4,0],targetOffset:EI},bottomRight:{points:["tr","br"],overflow:xI,offset:[0,4],targetOffset:EI},rightBottom:{points:["bl","br"],overflow:wI,offset:[4,0],targetOffset:EI},bottomLeft:{points:["tl","bl"],overflow:xI,offset:[0,4],targetOffset:EI},leftBottom:{points:["br","bl"],overflow:wI,offset:[-4,0],targetOffset:EI}};var kI=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],MI=function(t,e){var n=t.overlayClassName,r=t.trigger,i=void 0===r?["hover"]:r,o=t.mouseEnterDelay,a=void 0===o?0:o,s=t.mouseLeaveDelay,l=void 0===s?.1:s,c=t.overlayStyle,u=t.prefixCls,d=void 0===u?"rc-tooltip":u,h=t.children,f=t.onVisibleChange,p=t.afterVisibleChange,g=t.transitionName,m=t.animation,v=t.motion,y=t.placement,b=void 0===y?"right":y,x=t.align,w=void 0===x?{}:x,E=t.destroyTooltipOnHide,S=void 0!==E&&E,k=t.defaultVisible,M=t.getTooltipContainer,C=t.overlayInnerStyle,N=(t.arrowContent,t.overlay),O=t.id,P=t.showArrow,T=void 0===P||P,A=I_(t,kI),R=(0,KC.useRef)(null);(0,KC.useImperativeHandle)(e,(function(){return R.current}));var _=SN({},A);"visible"in t&&(_.popupVisible=t.visible);return KC.createElement(bI,BO({popupClassName:n,prefixCls:d,popup:function(){return KC.createElement(L_,{key:"content",prefixCls:d,id:O,overlayInnerStyle:C},N)},action:i,builtinPlacements:SI,popupPlacement:b,ref:R,popupAlign:w,getPopupContainer:M,onPopupVisibleChange:f,afterPopupVisibleChange:p,popupTransitionName:g,popupAnimation:m,popupMotion:v,defaultPopupVisible:k,autoDestroy:S,mouseLeaveDelay:l,popupStyle:c,mouseEnterDelay:a,arrow:T},_),h)};const CI=(0,KC.forwardRef)(MI);function NI(){NI=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),s=new T(r||[]);return i(a,"_invoke",{value:C(t,n,s)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function v(){}function y(){}function b(){}var x={};c(x,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==n&&r.call(E,a)&&(x=E);var S=b.prototype=v.prototype=Object.create(x);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){function n(i,o,a,s){var l=d(t[i],t,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==pN(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=N(s,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=d(e,n,r);if("normal"===c.type){if(i=r.done?g:f,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function N(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,N(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(pN(e)+" is not iterable")}return y.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},k(M.prototype),c(M.prototype,s,(function(){return this})),e.AsyncIterator=M,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new M(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function OI(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function PI(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){OI(o,r,i,a,s,"next",t)}function s(t){OI(o,r,i,a,s,"throw",t)}a(void 0)}))}}var TI="RC_FORM_INTERNAL_HOOKS",AI=function(){GN(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const RI=KC.createContext({getFieldValue:AI,getFieldsValue:AI,getFieldError:AI,getFieldWarning:AI,getFieldsError:AI,isFieldsTouched:AI,isFieldTouched:AI,isFieldValidating:AI,isFieldsValidating:AI,resetFields:AI,setFields:AI,setFieldValue:AI,setFieldsValue:AI,validateFields:AI,submit:AI,getInternalHooks:function(){return AI(),{dispatch:AI,initEntityValue:AI,registerField:AI,useSubscribe:AI,setInitialValues:AI,destroyForm:AI,setCallbacks:AI,registerWatch:AI,getFields:AI,setValidateMessages:AI,setPreserve:AI,getInitialValue:AI}}});const _I=KC.createContext(null);function LI(t){return void 0===t||null===t?[]:Array.isArray(t)?t:[t]}function II(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var DI=II();function jI(t){var e="function"==typeof Map?new Map:void 0;return jI=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(JP())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&KP(i,n.prototype),i}(t,arguments,QP(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),KP(n,t)},jI(t)}var zI=/%[sdj%]/g;function FI(t){if(!t||!t.length)return null;var e={};return t.forEach((function(t){var n=t.field;e[n]=e[n]||[],e[n].push(t)})),e}function BI(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"===typeof t)return t.apply(null,n);if("string"===typeof t){var a=t.replace(zI,(function(t){if("%%"===t)return"%";if(i>=o)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(uo){return"[Circular]"}break;default:return t}}));return a}return t}function $I(t,e){return void 0===t||null===t||(!("array"!==e||!Array.isArray(t)||t.length)||!(!function(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"date"===t||"pattern"===t}(e)||"string"!==typeof t||t))}function VI(t,e,n){var r=0,i=t.length;!function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?e(t[s],o):n([])}}([])}var HI=function(t){ZP(n,t);var e=tT(n);function n(t,r){var i;return qN(this,n),wN(XP(i=e.call(this,"Async Validation Error")),"errors",void 0),wN(XP(i),"fields",void 0),i.errors=t,i.fields=r,i}return XN(n)}(jI(Error));function WI(t,e,n,r,i){if(e.first){var o=new Promise((function(e,o){var a=function(t){var e=[];return Object.keys(t).forEach((function(n){e.push.apply(e,MN(t[n]||[]))})),e}(t);VI(a,n,(function(t){return r(t),t.length?o(new HI(t,FI(t))):e(i)}))}));return o.catch((function(t){return t})),o}var a=!0===e.firstFields?Object.keys(t):e.firstFields||[],s=Object.keys(t),l=s.length,c=0,u=[],d=new Promise((function(e,o){var d=function(t){if(u.push.apply(u,t),++c===l)return r(u),u.length?o(new HI(u,FI(u))):e(i)};s.length||(r(u),e(i)),s.forEach((function(e){var r=t[e];-1!==a.indexOf(e)?VI(r,n,d):function(t,e,n){var r=[],i=0,o=t.length;function a(t){r.push.apply(r,MN(t||[])),++i===o&&n(r)}t.forEach((function(t){e(t,a)}))}(r,n,d)}))}));return d.catch((function(t){return t})),d}function GI(t,e){return function(n){var r,i;return r=t.fullFields?function(t,e){for(var n=t,r=0;r<e.length;r++){if(void 0==n)return n;n=n[e[r]]}return n}(e,t.fullFields):e[n.field||t.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||t.fullField}}}function UI(t,e){if(e)for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"object"===pN(r)&&"object"===pN(t[n])?t[n]=SN(SN({},t[n]),r):t[n]=r}return t}var qI="enum";const YI=function(t,e,n,r,i){var o="number"===typeof t.len,a="number"===typeof t.min,s="number"===typeof t.max,l=e,c=null,u="number"===typeof e,d="string"===typeof e,h=Array.isArray(e);if(u?c="number":d?c="string":h&&(c="array"),!c)return!1;h&&(l=e.length),d&&(l=e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==t.len&&r.push(BI(i.messages[c].len,t.fullField,t.len)):a&&!s&&l<t.min?r.push(BI(i.messages[c].min,t.fullField,t.min)):s&&!a&&l>t.max?r.push(BI(i.messages[c].max,t.fullField,t.max)):a&&s&&(l<t.min||l>t.max)&&r.push(BI(i.messages[c].range,t.fullField,t.min,t.max))};const XI=function(t,e,n,r,i,o){!t.required||n.hasOwnProperty(t.field)&&!$I(e,o||t.type)||r.push(BI(i.messages.required,t.fullField))};var KI;var ZI=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,QI=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,JI={integer:function(t){return JI.number(t)&&parseInt(t,10)===t},float:function(t){return JI.number(t)&&!JI.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(e){return!1}},date:function(t){return"function"===typeof t.getTime&&"function"===typeof t.getMonth&&"function"===typeof t.getYear&&!isNaN(t.getTime())},number:function(t){return!isNaN(t)&&"number"===typeof t},object:function(t){return"object"===pN(t)&&!JI.array(t)},method:function(t){return"function"===typeof t},email:function(t){return"string"===typeof t&&t.length<=320&&!!t.match(ZI)},url:function(t){return"string"===typeof t&&t.length<=2048&&!!t.match(function(){if(KI)return KI;var t="[a-fA-F\\d:]",e=function(e){return e&&e.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],o="(?:".concat(i.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),a=new RegExp("(?:^".concat(n,"$)|(?:^").concat(o,"$)")),s=new RegExp("^".concat(n,"$")),l=new RegExp("^".concat(o,"$")),c=function(t){return t&&t.exact?a:new RegExp("(?:".concat(e(t)).concat(n).concat(e(t),")|(?:").concat(e(t)).concat(o).concat(e(t),")"),"g")};c.v4=function(t){return t&&t.exact?s:new RegExp("".concat(e(t)).concat(n).concat(e(t)),"g")},c.v6=function(t){return t&&t.exact?l:new RegExp("".concat(e(t)).concat(o).concat(e(t)),"g")};var u=c.v4().source,d=c.v6().source,h="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(u,"|").concat(d,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return KI=new RegExp("(?:^".concat(h,"$)"),"i")}())},hex:function(t){return"string"===typeof t&&!!t.match(QI)}};const tD=function(t,e,n,r,i){if(t.required&&void 0===e)XI(t,e,n,r,i);else{var o=t.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?JI[o](e)||r.push(BI(i.messages.types[o],t.fullField,t.type)):o&&pN(e)!==t.type&&r.push(BI(i.messages.types[o],t.fullField,t.type))}};const eD={required:XI,whitespace:function(t,e,n,r,i){(/^\s+$/.test(e)||""===e)&&r.push(BI(i.messages.whitespace,t.fullField))},type:tD,range:YI,enum:function(t,e,n,r,i){t[qI]=Array.isArray(t[qI])?t[qI]:[],-1===t[qI].indexOf(e)&&r.push(BI(i.messages[qI],t.fullField,t[qI].join(", ")))},pattern:function(t,e,n,r,i){if(t.pattern)if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||r.push(BI(i.messages.pattern.mismatch,t.fullField,e,t.pattern));else if("string"===typeof t.pattern){new RegExp(t.pattern).test(e)||r.push(BI(i.messages.pattern.mismatch,t.fullField,e,t.pattern))}}};const nD=function(t,e,n,r,i){var o=[],a=Array.isArray(e)?"array":pN(e);eD.required(t,e,r,o,i,a),n(o)};const rD=function(t,e,n,r,i){var o=t.type,a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if($I(e,o)&&!t.required)return n();eD.required(t,e,r,a,i,o),$I(e,o)||eD.type(t,e,r,a,i)}n(a)},iD={string:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if($I(e,"string")&&!t.required)return n();eD.required(t,e,r,o,i,"string"),$I(e,"string")||(eD.type(t,e,r,o,i),eD.range(t,e,r,o,i),eD.pattern(t,e,r,o,i),!0===t.whitespace&&eD.whitespace(t,e,r,o,i))}n(o)},method:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if($I(e)&&!t.required)return n();eD.required(t,e,r,o,i),void 0!==e&&eD.type(t,e,r,o,i)}n(o)},number:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(""===e&&(e=void 0),$I(e)&&!t.required)return n();eD.required(t,e,r,o,i),void 0!==e&&(eD.type(t,e,r,o,i),eD.range(t,e,r,o,i))}n(o)},boolean:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if($I(e)&&!t.required)return n();eD.required(t,e,r,o,i),void 0!==e&&eD.type(t,e,r,o,i)}n(o)},regexp:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if($I(e)&&!t.required)return n();eD.required(t,e,r,o,i),$I(e)||eD.type(t,e,r,o,i)}n(o)},integer:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if($I(e)&&!t.required)return n();eD.required(t,e,r,o,i),void 0!==e&&(eD.type(t,e,r,o,i),eD.range(t,e,r,o,i))}n(o)},float:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if($I(e)&&!t.required)return n();eD.required(t,e,r,o,i),void 0!==e&&(eD.type(t,e,r,o,i),eD.range(t,e,r,o,i))}n(o)},array:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if((void 0===e||null===e)&&!t.required)return n();eD.required(t,e,r,o,i,"array"),void 0!==e&&null!==e&&(eD.type(t,e,r,o,i),eD.range(t,e,r,o,i))}n(o)},object:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if($I(e)&&!t.required)return n();eD.required(t,e,r,o,i),void 0!==e&&eD.type(t,e,r,o,i)}n(o)},enum:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if($I(e)&&!t.required)return n();eD.required(t,e,r,o,i),void 0!==e&&eD.enum(t,e,r,o,i)}n(o)},pattern:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if($I(e,"string")&&!t.required)return n();eD.required(t,e,r,o,i),$I(e,"string")||eD.pattern(t,e,r,o,i)}n(o)},date:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if($I(e,"date")&&!t.required)return n();var a;if(eD.required(t,e,r,o,i),!$I(e,"date"))a=e instanceof Date?e:new Date(e),eD.type(t,a,r,o,i),a&&eD.range(t,a.getTime(),r,o,i)}n(o)},url:rD,hex:rD,email:rD,required:nD,any:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if($I(e)&&!t.required)return n();eD.required(t,e,r,o,i)}n(o)}};var oD=function(){function t(e){qN(this,t),wN(this,"rules",null),wN(this,"_messages",DI),this.define(e)}return XN(t,[{key:"define",value:function(t){var e=this;if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!==pN(t)||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach((function(n){var r=t[n];e.rules[n]=Array.isArray(r)?r:[r]}))}},{key:"messages",value:function(t){return t&&(this._messages=UI(II(),t)),this._messages}},{key:"validate",value:function(e){var n=this,r=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"===typeof i&&(o=i,i={}),!this.rules||0===Object.keys(this.rules).length)return o&&o(null,r),Promise.resolve(r);if(i.messages){var a=this.messages();a===DI&&(a=II()),UI(a,i.messages),i.messages=a}else i.messages=this.messages();var s={};(i.keys||Object.keys(this.rules)).forEach((function(t){var i=n.rules[t],o=r[t];i.forEach((function(i){var a=i;"function"===typeof a.transform&&(r===e&&(r=SN({},r)),void 0!==(o=r[t]=a.transform(o))&&null!==o&&(a.type=a.type||(Array.isArray(o)?"array":pN(o)))),(a="function"===typeof a?{validator:a}:SN({},a)).validator=n.getValidationMethod(a),a.validator&&(a.field=t,a.fullField=a.fullField||t,a.type=n.getType(a),s[t]=s[t]||[],s[t].push({rule:a,value:o,source:r,field:t}))}))}));var l={};return WI(s,i,(function(e,n){var o,a=e.rule,s=("object"===a.type||"array"===a.type)&&("object"===pN(a.fields)||"object"===pN(a.defaultField));function c(t,e){return SN(SN({},e),{},{fullField:"".concat(a.fullField,".").concat(t),fullFields:a.fullFields?[].concat(MN(a.fullFields),[t]):[t]})}function u(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],u=Array.isArray(o)?o:[o];!i.suppressWarning&&u.length&&t.warning("async-validator:",u),u.length&&void 0!==a.message&&(u=[].concat(a.message));var d=u.map(GI(a,r));if(i.first&&d.length)return l[a.field]=1,n(d);if(s){if(a.required&&!e.value)return void 0!==a.message?d=[].concat(a.message).map(GI(a,r)):i.error&&(d=[i.error(a,BI(i.messages.required,a.field))]),n(d);var h={};a.defaultField&&Object.keys(e.value).map((function(t){h[t]=a.defaultField})),h=SN(SN({},h),e.rule.fields);var f={};Object.keys(h).forEach((function(t){var e=h[t],n=Array.isArray(e)?e:[e];f[t]=n.map(c.bind(null,t))}));var p=new t(f);p.messages(i.messages),e.rule.options&&(e.rule.options.messages=i.messages,e.rule.options.error=i.error),p.validate(e.value,e.rule.options||i,(function(t){var e=[];d&&d.length&&e.push.apply(e,MN(d)),t&&t.length&&e.push.apply(e,MN(t)),n(e.length?e:null)}))}else n(d)}if(s=s&&(a.required||!a.required&&e.value),a.field=e.field,a.asyncValidator)o=a.asyncValidator(a,e.value,u,e.source,i);else if(a.validator){try{o=a.validator(a,e.value,u,e.source,i)}catch(f){var d,h;null===(d=(h=console).error)||void 0===d||d.call(h,f),i.suppressValidatorError||setTimeout((function(){throw f}),0),u(f.message)}!0===o?u():!1===o?u("function"===typeof a.message?a.message(a.fullField||a.field):a.message||"".concat(a.fullField||a.field," fails")):o instanceof Array?u(o):o instanceof Error&&u(o.message)}o&&o.then&&o.then((function(){return u()}),(function(t){return u(t)}))}),(function(t){!function(t){var e=[],n={};function i(t){var n;Array.isArray(t)?e=(n=e).concat.apply(n,MN(t)):e.push(t)}for(var a=0;a<t.length;a++)i(t[a]);e.length?(n=FI(e),o(e,n)):o(null,r)}(t)}),r)}},{key:"getType",value:function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!==typeof t.validator&&t.type&&!iD.hasOwnProperty(t.type))throw new Error(BI("Unknown rule type %s",t.type));return t.type||"string"}},{key:"getValidationMethod",value:function(t){if("function"===typeof t.validator)return t.validator;var e=Object.keys(t),n=e.indexOf("message");return-1!==n&&e.splice(n,1),1===e.length&&"required"===e[0]?iD.required:iD[this.getType(t)]||void 0}}]),t}();wN(oD,"register",(function(t,e){if("function"!==typeof e)throw new Error("Cannot register a validator by type, validator is not a function");iD[t]=e})),wN(oD,"warning",(function(){})),wN(oD,"messages",DI),wN(oD,"validators",iD);var aD="'${name}' is not a valid ${type}",sD={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:aD,method:aD,array:aD,object:aD,number:aD,date:aD,boolean:aD,integer:aD,float:aD,regexp:aD,email:aD,url:aD,hex:aD},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},lD=oD;function cD(t,e){return t.replace(/\\?\$\{\w+\}/g,(function(t){if(t.startsWith("\\"))return t.slice(1);var n=t.slice(2,-1);return e[n]}))}var uD="CODE_LOGIC_ERROR";function dD(t,e,n,r,i){return hD.apply(this,arguments)}function hD(){return hD=PI(NI().mark((function t(e,n,r,i,o){var a,s,l,c,u,d,h,f,p;return NI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete(a=SN({},r)).ruleIndex,lD.warning=function(){},a.validator&&(s=a.validator,a.validator=function(){try{return s.apply(void 0,arguments)}catch(t){return console.error(t),Promise.reject(uD)}}),l=null,a&&"array"===a.type&&a.defaultField&&(l=a.defaultField,delete a.defaultField),c=new lD(wN({},e,[a])),u=kT(sD,i.validateMessages),c.messages(u),d=[],t.prev=10,t.next=13,Promise.resolve(c.validate(wN({},e,n),SN({},i)));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(10),t.t0.errors&&(d=t.t0.errors.map((function(t,e){var n=t.message,r=n===uD?u.default:n;return KC.isValidElement(r)?KC.cloneElement(r,{key:"error_".concat(e)}):r})));case 18:if(d.length||!l){t.next=23;break}return t.next=21,Promise.all(n.map((function(t,n){return dD("".concat(e,".").concat(n),t,l,i,o)})));case 21:return h=t.sent,t.abrupt("return",h.reduce((function(t,e){return[].concat(MN(t),MN(e))}),[]));case 23:return f=SN(SN({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),p=d.map((function(t){return"string"===typeof t?cD(t,f):t})),t.abrupt("return",p);case 26:case"end":return t.stop()}}),t,null,[[10,15]])}))),hD.apply(this,arguments)}function fD(t,e,n,r,i,o){var a,s=t.join("."),l=n.map((function(t,e){var n=t.validator,r=SN(SN({},t),{},{ruleIndex:e});return n&&(r.validator=function(t,e,r){var i=!1,o=n(t,e,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Promise.resolve().then((function(){GN(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,e)}))}));i=o&&"function"===typeof o.then&&"function"===typeof o.catch,GN(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(t){r(t||" ")}))}),r})).sort((function(t,e){var n=t.warningOnly,r=t.ruleIndex,i=e.warningOnly,o=e.ruleIndex;return!!n===!!i?r-o:n?1:-1}));if(!0===i)a=new Promise(function(){var t=PI(NI().mark((function t(n,i){var a,c,u;return NI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<l.length)){t.next=12;break}return c=l[a],t.next=5,dD(s,e,c,r,o);case 5:if(!(u=t.sent).length){t.next=9;break}return i([{errors:u,rule:c}]),t.abrupt("return");case 9:a+=1,t.next=1;break;case 12:n([]);case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());else{var c=l.map((function(t){return dD(s,e,t,r,o).then((function(e){return{errors:e,rule:t}}))}));a=(i?function(t){return gD.apply(this,arguments)}(c):function(t){return pD.apply(this,arguments)}(c)).then((function(t){return Promise.reject(t)}))}return a.catch((function(t){return t})),a}function pD(){return(pD=PI(NI().mark((function t(e){return NI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e).then((function(t){var e;return(e=[]).concat.apply(e,MN(t))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gD(){return(gD=PI(NI().mark((function t(e){var n;return NI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=0,t.abrupt("return",new Promise((function(t){e.forEach((function(r){r.then((function(r){r.errors.length&&t([r]),(n+=1)===e.length&&t([])}))}))})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function mD(t){return LI(t)}function vD(t,e){var n={};return e.forEach((function(e){var r=bT(t,e);n=wT(n,e,r)})),n}function yD(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t&&t.some((function(t){return bD(e,t,n)}))}function bD(t,e){return!(!t||!e)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&t.length!==e.length)&&e.every((function(e,n){return t[n]===e})))}function xD(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&"object"===pN(e.target)&&t in e.target?e.target[t]:e}function wD(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat(MN(t.slice(0,n)),[i],MN(t.slice(n,e)),MN(t.slice(e+1,r))):o<0?[].concat(MN(t.slice(0,e)),MN(t.slice(e+1,n+1)),[i],MN(t.slice(n+1,r))):t}var ED=["name"],SD=[];function kD(t,e,n,r,i,o){return"function"===typeof t?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var MD=function(t){ZP(n,t);var e=tT(n);function n(t){var r;(qN(this,n),wN(XP(r=e.call(this,t)),"state",{resetCount:0}),wN(XP(r),"cancelRegisterFunc",null),wN(XP(r),"mounted",!1),wN(XP(r),"touched",!1),wN(XP(r),"dirty",!1),wN(XP(r),"validatePromise",void 0),wN(XP(r),"prevValidating",void 0),wN(XP(r),"errors",SD),wN(XP(r),"warnings",SD),wN(XP(r),"cancelRegister",(function(){var t=r.props,e=t.preserve,n=t.isListField,i=t.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,e,mD(i)),r.cancelRegisterFunc=null})),wN(XP(r),"getNamePath",(function(){var t=r.props,e=t.name,n=t.fieldContext.prefixName;return void 0!==e?[].concat(MN(void 0===n?[]:n),MN(e)):[]})),wN(XP(r),"getRules",(function(){var t=r.props,e=t.rules,n=void 0===e?[]:e,i=t.fieldContext;return n.map((function(t){return"function"===typeof t?t(i):t}))})),wN(XP(r),"refresh",(function(){r.mounted&&r.setState((function(t){return{resetCount:t.resetCount+1}}))})),wN(XP(r),"metaCache",null),wN(XP(r),"triggerMetaEvent",(function(t){var e=r.props.onMetaChange;if(e){var n=SN(SN({},r.getMeta()),{},{destroy:t});UN(r.metaCache,n)||e(n),r.metaCache=n}else r.metaCache=null})),wN(XP(r),"onStoreChange",(function(t,e,n){var i=r.props,o=i.shouldUpdate,a=i.dependencies,s=void 0===a?[]:a,l=i.onReset,c=n.store,u=r.getNamePath(),d=r.getValue(t),h=r.getValue(c),f=e&&yD(e,u);switch("valueUpdate"!==n.type||"external"!==n.source||UN(d,h)||(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=SD,r.warnings=SD,r.triggerMetaEvent()),n.type){case"reset":if(!e||f)return r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=SD,r.warnings=SD,r.triggerMetaEvent(),null===l||void 0===l||l(),void r.refresh();break;case"remove":if(o&&kD(o,t,c,d,h,n))return void r.reRender();break;case"setField":var p=n.data;if(f)return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||SD),"warnings"in p&&(r.warnings=p.warnings||SD),r.dirty=!0,r.triggerMetaEvent(),void r.reRender();if("value"in p&&yD(e,u,!0))return void r.reRender();if(o&&!u.length&&kD(o,t,c,d,h,n))return void r.reRender();break;case"dependenciesUpdate":if(s.map(mD).some((function(t){return yD(n.relatedFields,t)})))return void r.reRender();break;default:if(f||(!s.length||u.length||o)&&kD(o,t,c,d,h,n))return void r.reRender()}!0===o&&r.reRender()})),wN(XP(r),"validateRules",(function(t){var e=r.getNamePath(),n=r.getValue(),i=t||{},o=i.triggerName,a=i.validateOnly,s=void 0!==a&&a,l=Promise.resolve().then(PI(NI().mark((function i(){var a,s,c,u,d,h,f;return NI().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r.mounted){i.next=2;break}return i.abrupt("return",[]);case 2:if(a=r.props,s=a.validateFirst,c=void 0!==s&&s,u=a.messageVariables,d=a.validateDebounce,h=r.getRules(),o&&(h=h.filter((function(t){return t})).filter((function(t){var e=t.validateTrigger;return!e||LI(e).includes(o)}))),!d||!o){i.next=10;break}return i.next=8,new Promise((function(t){setTimeout(t,d)}));case 8:if(r.validatePromise===l){i.next=10;break}return i.abrupt("return",[]);case 10:return(f=fD(e,n,h,t,c,u)).catch((function(t){return t})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SD;if(r.validatePromise===l){var e;r.validatePromise=null;var n=[],i=[];null===(e=t.forEach)||void 0===e||e.call(t,(function(t){var e=t.rule.warningOnly,r=t.errors,o=void 0===r?SD:r;e?i.push.apply(i,MN(o)):n.push.apply(n,MN(o))})),r.errors=n,r.warnings=i,r.triggerMetaEvent(),r.reRender()}})),i.abrupt("return",f);case 13:case"end":return i.stop()}}),i)}))));return s||(r.validatePromise=l,r.dirty=!0,r.errors=SD,r.warnings=SD,r.triggerMetaEvent(),r.reRender()),l})),wN(XP(r),"isFieldValidating",(function(){return!!r.validatePromise})),wN(XP(r),"isFieldTouched",(function(){return r.touched})),wN(XP(r),"isFieldDirty",(function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(TI).getInitialValue)(r.getNamePath())})),wN(XP(r),"getErrors",(function(){return r.errors})),wN(XP(r),"getWarnings",(function(){return r.warnings})),wN(XP(r),"isListField",(function(){return r.props.isListField})),wN(XP(r),"isList",(function(){return r.props.isList})),wN(XP(r),"isPreserve",(function(){return r.props.preserve})),wN(XP(r),"getMeta",(function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise}})),wN(XP(r),"getOnlyChild",(function(t){if("function"===typeof t){var e=r.getMeta();return SN(SN({},r.getOnlyChild(t(r.getControlled(),e,r.props.fieldContext))),{},{isFunction:!0})}var n=_R(t);return 1===n.length&&KC.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}})),wN(XP(r),"getValue",(function(t){var e=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return bT(t||e(!0),n)})),wN(XP(r),"getControlled",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r.props,n=e.name,i=e.trigger,o=e.validateTrigger,a=e.getValueFromEvent,s=e.normalize,l=e.valuePropName,c=e.getValueProps,u=e.fieldContext,d=void 0!==o?o:u.validateTrigger,h=r.getNamePath(),f=u.getInternalHooks,p=u.getFieldsValue,g=f(TI).dispatch,m=r.getValue(),v=c||function(t){return wN({},l,t)},y=t[i],b=void 0!==n?v(m):{};var x=SN(SN({},t),b);return x[i]=function(){var t;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t=a?a.apply(void 0,n):xD.apply(void 0,[l].concat(n)),s&&(t=s(t,m,p(!0))),g({type:"updateValue",namePath:h,value:t}),y&&y.apply(void 0,n)},LI(d||[]).forEach((function(t){var e=x[t];x[t]=function(){e&&e.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&g({type:"validateField",namePath:h,triggerName:t})}})),x})),t.fieldContext)&&(0,(0,t.fieldContext.getInternalHooks)(TI).initEntityValue)(XP(r));return r}return XN(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.shouldUpdate,n=t.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(TI).registerField;this.cancelRegisterFunc=r(this)}!0===e&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var t,e=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),i=r.child;return r.isFunction?t=i:KC.isValidElement(i)?t=KC.cloneElement(i,this.getControlled(i.props)):(GN(!i,"`children` of Field is not validate ReactElement."),t=i),KC.createElement(KC.Fragment,{key:e},t)}}]),n}(KC.Component);wN(MD,"contextType",RI),wN(MD,"defaultProps",{trigger:"onChange",valuePropName:"value"});const CD=function(t){var e=t.name,n=I_(t,ED),r=KC.useContext(RI),i=KC.useContext(_I),o=void 0!==e?mD(e):void 0,a="keep";return n.isListField||(a="_".concat((o||[]).join("_"))),KC.createElement(MD,BO({key:a,name:o,isListField:!!i},n,{fieldContext:r}))};const ND=function(t){var e=t.name,n=t.initialValue,r=t.children,i=t.rules,o=t.validateTrigger,a=t.isListField,s=KC.useContext(RI),l=KC.useContext(_I),c=KC.useRef({keys:[],id:0}).current,u=KC.useMemo((function(){var t=mD(s.prefixName)||[];return[].concat(MN(t),MN(mD(e)))}),[s.prefixName,e]),d=KC.useMemo((function(){return SN(SN({},s),{},{prefixName:u})}),[s,u]),h=KC.useMemo((function(){return{getKey:function(t){var e=u.length,n=t[e];return[c.keys[n],t.slice(e+1)]}}}),[u]);return"function"!==typeof r?(GN(!1,"Form.List only accepts function as children."),null):KC.createElement(_I.Provider,{value:h},KC.createElement(RI.Provider,{value:d},KC.createElement(CD,{name:[],shouldUpdate:function(t,e,n){return"internal"!==n.source&&t!==e},rules:i,validateTrigger:o,initialValue:n,isList:!0,isListField:null!==a&&void 0!==a?a:!!l},(function(t,e){var n=t.value,i=void 0===n?[]:n,o=t.onChange,a=s.getFieldValue,l=function(){return a(u||[])||[]},d={add:function(t,e){var n=l();e>=0&&e<=n.length?(c.keys=[].concat(MN(c.keys.slice(0,e)),[c.id],MN(c.keys.slice(e))),o([].concat(MN(n.slice(0,e)),[t],MN(n.slice(e))))):(c.keys=[].concat(MN(c.keys),[c.id]),o([].concat(MN(n),[t]))),c.id+=1},remove:function(t){var e=l(),n=new Set(Array.isArray(t)?t:[t]);n.size<=0||(c.keys=c.keys.filter((function(t,e){return!n.has(e)})),o(e.filter((function(t,e){return!n.has(e)}))))},move:function(t,e){if(t!==e){var n=l();t<0||t>=n.length||e<0||e>=n.length||(c.keys=wD(c.keys,t,e),o(wD(n,t,e)))}}},h=i||[];return Array.isArray(h)||(h=[]),r(h.map((function(t,e){var n=c.keys[e];return void 0===n&&(c.keys[e]=c.id,n=c.keys[e],c.id+=1),{name:e,key:n,isListField:!0}})),d,e)}))))};var OD="__@field_split__";function PD(t){return t.map((function(t){return"".concat(pN(t),":").concat(t)})).join(OD)}var TD=function(){function t(){qN(this,t),wN(this,"kvs",new Map)}return XN(t,[{key:"set",value:function(t,e){this.kvs.set(PD(t),e)}},{key:"get",value:function(t){return this.kvs.get(PD(t))}},{key:"update",value:function(t,e){var n=e(this.get(t));n?this.set(t,n):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(PD(t))}},{key:"map",value:function(t){return MN(this.kvs.entries()).map((function(e){var n=bN(e,2),r=n[0],i=n[1],o=r.split(OD);return t({key:o.map((function(t){var e=bN(t.match(/^([^:]*):(.*)$/),3),n=e[1],r=e[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var t={};return this.map((function(e){var n=e.key,r=e.value;return t[n.join(".")]=r,null})),t}}]),t}();const AD=TD;var RD=["name"],_D=XN((function t(e){var n=this;qN(this,t),wN(this,"formHooked",!1),wN(this,"forceRootUpdate",void 0),wN(this,"subscribable",!0),wN(this,"store",{}),wN(this,"fieldEntities",[]),wN(this,"initialValues",{}),wN(this,"callbacks",{}),wN(this,"validateMessages",null),wN(this,"preserve",null),wN(this,"lastValidatePromise",null),wN(this,"getForm",(function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}})),wN(this,"getInternalHooks",(function(t){return t===TI?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(GN(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),wN(this,"useSubscribe",(function(t){n.subscribable=t})),wN(this,"prevWithoutPreserves",null),wN(this,"setInitialValues",(function(t,e){if(n.initialValues=t||{},e){var r,i=kT(t,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(e){var n=e.key;i=wT(i,n,bT(t,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}})),wN(this,"destroyForm",(function(t){if(t)n.updateStore({});else{var e=new AD;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e}})),wN(this,"getInitialValue",(function(t){var e=bT(n.initialValues,t);return t.length?kT(e):e})),wN(this,"setCallbacks",(function(t){n.callbacks=t})),wN(this,"setValidateMessages",(function(t){n.validateMessages=t})),wN(this,"setPreserve",(function(t){n.preserve=t})),wN(this,"watchList",[]),wN(this,"registerWatch",(function(t){return n.watchList.push(t),function(){n.watchList=n.watchList.filter((function(e){return e!==t}))}})),wN(this,"notifyWatch",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var e=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach((function(n){n(e,r,t)}))}})),wN(this,"timeoutId",null),wN(this,"warningUnhooked",(function(){0})),wN(this,"updateStore",(function(t){n.store=t})),wN(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(t){return t.getNamePath().length})):n.fieldEntities})),wN(this,"getFieldsMap",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=new AD;return n.getFieldEntities(t).forEach((function(t){var n=t.getNamePath();e.set(n,t)})),e})),wN(this,"getFieldEntitiesForNamePathList",(function(t){if(!t)return n.getFieldEntities(!0);var e=n.getFieldsMap(!0);return t.map((function(t){var n=mD(t);return e.get(n)||{INVALIDATE_NAME_PATH:mD(t)}}))})),wN(this,"getFieldsValue",(function(t,e){var r,i,o;if(n.warningUnhooked(),!0===t||Array.isArray(t)?(r=t,i=e):t&&"object"===pN(t)&&(o=t.strict,i=t.filter),!0===r&&!i)return n.store;var a=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),s=[];return a.forEach((function(t){var e,n,a,l,c="INVALIDATE_NAME_PATH"in t?t.INVALIDATE_NAME_PATH:t.getNamePath();if(o){if(null!==(a=(l=t).isList)&&void 0!==a&&a.call(l))return}else if(!r&&null!==(e=(n=t).isListField)&&void 0!==e&&e.call(n))return;if(i){var u="getMeta"in t?t.getMeta():null;i(u)&&s.push(c)}else s.push(c)})),vD(n.store,s.map(mD))})),wN(this,"getFieldValue",(function(t){n.warningUnhooked();var e=mD(t);return bT(n.store,e)})),wN(this,"getFieldsError",(function(t){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(t).map((function(e,n){return e&&!("INVALIDATE_NAME_PATH"in e)?{name:e.getNamePath(),errors:e.getErrors(),warnings:e.getWarnings()}:{name:mD(t[n]),errors:[],warnings:[]}}))})),wN(this,"getFieldError",(function(t){n.warningUnhooked();var e=mD(t);return n.getFieldsError([e])[0].errors})),wN(this,"getFieldWarning",(function(t){n.warningUnhooked();var e=mD(t);return n.getFieldsError([e])[0].warnings})),wN(this,"isFieldsTouched",(function(){n.warningUnhooked();for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i,o=e[0],a=e[1],s=!1;0===e.length?i=null:1===e.length?Array.isArray(o)?(i=o.map(mD),s=!1):(i=null,s=o):(i=o.map(mD),s=a);var l=n.getFieldEntities(!0),c=function(t){return t.isFieldTouched()};if(!i)return s?l.every((function(t){return c(t)||t.isList()})):l.some(c);var u=new AD;i.forEach((function(t){u.set(t,[])})),l.forEach((function(t){var e=t.getNamePath();i.forEach((function(n){n.every((function(t,n){return e[n]===t}))&&u.update(n,(function(e){return[].concat(MN(e),[t])}))}))}));var d=function(t){return t.some(c)},h=u.map((function(t){return t.value}));return s?h.every(d):h.some(d)})),wN(this,"isFieldTouched",(function(t){return n.warningUnhooked(),n.isFieldsTouched([t])})),wN(this,"isFieldsValidating",(function(t){n.warningUnhooked();var e=n.getFieldEntities();if(!t)return e.some((function(t){return t.isFieldValidating()}));var r=t.map(mD);return e.some((function(t){var e=t.getNamePath();return yD(r,e)&&t.isFieldValidating()}))})),wN(this,"isFieldValidating",(function(t){return n.warningUnhooked(),n.isFieldsValidating([t])})),wN(this,"resetWithFieldInitialValue",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new AD,r=n.getFieldEntities(!0);r.forEach((function(t){var n=t.props.initialValue,r=t.getNamePath();if(void 0!==n){var i=e.get(r)||new Set;i.add({entity:t,value:n}),e.set(r,i)}}));var i;t.entities?i=t.entities:t.namePathList?(i=[],t.namePathList.forEach((function(t){var n,r=e.get(t);r&&(n=i).push.apply(n,MN(MN(r).map((function(t){return t.entity}))))}))):i=r,i.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))GN(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=e.get(i);if(o&&o.size>1)GN(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(i);r.isListField()||t.skipExist&&void 0!==a||n.updateStore(wT(n.store,i,MN(o)[0].value))}}}}))})),wN(this,"resetFields",(function(t){n.warningUnhooked();var e=n.store;if(!t)return n.updateStore(kT(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(e,null,{type:"reset"}),void n.notifyWatch();var r=t.map(mD);r.forEach((function(t){var e=n.getInitialValue(t);n.updateStore(wT(n.store,t,e))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(e,r,{type:"reset"}),n.notifyWatch(r)})),wN(this,"setFields",(function(t){n.warningUnhooked();var e=n.store,r=[];t.forEach((function(t){var i=t.name,o=I_(t,RD),a=mD(i);r.push(a),"value"in o&&n.updateStore(wT(n.store,a,o.value)),n.notifyObservers(e,[a],{type:"setField",data:t})})),n.notifyWatch(r)})),wN(this,"getFields",(function(){return n.getFieldEntities(!0).map((function(t){var e=t.getNamePath(),r=SN(SN({},t.getMeta()),{},{name:e,value:n.getFieldValue(e)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))})),wN(this,"initEntityValue",(function(t){var e=t.props.initialValue;if(void 0!==e){var r=t.getNamePath();void 0===bT(n.store,r)&&n.updateStore(wT(n.store,r,e))}})),wN(this,"isMergedPreserve",(function(t){var e=void 0!==t?t:n.preserve;return null===e||void 0===e||e})),wN(this,"registerField",(function(t){n.fieldEntities.push(t);var e=t.getNamePath();if(n.notifyWatch([e]),void 0!==t.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[t],skipExist:!0}),n.notifyObservers(r,[t.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(e){return e!==t})),!n.isMergedPreserve(i)&&(!r||o.length>1)){var a=r?void 0:n.getInitialValue(e);if(e.length&&n.getFieldValue(e)!==a&&n.fieldEntities.every((function(t){return!bD(t.getNamePath(),e)}))){var s=n.store;n.updateStore(wT(s,e,a,!0)),n.notifyObservers(s,[e],{type:"remove"}),n.triggerDependenciesUpdate(s,e)}}n.notifyWatch([e])}})),wN(this,"dispatch",(function(t){switch(t.type){case"updateValue":var e=t.namePath,r=t.value;n.updateValue(e,r);break;case"validateField":var i=t.namePath,o=t.triggerName;n.validateFields([i],{triggerName:o})}})),wN(this,"notifyObservers",(function(t,e,r){if(n.subscribable){var i=SN(SN({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(t,e,i)}))}else n.forceRootUpdate()})),wN(this,"triggerDependenciesUpdate",(function(t,e){var r=n.getDependencyChildrenFields(e);return r.length&&n.validateFields(r),n.notifyObservers(t,r,{type:"dependenciesUpdate",relatedFields:[e].concat(MN(r))}),r})),wN(this,"updateValue",(function(t,e){var r=mD(t),i=n.store;n.updateStore(wT(n.store,r,e)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var o=n.triggerDependenciesUpdate(i,r),a=n.callbacks.onValuesChange;a&&a(vD(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(MN(o)))})),wN(this,"setFieldsValue",(function(t){n.warningUnhooked();var e=n.store;if(t){var r=kT(n.store,t);n.updateStore(r)}n.notifyObservers(e,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()})),wN(this,"setFieldValue",(function(t,e){n.setFields([{name:t,value:e}])})),wN(this,"getDependencyChildrenFields",(function(t){var e=new Set,r=[],i=new AD;n.getFieldEntities().forEach((function(t){(t.props.dependencies||[]).forEach((function(e){var n=mD(e);i.update(n,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return e.add(t),e}))}))}));return function t(n){(i.get(n)||new Set).forEach((function(n){if(!e.has(n)){e.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),t(i))}}))}(t),r})),wN(this,"triggerOnFieldsChange",(function(t,e){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(e){var o=new AD;e.forEach((function(t){var e=t.name,n=t.errors;o.set(e,n)})),i.forEach((function(t){t.errors=o.get(t.name)||t.errors}))}var a=i.filter((function(e){var n=e.name;return yD(t,n)}));a.length&&r(a,i)}})),wN(this,"validateFields",(function(t,e){var r,i;n.warningUnhooked(),Array.isArray(t)||"string"===typeof t||"string"===typeof e?(r=t,i=e):i=t;var o=!!r,a=o?r.map(mD):[],s=[],l=String(Date.now()),c=new Set,u=i||{},d=u.recursive,h=u.dirty;n.getFieldEntities(!0).forEach((function(t){if(o||a.push(t.getNamePath()),t.props.rules&&t.props.rules.length&&(!h||t.isFieldDirty())){var e=t.getNamePath();if(c.add(e.join(l)),!o||yD(a,e,d)){var r=t.validateRules(SN({validateMessages:SN(SN({},sD),n.validateMessages)},i));s.push(r.then((function(){return{name:e,errors:[],warnings:[]}})).catch((function(t){var n,r=[],i=[];return null===(n=t.forEach)||void 0===n||n.call(t,(function(t){var e=t.rule.warningOnly,n=t.errors;e?i.push.apply(i,MN(n)):r.push.apply(r,MN(n))})),r.length?Promise.reject({name:e,errors:r,warnings:i}):{name:e,errors:r,warnings:i}})))}}}));var f=function(t){var e=!1,n=t.length,r=[];return t.length?new Promise((function(i,o){t.forEach((function(t,a){t.catch((function(t){return e=!0,t})).then((function(t){n-=1,r[a]=t,n>0||(e&&o(r),i(r))}))}))})):Promise.resolve([])}(s);n.lastValidatePromise=f,f.catch((function(t){return t})).then((function(t){var e=t.map((function(t){return t.name}));n.notifyObservers(n.store,e,{type:"validateFinish"}),n.triggerOnFieldsChange(e,t)}));var p=f.then((function(){return n.lastValidatePromise===f?Promise.resolve(n.getFieldsValue(a)):Promise.reject([])})).catch((function(t){var e=t.filter((function(t){return t&&t.errors.length}));return Promise.reject({values:n.getFieldsValue(a),errorFields:e,outOfDate:n.lastValidatePromise!==f})}));p.catch((function(t){return t}));var g=a.filter((function(t){return c.has(t.join(l))}));return n.triggerOnFieldsChange(g),p})),wN(this,"submit",(function(){n.warningUnhooked(),n.validateFields().then((function(t){var e=n.callbacks.onFinish;if(e)try{e(t)}catch(r){console.error(r)}})).catch((function(t){var e=n.callbacks.onFinishFailed;e&&e(t)}))})),this.forceRootUpdate=e}));const LD=function(t){var e=KC.useRef(),n=bN(KC.useState({}),2)[1];if(!e.current)if(t)e.current=t;else{var r=new _D((function(){n({})}));e.current=r.getForm()}return[e.current]};var ID=KC.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}});const DD=ID;var jD=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"];const zD=function(t,e){var n=t.name,r=t.initialValues,i=t.fields,o=t.form,a=t.preserve,s=t.children,l=t.component,c=void 0===l?"form":l,u=t.validateMessages,d=t.validateTrigger,h=void 0===d?"onChange":d,f=t.onValuesChange,p=t.onFieldsChange,g=t.onFinish,m=t.onFinishFailed,v=t.clearOnDestroy,y=I_(t,jD),b=KC.useRef(null),x=KC.useContext(DD),w=bN(LD(o),1)[0],E=w.getInternalHooks(TI),S=E.useSubscribe,k=E.setInitialValues,M=E.setCallbacks,C=E.setValidateMessages,N=E.setPreserve,O=E.destroyForm;KC.useImperativeHandle(e,(function(){return SN(SN({},w),{},{nativeElement:b.current})})),KC.useEffect((function(){return x.registerForm(n,w),function(){x.unregisterForm(n)}}),[x,w,n]),C(SN(SN({},x.validateMessages),u)),M({onValuesChange:f,onFieldsChange:function(t){if(x.triggerFormChange(n,t),p){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];p.apply(void 0,[t].concat(r))}},onFinish:function(t){x.triggerFormFinish(n,t),g&&g(t)},onFinishFailed:m}),N(a);var P,T=KC.useRef(null);k(r,!T.current),T.current||(T.current=!0),KC.useEffect((function(){return function(){return O(v)}}),[]);var A="function"===typeof s;A?P=s(w.getFieldsValue(!0),w):P=s;S(!A);var R=KC.useRef();KC.useEffect((function(){(function(t,e){if(t===e)return!0;if(!t&&e||t&&!e)return!1;if(!t||!e||"object"!==pN(t)||"object"!==pN(e))return!1;var n=Object.keys(t),r=Object.keys(e);return MN(new Set([].concat(n,r))).every((function(n){var r=t[n],i=e[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(R.current||[],i||[])||w.setFields(i||[]),R.current=i}),[i,w]);var _=KC.useMemo((function(){return SN(SN({},w),{},{validateTrigger:h})}),[w,h]),L=KC.createElement(_I.Provider,{value:null},KC.createElement(RI.Provider,{value:_},P));return!1===c?L:KC.createElement(c,BO({},y,{ref:b,onSubmit:function(t){t.preventDefault(),t.stopPropagation(),w.submit()},onReset:function(t){var e;t.preventDefault(),w.resetFields(),null===(e=y.onReset)||void 0===e||e.call(y,t)}}),L)};function FD(t){try{return JSON.stringify(t)}catch(e){return Math.random()}}var BD=function(){};const $D=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=void 0===i?{}:i,a=function(t){return t&&!!t._init}(o)?{form:o}:o,s=a.form,l=bN((0,KC.useState)(),2),c=l[0],u=l[1],d=(0,KC.useMemo)((function(){return FD(c)}),[c]),h=(0,KC.useRef)(d);h.current=d;var f=(0,KC.useContext)(RI),p=s||f,g=p&&p._init,m=mD(r),v=(0,KC.useRef)(m);return v.current=m,BD(m),(0,KC.useEffect)((function(){if(g){var t=p.getFieldsValue,e=(0,p.getInternalHooks)(TI).registerWatch,n=function(t,e){var n=a.preserve?e:t;return"function"===typeof r?r(n):bT(n,v.current)},i=e((function(t,e){var r=n(t,e),i=FD(r);h.current!==i&&(h.current=i,u(r))})),o=n(t(),t(!0));return c!==o&&u(o),i}}),[g]),c};var VD=KC.forwardRef(zD);VD.FormProvider=function(t){var e=t.validateMessages,n=t.onFormChange,r=t.onFormFinish,i=t.children,o=KC.useContext(ID),a=KC.useRef({});return KC.createElement(ID.Provider,{value:SN(SN({},o),{},{validateMessages:SN(SN({},o.validateMessages),e),triggerFormChange:function(t,e){n&&n(t,{changedFields:e,forms:a.current}),o.triggerFormChange(t,e)},triggerFormFinish:function(t,e){r&&r(t,{values:e,forms:a.current}),o.triggerFormFinish(t,e)},registerForm:function(t,e){t&&(a.current=SN(SN({},a.current),{},wN({},t,e))),o.registerForm(t,e)},unregisterForm:function(t){var e=SN({},a.current);delete e[t],a.current=e,o.unregisterForm(t)}})},i)},VD.Field=CD,VD.List=ND,VD.useForm=LD,VD.useWatch=$D;const HD=KC.createContext({});const WD=t=>{let{children:e,status:n,override:r}=t;const i=(0,KC.useContext)(HD),o=(0,KC.useMemo)((()=>{const t=Object.assign({},i);return r&&delete t.isFormItemInput,n&&(delete t.status,delete t.hasFeedback,delete t.feedbackIcon),t}),[n,r,i]);return KC.createElement(HD.Provider,{value:o},e)},GD=(0,KC.createContext)(void 0);const UD=KC.createContext(null),qD=t=>{let{children:e}=t;return KC.createElement(UD.Provider,{value:null},e)},YD=t=>{const{space:e,form:n,children:r}=t;if(void 0===r||null===r)return null;let i=r;return n&&(i=KC.createElement(WD,{override:!0,status:!0},i)),e&&(i=KC.createElement(qD,null,i)),i};const XD=KC.createContext(void 0),KD=100,ZD={Modal:KD,Drawer:KD,Popover:KD,Popconfirm:KD,Tooltip:KD,Tour:KD},QD={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function JD(t,e){const[,n]=gR(),r=KC.useContext(XD),i=function(t){return t in ZD}(t);let o;if(void 0!==e)o=[e,e];else{let a=null!==r&&void 0!==r?r:0;a+=i?(r?0:n.zIndexPopupBase)+ZD[t]:QD[t],o=[void 0===r?e:a,a]}return o}function tj(t){const{sizePopupArrow:e,borderRadiusXS:n,borderRadiusOuter:r}=t,i=e/2,o=i,a=1*r/Math.sqrt(2),s=i-r*(1-1/Math.sqrt(2)),l=i-n*(1/Math.sqrt(2)),c=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),u=2*i-l,d=c,h=2*i-a,f=s,p=2*i-0,g=o,m=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),v=r*(Math.sqrt(2)-1);return{arrowShadowWidth:m,arrowPath:`path('M 0 ${o} A ${r} ${r} 0 0 0 ${a} ${s} L ${l} ${c} A ${n} ${n} 0 0 1 ${u} ${d} L ${h} ${f} A ${r} ${r} 0 0 0 ${p} ${g} Z')`,arrowPolygon:`polygon(${v}px 100%, 50% ${v}px, ${2*i-v}px 100%, ${v}px 100%)`}}const ej=(t,e,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:o,arrowShadowWidth:a,borderRadiusXS:s,calc:l}=t;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[i,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${vO(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},nj=8;function rj(t){const{contentRadius:e,limitVerticalRadius:n}=t,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?nj:r}}function ij(t,e){return t?e:{}}function oj(t,e,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:o,arrowOffsetHorizontal:a}=t,{arrowDistance:s=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},ej(t,e,i)),{"&:before":{background:e}})]},ij(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":a,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${vO(a)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),ij(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":a,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${vO(a)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),ij(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),ij(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}const aj={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},sj={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},lj=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function cj(t){const{arrowWidth:e,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:o,visibleFirst:a}=t,s=e/2,l={};return Object.keys(aj).forEach((t=>{const c=r&&sj[t]||aj[t],u=Object.assign(Object.assign({},c),{offset:[0,0],dynamicInset:!0});switch(l[t]=u,lj.has(t)&&(u.autoArrow=!1),t){case"top":case"topLeft":case"topRight":u.offset[1]=-s-i;break;case"bottom":case"bottomLeft":case"bottomRight":u.offset[1]=s+i;break;case"left":case"leftTop":case"leftBottom":u.offset[0]=-s-i;break;case"right":case"rightTop":case"rightBottom":u.offset[0]=s+i}const d=rj({contentRadius:o,limitVerticalRadius:!0});if(r)switch(t){case"topLeft":case"bottomLeft":u.offset[0]=-d.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":u.offset[0]=d.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":u.offset[1]=2*-d.arrowOffsetHorizontal+s;break;case"leftBottom":case"rightBottom":u.offset[1]=2*d.arrowOffsetHorizontal-s}u.overflow=function(t,e,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};const i=r&&"object"===typeof r?r:{},o={};switch(t){case"top":case"bottom":o.shiftX=2*e.arrowOffsetHorizontal+n,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=2*e.arrowOffsetVertical+n,o.shiftX=!0,o.adjustX=!0}const a=Object.assign(Object.assign({},o),i);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}(t,d,e,n),a&&(u.htmlRegion="visibleFirst")})),l}function uj(){}const dj=()=>{const t=()=>{};return t.deprecated=uj,t},hj=t=>({animationDuration:t,animationFillMode:"both"}),fj=t=>({animationDuration:t,animationFillMode:"both"}),pj=function(t,e,n,r){const i=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{[`\n      ${i}${t}-enter,\n      ${i}${t}-appear\n    `]:Object.assign(Object.assign({},hj(r)),{animationPlayState:"paused"}),[`${i}${t}-leave`]:Object.assign(Object.assign({},fj(r)),{animationPlayState:"paused"}),[`\n      ${i}${t}-enter${t}-enter-active,\n      ${i}${t}-appear${t}-appear-active\n    `]:{animationName:e,animationPlayState:"running"},[`${i}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},gj=new qP("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),mj=new qP("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),vj=new qP("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),yj=new qP("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),bj=new qP("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),xj=new qP("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),wj={zoom:{inKeyframes:gj,outKeyframes:mj},"zoom-big":{inKeyframes:vj,outKeyframes:yj},"zoom-big-fast":{inKeyframes:vj,outKeyframes:yj},"zoom-left":{inKeyframes:new qP("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new qP("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new qP("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new qP("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:bj,outKeyframes:xj},"zoom-down":{inKeyframes:new qP("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new qP("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},Ej=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=wj[e];return[pj(r,i,o,"zoom-big-fast"===e?t.motionDurationFast:t.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},Sj=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function kj(t,e){return Sj.reduce(((n,r)=>{const i=t[`${r}1`],o=t[`${r}3`],a=t[`${r}6`],s=t[`${r}7`];return Object.assign(Object.assign({},n),e(r,{lightColor:i,lightBorderColor:o,darkColor:a,textColor:s}))}),{})}const Mj=t=>{const{componentCls:e,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:o,zIndexPopup:a,controlHeight:s,boxShadowSecondary:l,paddingSM:c,paddingXS:u}=t;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},jT(t)),{position:"absolute",zIndex:a,display:"block",width:"max-content",maxWidth:n,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${e}-inner`]:{minWidth:"1em",minHeight:s,padding:`${vO(t.calc(c).div(2).equal())} ${vO(u)}`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:o,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:t.min(o,nj)}},[`${e}-content`]:{position:"relative"}}),kj(t,((t,n)=>{let{darkColor:r}=n;return{[`&${e}-${t}`]:{[`${e}-inner`]:{backgroundColor:r},[`${e}-arrow`]:{"--antd-arrow-background-color":r}}}}))),{"&-rtl":{direction:"rtl"}})},oj(t,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},Cj=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70},rj({contentRadius:t.borderRadius,limitVerticalRadius:!0})),tj(OT(t,{borderRadiusOuter:Math.min(t.borderRadiusOuter,4)}))),Nj=function(t){const e=vR("Tooltip",(t=>{const{borderRadius:e,colorTextLightSolid:n,colorBgSpotlight:r}=t,i=OT(t,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:e,tooltipBg:r});return[Mj(i),Ej(t,"zoom-big-fast")]}),Cj,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]});return e(t)},Oj=Sj.map((t=>`${t}-inverse`));function Pj(t,e){const n=function(t){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?Sj.includes(t):[].concat(MN(Oj),MN(Sj)).includes(t)}(e),r=lN()({[`${t}-${e}`]:e&&n}),i={},o={};return e&&!n&&(i.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:o}}const Tj=t=>{const{prefixCls:e,className:n,placement:r="top",title:i,color:o,overlayInnerStyle:a}=t,{getPrefixCls:s}=KC.useContext(hN),l=s("tooltip",e),[c,u,d]=Nj(l),h=Pj(l,o),f=h.arrowStyle,p=Object.assign(Object.assign({},a),h.overlayStyle),g=lN()(u,d,l,`${l}-pure`,`${l}-placement-${r}`,n,h.className);return c(KC.createElement("div",{className:g,style:f},KC.createElement("div",{className:`${l}-arrow`}),KC.createElement(L_,Object.assign({},t,{className:u,prefixCls:l,overlayInnerStyle:p}),i)))};var Aj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const Rj=KC.forwardRef(((t,e)=>{var n,r;const{prefixCls:i,openClassName:o,getTooltipContainer:a,overlayClassName:s,color:l,overlayInnerStyle:c,children:u,afterOpenChange:d,afterVisibleChange:h,destroyTooltipOnHide:f,arrow:p=!0,title:g,overlay:m,builtinPlacements:v,arrowPointAtCenter:y=!1,autoAdjustOverflow:b=!0}=t,x=!!p,[,w]=gR(),{getPopupContainer:E,getPrefixCls:S,direction:k}=KC.useContext(hN),M=dj("Tooltip"),C=KC.useRef(null),N=()=>{var t;null===(t=C.current)||void 0===t||t.forceAlign()};KC.useImperativeHandle(e,(()=>{var t;return{forceAlign:N,forcePopupAlign:()=>{M.deprecated(!1,"forcePopupAlign","forceAlign"),N()},nativeElement:null===(t=C.current)||void 0===t?void 0:t.nativeElement}}));const[O,P]=hT(!1,{value:null!==(n=t.open)&&void 0!==n?n:t.visible,defaultValue:null!==(r=t.defaultOpen)&&void 0!==r?r:t.defaultVisible}),T=!g&&!m&&0!==g,A=KC.useMemo((()=>{var t,e;let n=y;return"object"===typeof p&&(n=null!==(e=null!==(t=p.pointAtCenter)&&void 0!==t?t:p.arrowPointAtCenter)&&void 0!==e?e:y),v||cj({arrowPointAtCenter:n,autoAdjustOverflow:b,arrowWidth:x?w.sizePopupArrow:0,borderRadius:w.borderRadius,offset:w.marginXXS,visibleFirst:!0})}),[y,p,v,w]),R=KC.useMemo((()=>0===g?g:m||g||""),[m,g]),_=KC.createElement(YD,{space:!0},"function"===typeof R?R():R),{getPopupContainer:L,placement:I="top",mouseEnterDelay:D=.1,mouseLeaveDelay:j=.1,overlayStyle:z,rootClassName:F}=t,B=Aj(t,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),$=S("tooltip",i),V=S(),H=t["data-popover-inject"];let W=O;"open"in t||"visible"in t||!T||(W=!1);const G=KC.isValidElement(u)&&!function(t){return t&&KC.isValidElement(t)&&t.type===KC.Fragment}(u)?u:KC.createElement("span",null,u),U=G.props,q=U.className&&"string"!==typeof U.className?U.className:lN()(U.className,o||`${$}-open`),[Y,X,K]=Nj($,!H),Z=Pj($,l),Q=Z.arrowStyle,J=Object.assign(Object.assign({},c),Z.overlayStyle),tt=lN()(s,{[`${$}-rtl`]:"rtl"===k},Z.className,F,X,K),[et,nt]=JD("Tooltip",B.zIndex),rt=KC.createElement(CI,Object.assign({},B,{zIndex:et,showArrow:x,placement:I,mouseEnterDelay:D,mouseLeaveDelay:j,prefixCls:$,overlayClassName:tt,overlayStyle:Object.assign(Object.assign({},Q),z),getTooltipContainer:L||a||E,ref:C,builtinPlacements:A,overlay:_,visible:W,onVisibleChange:e=>{var n,r;P(!T&&e),T||(null===(n=t.onOpenChange)||void 0===n||n.call(t,e),null===(r=t.onVisibleChange)||void 0===r||r.call(t,e))},afterVisibleChange:null!==d&&void 0!==d?d:h,overlayInnerStyle:J,arrowContent:KC.createElement("span",{className:`${$}-arrow-content`}),motion:{motionName:__(V,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!f}),W?P_(G,{className:q}):G);return Y(KC.createElement(XD.Provider,{value:nt},rt))})),_j=Rj;_j._InternalPanelDoNotUseOrYouWillBeFired=Tj;const Lj=_j,Ij=t=>{const{componentCls:e,popoverColor:n,titleMinWidth:r,fontWeightStrong:i,innerPadding:o,boxShadowSecondary:a,colorTextHeading:s,borderRadiusLG:l,zIndexPopup:c,titleMarginBottom:u,colorBgElevated:d,popoverBg:h,titleBorderBottom:f,innerContentPadding:p,titlePadding:g}=t;return[{[e]:Object.assign(Object.assign({},jT(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":d,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{backgroundColor:h,backgroundClip:"padding-box",borderRadius:l,boxShadow:a,padding:o},[`${e}-title`]:{minWidth:r,marginBottom:u,color:s,fontWeight:i,borderBottom:f,padding:g},[`${e}-inner-content`]:{color:n,padding:p}})},oj(t,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${e}-content`]:{display:"inline-block"}}}]},Dj=t=>{const{componentCls:e}=t;return{[e]:Sj.map((n=>{const r=t[`${n}6`];return{[`&${e}-${n}`]:{"--antd-arrow-background-color":r,[`${e}-inner`]:{backgroundColor:r},[`${e}-arrow`]:{background:"transparent"}}}}))}},jj=vR("Popover",(t=>{const{colorBgElevated:e,colorText:n}=t,r=OT(t,{popoverBg:e,popoverColor:n});return[Ij(r),Dj(r),Ej(r,"zoom-big")]}),(t=>{const{lineWidth:e,controlHeight:n,fontHeight:r,padding:i,wireframe:o,zIndexPopupBase:a,borderRadiusLG:s,marginXS:l,lineType:c,colorSplit:u,paddingSM:d}=t,h=n-r,f=h/2,p=h/2-e,g=i;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:a+30},tj(t)),rj({contentRadius:s,limitVerticalRadius:!0})),{innerPadding:o?0:12,titleMarginBottom:o?0:l,titlePadding:o?`${f}px ${g}px ${p}px`:0,titleBorderBottom:o?`${e}px ${c} ${u}`:"none",innerContentPadding:o?`${d}px ${g}px`:0})}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var zj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const Fj=t=>{let{title:e,content:n,prefixCls:r}=t;return e||n?KC.createElement(KC.Fragment,null,e&&KC.createElement("div",{className:`${r}-title`},e),n&&KC.createElement("div",{className:`${r}-inner-content`},n)):null},Bj=t=>{const{hashId:e,prefixCls:n,className:r,style:i,placement:o="top",title:a,content:s,children:l}=t,c=R_(a),u=R_(s),d=lN()(e,n,`${n}-pure`,`${n}-placement-${o}`,r);return KC.createElement("div",{className:d,style:i},KC.createElement("div",{className:`${n}-arrow`}),KC.createElement(L_,Object.assign({},t,{className:e,prefixCls:n}),l||KC.createElement(Fj,{prefixCls:n,title:c,content:u})))},$j=t=>{const{prefixCls:e,className:n}=t,r=zj(t,["prefixCls","className"]),{getPrefixCls:i}=KC.useContext(hN),o=i("popover",e),[a,s,l]=jj(o);return a(KC.createElement(Bj,Object.assign({},r,{prefixCls:o,hashId:s,className:lN()(n,l)})))};var Vj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const Hj=KC.forwardRef(((t,e)=>{var n,r;const{prefixCls:i,title:o,content:a,overlayClassName:s,placement:l="top",trigger:c="hover",children:u,mouseEnterDelay:d=.1,mouseLeaveDelay:h=.1,onOpenChange:f,overlayStyle:p={}}=t,g=Vj(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:m}=KC.useContext(hN),v=m("popover",i),[y,b,x]=jj(v),w=m(),E=lN()(s,b,x),[S,k]=hT(!1,{value:null!==(n=t.open)&&void 0!==n?n:t.visible,defaultValue:null!==(r=t.defaultOpen)&&void 0!==r?r:t.defaultVisible}),M=(t,e)=>{k(t,!0),null===f||void 0===f||f(t,e)},C=R_(o),N=R_(a);return y(KC.createElement(Lj,Object.assign({placement:l,trigger:c,mouseEnterDelay:d,mouseLeaveDelay:h,overlayStyle:p},g,{prefixCls:v,overlayClassName:E,ref:e,open:S,onOpenChange:t=>{M(t)},overlay:C||N?KC.createElement(Fj,{prefixCls:v,title:C,content:N}):null,transitionName:__(w,"zoom-big",g.transitionName),"data-popover-inject":!0}),P_(u,{onKeyDown:t=>{var e,n;KC.isValidElement(u)&&(null===(n=null===u||void 0===u?void 0:(e=u.props).onKeyDown)||void 0===n||n.call(e,t)),(t=>{t.keyCode===A_.ESC&&M(!1,t)})(t)}})))}));Hj._InternalPanelDoNotUseOrYouWillBeFired=$j;const Wj=Hj,Gj=t=>{const{size:e,shape:n}=KC.useContext(E_),r=KC.useMemo((()=>({size:t.size||e,shape:t.shape||n})),[t.size,t.shape,e,n]);return KC.createElement(E_.Provider,{value:r},t.children)},Uj=t=>{var e,n,r;const{getPrefixCls:i,direction:o}=KC.useContext(hN),{prefixCls:a,className:s,rootClassName:l,style:c,maxCount:u,maxStyle:d,size:h,shape:f,maxPopoverPlacement:p,maxPopoverTrigger:g,children:m,max:v}=t;const y=i("avatar",a),b=`${y}-group`,x=v_(y),[w,E,S]=M_(y,x),k=lN()(b,{[`${b}-rtl`]:"rtl"===o},S,x,s,l,E),M=_R(m).map(((t,e)=>P_(t,{key:`avatar-key-${e}`}))),C=(null===v||void 0===v?void 0:v.count)||u,N=M.length;if(C&&C<N){const t=M.slice(0,C),i=M.slice(C,N),o=(null===v||void 0===v?void 0:v.style)||d,a=(null===(e=null===v||void 0===v?void 0:v.popover)||void 0===e?void 0:e.trigger)||g||"hover",s=(null===(n=null===v||void 0===v?void 0:v.popover)||void 0===n?void 0:n.placement)||p||"top",l=Object.assign(Object.assign({content:i},null===v||void 0===v?void 0:v.popover),{overlayClassName:lN()(`${b}-popover`,null===(r=null===v||void 0===v?void 0:v.popover)||void 0===r?void 0:r.overlayClassName),placement:s,trigger:a});return t.push(KC.createElement(Wj,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},l),KC.createElement(O_,{style:o},"+"+(N-C)))),w(KC.createElement(Gj,{shape:f,size:h},KC.createElement("div",{className:k,style:c},t)))}return w(KC.createElement(Gj,{shape:f,size:h},KC.createElement("div",{className:k,style:c},M)))},qj=O_;qj.Group=Uj;const Yj=qj;const Xj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const Kj=(0,KC.createContext)({});function Zj(t){return"object"===pN(t)&&"string"===typeof t.name&&"string"===typeof t.theme&&("object"===pN(t.icon)||"function"===typeof t.icon)}function Qj(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce((function(e,n){var r,i=t[n];if("class"===n)e.className=i,delete e.class;else delete e[n],e[(r=n,r.replace(/-(.)/g,(function(t,e){return e.toUpperCase()})))]=i;return e}),{})}function Jj(t,e,n){return n?KC.createElement(t.tag,SN(SN({key:e},Qj(t.attrs)),n),(t.children||[]).map((function(n,r){return Jj(n,"".concat(e,"-").concat(t.tag,"-").concat(r))}))):KC.createElement(t.tag,SN({key:e},Qj(t.attrs)),(t.children||[]).map((function(n,r){return Jj(n,"".concat(e,"-").concat(t.tag,"-").concat(r))})))}function tz(t){return yA(t)[0]}function ez(t){return t?Array.isArray(t)?t:[t]:[]}var nz=["icon","className","onClick","style","primaryColor","secondaryColor"],rz={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var iz=function(t){var e,n,r=t.icon,i=t.className,o=t.onClick,a=t.style,s=t.primaryColor,l=t.secondaryColor,c=I_(t,nz),u=KC.useRef(),d=rz;if(s&&(d={primaryColor:s,secondaryColor:l||tz(s)}),function(t){var e=(0,KC.useContext)(Kj),n=e.csp,r=e.prefixCls,i="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";r&&(i=i.replace(/anticon/g,r)),(0,KC.useEffect)((function(){var e=q_(t.current);zN(i,"@ant-design-icons",{prepend:!0,csp:n,attachTo:e})}),[])}(u),e=Zj(r),n="icon should be icon definiton, but got ".concat(r),GN(e,"[@ant-design/icons] ".concat(n)),!Zj(r))return null;var h=r;return h&&"function"===typeof h.icon&&(h=SN(SN({},h),{},{icon:h.icon(d.primaryColor,d.secondaryColor)})),Jj(h.icon,"svg-".concat(h.name),SN(SN({className:i,onClick:o,style:a,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c),{},{ref:u}))};iz.displayName="IconReact",iz.getTwoToneColors=function(){return SN({},rz)},iz.setTwoToneColors=function(t){var e=t.primaryColor,n=t.secondaryColor;rz.primaryColor=e,rz.secondaryColor=n||tz(e),rz.calculated=!!n};const oz=iz;function az(t){var e=bN(ez(t),2),n=e[0],r=e[1];return oz.setTwoToneColors({primaryColor:n,secondaryColor:r})}var sz=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];az(OA.primary);var lz=KC.forwardRef((function(t,e){var n=t.className,r=t.icon,i=t.spin,o=t.rotate,a=t.tabIndex,s=t.onClick,l=t.twoToneColor,c=I_(t,sz),u=KC.useContext(Kj),d=u.prefixCls,h=void 0===d?"anticon":d,f=u.rootClassName,p=lN()(f,h,wN(wN({},"".concat(h,"-").concat(r.name),!!r.name),"".concat(h,"-spin"),!!i||"loading"===r.name),n),g=a;void 0===g&&s&&(g=-1);var m=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,v=bN(ez(l),2),y=v[0],b=v[1];return KC.createElement("span",BO({role:"img","aria-label":r.name},c,{ref:e,tabIndex:g,onClick:s,className:p}),KC.createElement(oz,{icon:r,primaryColor:y,secondaryColor:b,style:m}))}));lz.displayName="AntdIcon",lz.getTwoToneColor=function(){var t=oz.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor},lz.setTwoToneColor=az;const cz=lz;var uz=function(t,e){return KC.createElement(cz,BO({},t,{ref:e,icon:Xj}))};const dz=KC.forwardRef(uz);var hz=function(t){if(NN()&&window.document.documentElement){var e=Array.isArray(t)?t:[t],n=window.document.documentElement;return e.some((function(t){return t in n.style}))}return!1};function fz(t,e){return Array.isArray(t)||void 0===e?hz(t):function(t,e){if(!hz(t))return!1;var n=document.createElement("div"),r=n.style[t];return n.style[t]=e,n.style[t]!==r}(t,e)}var pz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const gz={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-flex"},mz=KC.forwardRef(((t,e)=>{const{style:n,noStyle:r,disabled:i,tabIndex:o=0}=t,a=pz(t,["style","noStyle","disabled","tabIndex"]);let s={};return r||(s=Object.assign({},gz)),i&&(s.pointerEvents="none"),s=Object.assign(Object.assign({},s),n),KC.createElement("div",Object.assign({role:"button",tabIndex:o,ref:e},a,{onKeyDown:t=>{const{keyCode:e}=t;e===A_.ENTER&&t.preventDefault()},onKeyUp:e=>{const{keyCode:n}=e,{onClick:r}=t;n===A_.ENTER&&r&&r()},style:s}))})),vz=mz,yz=(0,KC.createContext)(void 0);const bz={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};const xz=SN(SN({},{yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),wz={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Ez={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},xz),timePickerLocale:Object.assign({},wz)},Sz="${label} is not a valid ${type}",kz={locale:"en",Pagination:bz,DatePicker:Ez,TimePicker:wz,Calendar:Ez,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Sz,method:Sz,array:Sz,object:Sz,number:Sz,date:Sz,boolean:Sz,integer:Sz,float:Sz,regexp:Sz,email:Sz,url:Sz,hex:Sz},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}},Mz=(t,e)=>{const n=KC.useContext(yz),r=KC.useMemo((()=>{var r;const i=e||kz[t],o=null!==(r=null===n||void 0===n?void 0:n[t])&&void 0!==r?r:{};return Object.assign(Object.assign({},"function"===typeof i?i():i),o||{})}),[t,e,n]);return[r,KC.useMemo((()=>{const t=null===n||void 0===n?void 0:n.locale;return(null===n||void 0===n?void 0:n.exist)&&!t?kz.locale:t}),[n])]};const Cz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};var Nz=function(t,e){return KC.createElement(cz,BO({},t,{ref:e,icon:Cz}))};const Oz=KC.forwardRef(Nz);function Pz(t,e,n){var r=e.cloneNode(!0),i=Object.create(t,{target:{value:r},currentTarget:{value:r}});return r.value=n,"number"===typeof e.selectionStart&&"number"===typeof e.selectionEnd&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},i}function Tz(t,e,n,r){if(n){var i=e;"click"!==e.type?"file"===t.type||void 0===r?n(i):n(i=Pz(e,t,r)):n(i=Pz(e,t,""))}}var Az=KC.forwardRef((function(t,e){var n,r,i=t.inputElement,o=t.children,a=t.prefixCls,s=t.prefix,l=t.suffix,c=t.addonBefore,u=t.addonAfter,d=t.className,h=t.style,f=t.disabled,p=t.readOnly,g=t.focused,m=t.triggerFocus,v=t.allowClear,y=t.value,b=t.handleReset,x=t.hidden,w=t.classes,E=t.classNames,S=t.dataAttrs,k=t.styles,M=t.components,C=t.onClear,N=null!==o&&void 0!==o?o:i,O=(null===M||void 0===M?void 0:M.affixWrapper)||"span",P=(null===M||void 0===M?void 0:M.groupWrapper)||"span",T=(null===M||void 0===M?void 0:M.wrapper)||"span",A=(null===M||void 0===M?void 0:M.groupAddon)||"span",R=(0,KC.useRef)(null),_=function(t){return!!(t.prefix||t.suffix||t.allowClear)}(t),L=(0,KC.cloneElement)(N,{value:y,className:lN()(N.props.className,!_&&(null===E||void 0===E?void 0:E.variant))||null}),I=(0,KC.useRef)(null);if(KC.useImperativeHandle(e,(function(){return{nativeElement:I.current||R.current}})),_){var D=null;if(v){var j=!f&&!p&&y,z="".concat(a,"-clear-icon"),F="object"===pN(v)&&null!==v&&void 0!==v&&v.clearIcon?v.clearIcon:"\u2716";D=KC.createElement("span",{onClick:function(t){null===b||void 0===b||b(t),null===C||void 0===C||C()},onMouseDown:function(t){return t.preventDefault()},className:lN()(z,wN(wN({},"".concat(z,"-hidden"),!j),"".concat(z,"-has-suffix"),!!l)),role:"button",tabIndex:-1},F)}var B="".concat(a,"-affix-wrapper"),$=lN()(B,wN(wN(wN(wN(wN({},"".concat(a,"-disabled"),f),"".concat(B,"-disabled"),f),"".concat(B,"-focused"),g),"".concat(B,"-readonly"),p),"".concat(B,"-input-with-clear-btn"),l&&v&&y),null===w||void 0===w?void 0:w.affixWrapper,null===E||void 0===E?void 0:E.affixWrapper,null===E||void 0===E?void 0:E.variant),V=(l||v)&&KC.createElement("span",{className:lN()("".concat(a,"-suffix"),null===E||void 0===E?void 0:E.suffix),style:null===k||void 0===k?void 0:k.suffix},D,l);L=KC.createElement(O,BO({className:$,style:null===k||void 0===k?void 0:k.affixWrapper,onClick:function(t){var e;null!==(e=R.current)&&void 0!==e&&e.contains(t.target)&&(null===m||void 0===m||m())}},null===S||void 0===S?void 0:S.affixWrapper,{ref:R}),s&&KC.createElement("span",{className:lN()("".concat(a,"-prefix"),null===E||void 0===E?void 0:E.prefix),style:null===k||void 0===k?void 0:k.prefix},s),L,V)}if(function(t){return!(!t.addonBefore&&!t.addonAfter)}(t)){var H="".concat(a,"-group"),W="".concat(H,"-addon"),G="".concat(H,"-wrapper"),U=lN()("".concat(a,"-wrapper"),H,null===w||void 0===w?void 0:w.wrapper,null===E||void 0===E?void 0:E.wrapper),q=lN()(G,wN({},"".concat(G,"-disabled"),f),null===w||void 0===w?void 0:w.group,null===E||void 0===E?void 0:E.groupWrapper);L=KC.createElement(P,{className:q,ref:I},KC.createElement(T,{className:U},c&&KC.createElement(A,{className:W},c),L,u&&KC.createElement(A,{className:W},u)))}return KC.cloneElement(L,{className:lN()(null===(n=L.props)||void 0===n?void 0:n.className,d)||null,style:SN(SN({},null===(r=L.props)||void 0===r?void 0:r.style),h),hidden:x})}));const Rz=Az;var _z=["show"];var Lz,Iz=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],Dz={};function jz(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Lz||((Lz=document.createElement("textarea")).setAttribute("tab-index","-1"),Lz.setAttribute("aria-hidden","true"),document.body.appendChild(Lz)),t.getAttribute("wrap")?Lz.setAttribute("wrap",t.getAttribute("wrap")):Lz.removeAttribute("wrap");var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&Dz[n])return Dz[n];var r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s={sizingStyle:Iz.map((function(t){return"".concat(t,":").concat(r.getPropertyValue(t))})).join(";"),paddingSize:o,borderSize:a,boxSizing:i};return e&&n&&(Dz[n]=s),s}(t,e),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,l=i.sizingStyle;Lz.setAttribute("style","".concat(l,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),Lz.value=t.value||t.placeholder||"";var c,u=void 0,d=void 0,h=Lz.scrollHeight;if("border-box"===s?h+=a:"content-box"===s&&(h-=o),null!==n||null!==r){Lz.value=" ";var f=Lz.scrollHeight-o;null!==n&&(u=f*n,"border-box"===s&&(u=u+o+a),h=Math.max(u,h)),null!==r&&(d=f*r,"border-box"===s&&(d=d+o+a),c=h>d?"":"hidden",h=Math.min(d,h))}var p={height:h,overflowY:c,resize:"none"};return u&&(p.minHeight=u),d&&(p.maxHeight=d),p}var zz=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],Fz=KC.forwardRef((function(t,e){var n=t,r=n.prefixCls,i=n.defaultValue,o=n.value,a=n.autoSize,s=n.onResize,l=n.className,c=n.style,u=n.disabled,d=n.onChange,h=(n.onInternalAutoSize,I_(n,zz)),f=bN(hT(i,{value:o,postState:function(t){return null!==t&&void 0!==t?t:""}}),2),p=f[0],g=f[1],m=KC.useRef();KC.useImperativeHandle(e,(function(){return{textArea:m.current}}));var v=bN(KC.useMemo((function(){return a&&"object"===pN(a)?[a.minRows,a.maxRows]:[]}),[a]),2),y=v[0],b=v[1],x=!!a,w=bN(KC.useState(2),2),E=w[0],S=w[1],k=bN(KC.useState(),2),M=k[0],C=k[1],N=function(){S(0)};MO((function(){x&&N()}),[o,y,b,x]),MO((function(){if(0===E)S(1);else if(1===E){var t=jz(m.current,!1,y,b);S(2),C(t)}else!function(){try{if(document.activeElement===m.current){var t=m.current,e=t.selectionStart,n=t.selectionEnd,r=t.scrollTop;m.current.setSelectionRange(e,n),m.current.scrollTop=r}}catch(i){}}()}),[E]);var O=KC.useRef(),P=function(){TL.cancel(O.current)};KC.useEffect((function(){return P}),[]);var T=x?M:null,A=SN(SN({},c),T);return 0!==E&&1!==E||(A.overflowY="hidden",A.overflowX="hidden"),KC.createElement(f_,{onResize:function(t){2===E&&(null===s||void 0===s||s(t),a&&(P(),O.current=TL((function(){N()}))))},disabled:!(a||s)},KC.createElement("textarea",BO({},h,{ref:m,style:A,className:lN()(r,l,wN({},"".concat(r,"-disabled"),u)),disabled:u,value:p,onChange:function(t){g(t.target.value),null===d||void 0===d||d(t)}})))}));const Bz=Fz;var $z=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],Vz=KC.forwardRef((function(t,e){var n,r=t.defaultValue,i=t.value,o=t.onFocus,a=t.onBlur,s=t.onChange,l=t.allowClear,c=t.maxLength,u=t.onCompositionStart,d=t.onCompositionEnd,h=t.suffix,f=t.prefixCls,p=void 0===f?"rc-textarea":f,g=t.showCount,m=t.count,v=t.className,y=t.style,b=t.disabled,x=t.hidden,w=t.classNames,E=t.styles,S=t.onResize,k=t.onClear,M=t.onPressEnter,C=t.readOnly,N=t.autoSize,O=t.onKeyDown,P=I_(t,$z),T=bN(hT(r,{value:i,defaultValue:r}),2),A=T[0],R=T[1],_=void 0===A||null===A?"":String(A),L=bN(KC.useState(!1),2),I=L[0],D=L[1],j=KC.useRef(!1),z=bN(KC.useState(null),2),F=z[0],B=z[1],$=(0,KC.useRef)(null),V=(0,KC.useRef)(null),H=function(){var t;return null===(t=V.current)||void 0===t?void 0:t.textArea},W=function(){H().focus()};(0,KC.useImperativeHandle)(e,(function(){var t;return{resizableTextArea:V.current,focus:W,blur:function(){H().blur()},nativeElement:(null===(t=$.current)||void 0===t?void 0:t.nativeElement)||H()}})),(0,KC.useEffect)((function(){D((function(t){return!b&&t}))}),[b]);var G=bN(KC.useState(null),2),U=G[0],q=G[1];KC.useEffect((function(){var t;U&&(t=H()).setSelectionRange.apply(t,MN(U))}),[U]);var Y,X=function(t,e){return KC.useMemo((function(){var n={};e&&(n.show="object"===pN(e)&&e.formatter?e.formatter:!!e);var r=n=SN(SN({},n),t),i=r.show,o=I_(r,_z);return SN(SN({},o),{},{show:!!i,showFormatter:"function"===typeof i?i:void 0,strategy:o.strategy||function(t){return t.length}})}),[t,e])}(m,g),K=null!==(n=X.max)&&void 0!==n?n:c,Z=Number(K)>0,Q=X.strategy(_),J=!!K&&Q>K,tt=function(t,e){var n=e;!j.current&&X.exceedFormatter&&X.max&&X.strategy(e)>X.max&&e!==(n=X.exceedFormatter(e,{max:X.max}))&&q([H().selectionStart||0,H().selectionEnd||0]),R(n),Tz(t.currentTarget,t,s,n)},et=h;X.show&&(Y=X.showFormatter?X.showFormatter({value:_,count:Q,maxLength:K}):"".concat(Q).concat(Z?" / ".concat(K):""),et=KC.createElement(KC.Fragment,null,et,KC.createElement("span",{className:lN()("".concat(p,"-data-count"),null===w||void 0===w?void 0:w.count),style:null===E||void 0===E?void 0:E.count},Y)));var nt=!N&&!g&&!l;return KC.createElement(Rz,{ref:$,value:_,allowClear:l,handleReset:function(t){R(""),W(),Tz(H(),t,s)},suffix:et,prefixCls:p,classNames:SN(SN({},w),{},{affixWrapper:lN()(null===w||void 0===w?void 0:w.affixWrapper,wN(wN({},"".concat(p,"-show-count"),g),"".concat(p,"-textarea-allow-clear"),l))}),disabled:b,focused:I,className:lN()(v,J&&"".concat(p,"-out-of-range")),style:SN(SN({},y),F&&!nt?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof Y?Y:void 0}},hidden:x,readOnly:C,onClear:k},KC.createElement(Bz,BO({},P,{autoSize:N,maxLength:c,onKeyDown:function(t){"Enter"===t.key&&M&&M(t),null===O||void 0===O||O(t)},onChange:function(t){tt(t,t.target.value)},onFocus:function(t){D(!0),null===o||void 0===o||o(t)},onBlur:function(t){D(!1),null===a||void 0===a||a(t)},onCompositionStart:function(t){j.current=!0,null===u||void 0===u||u(t)},onCompositionEnd:function(t){j.current=!1,tt(t,t.currentTarget.value),null===d||void 0===d||d(t)},className:lN()(null===w||void 0===w?void 0:w.textarea),style:SN(SN({},null===E||void 0===E?void 0:E.textarea),{},{resize:null===y||void 0===y?void 0:y.resize}),disabled:b,prefixCls:p,onResize:function(t){var e;null===S||void 0===S||S(t),null!==(e=H())&&void 0!==e&&e.style.height&&B(!0)},ref:V,readOnly:C})))}));const Hz=Vz;const Wz={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var Gz=function(t,e){return KC.createElement(cz,BO({},t,{ref:e,icon:Wz}))};const Uz=KC.forwardRef(Gz),qz=t=>{let e;return"object"===typeof t&&(null===t||void 0===t?void 0:t.clearIcon)?e=t:t&&(e={clearIcon:KC.createElement(Uz,null)}),e};function Yz(t,e,n){return lN()({[`${t}-status-success`]:"success"===e,[`${t}-status-warning`]:"warning"===e,[`${t}-status-error`]:"error"===e,[`${t}-status-validating`]:"validating"===e,[`${t}-has-feedback`]:n})}const Xz=KC.createContext(!1),Kz=Xz,Zz=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;var r,i;const{variant:o,[t]:a}=(0,KC.useContext)(hN),s=(0,KC.useContext)(GD),l=null===a||void 0===a?void 0:a.variant;let c;c="undefined"!==typeof e?e:!1===n?"borderless":null!==(i=null!==(r=null!==s&&void 0!==s?s:l)&&void 0!==r?r:o)&&void 0!==i?i:"outlined";return[c,dN.includes(c)]};function Qz(t,e,n){const{focusElCls:r,focus:i,borderElCls:o}=n,a=o?"> *":"",s=["hover",i?"focus":null,"active"].filter(Boolean).map((t=>`&:${t} ${a}`)).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${a}`]:{zIndex:0}})}}function Jz(t,e,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function tF(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};const{componentCls:n}=t,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},Qz(t,r,e)),Jz(n,r,e))}}const eF=t=>({borderColor:t.hoverBorderColor,backgroundColor:t.hoverBg}),nF=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},eF(OT(t,{hoverBorderColor:t.colorBorder,hoverBg:t.colorBgContainerDisabled})))}),rF=(t,e)=>({background:t.colorBgContainer,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:t.activeBg}}),iF=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},rF(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:e.borderColor}}),oF=(t,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rF(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},nF(t))}),iF(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),iF(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),aF=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),sF=t=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.addonBg,border:`${vO(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},aF(t,{status:"error",addonBorderColor:t.colorError,addonColor:t.colorErrorText})),aF(t,{status:"warning",addonBorderColor:t.colorWarning,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group-addon`]:Object.assign({},nF(t))}})}),lF=(t,e)=>{const{componentCls:n}=t;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:t.colorTextDisabled},[`&${n}-status-error`]:{"&, & input, & textarea":{color:t.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:t.colorWarning}}},e)}},cF=(t,e)=>({background:e.bg,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:null===e||void 0===e?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:t.activeBg}}),uF=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},cF(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}})}),dF=(t,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},cF(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},nF(t))}),uF(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,inputColor:t.colorErrorText,affixColor:t.colorError})),uF(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,inputColor:t.colorWarningText,affixColor:t.colorWarning})),e)}),hF=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),fF=t=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary},[`${t.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${vO(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${vO(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}}},hF(t,{status:"error",addonBg:t.colorErrorBg,addonColor:t.colorErrorText})),hF(t,{status:"warning",addonBg:t.colorWarningBg,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary,color:t.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${vO(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${vO(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${vO(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${vO(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${vO(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${vO(t.lineWidth)} ${t.lineType} ${t.colorBorder}`}}}})}),pF=t=>{const{paddingBlockLG:e,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:i}=t;return{padding:`${vO(e)} ${vO(i)}`,fontSize:t.inputFontSizeLG,lineHeight:n,borderRadius:r}},gF=t=>({padding:`${vO(t.paddingBlockSM)} ${vO(t.paddingInlineSM)}`,fontSize:t.inputFontSizeSM,borderRadius:t.borderRadiusSM}),mF=t=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${vO(t.paddingBlock)} ${vO(t.paddingInline)}`,color:t.colorText,fontSize:t.inputFontSize,lineHeight:t.lineHeight,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid}`},{"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t.colorTextPlaceholder,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:`all ${t.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},pF(t)),"&-sm":Object.assign({},gF(t)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),vF=t=>{const{componentCls:e,antCls:n}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},pF(t)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},gF(t)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${vO(t.paddingInline)}`,color:t.colorText,fontWeight:"normal",fontSize:t.inputFontSize,textAlign:"center",borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${vO(t.calc(t.paddingBlock).add(1).mul(-1).equal())} ${vO(t.calc(t.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${vO(t.lineWidth)} ${t.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${n}-select-selector`]:{color:t.colorPrimary}}},[`${n}-cascader-picker`]:{margin:`-9px ${vO(t.calc(t.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`\n        & > ${e}-affix-wrapper,\n        & > ${e}-number-affix-wrapper,\n        & > ${n}-picker-range\n      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderInlineEndWidth:t.lineWidth},[e]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,\n      & > ${n}-select-auto-complete ${e},\n      & > ${n}-cascader-picker ${e},\n      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,\n      & > ${n}-select:first-child > ${n}-select-selector,\n      & > ${n}-select-auto-complete:first-child ${e},\n      & > ${n}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},[`& > *:last-child,\n      & > ${n}-select:last-child > ${n}-select-selector,\n      & > ${n}-cascader-picker:last-child ${e},\n      & > ${n}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},[`& > ${n}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:t.calc(t.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}})}},yF=t=>{const{componentCls:e,controlHeightSM:n,lineWidth:r,calc:i}=t,o=i(n).sub(i(r).mul(2)).sub(16).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},jT(t)),mF(t)),oF(t)),dF(t)),lF(t)),{'&[type="color"]':{height:t.controlHeight,[`&${e}-lg`]:{height:t.controlHeightLG},[`&${e}-sm`]:{height:n,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},bF=t=>{const{componentCls:e}=t;return{[`${e}-clear-icon`]:{margin:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"&:hover":{color:t.colorTextTertiary},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${vO(t.inputAffixPadding)}`}}}},xF=t=>{const{componentCls:e,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:a,iconCls:s}=t,l=`${e}-affix-wrapper`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},mF(t)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),bF(t)),{[`${s}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:a}}})}},wF=t=>{const{componentCls:e,borderRadiusLG:n,borderRadiusSM:r}=t;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},jT(t)),vF(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:n,fontSize:t.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},sF(t)),fF(t)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},EF=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-search`;return{[r]:{[e]:{"&:hover, &:focus":{borderColor:t.colorPrimaryHover,[`+ ${e}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:t.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{borderRadius:0},[`${e}-lg`]:{lineHeight:t.calc(t.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:t.colorTextDescription,"&:hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${r}-button`]:{height:t.controlHeightLG},[`&-small ${r}-button`]:{height:t.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,\n        > ${e},\n        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},SF=t=>{const{componentCls:e,paddingLG:n}=t,r=`${e}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:t.calc(t.fontSize).mul(t.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`\n        &-allow-clear > ${e},\n        &-affix-wrapper${r}-has-feedback ${e}\n      `]:{paddingInlineEnd:n},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:t.paddingInline,insetBlockStart:t.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:t.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:t.paddingInlineSM}}}}}},kF=t=>{const{componentCls:e}=t;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:t.colorError}}}},MF=vR("Input",(t=>{const e=OT(t,function(t){return OT(t,{inputAffixPadding:t.paddingXXS})}(t));return[yF(e),SF(e),xF(e),wF(e),EF(e),kF(e),tF(e)]}),(t=>{const{controlHeight:e,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:o,controlHeightLG:a,fontSizeLG:s,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:h,colorPrimaryHover:f,colorPrimary:p,controlOutlineWidth:g,controlOutline:m,colorErrorOutline:v,colorWarningOutline:y,colorBgContainer:b}=t;return{paddingBlock:Math.max(Math.round((e-n*r)/2*10)/10-i,0),paddingBlockSM:Math.max(Math.round((o-n*r)/2*10)/10-i,0),paddingBlockLG:Math.ceil((a-s*l)/2*10)/10-i,paddingInline:c-i,paddingInlineSM:u-i,paddingInlineLG:d-i,addonBg:h,activeBorderColor:p,hoverBorderColor:f,activeShadow:`0 0 0 ${g}px ${m}`,errorActiveShadow:`0 0 0 ${g}px ${v}`,warningActiveShadow:`0 0 0 ${g}px ${y}`,hoverBg:b,activeBg:b,inputFontSize:n,inputFontSizeLG:s,inputFontSizeSM:n}}),{resetFont:!1});var CF=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const NF=(0,KC.forwardRef)(((t,e)=>{var n,r;const{prefixCls:i,bordered:o=!0,size:a,disabled:s,status:l,allowClear:c,classNames:u,rootClassName:d,className:h,style:f,styles:p,variant:g}=t,m=CF(t,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]);const{getPrefixCls:v,direction:y,textArea:b}=KC.useContext(hN),x=x_(a),w=KC.useContext(Kz),E=null!==s&&void 0!==s?s:w,{status:S,hasFeedback:k,feedbackIcon:M}=KC.useContext(HD),C=((t,e)=>e||t)(S,l),N=KC.useRef(null);KC.useImperativeHandle(e,(()=>{var t;return{resizableTextArea:null===(t=N.current)||void 0===t?void 0:t.resizableTextArea,focus:t=>{var e,n;!function(t,e){if(!t)return;t.focus(e);const{cursor:n}=e||{};if(n){const e=t.value.length;switch(n){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(e,e);break;default:t.setSelectionRange(0,e)}}}(null===(n=null===(e=N.current)||void 0===e?void 0:e.resizableTextArea)||void 0===n?void 0:n.textArea,t)},blur:()=>{var t;return null===(t=N.current)||void 0===t?void 0:t.blur()}}}));const O=v("input",i),P=v_(O),[T,A,R]=MF(O,P),[_,L]=Zz("textArea",g,o),I=qz(null!==c&&void 0!==c?c:null===b||void 0===b?void 0:b.allowClear);return T(KC.createElement(Hz,Object.assign({autoComplete:null===b||void 0===b?void 0:b.autoComplete},m,{style:Object.assign(Object.assign({},null===b||void 0===b?void 0:b.style),f),styles:Object.assign(Object.assign({},null===b||void 0===b?void 0:b.styles),p),disabled:E,allowClear:I,className:lN()(R,P,h,d,null===b||void 0===b?void 0:b.className),classNames:Object.assign(Object.assign(Object.assign({},u),null===b||void 0===b?void 0:b.classNames),{textarea:lN()({[`${O}-sm`]:"small"===x,[`${O}-lg`]:"large"===x},A,null===u||void 0===u?void 0:u.textarea,null===(n=null===b||void 0===b?void 0:b.classNames)||void 0===n?void 0:n.textarea),variant:lN()({[`${O}-${_}`]:L},Yz(O,C)),affixWrapper:lN()(`${O}-textarea-affix-wrapper`,{[`${O}-affix-wrapper-rtl`]:"rtl"===y,[`${O}-affix-wrapper-sm`]:"small"===x,[`${O}-affix-wrapper-lg`]:"large"===x,[`${O}-textarea-show-count`]:t.showCount||(null===(r=t.count)||void 0===r?void 0:r.show)},A)}),prefixCls:O,suffix:k&&KC.createElement("span",{className:`${O}-textarea-suffix`},M),ref:N})))})),OF=NF,PF=t=>({color:t.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"&:focus, &:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive}}),TF=t=>{const e={};return[1,2,3,4,5].forEach((n=>{e[`\n      h${n}&,\n      div&-h${n},\n      div&-h${n} > textarea,\n      h${n}\n    `]=((t,e,n,r)=>{const{titleMarginBottom:i,fontWeightStrong:o}=r;return{marginBottom:i,color:n,fontWeight:o,fontSize:t,lineHeight:e}})(t[`fontSizeHeading${n}`],t[`lineHeightHeading${n}`],t.colorTextHeading,t)})),e},AF=t=>{const{componentCls:e}=t;return{"a&, a":Object.assign(Object.assign({},PF(t)),{textDecoration:t.linkDecoration,"&:active, &:hover":{textDecoration:t.linkHoverDecoration},[`&[disabled], &${e}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:t.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},RF=t=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:t.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:t.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:SA[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:t.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),_F=t=>{const{componentCls:e,paddingSM:n}=t,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:t.calc(t.paddingSM).mul(-1).equal(),marginTop:t.calc(r).mul(-1).equal(),marginBottom:`calc(1em - ${vO(r)})`},[`${e}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:t.calc(t.marginXS).add(2).equal(),insetBlockEnd:t.marginXS,color:t.colorTextDescription,fontWeight:"normal",fontSize:t.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},LF=t=>({[`${t.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:t.colorSuccess}},[`${t.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),IF=t=>{const{componentCls:e,titleMarginTop:n}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorText,wordBreak:"break-word",lineHeight:t.lineHeight,[`&${e}-secondary`]:{color:t.colorTextDescription},[`&${e}-success`]:{color:t.colorSuccess},[`&${e}-warning`]:{color:t.colorWarning},[`&${e}-danger`]:{color:t.colorError,"a&:active, a&:focus":{color:t.colorErrorActive},"a&:hover":{color:t.colorErrorHover}},[`&${e}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},TF(t)),{[`\n      & + h1${e},\n      & + h2${e},\n      & + h3${e},\n      & + h4${e},\n      & + h5${e}\n      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),RF(t)),AF(t)),{[`\n        ${e}-expand,\n        ${e}-collapse,\n        ${e}-edit,\n        ${e}-copy\n      `]:Object.assign(Object.assign({},PF(t)),{marginInlineStart:t.marginXXS})}),_F(t)),LF(t)),{"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),{"&-rtl":{direction:"rtl"}})}},DF=vR("Typography",(t=>[IF(t)]),(()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}))),jF=t=>{const{prefixCls:e,"aria-label":n,className:r,style:i,direction:o,maxLength:a,autoSize:s=!0,value:l,onSave:c,onCancel:u,onEnd:d,component:h,enterIcon:f=KC.createElement(Oz,null)}=t,p=KC.useRef(null),g=KC.useRef(!1),m=KC.useRef(),[v,y]=KC.useState(l);KC.useEffect((()=>{y(l)}),[l]),KC.useEffect((()=>{var t;if(null===(t=p.current)||void 0===t?void 0:t.resizableTextArea){const{textArea:t}=p.current.resizableTextArea;t.focus();const{length:e}=t.value;t.setSelectionRange(e,e)}}),[]);const b=()=>{c(v.trim())},[x,w,E]=DF(e),S=lN()(e,`${e}-edit-content`,{[`${e}-rtl`]:"rtl"===o,[`${e}-${h}`]:!!h},r,w,E);return x(KC.createElement("div",{className:S,style:i},KC.createElement(OF,{ref:p,maxLength:a,value:v,onChange:t=>{let{target:e}=t;y(e.value.replace(/[\n\r]/g,""))},onKeyDown:t=>{let{keyCode:e}=t;g.current||(m.current=e)},onKeyUp:t=>{let{keyCode:e,ctrlKey:n,altKey:r,metaKey:i,shiftKey:o}=t;m.current!==e||g.current||n||r||i||o||(e===A_.ENTER?(b(),null===d||void 0===d||d()):e===A_.ESC&&u())},onCompositionStart:()=>{g.current=!0},onCompositionEnd:()=>{g.current=!1},onBlur:()=>{b()},"aria-label":n,rows:1,autoSize:s}),null!==f?P_(f,{className:`${e}-edit-content-confirm`}):null))};var zF=n(7243),FF=n.n(zF),BF=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))};const $F=t=>{let{copyConfig:e,children:n}=t;const[r,i]=KC.useState(!1),[o,a]=KC.useState(!1),s=KC.useRef(null),l=()=>{s.current&&clearTimeout(s.current)},c={};e.format&&(c.format=e.format),KC.useEffect((()=>l),[]);const u=cT((t=>BF(void 0,void 0,void 0,(function*(){var r;null===t||void 0===t||t.preventDefault(),null===t||void 0===t||t.stopPropagation(),a(!0);try{const o="function"===typeof e.text?yield e.text():e.text;FF()(o||String(n)||"",c),a(!1),i(!0),l(),s.current=setTimeout((()=>{i(!1)}),3e3),null===(r=e.onCopy)||void 0===r||r.call(e,t)}catch(o){throw a(!1),o}}))));return{copied:r,copyLoading:o,onClick:u}};function VF(t,e){return KC.useMemo((()=>{const n=!!t;return[n,Object.assign(Object.assign({},e),n&&"object"===typeof t?t:null)]}),[t])}const HF=t=>{const e=(0,KC.useRef)();return(0,KC.useEffect)((()=>{e.current=t})),e.current},WF=(t,e,n)=>(0,KC.useMemo)((()=>!0===t?{title:null!==e&&void 0!==e?e:n}:(0,KC.isValidElement)(t)?{title:t}:"object"===typeof t?Object.assign({title:null!==e&&void 0!==e?e:n},t):{title:t}),[t,e,n]);var GF=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const UF=KC.forwardRef(((t,e)=>{const{prefixCls:n,component:r="article",className:i,rootClassName:o,setContentRef:a,children:s,direction:l,style:c}=t,u=GF(t,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:d,direction:h,typography:f}=KC.useContext(hN),p=null!==l&&void 0!==l?l:h,g=a?gT(e,a):e,m=d("typography",n);const[v,y,b]=DF(m),x=lN()(m,null===f||void 0===f?void 0:f.className,{[`${m}-rtl`]:"rtl"===p},i,o,y,b),w=Object.assign(Object.assign({},null===f||void 0===f?void 0:f.style),c);return v(KC.createElement(r,Object.assign({className:x,style:w,ref:g},u),s))}));const qF=UF;const YF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var XF=function(t,e){return KC.createElement(cz,BO({},t,{ref:e,icon:YF}))};const KF=KC.forwardRef(XF);const ZF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};var QF=function(t,e){return KC.createElement(cz,BO({},t,{ref:e,icon:ZF}))};const JF=KC.forwardRef(QF);const tB={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var eB=function(t,e){return KC.createElement(cz,BO({},t,{ref:e,icon:tB}))};const nB=KC.forwardRef(eB);function rB(t){return!1===t?[!1,!1]:Array.isArray(t)?t:[t]}function iB(t,e,n){return!0===t||void 0===t?e:t||n&&e}const oB=t=>["string","number"].includes(typeof t),aB=t=>{let{prefixCls:e,copied:n,locale:r,iconOnly:i,tooltips:o,icon:a,tabIndex:s,onCopy:l,loading:c}=t;const u=rB(o),d=rB(a),{copied:h,copy:f}=null!==r&&void 0!==r?r:{},p=n?h:f,g=iB(u[n?1:0],p),m="string"===typeof g?g:p;return KC.createElement(Lj,{title:g},KC.createElement(vz,{className:lN()(`${e}-copy`,{[`${e}-copy-success`]:n,[`${e}-copy-icon-only`]:i}),onClick:l,"aria-label":m,tabIndex:s},n?iB(d[1],KC.createElement(KF,null),!0):iB(d[0],c?KC.createElement(nB,null):KC.createElement(JF,null),!0)))},sB=KC.forwardRef(((t,e)=>{let{style:n,children:r}=t;const i=KC.useRef(null);return KC.useImperativeHandle(e,(()=>({isExceed:()=>{const t=i.current;return t.scrollHeight>t.clientHeight},getHeight:()=>i.current.clientHeight}))),KC.createElement("span",{"aria-hidden":!0,ref:i,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},n)},r)}));function lB(t,e){let n=0;const r=[];for(let i=0;i<t.length;i+=1){if(n===e)return r;const o=t[i],a=n+(oB(o)?String(o).length:1);if(a>e){const t=e-n;return r.push(String(o).slice(0,t)),r}r.push(o),n=a}return t}const cB=0,uB=4,dB={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function hB(t){const{enableMeasure:e,width:n,text:r,children:i,rows:o,expanded:a,miscDeps:s,onEllipsis:l}=t,c=KC.useMemo((()=>_R(r)),[r]),u=KC.useMemo((()=>(t=>t.reduce(((t,e)=>t+(oB(e)?String(e).length:1)),0))(c)),[r]),d=KC.useMemo((()=>i(c,!1)),[r]),[h,f]=KC.useState(null),p=KC.useRef(null),g=KC.useRef(null),m=KC.useRef(null),v=KC.useRef(null),y=KC.useRef(null),[b,x]=KC.useState(!1),[w,E]=KC.useState(cB),[S,k]=KC.useState(0),[M,C]=KC.useState(null);MO((()=>{E(e&&n&&u?1:cB)}),[n,r,o,e,c]),MO((()=>{var t,e,n,r;if(1===w){E(2);const t=g.current&&getComputedStyle(g.current).whiteSpace;C(t)}else if(2===w){const i=!!(null===(t=m.current)||void 0===t?void 0:t.isExceed());E(i?3:uB),f(i?[0,u]:null),x(i);const a=(null===(e=m.current)||void 0===e?void 0:e.getHeight())||0,s=1===o?0:(null===(n=v.current)||void 0===n?void 0:n.getHeight())||0,c=(null===(r=y.current)||void 0===r?void 0:r.getHeight())||0,d=Math.max(a,s+c);k(d+1),l(i)}}),[w]);const N=h?Math.ceil((h[0]+h[1])/2):0;MO((()=>{var t;const[e,n]=h||[0,0];if(e!==n){const r=((null===(t=p.current)||void 0===t?void 0:t.getHeight())||0)>S;let i=N;n-e===1&&(i=r?e:n),f(r?[e,i]:[i,n])}}),[h,N]);const O=KC.useMemo((()=>{if(!e)return i(c,!1);if(3!==w||!h||h[0]!==h[1]){const t=i(c,!1);return[uB,cB].includes(w)?t:KC.createElement("span",{style:Object.assign(Object.assign({},dB),{WebkitLineClamp:o})},t)}return i(a?c:lB(c,h[0]),b)}),[a,w,h,c].concat(MN(s))),P={width:n,margin:0,padding:0,whiteSpace:"nowrap"===M?"normal":"inherit"};return KC.createElement(KC.Fragment,null,O,2===w&&KC.createElement(KC.Fragment,null,KC.createElement(sB,{style:Object.assign(Object.assign(Object.assign({},P),dB),{WebkitLineClamp:o}),ref:m},d),KC.createElement(sB,{style:Object.assign(Object.assign(Object.assign({},P),dB),{WebkitLineClamp:o-1}),ref:v},d),KC.createElement(sB,{style:Object.assign(Object.assign(Object.assign({},P),dB),{WebkitLineClamp:1}),ref:y},i([],!0))),3===w&&h&&h[0]!==h[1]&&KC.createElement(sB,{style:Object.assign(Object.assign({},P),{top:400}),ref:p},i(lB(c,N),!0)),1===w&&KC.createElement("span",{style:{whiteSpace:"inherit"},ref:g}))}const fB=t=>{let{enableEllipsis:e,isEllipsis:n,children:r,tooltipProps:i}=t;return(null===i||void 0===i?void 0:i.title)&&e?KC.createElement(Lj,Object.assign({open:!!n&&void 0},i),r):r};var pB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const gB=KC.forwardRef(((t,e)=>{var n;const{prefixCls:r,className:i,style:o,type:a,disabled:s,children:l,ellipsis:c,editable:u,copyable:d,component:h,title:f}=t,p=pB(t,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:g,direction:m}=KC.useContext(hN),[v]=Mz("Text"),y=KC.useRef(null),b=KC.useRef(null),x=g("typography",r),w=cN(p,["mark","code","delete","underline","strong","keyboard","italic"]),[E,S]=VF(u),[k,M]=hT(!1,{value:S.editing}),{triggerType:C=["icon"]}=S,N=t=>{var e;t&&(null===(e=S.onStart)||void 0===e||e.call(S)),M(t)},O=HF(k);MO((()=>{var t;!k&&O&&(null===(t=b.current)||void 0===t||t.focus())}),[k]);const P=t=>{null===t||void 0===t||t.preventDefault(),N(!0)},T=t=>{var e;null===(e=S.onChange)||void 0===e||e.call(S,t),N(!1)},A=()=>{var t;null===(t=S.onCancel)||void 0===t||t.call(S),N(!1)},[R,_]=VF(d),{copied:L,copyLoading:I,onClick:D}=$F({copyConfig:_,children:l}),[j,z]=KC.useState(!1),[F,B]=KC.useState(!1),[$,V]=KC.useState(!1),[H,W]=KC.useState(!1),[G,U]=KC.useState(!0),[q,Y]=VF(c,{expandable:!1,symbol:t=>t?null===v||void 0===v?void 0:v.collapse:null===v||void 0===v?void 0:v.expand}),[X,K]=hT(Y.defaultExpanded||!1,{value:Y.expanded}),Z=q&&(!X||"collapsible"===Y.expandable),{rows:Q=1}=Y,J=KC.useMemo((()=>Z&&(void 0!==Y.suffix||Y.onEllipsis||Y.expandable||E||R)),[Z,Y,E,R]);MO((()=>{q&&!J&&(z(fz("webkitLineClamp")),B(fz("textOverflow")))}),[J,q]);const[tt,et]=KC.useState(Z),nt=KC.useMemo((()=>!J&&(1===Q?F:j)),[J,F,j]);MO((()=>{et(nt&&Z)}),[nt,Z]);const rt=Z&&(tt?H:$),it=Z&&1===Q&&tt,ot=Z&&Q>1&&tt,[at,st]=KC.useState(0),lt=t=>{var e;V(t),$!==t&&(null===(e=Y.onEllipsis)||void 0===e||e.call(Y,t))};KC.useEffect((()=>{const t=y.current;if(q&&tt&&t){const e=function(t){const e=document.createElement("em");t.appendChild(e);const n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return t.removeChild(e),n.left>r.left||r.right>n.right||n.top>r.top||r.bottom>n.bottom}(t);H!==e&&W(e)}}),[q,tt,l,ot,G,at]),KC.useEffect((()=>{const t=y.current;if("undefined"===typeof IntersectionObserver||!t||!tt||!Z)return;const e=new IntersectionObserver((()=>{U(!!t.offsetParent)}));return e.observe(t),()=>{e.disconnect()}}),[tt,Z]);const ct=WF(Y.tooltip,S.text,l),ut=KC.useMemo((()=>{if(q&&!tt)return[S.text,l,f,ct.title].find(oB)}),[q,tt,f,ct.title,rt]);if(k)return KC.createElement(jF,{value:null!==(n=S.text)&&void 0!==n?n:"string"===typeof l?l:"",onSave:T,onCancel:A,onEnd:S.onEnd,prefixCls:x,className:i,style:o,direction:m,component:h,maxLength:S.maxLength,autoSize:S.autoSize,enterIcon:S.enterIcon});const dt=()=>{const{expandable:t,symbol:e}=Y;return t?KC.createElement(vz,{key:"expand",className:`${x}-${X?"collapse":"expand"}`,onClick:t=>((t,e)=>{var n;K(e.expanded),null===(n=Y.onExpand)||void 0===n||n.call(Y,t,e)})(t,{expanded:!X}),"aria-label":X?v.collapse:null===v||void 0===v?void 0:v.expand},"function"===typeof e?e(X):e):null},ht=()=>{if(!E)return;const{icon:t,tooltip:e,tabIndex:n}=S,r=_R(e)[0]||(null===v||void 0===v?void 0:v.edit),i="string"===typeof r?r:"";return C.includes("icon")?KC.createElement(Lj,{key:"edit",title:!1===e?"":r},KC.createElement(vz,{ref:b,className:`${x}-edit`,onClick:P,"aria-label":i,tabIndex:n},t||KC.createElement(dz,{role:"button"}))):null},ft=t=>[t&&dt(),ht(),R?KC.createElement(aB,Object.assign({key:"copy"},_,{prefixCls:x,copied:L,locale:v,onCopy:D,loading:I,iconOnly:null===l||void 0===l})):null];return KC.createElement(f_,{onResize:t=>{let{offsetWidth:e}=t;st(e)},disabled:!Z},(n=>KC.createElement(fB,{tooltipProps:ct,enableEllipsis:Z,isEllipsis:rt},KC.createElement(qF,Object.assign({className:lN()({[`${x}-${a}`]:a,[`${x}-disabled`]:s,[`${x}-ellipsis`]:q,[`${x}-ellipsis-single-line`]:it,[`${x}-ellipsis-multiple-line`]:ot},i),prefixCls:r,style:Object.assign(Object.assign({},o),{WebkitLineClamp:ot?Q:void 0}),component:h,ref:gT(n,y,e),direction:m,onClick:C.includes("text")?P:void 0,"aria-label":null===ut||void 0===ut?void 0:ut.toString(),title:f},w),KC.createElement(hB,{enableMeasure:Z&&!tt,text:l,rows:Q,width:at,onEllipsis:lt,expanded:X,miscDeps:[L,X,I,E,R]},((e,n)=>function(t,e){let{mark:n,code:r,underline:i,delete:o,strong:a,keyboard:s,italic:l}=t,c=e;function u(t,e){e&&(c=KC.createElement(t,{},c))}return u("strong",a),u("u",i),u("del",o),u("code",r),u("mark",n),u("kbd",s),u("i",l),c}(t,KC.createElement(KC.Fragment,null,e.length>0&&n&&!X&&ut?KC.createElement("span",{key:"show-content","aria-hidden":!0},e):e,(t=>[t&&!X&&KC.createElement("span",{"aria-hidden":!0,key:"ellipsis"},"..."),Y.suffix,ft(t)])(n)))))))))})),mB=gB;var vB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const yB=KC.forwardRef(((t,e)=>{var{ellipsis:n,rel:r}=t,i=vB(t,["ellipsis","rel"]);const o=Object.assign(Object.assign({},i),{rel:void 0===r&&"_blank"===i.target?"noopener noreferrer":r});return delete o.navigate,KC.createElement(mB,Object.assign({},o,{ref:e,ellipsis:!!n,component:"a"}))})),bB=KC.forwardRef(((t,e)=>KC.createElement(mB,Object.assign({ref:e},t,{component:"div"}))));var xB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const wB=(t,e)=>{var{ellipsis:n}=t,r=xB(t,["ellipsis"]);const i=KC.useMemo((()=>n&&"object"===typeof n?cN(n,["expandable","rows"]):n),[n]);return KC.createElement(mB,Object.assign({ref:e},r,{ellipsis:i,component:"span"}))},EB=KC.forwardRef(wB);var SB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const kB=[1,2,3,4,5],MB=KC.forwardRef(((t,e)=>{const{level:n=1}=t,r=SB(t,["level"]);const i=kB.includes(n)?`h${n}`:"h1";return KC.createElement(mB,Object.assign({ref:e},r,{component:i}))})),CB=qF;CB.Text=EB,CB.Link=yB,CB.Title=MB,CB.Paragraph=bB;const NB=CB;const OB=function(){const t={id:"\u6839\u8282\u70b9",children:[]};for(let e=1;e<=3;e++){const n={id:`\u4e00\u7ea7\u8282\u70b9${e}`,children:[]};for(let t=1;t<=2;t++){const r={id:`\u4e8c\u7ea7\u8282\u70b9${e}-${t}`,children:[]};for(let n=1;n<=2;n++){const i={id:`\u4e09\u7ea7\u8282\u70b9${e}-${t}-${n}`};r.children.push(i)}n.children.push(r)}t.children.push(n)}return t}();var PB=n(4414);GM(Ic.NODE,"reactNode",class extends Ef{root;getKeyStyle(t){return{...super.getKeyStyle(t)}}connectedCallback(){super.connectedCallback(),this.root=(0,r.createRoot)(this.getDomElement());const{component:t}=this.attributes;this.root.render(t)}attributeChangedCallback(t,e,n){"component"===t&&e!==n&&this.root.render(this.attributes.component)}destroy(){this.root.unmount(),super.destroy()}});const TB=t=>{let{data:e}=t;return(0,PB.jsxs)(RR,{justify:"space-between",align:"center",style:{height:34,background:"#fff",borderRadius:4,border:"1px solid #c2c8d5",borderLeft:"4px solid #5F95FF",paddingInline:8,boxShadow:"0 2px 5px 1px rgba(0, 0, 0, 0.06)",...e.style},children:[(0,PB.jsxs)(RR,{gap:4,align:"center",children:[(0,PB.jsx)(Yj,{size:"small",draggable:!1,src:"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*evDjT5vjkX0AAAAAAAAAAAAAARQnAQ"}),(0,PB.jsx)(NB.Text,{style:{fontSize:12,color:e.style.color},children:e.data.label||e.id})]}),(0,PB.jsx)(Yj,{size:"small",draggable:!1,src:"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*6l60T6h8TTQAAAAAAAAAAAAAARQnAQ"})]})};GM(Ic.EDGE,"ant-line",class extends up{onCreate(){this.shapeMap.key.animate([{lineDashOffset:20},{lineDashOffset:0}],{duration:500,iterations:1/0})}});const AB=()=>{const t=(0,KC.useRef)(null),e=(0,KC.useRef)(null),n=function(t,e){const{getNodeData:n=t=>{if(!t.children)return t;const{children:e,...n}=t;return{...n,children:e.map((t=>t.id))}},getEdgeData:r=(t,e)=>({source:t.id,target:e.id}),getChildren:i=t=>t.children||[]}=e||{},o=[],a=[];return vd(t,((t,e)=>{o.push(n(t,e));const s=i(t);for(const n of s)a.push(r(t,n))}),(t=>i(t)),"TB"),{nodes:o,edges:a}}(OB);(0,KC.useEffect)((()=>{if(!t.current)return;const r=new $C({container:t.current,autoResize:!0,data:n,node:{type:"reactNode",style:{size(t){!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"14px sans-serif";const n=document.createElement("canvas").getContext("2d");n&&(n.font=e,n.measureText(t).width)}(t.id,"14px sans-serif");return[180,36]},portLinkToCenter:!0,component:t=>{let{...e}=t;return(0,PB.jsx)(TB,{data:e})},port:!0,ports(t){let{id:e}=t;const n={r:4,stroke:"#31d0c6",fill:"#fff"},r={...n,key:"top",placement:"top"},i={...n,key:"bottom",placement:"bottom"};return"\u6839\u8282\u70b9"===e?[i]:[r,i]}}},edge:{type(t){let{id:e}=t;return"\u6839\u8282\u70b9-\u4e00\u7ea7\u8282\u70b91"===e?"ant-line":"cubic-vertical"},style:t=>"\u6839\u8282\u70b9-\u4e00\u7ea7\u8282\u70b91"===t.id?{lineDash:[10,10],loop:!1}:{loop:!1}},layout:{type:"antv-dagre",nodesep:6,ranksep:-20},behaviors:[{type:"drag-canvas",key:"drag-canvas"},{type:"zoom-canvas",key:"zoom-canvas"},{type:"create-edge",trigger:"drag",style:{lineDash:[10,10]},onCreate:t=>{var n;null===(n=e.current)||void 0===n||n.getEdgeData();const{style:r,...i}=t;return{...i,style:{...r,lineDash:void 0}}}}],plugins:[{type:"grid-line",key:"grid-line",size:10},{type:"contextmenu",key:"contextmenu",onClick:(t,n,r)=>{var i,o;"edge"===r.type&&(console.log("value",t,"current",r.id),null===(i=e.current)||void 0===i||i.removeEdgeData([r.id]),null===(o=e.current)||void 0===o||o.draw())},getItems:t=>{const e=t.targetType;return"node"===e?[{name:"node\u83dc\u5355",value:"node-menu"}]:"edge"===e?[{name:"\u5220\u9664\u8fb9",value:"delete"}]:[]},enable:t=>"node"===t.targetType||"edge"===t.targetType}]});return e.current=r,r.render(),r.on(Rc.POINTER_ENTER,(t=>{const e=t.target.id;r.updateNodeData([{id:e,data:{label:"\u65b0\u6587\u672c"},style:{color:"green"}}]),r.draw()})),r.on(Rc.POINTER_LEAVE,(t=>{const e=t.target.id;r.updateNodeData([{id:e,data:{label:e},style:{color:"#1F1F1F"}}]),r.draw()})),r.on(Tc.AFTER_CANVAS_INIT,(()=>{var t;const n=null===(t=e.current)||void 0===t?void 0:t.getNodeData();console.log("After rendering, the number of nodes is",null===n||void 0===n?void 0:n.length)})),()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.destroy()}}),[n]);return(0,PB.jsxs)(PB.Fragment,{children:[(0,PB.jsx)("h2",{children:"Graph\u7b80\u5355\u793a\u4f8b13"}),(0,PB.jsxs)("div",{style:{marginBlockEnd:16},children:[(0,PB.jsx)("button",{onClick:()=>{var t,n;null===(t=e.current)||void 0===t||t.setEdge({type:"cubic-vertical"}),null===(n=e.current)||void 0===n||n.draw()},children:"\u66f4\u65b0\u8fb9\u6837\u5f0f"}),(0,PB.jsx)("button",{onClick:()=>{var t;null===(t=e.current)||void 0===t||t.fitView()},children:"\u9002\u914d"}),(0,PB.jsx)("button",{onClick:()=>{var t;null===(t=e.current)||void 0===t||t.zoomTo(1)},children:"1:1"})]}),(0,PB.jsx)("div",{ref:t,style:{width:"100%",height:"85vh"}})]})},RB=()=>(0,PB.jsx)(PB.Fragment,{children:(0,PB.jsx)(AB,{})}),_B=t=>{t&&t instanceof Function&&n.e(206).then(n.bind(n,8206)).then((e=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=e;n(t),r(t),i(t),o(t),a(t)}))};r.createRoot(document.getElementById("root")).render((0,PB.jsx)(RB,{})),_B()})()})();